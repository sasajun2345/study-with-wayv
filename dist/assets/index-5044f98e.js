function _mergeNamespaces(o,i){for(var _=0;_<i.length;_++){const $=i[_];if(typeof $!="string"&&!Array.isArray($)){for(const j in $)if(j!=="default"&&!(j in o)){const _e=Object.getOwnPropertyDescriptor($,j);_e&&Object.defineProperty(o,j,_e.get?_e:{enumerable:!0,get:()=>$[j]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))$(j);new MutationObserver(j=>{for(const _e of j)if(_e.type==="childList")for(const tt of _e.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&$(tt)}).observe(document,{childList:!0,subtree:!0});function _(j){const _e={};return j.integrity&&(_e.integrity=j.integrity),j.referrerPolicy&&(_e.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?_e.credentials="include":j.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function $(j){if(j.ep)return;j.ep=!0;const _e=_(j);fetch(j.href,_e)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(o){return o===null||typeof o!="object"?null:(o=z$1&&o[z$1]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(o,i,_){this.props=o,this.context=i,this.refs=D$1,this.updater=_||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$1.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(o,i,_){this.props=o,this.context=i,this.refs=D$1,this.updater=_||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(o,i,_){var $,j={},_e=null,tt=null;if(i!=null)for($ in i.ref!==void 0&&(tt=i.ref),i.key!==void 0&&(_e=""+i.key),i)J.call(i,$)&&!L$1.hasOwnProperty($)&&(j[$]=i[$]);var rt=arguments.length-2;if(rt===1)j.children=_;else if(1<rt){for(var nt=Array(rt),it=0;it<rt;it++)nt[it]=arguments[it+2];j.children=nt}if(o&&o.defaultProps)for($ in rt=o.defaultProps,rt)j[$]===void 0&&(j[$]=rt[$]);return{$$typeof:l$2,type:o,key:_e,ref:tt,props:j,_owner:K$1.current}}function N$1(o,i){return{$$typeof:l$2,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$1(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(_){return i[_]})}var P$2=/\/+/g;function Q$1(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):i.toString(36)}function R$1(o,i,_,$,j){var _e=typeof o;(_e==="undefined"||_e==="boolean")&&(o=null);var tt=!1;if(o===null)tt=!0;else switch(_e){case"string":case"number":tt=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:tt=!0}}if(tt)return tt=o,j=j(tt),o=$===""?"."+Q$1(tt,0):$,I$1(j)?(_="",o!=null&&(_=o.replace(P$2,"$&/")+"/"),R$1(j,i,_,"",function(it){return it})):j!=null&&(O$1(j)&&(j=N$1(j,_+(!j.key||tt&&tt.key===j.key?"":(""+j.key).replace(P$2,"$&/")+"/")+o)),i.push(j)),1;if(tt=0,$=$===""?".":$+":",I$1(o))for(var rt=0;rt<o.length;rt++){_e=o[rt];var nt=$+Q$1(_e,rt);tt+=R$1(_e,i,_,nt,j)}else if(nt=A$1(o),typeof nt=="function")for(o=nt.call(o),rt=0;!(_e=o.next()).done;)_e=_e.value,nt=$+Q$1(_e,rt++),tt+=R$1(_e,i,_,nt,j);else if(_e==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(o,i,_){if(o==null)return o;var $=[],j=0;return R$1(o,$,"","",function(_e){return i.call(_,_e,j++)}),$}function T$1(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(_){(o._status===0||o._status===-1)&&(o._status=1,o._result=_)},function(_){(o._status===0||o._status===-1)&&(o._status=2,o._result=_)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,i,_){S$1(o,function(){i.apply(this,arguments)},_)},count:function(o){var i=0;return S$1(o,function(){i++}),i},toArray:function(o){return S$1(o,function(i){return i})||[]},only:function(o){if(!O$1(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(o,i,_){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var $=C$1({},o.props),j=o.key,_e=o.ref,tt=o._owner;if(i!=null){if(i.ref!==void 0&&(_e=i.ref,tt=K$1.current),i.key!==void 0&&(j=""+i.key),o.type&&o.type.defaultProps)var rt=o.type.defaultProps;for(nt in i)J.call(i,nt)&&!L$1.hasOwnProperty(nt)&&($[nt]=i[nt]===void 0&&rt!==void 0?rt[nt]:i[nt])}var nt=arguments.length-2;if(nt===1)$.children=_;else if(1<nt){rt=Array(nt);for(var it=0;it<nt;it++)rt[it]=arguments[it+2];$.children=rt}return{$$typeof:l$2,type:o.type,key:j,ref:_e,props:$,_owner:tt}};react_production_min.createContext=function(o){return o={$$typeof:u$1,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$1;react_production_min.createFactory=function(o){var i=M$1.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$3,render:o}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,i){return{$$typeof:x$1,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$1.transition;V$1.transition={};try{o()}finally{V$1.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(o,i){return U$1.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$1.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$1.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$1.current.useEffect(o,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(o,i,_){return U$1.current.useImperativeHandle(o,i,_)};react_production_min.useInsertionEffect=function(o,i){return U$1.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$1.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$1.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,_){return U$1.current.useReducer(o,i,_)};react_production_min.useRef=function(o){return U$1.current.useRef(o)};react_production_min.useState=function(o){return U$1.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,_){return U$1.current.useSyncExternalStore(o,i,_)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,i,_){var $,j={},_e=null,tt=null;_!==void 0&&(_e=""+_),i.key!==void 0&&(_e=""+i.key),i.ref!==void 0&&(tt=i.ref);for($ in i)m$2.call(i,$)&&!p$2.hasOwnProperty($)&&(j[$]=i[$]);if(o&&o.defaultProps)for($ in i=o.defaultProps,i)j[$]===void 0&&(j[$]=i[$]);return{$$typeof:k$2,type:o,key:_e,ref:tt,props:j,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(Ft,Vt){var Yt=Ft.length;Ft.push(Vt);e:for(;0<Yt;){var Zt=Yt-1>>>1,nr=Ft[Zt];if(0<j(nr,Vt))Ft[Zt]=Vt,Ft[Yt]=nr,Yt=Zt;else break e}}function _(Ft){return Ft.length===0?null:Ft[0]}function $(Ft){if(Ft.length===0)return null;var Vt=Ft[0],Yt=Ft.pop();if(Yt!==Vt){Ft[0]=Yt;e:for(var Zt=0,nr=Ft.length,cr=nr>>>1;Zt<cr;){var vr=2*(Zt+1)-1,Tr=Ft[vr],ar=vr+1,ur=Ft[ar];if(0>j(Tr,Yt))ar<nr&&0>j(ur,Tr)?(Ft[Zt]=ur,Ft[ar]=Yt,Zt=ar):(Ft[Zt]=Tr,Ft[vr]=Yt,Zt=vr);else if(ar<nr&&0>j(ur,Yt))Ft[Zt]=ur,Ft[ar]=Yt,Zt=ar;else break e}}return Vt}function j(Ft,Vt){var Yt=Ft.sortIndex-Vt.sortIndex;return Yt!==0?Yt:Ft.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;o.unstable_now=function(){return _e.now()}}else{var tt=Date,rt=tt.now();o.unstable_now=function(){return tt.now()-rt}}var nt=[],it=[],ot=1,lt=null,ft=3,_t=!1,At=!1,Tt=!1,Mt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,Pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $t(Ft){for(var Vt=_(it);Vt!==null;){if(Vt.callback===null)$(it);else if(Vt.startTime<=Ft)$(it),Vt.sortIndex=Vt.expirationTime,i(nt,Vt);else break;Vt=_(it)}}function Ot(Ft){if(Tt=!1,$t(Ft),!At)if(_(nt)!==null)At=!0,zt(It);else{var Vt=_(it);Vt!==null&&Ht(Ot,Vt.startTime-Ft)}}function It(Ft,Vt){At=!1,Tt&&(Tt=!1,pt(Bt),Bt=-1),_t=!0;var Yt=ft;try{for($t(Vt),lt=_(nt);lt!==null&&(!(lt.expirationTime>Vt)||Ft&&!Gt());){var Zt=lt.callback;if(typeof Zt=="function"){lt.callback=null,ft=lt.priorityLevel;var nr=Zt(lt.expirationTime<=Vt);Vt=o.unstable_now(),typeof nr=="function"?lt.callback=nr:lt===_(nt)&&$(nt),$t(Vt)}else $(nt);lt=_(nt)}if(lt!==null)var cr=!0;else{var vr=_(it);vr!==null&&Ht(Ot,vr.startTime-Vt),cr=!1}return cr}finally{lt=null,ft=Yt,_t=!1}}var Dt=!1,Lt=null,Bt=-1,jt=5,Ut=-1;function Gt(){return!(o.unstable_now()-Ut<jt)}function qt(){if(Lt!==null){var Ft=o.unstable_now();Ut=Ft;var Vt=!0;try{Vt=Lt(!0,Ft)}finally{Vt?Jt():(Dt=!1,Lt=null)}}else Dt=!1}var Jt;if(typeof Pt=="function")Jt=function(){Pt(qt)};else if(typeof MessageChannel<"u"){var er=new MessageChannel,Kt=er.port2;er.port1.onmessage=qt,Jt=function(){Kt.postMessage(null)}}else Jt=function(){Mt(qt,0)};function zt(Ft){Lt=Ft,Dt||(Dt=!0,Jt())}function Ht(Ft,Vt){Bt=Mt(function(){Ft(o.unstable_now())},Vt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ft){Ft.callback=null},o.unstable_continueExecution=function(){At||_t||(At=!0,zt(It))},o.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jt=0<Ft?Math.floor(1e3/Ft):5},o.unstable_getCurrentPriorityLevel=function(){return ft},o.unstable_getFirstCallbackNode=function(){return _(nt)},o.unstable_next=function(Ft){switch(ft){case 1:case 2:case 3:var Vt=3;break;default:Vt=ft}var Yt=ft;ft=Vt;try{return Ft()}finally{ft=Yt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Ft,Vt){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var Yt=ft;ft=Ft;try{return Vt()}finally{ft=Yt}},o.unstable_scheduleCallback=function(Ft,Vt,Yt){var Zt=o.unstable_now();switch(typeof Yt=="object"&&Yt!==null?(Yt=Yt.delay,Yt=typeof Yt=="number"&&0<Yt?Zt+Yt:Zt):Yt=Zt,Ft){case 1:var nr=-1;break;case 2:nr=250;break;case 5:nr=1073741823;break;case 4:nr=1e4;break;default:nr=5e3}return nr=Yt+nr,Ft={id:ot++,callback:Vt,priorityLevel:Ft,startTime:Yt,expirationTime:nr,sortIndex:-1},Yt>Zt?(Ft.sortIndex=Yt,i(it,Ft),_(nt)===null&&Ft===_(it)&&(Tt?(pt(Bt),Bt=-1):Tt=!0,Ht(Ot,Yt-Zt))):(Ft.sortIndex=nr,i(nt,Ft),At||_t||(At=!0,zt(It))),Ft},o.unstable_shouldYield=Gt,o.unstable_wrapCallback=function(Ft){var Vt=ft;return function(){var Yt=ft;ft=Vt;try{return Ft.apply(this,arguments)}finally{ft=Yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,_=1;_<arguments.length;_++)i+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,i){ha(o,i),ha(o+"Capture",i)}function ha(o,i){for(ea[o]=i,o=0;o<i.length;o++)da.add(i[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka$1.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,i,_,$){if(_!==null&&_.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return $?!1:_!==null?!_.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,i,_,$){if(i===null||typeof i>"u"||pa(o,i,_,$))return!0;if($)return!1;if(_!==null)switch(_.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$2(o,i,_,$,j,_e,tt){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=$,this.attributeNamespace=j,this.mustUseProperty=_,this.propertyName=o,this.type=i,this.sanitizeURL=_e,this.removeEmptyString=tt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z[o]=new v$2(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z[i]=new v$2(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z[o]=new v$2(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z[o]=new v$2(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z[o]=new v$2(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z[o]=new v$2(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z[o]=new v$2(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z[o]=new v$2(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z[o]=new v$2(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$2(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$2(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra,sa);z[i]=new v$2(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z[o]=new v$2(o,1,!1,o.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z[o]=new v$2(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,i,_,$){var j=z.hasOwnProperty(i)?z[i]:null;(j!==null?j.type!==0:$||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,_,j,$)&&(_=null),$||j===null?oa(i)&&(_===null?o.removeAttribute(i):o.setAttribute(i,""+_)):j.mustUseProperty?o[j.propertyName]=_===null?j.type===3?!1:"":_:(i=j.attributeName,$=j.attributeNamespace,_===null?o.removeAttribute(i):(j=j.type,_=j===3||j===4&&_===!0?"":""+_,$?o.setAttributeNS($,i,_):o.setAttribute(i,_))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(_){var i=_.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na=!1;function Oa(o,i){if(!o||Na)return"";Na=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(it){var $=it}Reflect.construct(o,[],i)}else{try{i.call()}catch(it){$=it}o.call(i.prototype)}else{try{throw Error()}catch(it){$=it}o()}}catch(it){if(it&&$&&typeof it.stack=="string"){for(var j=it.stack.split(`
`),_e=$.stack.split(`
`),tt=j.length-1,rt=_e.length-1;1<=tt&&0<=rt&&j[tt]!==_e[rt];)rt--;for(;1<=tt&&0<=rt;tt--,rt--)if(j[tt]!==_e[rt]){if(tt!==1||rt!==1)do if(tt--,rt--,0>rt||j[tt]!==_e[rt]){var nt=`
`+j[tt].replace(" at new "," at ");return o.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",o.displayName)),nt}while(1<=tt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=_}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return i=o.displayName||null,i!==null?i:Qa(o.type)||"Memo";case Ha:i=o._payload,o=o._init;try{return Qa(o(i))}catch{}}return null}function Ra(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(o){var i=Ta(o)?"checked":"value",_=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),$=""+o[i];if(!o.hasOwnProperty(i)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var j=_.get,_e=_.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return j.call(this)},set:function(tt){$=""+tt,_e.call(this,tt)}}),Object.defineProperty(o,i,{enumerable:_.enumerable}),{getValue:function(){return $},setValue:function(tt){$=""+tt},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var _=i.getValue(),$="";return o&&($=Ta(o)?o.checked?"true":"false":o.value),o=$,o!==_?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,i){var _=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??o._wrapperState.initialChecked})}function Za(o,i){var _=i.defaultValue==null?"":i.defaultValue,$=i.checked!=null?i.checked:i.defaultChecked;_=Sa(i.value!=null?i.value:_),o._wrapperState={initialChecked:$,initialValue:_,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(o,i){i=i.checked,i!=null&&ta(o,"checked",i,!1)}function bb(o,i){ab(o,i);var _=Sa(i.value),$=i.type;if(_!=null)$==="number"?(_===0&&o.value===""||o.value!=_)&&(o.value=""+_):o.value!==""+_&&(o.value=""+_);else if($==="submit"||$==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb(o,i.type,_):i.hasOwnProperty("defaultValue")&&cb(o,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db(o,i,_){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var $=i.type;if(!($!=="submit"&&$!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,_||i===o.value||(o.value=i),o.defaultValue=i}_=o.name,_!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,_!==""&&(o.name=_)}function cb(o,i,_){(i!=="number"||Xa(o.ownerDocument)!==o)&&(_==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+_&&(o.defaultValue=""+_))}var eb=Array.isArray;function fb(o,i,_,$){if(o=o.options,i){i={};for(var j=0;j<_.length;j++)i["$"+_[j]]=!0;for(_=0;_<o.length;_++)j=i.hasOwnProperty("$"+o[_].value),o[_].selected!==j&&(o[_].selected=j),j&&$&&(o[_].defaultSelected=!0)}else{for(_=""+Sa(_),i=null,j=0;j<o.length;j++){if(o[j].value===_){o[j].selected=!0,$&&(o[j].defaultSelected=!0);return}i!==null||o[j].disabled||(i=o[j])}i!==null&&(i.selected=!0)}}function gb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,i){var _=i.value;if(_==null){if(_=i.children,i=i.defaultValue,_!=null){if(i!=null)throw Error(p$1(92));if(eb(_)){if(1<_.length)throw Error(p$1(93));_=_[0]}i=_}i==null&&(i=""),_=i}o._wrapperState={initialValue:Sa(_)}}function ib(o,i){var _=Sa(i.value),$=Sa(i.defaultValue);_!=null&&(_=""+_,_!==o.value&&(o.value=_),i.defaultValue==null&&o.defaultValue!==_&&(o.defaultValue=_)),$!=null&&(o.defaultValue=""+$)}function jb(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,_,$,j){MSApp.execUnsafeLocalFunction(function(){return o(i,_,$,j)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob(o,i){if(i){var _=o.firstChild;if(_&&_===o.lastChild&&_.nodeType===3){_.nodeValue=i;return}}o.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb[i]=pb[o]})});function rb(o,i,_){return i==null||typeof i=="boolean"||i===""?"":_||typeof i!="number"||i===0||pb.hasOwnProperty(o)&&pb[o]?(""+i).trim():i+"px"}function sb(o,i){o=o.style;for(var _ in i)if(i.hasOwnProperty(_)){var $=_.indexOf("--")===0,j=rb(_,i[_],$);_==="float"&&(_="cssFloat"),$?o.setProperty(_,j):o[_]=j}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,i){if(i){if(tb[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$1(280));var i=o.stateNode;i&&(i=Db(i),yb(o.stateNode,o.type,i))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,i=Ab;if(Ab=zb=null,Bb(o),i)for(o=0;o<i.length;o++)Bb(i[o])}}function Gb(o,i){return o(i)}function Hb(){}var Ib=!1;function Jb(o,i,_){if(Ib)return o(i,_);Ib=!0;try{return Gb(o,i,_)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,i){var _=o.stateNode;if(_===null)return null;var $=Db(_);if($===null)return null;_=$[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(o=o.type,$=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!$;break e;default:o=!1}if(o)return null;if(_&&typeof _!="function")throw Error(p$1(231,i,typeof _));return _}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,i,_,$,j,_e,tt,rt,nt){var it=Array.prototype.slice.call(arguments,3);try{i.apply(_,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,i,_,$,j,_e,tt,rt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,i,_,$,j,_e,tt,rt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(o){var i=o,_=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(_=i.return),o=i.return;while(o)}return i.tag===3?_:null}function Wb(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$1(188))}function Yb(o){var i=o.alternate;if(!i){if(i=Vb(o),i===null)throw Error(p$1(188));return i!==o?null:o}for(var _=o,$=i;;){var j=_.return;if(j===null)break;var _e=j.alternate;if(_e===null){if($=j.return,$!==null){_=$;continue}break}if(j.child===_e.child){for(_e=j.child;_e;){if(_e===_)return Xb(j),o;if(_e===$)return Xb(j),i;_e=_e.sibling}throw Error(p$1(188))}if(_.return!==$.return)_=j,$=_e;else{for(var tt=!1,rt=j.child;rt;){if(rt===_){tt=!0,_=j,$=_e;break}if(rt===$){tt=!0,$=j,_=_e;break}rt=rt.sibling}if(!tt){for(rt=_e.child;rt;){if(rt===_){tt=!0,_=_e,$=j;break}if(rt===$){tt=!0,$=_e,_=j;break}rt=rt.sibling}if(!tt)throw Error(p$1(189))}}if(_.alternate!==$)throw Error(p$1(190))}if(_.tag!==3)throw Error(p$1(188));return _.stateNode.current===_?o:i}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b(o);if(i!==null)return i;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,i){var _=o.pendingLanes;if(_===0)return 0;var $=0,j=o.suspendedLanes,_e=o.pingedLanes,tt=_&268435455;if(tt!==0){var rt=tt&~j;rt!==0?$=tc(rt):(_e&=tt,_e!==0&&($=tc(_e)))}else tt=_&~j,tt!==0?$=tc(tt):_e!==0&&($=tc(_e));if($===0)return 0;if(i!==0&&i!==$&&!(i&j)&&(j=$&-$,_e=i&-i,j>=_e||j===16&&(_e&4194240)!==0))return i;if($&4&&($|=_&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=$;0<i;)_=31-oc(i),j=1<<_,$|=o[_],i&=~j;return $}function vc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,i){for(var _=o.suspendedLanes,$=o.pingedLanes,j=o.expirationTimes,_e=o.pendingLanes;0<_e;){var tt=31-oc(_e),rt=1<<tt,nt=j[tt];nt===-1?(!(rt&_)||rt&$)&&(j[tt]=vc(rt,i)):nt<=i&&(o.expiredLanes|=rt),_e&=~rt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var i=[],_=0;31>_;_++)i.push(o);return i}function Ac(o,i,_){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc(i),o[i]=_}function Bc(o,i){var _=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var $=o.eventTimes;for(o=o.expirationTimes;0<_;){var j=31-oc(_),_e=1<<j;i[j]=0,$[j]=-1,o[j]=-1,_&=~_e}}function Cc(o,i){var _=o.entangledLanes|=i;for(o=o.entanglements;_;){var $=31-oc(_),j=1<<$;j&i|o[$]&i&&(o[$]|=i),_&=~j}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,i){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(o,i,_,$,j,_e){return o===null||o.nativeEvent!==_e?(o={blockedOn:i,domEventName:_,eventSystemFlags:$,nativeEvent:_e,targetContainers:[j]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),o):(o.eventSystemFlags|=$,i=o.targetContainers,j!==null&&i.indexOf(j)===-1&&i.push(j),o)}function Uc(o,i,_,$,j){switch(i){case"focusin":return Lc=Tc(Lc,o,i,_,$,j),!0;case"dragenter":return Mc=Tc(Mc,o,i,_,$,j),!0;case"mouseover":return Nc=Tc(Nc,o,i,_,$,j),!0;case"pointerover":var _e=j.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,o,i,_,$,j)),!0;case"gotpointercapture":return _e=j.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,o,i,_,$,j)),!0}return!1}function Vc(o){var i=Wc(o.target);if(i!==null){var _=Vb(i);if(_!==null){if(i=_.tag,i===13){if(i=Wb(_),i!==null){o.blockedOn=i,Ic(o.priority,function(){Gc(_)});return}}else if(i===3&&_.stateNode.current.memoizedState.isDehydrated){o.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var _=Yc(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(_===null){_=o.nativeEvent;var $=new _.constructor(_.type,_);wb=$,_.target.dispatchEvent($),wb=null}else return i=Cb(_),i!==null&&Fc(i),o.blockedOn=_,!1;i.shift()}return!0}function Zc(o,i,_){Xc(o)&&_.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function i(j){return ad(j,o)}if(0<Kc.length){ad(Kc[0],o);for(var _=1;_<Kc.length;_++){var $=Kc[_];$.blockedOn===o&&($.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(i),Pc.forEach(i),_=0;_<Qc.length;_++)$=Qc[_],$.blockedOn===o&&($.blockedOn=null);for(;0<Qc.length&&(_=Qc[0],_.blockedOn===null);)Vc(_),_.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(o,i,_,$){var j=C,_e=cd.transition;cd.transition=null;try{C=1,fd(o,i,_,$)}finally{C=j,cd.transition=_e}}function gd(o,i,_,$){var j=C,_e=cd.transition;cd.transition=null;try{C=4,fd(o,i,_,$)}finally{C=j,cd.transition=_e}}function fd(o,i,_,$){if(dd){var j=Yc(o,i,_,$);if(j===null)hd(o,i,$,id$2,_),Sc(o,$);else if(Uc(j,o,i,_,$))$.stopPropagation();else if(Sc(o,$),i&4&&-1<Rc.indexOf(o)){for(;j!==null;){var _e=Cb(j);if(_e!==null&&Ec(_e),_e=Yc(o,i,_,$),_e===null&&hd(o,i,$,id$2,_),_e===j)break;j=_e}j!==null&&$.stopPropagation()}else hd(o,i,$,null,_)}}var id$2=null;function Yc(o,i,_,$){if(id$2=null,o=xb($),o=Wc(o),o!==null)if(i=Vb(o),i===null)o=null;else if(_=i.tag,_===13){if(o=Wb(i),o!==null)return o;o=null}else if(_===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id$2=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,i=ld,_=i.length,$,j="value"in kd?kd.value:kd.textContent,_e=j.length;for(o=0;o<_&&i[o]===j[o];o++);var tt=_-o;for($=1;$<=tt&&i[_-$]===j[_e-$];$++);return md=j.slice(o,1<$?1-$:void 0)}function od(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function i(_,$,j,_e,tt){this._reactName=_,this._targetInst=j,this.type=$,this.nativeEvent=_e,this.target=tt,this.currentTarget=null;for(var rt in o)o.hasOwnProperty(rt)&&(_=o[rt],this[rt]=_?_(_e):_e[rt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od[o])?!!i[o]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(o){if(o.key){var i=Md[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(o,i){switch(o){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,i){switch(o){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return o=i.data,o===ee&&fe?null:o;default:return null}}function ke(o,i){if(ie)return o==="compositionend"||!ae&&ge(o,i)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le[o.type]:i==="textarea"}function ne(o,i,_,$){Eb($),i=oe(i,"onChange"),0<i.length&&(_=new td("onChange","change",null,_,$),o.push({event:_,listeners:i}))}var pe=null,qe=null;function re$1(o){se(o,0)}function te(o){var i=ue(o);if(Wa(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,o,xb(o)),Jb(re$1,i)}}function Ce(o,i,_){o==="focusin"?(Ae(),pe=i,qe=_,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,i){if(o==="click")return te(i)}function Fe(o,i){if(o==="input"||o==="change")return te(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var _=Object.keys(o),$=Object.keys(i);if(_.length!==$.length)return!1;for($=0;$<_.length;$++){var j=_[$];if(!ja.call(i,j)||!He(o[j],i[j]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var _=Je(o);o=0;for(var $;_;){if(_.nodeType===3){if($=o+_.textContent.length,o<=i&&$>=i)return{node:_,offset:i-o};o=$}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Je(_)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var _=typeof i.contentWindow.location.href=="string"}catch{_=!1}if(_)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),_=o.focusedElem,$=o.selectionRange;if(i!==_&&_&&_.ownerDocument&&Le(_.ownerDocument.documentElement,_)){if($!==null&&Ne(_)){if(i=$.start,o=$.end,o===void 0&&(o=i),"selectionStart"in _)_.selectionStart=i,_.selectionEnd=Math.min(o,_.value.length);else if(o=(i=_.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var j=_.textContent.length,_e=Math.min($.start,j);$=$.end===void 0?_e:Math.min($.end,j),!o.extend&&_e>$&&(j=$,$=_e,_e=j),j=Ke(_,_e);var tt=Ke(_,$);j&&tt&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==tt.node||o.focusOffset!==tt.offset)&&(i=i.createRange(),i.setStart(j.node,j.offset),o.removeAllRanges(),_e>$?(o.addRange(i),o.extend(tt.node,tt.offset)):(i.setEnd(tt.node,tt.offset),o.addRange(i)))}}for(i=[],o=_;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<i.length;_++)o=i[_],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,i,_){var $=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te||Qe==null||Qe!==Xa($)||($=Qe,"selectionStart"in $&&Ne($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),Se&&Ie(Se,$)||(Se=$,$=oe(Re,"onSelect"),0<$.length&&(i=new td("onSelect","select",null,i,_),o.push({event:i,listeners:$}),i.target=Qe)))}function Ve(o,i){var _={};return _[o.toLowerCase()]=i.toLowerCase(),_["Webkit"+o]="webkit"+i,_["Moz"+o]="moz"+i,_}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],_;for(_ in i)if(i.hasOwnProperty(_)&&_ in Ye)return Xe[o]=i[_];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,_){var $=o.type||"unknown-event";o.currentTarget=_,Ub($,i,void 0,o),o.currentTarget=null}function se(o,i){i=(i&4)!==0;for(var _=0;_<o.length;_++){var $=o[_],j=$.event;$=$.listeners;e:{var _e=void 0;if(i)for(var tt=$.length-1;0<=tt;tt--){var rt=$[tt],nt=rt.instance,it=rt.currentTarget;if(rt=rt.listener,nt!==_e&&j.isPropagationStopped())break e;nf(j,rt,it),_e=nt}else for(tt=0;tt<$.length;tt++){if(rt=$[tt],nt=rt.instance,it=rt.currentTarget,rt=rt.listener,nt!==_e&&j.isPropagationStopped())break e;nf(j,rt,it),_e=nt}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,i){var _=i[of];_===void 0&&(_=i[of]=new Set);var $=o+"__bubble";_.has($)||(pf(i,o,2,!1),_.add($))}function qf(o,i,_){var $=0;i&&($|=4),pf(_,o,$,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(_){_!=="selectionchange"&&(mf.has(_)||qf(_,!1,o),qf(_,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,_,$){switch(jd(i)){case 1:var j=ed;break;case 4:j=gd;break;default:j=fd}_=j.bind(null,i,_,o),j=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(j=!0),$?j!==void 0?o.addEventListener(i,_,{capture:!0,passive:j}):o.addEventListener(i,_,!0):j!==void 0?o.addEventListener(i,_,{passive:j}):o.addEventListener(i,_,!1)}function hd(o,i,_,$,j){var _e=$;if(!(i&1)&&!(i&2)&&$!==null)e:for(;;){if($===null)return;var tt=$.tag;if(tt===3||tt===4){var rt=$.stateNode.containerInfo;if(rt===j||rt.nodeType===8&&rt.parentNode===j)break;if(tt===4)for(tt=$.return;tt!==null;){var nt=tt.tag;if((nt===3||nt===4)&&(nt=tt.stateNode.containerInfo,nt===j||nt.nodeType===8&&nt.parentNode===j))return;tt=tt.return}for(;rt!==null;){if(tt=Wc(rt),tt===null)return;if(nt=tt.tag,nt===5||nt===6){$=_e=tt;continue e}rt=rt.parentNode}}$=$.return}Jb(function(){var it=_e,ot=xb(_),lt=[];e:{var ft=df.get(o);if(ft!==void 0){var _t=td,At=o;switch(o){case"keypress":if(od(_)===0)break e;case"keydown":case"keyup":_t=Rd;break;case"focusin":At="focus",_t=Fd;break;case"focusout":At="blur",_t=Fd;break;case"beforeblur":case"afterblur":_t=Fd;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Vd;break;case $e:case af:case bf:_t=Hd;break;case cf:_t=Xd;break;case"scroll":_t=vd;break;case"wheel":_t=Zd;break;case"copy":case"cut":case"paste":_t=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Td}var Tt=(i&4)!==0,Mt=!Tt&&o==="scroll",pt=Tt?ft!==null?ft+"Capture":null:ft;Tt=[];for(var Pt=it,$t;Pt!==null;){$t=Pt;var Ot=$t.stateNode;if($t.tag===5&&Ot!==null&&($t=Ot,pt!==null&&(Ot=Kb(Pt,pt),Ot!=null&&Tt.push(tf(Pt,Ot,$t)))),Mt)break;Pt=Pt.return}0<Tt.length&&(ft=new _t(ft,At,null,_,ot),lt.push({event:ft,listeners:Tt}))}}if(!(i&7)){e:{if(ft=o==="mouseover"||o==="pointerover",_t=o==="mouseout"||o==="pointerout",ft&&_!==wb&&(At=_.relatedTarget||_.fromElement)&&(Wc(At)||At[uf]))break e;if((_t||ft)&&(ft=ot.window===ot?ot:(ft=ot.ownerDocument)?ft.defaultView||ft.parentWindow:window,_t?(At=_.relatedTarget||_.toElement,_t=it,At=At?Wc(At):null,At!==null&&(Mt=Vb(At),At!==Mt||At.tag!==5&&At.tag!==6)&&(At=null)):(_t=null,At=it),_t!==At)){if(Tt=Bd,Ot="onMouseLeave",pt="onMouseEnter",Pt="mouse",(o==="pointerout"||o==="pointerover")&&(Tt=Td,Ot="onPointerLeave",pt="onPointerEnter",Pt="pointer"),Mt=_t==null?ft:ue(_t),$t=At==null?ft:ue(At),ft=new Tt(Ot,Pt+"leave",_t,_,ot),ft.target=Mt,ft.relatedTarget=$t,Ot=null,Wc(ot)===it&&(Tt=new Tt(pt,Pt+"enter",At,_,ot),Tt.target=$t,Tt.relatedTarget=Mt,Ot=Tt),Mt=Ot,_t&&At)t:{for(Tt=_t,pt=At,Pt=0,$t=Tt;$t;$t=vf($t))Pt++;for($t=0,Ot=pt;Ot;Ot=vf(Ot))$t++;for(;0<Pt-$t;)Tt=vf(Tt),Pt--;for(;0<$t-Pt;)pt=vf(pt),$t--;for(;Pt--;){if(Tt===pt||pt!==null&&Tt===pt.alternate)break t;Tt=vf(Tt),pt=vf(pt)}Tt=null}else Tt=null;_t!==null&&wf(lt,ft,_t,Tt,!1),At!==null&&Mt!==null&&wf(lt,Mt,At,Tt,!0)}}e:{if(ft=it?ue(it):window,_t=ft.nodeName&&ft.nodeName.toLowerCase(),_t==="select"||_t==="input"&&ft.type==="file")var It=ve;else if(me(ft))if(we)It=Fe;else{It=De;var Dt=Ce}else(_t=ft.nodeName)&&_t.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(It=Ee);if(It&&(It=It(o,it))){ne(lt,It,_,ot);break e}Dt&&Dt(o,ft,it),o==="focusout"&&(Dt=ft._wrapperState)&&Dt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(Dt=it?ue(it):window,o){case"focusin":(me(Dt)||Dt.contentEditable==="true")&&(Qe=Dt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(lt,_,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(lt,_,ot)}var Lt;if(ae)e:{switch(o){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie?ge(o,_)&&(Bt="onCompositionEnd"):o==="keydown"&&_.keyCode===229&&(Bt="onCompositionStart");Bt&&(de&&_.locale!=="ko"&&(ie||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie&&(Lt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Dt=oe(it,Bt),0<Dt.length&&(Bt=new Ld(Bt,o,null,_,ot),lt.push({event:Bt,listeners:Dt}),Lt?Bt.data=Lt:(Lt=he(_),Lt!==null&&(Bt.data=Lt)))),(Lt=ce?je(o,_):ke(o,_))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,_,ot),lt.push({event:ot,listeners:it}),ot.data=Lt))}se(lt,i)})}function tf(o,i,_){return{instance:o,listener:i,currentTarget:_}}function oe(o,i){for(var _=i+"Capture",$=[];o!==null;){var j=o,_e=j.stateNode;j.tag===5&&_e!==null&&(j=_e,_e=Kb(o,_),_e!=null&&$.unshift(tf(o,_e,j)),_e=Kb(o,i),_e!=null&&$.push(tf(o,_e,j))),o=o.return}return $}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,_,$,j){for(var _e=i._reactName,tt=[];_!==null&&_!==$;){var rt=_,nt=rt.alternate,it=rt.stateNode;if(nt!==null&&nt===$)break;rt.tag===5&&it!==null&&(rt=it,j?(nt=Kb(_,_e),nt!=null&&tt.unshift(tf(_,nt,rt))):j||(nt=Kb(_,_e),nt!=null&&tt.push(tf(_,nt,rt)))),_=_.return}tt.length!==0&&o.push({event:i,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,_){if(i=zf(i),zf(o)!==i&&_)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var _=i,$=0;do{var j=_.nextSibling;if(o.removeChild(_),j&&j.nodeType===8)if(_=j.data,_==="/$"){if($===0){o.removeChild(j),bd(i);return}$--}else _!=="$"&&_!=="$?"&&_!=="$!"||$++;_=j}while(_);bd(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var _=o.data;if(_==="$"||_==="$!"||_==="$?"){if(i===0)return o;i--}else _==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var i=o[Of];if(i)return i;for(var _=o.parentNode;_;){if(i=_[uf]||_[Of]){if(_=i.alternate,i.child!==null||_!==null&&_.child!==null)for(o=Mf(o);o!==null;){if(_=o[Of])return _;o=Mf(o)}return i}o=_,_=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$1(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var _=o.type.contextTypes;if(!_)return Vf;var $=o.stateNode;if($&&$.__reactInternalMemoizedUnmaskedChildContext===i)return $.__reactInternalMemoizedMaskedChildContext;var j={},_e;for(_e in _)j[_e]=i[_e];return $&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=j),j}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E(Wf),E(H)}function ag(o,i,_){if(H.current!==Vf)throw Error(p$1(168));G(H,i),G(Wf,_)}function bg(o,i,_){var $=o.stateNode;if(i=i.childContextTypes,typeof $.getChildContext!="function")return _;$=$.getChildContext();for(var j in $)if(!(j in i))throw Error(p$1(108,Ra(o)||"Unknown",j));return A({},_,$)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,o),G(Wf,Wf.current),!0}function dg(o,i,_){var $=o.stateNode;if(!$)throw Error(p$1(169));_?(o=bg(o,i,Xf),$.__reactInternalMemoizedMergedChildContext=o,E(Wf),E(H),G(H,o)):E(Wf),G(Wf,_)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C;try{var _=eg;for(C=1;o<_.length;o++){var $=_[o];do $=$(!0);while($!==null)}eg=null,fg=!1}catch(j){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),j}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,_){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var $=rg;o=sg;var j=32-oc($)-1;$&=~(1<<j),_+=1;var _e=32-oc(i)+j;if(30<_e){var tt=j-j%5;_e=($&(1<<tt)-1).toString(32),$>>=tt,j-=tt,rg=1<<32-oc(i)+j|_<<j|$,sg=_e+o}else rg=1<<_e|_<<j|$,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(o,i){var _=Bg(5,null,null,0);_.elementType="DELETED",_.stateNode=i,_.return=o,i=o.deletions,i===null?(o.deletions=[_],o.flags|=16):i.push(_)}function Cg(o,i){switch(o.tag){case 5:var _=o.type;return i=i.nodeType!==1||_.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(_=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:_,retryLane:1073741824},_=Bg(18,null,null,0),_.stateNode=i,_.return=o,o.child=_,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I){var i=yg;if(i){var _=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$1(418));i=Lf(_.nextSibling);var $=xg;i&&Cg(o,i)?Ag($,_):(o.flags=o.flags&-4097|2,I=!1,xg=o)}}else{if(Dg(o))throw Error(p$1(418));o.flags=o.flags&-4097|2,I=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I)return Fg(o),I=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$1(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$1(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var _=o.data;if(_==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else _!=="$"&&_!=="$!"&&_!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua.ReactCurrentBatchConfig;function Lg(o,i,_){if(o=_.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(p$1(309));var $=_.stateNode}if(!$)throw Error(p$1(147,o));var j=$,_e=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===_e?i.ref:(i=function(tt){var rt=j.refs;tt===null?delete rt[_e]:rt[_e]=tt},i._stringRef=_e,i)}if(typeof o!="string")throw Error(p$1(284));if(!_._owner)throw Error(p$1(290,o))}return o}function Mg(o,i){throw o=Object.prototype.toString.call(i),Error(p$1(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function Ng(o){var i=o._init;return i(o._payload)}function Og(o){function i(pt,Pt){if(o){var $t=pt.deletions;$t===null?(pt.deletions=[Pt],pt.flags|=16):$t.push(Pt)}}function _(pt,Pt){if(!o)return null;for(;Pt!==null;)i(pt,Pt),Pt=Pt.sibling;return null}function $(pt,Pt){for(pt=new Map;Pt!==null;)Pt.key!==null?pt.set(Pt.key,Pt):pt.set(Pt.index,Pt),Pt=Pt.sibling;return pt}function j(pt,Pt){return pt=Pg(pt,Pt),pt.index=0,pt.sibling=null,pt}function _e(pt,Pt,$t){return pt.index=$t,o?($t=pt.alternate,$t!==null?($t=$t.index,$t<Pt?(pt.flags|=2,Pt):$t):(pt.flags|=2,Pt)):(pt.flags|=1048576,Pt)}function tt(pt){return o&&pt.alternate===null&&(pt.flags|=2),pt}function rt(pt,Pt,$t,Ot){return Pt===null||Pt.tag!==6?(Pt=Qg($t,pt.mode,Ot),Pt.return=pt,Pt):(Pt=j(Pt,$t),Pt.return=pt,Pt)}function nt(pt,Pt,$t,Ot){var It=$t.type;return It===ya?ot(pt,Pt,$t.props.children,Ot,$t.key):Pt!==null&&(Pt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&Ng(It)===Pt.type)?(Ot=j(Pt,$t.props),Ot.ref=Lg(pt,Pt,$t),Ot.return=pt,Ot):(Ot=Rg($t.type,$t.key,$t.props,null,pt.mode,Ot),Ot.ref=Lg(pt,Pt,$t),Ot.return=pt,Ot)}function it(pt,Pt,$t,Ot){return Pt===null||Pt.tag!==4||Pt.stateNode.containerInfo!==$t.containerInfo||Pt.stateNode.implementation!==$t.implementation?(Pt=Sg($t,pt.mode,Ot),Pt.return=pt,Pt):(Pt=j(Pt,$t.children||[]),Pt.return=pt,Pt)}function ot(pt,Pt,$t,Ot,It){return Pt===null||Pt.tag!==7?(Pt=Tg($t,pt.mode,Ot,It),Pt.return=pt,Pt):(Pt=j(Pt,$t),Pt.return=pt,Pt)}function lt(pt,Pt,$t){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Pt=Qg(""+Pt,pt.mode,$t),Pt.return=pt,Pt;if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case va:return $t=Rg(Pt.type,Pt.key,Pt.props,null,pt.mode,$t),$t.ref=Lg(pt,null,Pt),$t.return=pt,$t;case wa:return Pt=Sg(Pt,pt.mode,$t),Pt.return=pt,Pt;case Ha:var Ot=Pt._init;return lt(pt,Ot(Pt._payload),$t)}if(eb(Pt)||Ka(Pt))return Pt=Tg(Pt,pt.mode,$t,null),Pt.return=pt,Pt;Mg(pt,Pt)}return null}function ft(pt,Pt,$t,Ot){var It=Pt!==null?Pt.key:null;if(typeof $t=="string"&&$t!==""||typeof $t=="number")return It!==null?null:rt(pt,Pt,""+$t,Ot);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return $t.key===It?nt(pt,Pt,$t,Ot):null;case wa:return $t.key===It?it(pt,Pt,$t,Ot):null;case Ha:return It=$t._init,ft(pt,Pt,It($t._payload),Ot)}if(eb($t)||Ka($t))return It!==null?null:ot(pt,Pt,$t,Ot,null);Mg(pt,$t)}return null}function _t(pt,Pt,$t,Ot,It){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return pt=pt.get($t)||null,rt(Pt,pt,""+Ot,It);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return pt=pt.get(Ot.key===null?$t:Ot.key)||null,nt(Pt,pt,Ot,It);case wa:return pt=pt.get(Ot.key===null?$t:Ot.key)||null,it(Pt,pt,Ot,It);case Ha:var Dt=Ot._init;return _t(pt,Pt,$t,Dt(Ot._payload),It)}if(eb(Ot)||Ka(Ot))return pt=pt.get($t)||null,ot(Pt,pt,Ot,It,null);Mg(Pt,Ot)}return null}function At(pt,Pt,$t,Ot){for(var It=null,Dt=null,Lt=Pt,Bt=Pt=0,jt=null;Lt!==null&&Bt<$t.length;Bt++){Lt.index>Bt?(jt=Lt,Lt=null):jt=Lt.sibling;var Ut=ft(pt,Lt,$t[Bt],Ot);if(Ut===null){Lt===null&&(Lt=jt);break}o&&Lt&&Ut.alternate===null&&i(pt,Lt),Pt=_e(Ut,Pt,Bt),Dt===null?It=Ut:Dt.sibling=Ut,Dt=Ut,Lt=jt}if(Bt===$t.length)return _(pt,Lt),I&&tg(pt,Bt),It;if(Lt===null){for(;Bt<$t.length;Bt++)Lt=lt(pt,$t[Bt],Ot),Lt!==null&&(Pt=_e(Lt,Pt,Bt),Dt===null?It=Lt:Dt.sibling=Lt,Dt=Lt);return I&&tg(pt,Bt),It}for(Lt=$(pt,Lt);Bt<$t.length;Bt++)jt=_t(Lt,pt,Bt,$t[Bt],Ot),jt!==null&&(o&&jt.alternate!==null&&Lt.delete(jt.key===null?Bt:jt.key),Pt=_e(jt,Pt,Bt),Dt===null?It=jt:Dt.sibling=jt,Dt=jt);return o&&Lt.forEach(function(Gt){return i(pt,Gt)}),I&&tg(pt,Bt),It}function Tt(pt,Pt,$t,Ot){var It=Ka($t);if(typeof It!="function")throw Error(p$1(150));if($t=It.call($t),$t==null)throw Error(p$1(151));for(var Dt=It=null,Lt=Pt,Bt=Pt=0,jt=null,Ut=$t.next();Lt!==null&&!Ut.done;Bt++,Ut=$t.next()){Lt.index>Bt?(jt=Lt,Lt=null):jt=Lt.sibling;var Gt=ft(pt,Lt,Ut.value,Ot);if(Gt===null){Lt===null&&(Lt=jt);break}o&&Lt&&Gt.alternate===null&&i(pt,Lt),Pt=_e(Gt,Pt,Bt),Dt===null?It=Gt:Dt.sibling=Gt,Dt=Gt,Lt=jt}if(Ut.done)return _(pt,Lt),I&&tg(pt,Bt),It;if(Lt===null){for(;!Ut.done;Bt++,Ut=$t.next())Ut=lt(pt,Ut.value,Ot),Ut!==null&&(Pt=_e(Ut,Pt,Bt),Dt===null?It=Ut:Dt.sibling=Ut,Dt=Ut);return I&&tg(pt,Bt),It}for(Lt=$(pt,Lt);!Ut.done;Bt++,Ut=$t.next())Ut=_t(Lt,pt,Bt,Ut.value,Ot),Ut!==null&&(o&&Ut.alternate!==null&&Lt.delete(Ut.key===null?Bt:Ut.key),Pt=_e(Ut,Pt,Bt),Dt===null?It=Ut:Dt.sibling=Ut,Dt=Ut);return o&&Lt.forEach(function(qt){return i(pt,qt)}),I&&tg(pt,Bt),It}function Mt(pt,Pt,$t,Ot){if(typeof $t=="object"&&$t!==null&&$t.type===ya&&$t.key===null&&($t=$t.props.children),typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:e:{for(var It=$t.key,Dt=Pt;Dt!==null;){if(Dt.key===It){if(It=$t.type,It===ya){if(Dt.tag===7){_(pt,Dt.sibling),Pt=j(Dt,$t.props.children),Pt.return=pt,pt=Pt;break e}}else if(Dt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&Ng(It)===Dt.type){_(pt,Dt.sibling),Pt=j(Dt,$t.props),Pt.ref=Lg(pt,Dt,$t),Pt.return=pt,pt=Pt;break e}_(pt,Dt);break}else i(pt,Dt);Dt=Dt.sibling}$t.type===ya?(Pt=Tg($t.props.children,pt.mode,Ot,$t.key),Pt.return=pt,pt=Pt):(Ot=Rg($t.type,$t.key,$t.props,null,pt.mode,Ot),Ot.ref=Lg(pt,Pt,$t),Ot.return=pt,pt=Ot)}return tt(pt);case wa:e:{for(Dt=$t.key;Pt!==null;){if(Pt.key===Dt)if(Pt.tag===4&&Pt.stateNode.containerInfo===$t.containerInfo&&Pt.stateNode.implementation===$t.implementation){_(pt,Pt.sibling),Pt=j(Pt,$t.children||[]),Pt.return=pt,pt=Pt;break e}else{_(pt,Pt);break}else i(pt,Pt);Pt=Pt.sibling}Pt=Sg($t,pt.mode,Ot),Pt.return=pt,pt=Pt}return tt(pt);case Ha:return Dt=$t._init,Mt(pt,Pt,Dt($t._payload),Ot)}if(eb($t))return At(pt,Pt,$t,Ot);if(Ka($t))return Tt(pt,Pt,$t,Ot);Mg(pt,$t)}return typeof $t=="string"&&$t!==""||typeof $t=="number"?($t=""+$t,Pt!==null&&Pt.tag===6?(_(pt,Pt.sibling),Pt=j(Pt,$t),Pt.return=pt,pt=Pt):(_(pt,Pt),Pt=Qg($t,pt.mode,Ot),Pt.return=pt,pt=Pt),tt(pt)):_(pt,Pt)}return Mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var i=Wg.current;E(Wg),o._currentValue=i}function bh(o,i,_){for(;o!==null;){var $=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,$!==null&&($.childLanes|=i)):$!==null&&($.childLanes&i)!==i&&($.childLanes|=i),o===_)break;o=o.return}}function ch(o,i){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(dh=!0),o.firstContext=null)}function eh(o){var i=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return i}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,i,_,$){var j=i.interleaved;return j===null?(_.next=_,gh(i)):(_.next=j.next,j.next=_),i.interleaved=_,ih(o,$)}function ih(o,i){o.lanes|=i;var _=o.alternate;for(_!==null&&(_.lanes|=i),_=o,o=o.return;o!==null;)o.childLanes|=i,_=o.alternate,_!==null&&(_.childLanes|=i),_=o,o=o.return;return _.tag===3?_.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(o,i,_){var $=o.updateQueue;if($===null)return null;if($=$.shared,K&2){var j=$.pending;return j===null?i.next=i:(i.next=j.next,j.next=i),$.pending=i,ih(o,_)}return j=$.interleaved,j===null?(i.next=i,gh($)):(i.next=j.next,j.next=i),$.interleaved=i,ih(o,_)}function oh(o,i,_){if(i=i.updateQueue,i!==null&&(i=i.shared,(_&4194240)!==0)){var $=i.lanes;$&=o.pendingLanes,_|=$,i.lanes=_,Cc(o,_)}}function ph(o,i){var _=o.updateQueue,$=o.alternate;if($!==null&&($=$.updateQueue,_===$)){var j=null,_e=null;if(_=_.firstBaseUpdate,_!==null){do{var tt={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};_e===null?j=_e=tt:_e=_e.next=tt,_=_.next}while(_!==null);_e===null?j=_e=i:_e=_e.next=i}else j=_e=i;_={baseState:$.baseState,firstBaseUpdate:j,lastBaseUpdate:_e,shared:$.shared,effects:$.effects},o.updateQueue=_;return}o=_.lastBaseUpdate,o===null?_.firstBaseUpdate=i:o.next=i,_.lastBaseUpdate=i}function qh(o,i,_,$){var j=o.updateQueue;jh=!1;var _e=j.firstBaseUpdate,tt=j.lastBaseUpdate,rt=j.shared.pending;if(rt!==null){j.shared.pending=null;var nt=rt,it=nt.next;nt.next=null,tt===null?_e=it:tt.next=it,tt=nt;var ot=o.alternate;ot!==null&&(ot=ot.updateQueue,rt=ot.lastBaseUpdate,rt!==tt&&(rt===null?ot.firstBaseUpdate=it:rt.next=it,ot.lastBaseUpdate=nt))}if(_e!==null){var lt=j.baseState;tt=0,ot=it=nt=null,rt=_e;do{var ft=rt.lane,_t=rt.eventTime;if(($&ft)===ft){ot!==null&&(ot=ot.next={eventTime:_t,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var At=o,Tt=rt;switch(ft=i,_t=_,Tt.tag){case 1:if(At=Tt.payload,typeof At=="function"){lt=At.call(_t,lt,ft);break e}lt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Tt.payload,ft=typeof At=="function"?At.call(_t,lt,ft):At,ft==null)break e;lt=A({},lt,ft);break e;case 2:jh=!0}}rt.callback!==null&&rt.lane!==0&&(o.flags|=64,ft=j.effects,ft===null?j.effects=[rt]:ft.push(rt))}else _t={eventTime:_t,lane:ft,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},ot===null?(it=ot=_t,nt=lt):ot=ot.next=_t,tt|=ft;if(rt=rt.next,rt===null){if(rt=j.shared.pending,rt===null)break;ft=rt,rt=ft.next,ft.next=null,j.lastBaseUpdate=ft,j.shared.pending=null}}while(1);if(ot===null&&(nt=lt),j.baseState=nt,j.firstBaseUpdate=it,j.lastBaseUpdate=ot,i=j.shared.interleaved,i!==null){j=i;do tt|=j.lane,j=j.next;while(j!==i)}else _e===null&&(j.shared.lanes=0);rh|=tt,o.lanes=tt,o.memoizedState=lt}}function sh(o,i,_){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var $=o[i],j=$.callback;if(j!==null){if($.callback=null,$=_,typeof j!="function")throw Error(p$1(191,j));j.call($)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p$1(174));return o}function yh(o,i){switch(G(wh,i),G(vh$1,o),G(uh,th),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb(i,o)}E(uh),G(uh,i)}function zh$1(){E(uh),E(vh$1),E(wh)}function Ah(o){xh(wh.current);var i=xh(uh.current),_=lb(i,o.type);i!==_&&(G(vh$1,o),G(uh,_))}function Bh(o){vh$1.current===o&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(o){for(var i=o;i!==null;){if(i.tag===13){var _=i.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(o,i){if(i===null)return!1;for(var _=0;_<i.length&&_<o.length;_++)if(!He(o[_],i[_]))return!1;return!0}function Nh(o,i,_,$,j,_e){if(Hh=_e,M=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=_($,j),Jh){_e=0;do{if(Jh=!1,Kh=0,25<=_e)throw Error(p$1(301));_e+=1,O=N=null,i.updateQueue=null,Fh.current=Qh,o=_($,j)}while(Jh)}if(Fh.current=Rh,i=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,i)throw Error(p$1(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=o:O=O.next=o,O}function Uh(){if(N===null){var o=M.alternate;o=o!==null?o.memoizedState:null}else o=N.next;var i=O===null?M.memoizedState:O.next;if(i!==null)O=i,N=o;else{if(o===null)throw Error(p$1(310));N=o,o={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=o:O=O.next=o}return O}function Vh(o,i){return typeof i=="function"?i(o):i}function Wh(o){var i=Uh(),_=i.queue;if(_===null)throw Error(p$1(311));_.lastRenderedReducer=o;var $=N,j=$.baseQueue,_e=_.pending;if(_e!==null){if(j!==null){var tt=j.next;j.next=_e.next,_e.next=tt}$.baseQueue=j=_e,_.pending=null}if(j!==null){_e=j.next,$=$.baseState;var rt=tt=null,nt=null,it=_e;do{var ot=it.lane;if((Hh&ot)===ot)nt!==null&&(nt=nt.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),$=it.hasEagerState?it.eagerState:o($,it.action);else{var lt={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};nt===null?(rt=nt=lt,tt=$):nt=nt.next=lt,M.lanes|=ot,rh|=ot}it=it.next}while(it!==null&&it!==_e);nt===null?tt=$:nt.next=rt,He($,i.memoizedState)||(dh=!0),i.memoizedState=$,i.baseState=tt,i.baseQueue=nt,_.lastRenderedState=$}if(o=_.interleaved,o!==null){j=o;do _e=j.lane,M.lanes|=_e,rh|=_e,j=j.next;while(j!==o)}else j===null&&(_.lanes=0);return[i.memoizedState,_.dispatch]}function Xh(o){var i=Uh(),_=i.queue;if(_===null)throw Error(p$1(311));_.lastRenderedReducer=o;var $=_.dispatch,j=_.pending,_e=i.memoizedState;if(j!==null){_.pending=null;var tt=j=j.next;do _e=o(_e,tt.action),tt=tt.next;while(tt!==j);He(_e,i.memoizedState)||(dh=!0),i.memoizedState=_e,i.baseQueue===null&&(i.baseState=_e),_.lastRenderedState=_e}return[_e,$]}function Yh(){}function Zh(o,i){var _=M,$=Uh(),j=i(),_e=!He($.memoizedState,j);if(_e&&($.memoizedState=j,dh=!0),$=$.queue,$h(ai.bind(null,_,$,o),[o]),$.getSnapshot!==i||_e||O!==null&&O.memoizedState.tag&1){if(_.flags|=2048,bi(9,ci.bind(null,_,$,j,i),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(_,i,j)}return j}function di(o,i,_){o.flags|=16384,o={getSnapshot:i,value:_},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.stores=[o]):(_=i.stores,_===null?i.stores=[o]:_.push(o))}function ci(o,i,_,$){i.value=_,i.getSnapshot=$,ei(i)&&fi(o)}function ai(o,i,_){return _(function(){ei(i)&&fi(o)})}function ei(o){var i=o.getSnapshot;o=o.value;try{var _=i();return!He(o,_)}catch{return!0}}function fi(o){var i=ih(o,1);i!==null&&gi(i,o,1,-1)}function hi(o){var i=Th();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},i.queue=o,o=o.dispatch=ii.bind(null,M,o),[i.memoizedState,o]}function bi(o,i,_,$){return o={tag:o,create:i,destroy:_,deps:$,next:null},i=M.updateQueue,i===null?(i={lastEffect:null,stores:null},M.updateQueue=i,i.lastEffect=o.next=o):(_=i.lastEffect,_===null?i.lastEffect=o.next=o:($=_.next,_.next=o,o.next=$,i.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,i,_,$){var j=Th();M.flags|=o,j.memoizedState=bi(1|i,_,void 0,$===void 0?null:$)}function li(o,i,_,$){var j=Uh();$=$===void 0?null:$;var _e=void 0;if(N!==null){var tt=N.memoizedState;if(_e=tt.destroy,$!==null&&Mh($,tt.deps)){j.memoizedState=bi(i,_,_e,$);return}}M.flags|=o,j.memoizedState=bi(1|i,_,_e,$)}function mi(o,i){return ki(8390656,8,o,i)}function $h(o,i){return li(2048,8,o,i)}function ni(o,i){return li(4,2,o,i)}function oi(o,i){return li(4,4,o,i)}function pi$2(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function qi(o,i,_){return _=_!=null?_.concat([o]):null,li(4,4,pi$2.bind(null,i,o),_)}function ri(){}function si(o,i){var _=Uh();i=i===void 0?null:i;var $=_.memoizedState;return $!==null&&i!==null&&Mh(i,$[1])?$[0]:(_.memoizedState=[o,i],o)}function ti(o,i){var _=Uh();i=i===void 0?null:i;var $=_.memoizedState;return $!==null&&i!==null&&Mh(i,$[1])?$[0]:(o=o(),_.memoizedState=[o,i],o)}function ui(o,i,_){return Hh&21?(He(_,i)||(_=yc(),M.lanes|=_,rh|=_,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=_)}function vi(o,i){var _=C;C=_!==0&&4>_?_:4,o(!0);var $=Gh.transition;Gh.transition={};try{o(!1),i()}finally{C=_,Gh.transition=$}}function wi(){return Uh().memoizedState}function xi(o,i,_){var $=yi(o);if(_={lane:$,action:_,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(i,_);else if(_=hh(o,i,_,$),_!==null){var j=R();gi(_,o,$,j),Bi(_,i,$)}}function ii(o,i,_){var $=yi(o),j={lane:$,action:_,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(i,j);else{var _e=o.alternate;if(o.lanes===0&&(_e===null||_e.lanes===0)&&(_e=i.lastRenderedReducer,_e!==null))try{var tt=i.lastRenderedState,rt=_e(tt,_);if(j.hasEagerState=!0,j.eagerState=rt,He(rt,tt)){var nt=i.interleaved;nt===null?(j.next=j,gh(i)):(j.next=nt.next,nt.next=j),i.interleaved=j;return}}catch{}finally{}_=hh(o,i,j,$),_!==null&&(j=R(),gi(_,o,$,j),Bi(_,i,$))}}function zi(o){var i=o.alternate;return o===M||i!==null&&i===M}function Ai(o,i){Jh=Ih=!0;var _=o.pending;_===null?i.next=i:(i.next=_.next,_.next=i),o.pending=i}function Bi(o,i,_){if(_&4194240){var $=i.lanes;$&=o.pendingLanes,_|=$,i.lanes=_,Cc(o,_)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,i){return Th().memoizedState=[o,i===void 0?null:i],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,i,_){return _=_!=null?_.concat([o]):null,ki(4194308,4,pi$2.bind(null,i,o),_)},useLayoutEffect:function(o,i){return ki(4194308,4,o,i)},useInsertionEffect:function(o,i){return ki(4,2,o,i)},useMemo:function(o,i){var _=Th();return i=i===void 0?null:i,o=o(),_.memoizedState=[o,i],o},useReducer:function(o,i,_){var $=Th();return i=_!==void 0?_(i):i,$.memoizedState=$.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},$.queue=o,o=o.dispatch=xi.bind(null,M,o),[$.memoizedState,o]},useRef:function(o){var i=Th();return o={current:o},i.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),i=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,_){var $=M,j=Th();if(I){if(_===void 0)throw Error(p$1(407));_=_()}else{if(_=i(),Q===null)throw Error(p$1(349));Hh&30||di($,i,_)}j.memoizedState=_;var _e={value:_,getSnapshot:i};return j.queue=_e,mi(ai.bind(null,$,_e,o),[o]),$.flags|=2048,bi(9,ci.bind(null,$,_e,_,i),void 0,null),_},useId:function(){var o=Th(),i=Q.identifierPrefix;if(I){var _=sg,$=rg;_=($&~(1<<32-oc($)-1)).toString(32)+_,i=":"+i+"R"+_,_=Kh++,0<_&&(i+="H"+_.toString(32)),i+=":"}else _=Lh++,i=":"+i+"r"+_.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return ui(i,N.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return N===null?i.memoizedState=o:ui(i,N.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,i){if(o&&o.defaultProps){i=A({},i),o=o.defaultProps;for(var _ in o)i[_]===void 0&&(i[_]=o[_]);return i}return i}function Di(o,i,_,$){i=o.memoizedState,_=_($,i),_=_==null?i:A({},i,_),o.memoizedState=_,o.lanes===0&&(o.updateQueue.baseState=_)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,i,_){o=o._reactInternals;var $=R(),j=yi(o),_e=mh($,j);_e.payload=i,_!=null&&(_e.callback=_),i=nh(o,_e,j),i!==null&&(gi(i,o,j,$),oh(i,o,j))},enqueueReplaceState:function(o,i,_){o=o._reactInternals;var $=R(),j=yi(o),_e=mh($,j);_e.tag=1,_e.payload=i,_!=null&&(_e.callback=_),i=nh(o,_e,j),i!==null&&(gi(i,o,j,$),oh(i,o,j))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var _=R(),$=yi(o),j=mh(_,$);j.tag=2,i!=null&&(j.callback=i),i=nh(o,j,$),i!==null&&(gi(i,o,$,_),oh(i,o,$))}};function Fi(o,i,_,$,j,_e,tt){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate($,_e,tt):i.prototype&&i.prototype.isPureReactComponent?!Ie(_,$)||!Ie(j,_e):!0}function Gi(o,i,_){var $=!1,j=Vf,_e=i.contextType;return typeof _e=="object"&&_e!==null?_e=eh(_e):(j=Zf(i)?Xf:H.current,$=i.contextTypes,_e=($=$!=null)?Yf(o,j):Vf),i=new i(_,_e),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,o.stateNode=i,i._reactInternals=o,$&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=_e),i}function Hi(o,i,_,$){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(_,$),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(_,$),i.state!==o&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(o,i,_,$){var j=o.stateNode;j.props=_,j.state=o.memoizedState,j.refs={},kh(o);var _e=i.contextType;typeof _e=="object"&&_e!==null?j.context=eh(_e):(_e=Zf(i)?Xf:H.current,j.context=Yf(o,_e)),j.state=o.memoizedState,_e=i.getDerivedStateFromProps,typeof _e=="function"&&(Di(o,i,_e,_),j.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(i=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),i!==j.state&&Ei.enqueueReplaceState(j,j.state,null),qh(o,_,j,$),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,i){try{var _="",$=i;do _+=Pa($),$=$.return;while($);var j=_}catch(_e){j=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:o,source:i,stack:j,digest:null}}function Ki(o,i,_){return{value:o,source:null,stack:_??null,digest:i??null}}function Li(o,i){try{console.error(i.value)}catch(_){setTimeout(function(){throw _})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,i,_){_=mh(-1,_),_.tag=3,_.payload={element:null};var $=i.value;return _.callback=function(){Oi||(Oi=!0,Pi=$),Li(o,i)},_}function Qi(o,i,_){_=mh(-1,_),_.tag=3;var $=o.type.getDerivedStateFromError;if(typeof $=="function"){var j=i.value;_.payload=function(){return $(j)},_.callback=function(){Li(o,i)}}var _e=o.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(_.callback=function(){Li(o,i),typeof $!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var tt=i.stack;this.componentDidCatch(i.value,{componentStack:tt!==null?tt:""})}),_}function Si(o,i,_){var $=o.pingCache;if($===null){$=o.pingCache=new Mi;var j=new Set;$.set(i,j)}else j=$.get(i),j===void 0&&(j=new Set,$.set(i,j));j.has(_)||(j.add(_),o=Ti.bind(null,o,i,_),i.then(o,o))}function Ui(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Vi(o,i,_,$,j){return o.mode&1?(o.flags|=65536,o.lanes=j,o):(o===i?o.flags|=65536:(o.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(i=mh(-1,1),i.tag=2,nh(_,i,1))),_.lanes|=1),o)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(o,i,_,$){i.child=o===null?Vg(i,null,_,$):Ug(i,o.child,_,$)}function Yi(o,i,_,$,j){_=_.render;var _e=i.ref;return ch(i,j),$=Nh(o,i,_,$,_e,j),_=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~j,Zi(o,i,j)):(I&&_&&vg(i),i.flags|=1,Xi(o,i,$,j),i.child)}function $i(o,i,_,$,j){if(o===null){var _e=_.type;return typeof _e=="function"&&!aj(_e)&&_e.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(i.tag=15,i.type=_e,bj(o,i,_e,$,j)):(o=Rg(_.type,null,$,i,i.mode,j),o.ref=i.ref,o.return=i,i.child=o)}if(_e=o.child,!(o.lanes&j)){var tt=_e.memoizedProps;if(_=_.compare,_=_!==null?_:Ie,_(tt,$)&&o.ref===i.ref)return Zi(o,i,j)}return i.flags|=1,o=Pg(_e,$),o.ref=i.ref,o.return=i,i.child=o}function bj(o,i,_,$,j){if(o!==null){var _e=o.memoizedProps;if(Ie(_e,$)&&o.ref===i.ref)if(dh=!1,i.pendingProps=$=_e,(o.lanes&j)!==0)o.flags&131072&&(dh=!0);else return i.lanes=o.lanes,Zi(o,i,j)}return cj(o,i,_,$,j)}function dj(o,i,_){var $=i.pendingProps,j=$.children,_e=o!==null?o.memoizedState:null;if($.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_;else{if(!(_&1073741824))return o=_e!==null?_e.baseLanes|_:_,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$=_e!==null?_e.baseLanes:_,G(ej,fj),fj|=$}else _e!==null?($=_e.baseLanes|_,i.memoizedState=null):$=_,G(ej,fj),fj|=$;return Xi(o,i,j,_),i.child}function gj(o,i){var _=i.ref;(o===null&&_!==null||o!==null&&o.ref!==_)&&(i.flags|=512,i.flags|=2097152)}function cj(o,i,_,$,j){var _e=Zf(_)?Xf:H.current;return _e=Yf(i,_e),ch(i,j),_=Nh(o,i,_,$,_e,j),$=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~j,Zi(o,i,j)):(I&&$&&vg(i),i.flags|=1,Xi(o,i,_,j),i.child)}function hj(o,i,_,$,j){if(Zf(_)){var _e=!0;cg(i)}else _e=!1;if(ch(i,j),i.stateNode===null)ij(o,i),Gi(i,_,$),Ii(i,_,$,j),$=!0;else if(o===null){var tt=i.stateNode,rt=i.memoizedProps;tt.props=rt;var nt=tt.context,it=_.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(_)?Xf:H.current,it=Yf(i,it));var ot=_.getDerivedStateFromProps,lt=typeof ot=="function"||typeof tt.getSnapshotBeforeUpdate=="function";lt||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==$||nt!==it)&&Hi(i,tt,$,it),jh=!1;var ft=i.memoizedState;tt.state=ft,qh(i,$,tt,j),nt=i.memoizedState,rt!==$||ft!==nt||Wf.current||jh?(typeof ot=="function"&&(Di(i,_,ot,$),nt=i.memoizedState),(rt=jh||Fi(i,_,rt,$,ft,nt,it))?(lt||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(i.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=$,i.memoizedState=nt),tt.props=$,tt.state=nt,tt.context=it,$=rt):(typeof tt.componentDidMount=="function"&&(i.flags|=4194308),$=!1)}else{tt=i.stateNode,lh(o,i),rt=i.memoizedProps,it=i.type===i.elementType?rt:Ci(i.type,rt),tt.props=it,lt=i.pendingProps,ft=tt.context,nt=_.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(_)?Xf:H.current,nt=Yf(i,nt));var _t=_.getDerivedStateFromProps;(ot=typeof _t=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==lt||ft!==nt)&&Hi(i,tt,$,nt),jh=!1,ft=i.memoizedState,tt.state=ft,qh(i,$,tt,j);var At=i.memoizedState;rt!==lt||ft!==At||Wf.current||jh?(typeof _t=="function"&&(Di(i,_,_t,$),At=i.memoizedState),(it=jh||Fi(i,_,it,$,ft,At,nt)||!1)?(ot||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate($,At,nt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate($,At,nt)),typeof tt.componentDidUpdate=="function"&&(i.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof tt.componentDidUpdate!="function"||rt===o.memoizedProps&&ft===o.memoizedState||(i.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&ft===o.memoizedState||(i.flags|=1024),i.memoizedProps=$,i.memoizedState=At),tt.props=$,tt.state=At,tt.context=nt,$=it):(typeof tt.componentDidUpdate!="function"||rt===o.memoizedProps&&ft===o.memoizedState||(i.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&ft===o.memoizedState||(i.flags|=1024),$=!1)}return jj(o,i,_,$,_e,j)}function jj(o,i,_,$,j,_e){gj(o,i);var tt=(i.flags&128)!==0;if(!$&&!tt)return j&&dg(i,_,!1),Zi(o,i,_e);$=i.stateNode,Wi.current=i;var rt=tt&&typeof _.getDerivedStateFromError!="function"?null:$.render();return i.flags|=1,o!==null&&tt?(i.child=Ug(i,o.child,null,_e),i.child=Ug(i,null,rt,_e)):Xi(o,i,rt,_e),i.memoizedState=$.state,j&&dg(i,_,!0),i.child}function kj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),yh(o,i.containerInfo)}function lj(o,i,_,$,j){return Ig(),Jg(j),i.flags|=256,Xi(o,i,_,$),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,i,_){var $=i.pendingProps,j=L.current,_e=!1,tt=(i.flags&128)!==0,rt;if((rt=tt)||(rt=o!==null&&o.memoizedState===null?!1:(j&2)!==0),rt?(_e=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),G(L,j&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(tt=$.children,o=$.fallback,_e?($=i.mode,_e=i.child,tt={mode:"hidden",children:tt},!($&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=tt):_e=pj(tt,$,0,null),o=Tg(o,$,_,null),_e.return=i,o.return=i,_e.sibling=o,i.child=_e,i.child.memoizedState=nj(_),i.memoizedState=mj,o):qj(i,tt));if(j=o.memoizedState,j!==null&&(rt=j.dehydrated,rt!==null))return rj(o,i,tt,$,rt,j,_);if(_e){_e=$.fallback,tt=i.mode,j=o.child,rt=j.sibling;var nt={mode:"hidden",children:$.children};return!(tt&1)&&i.child!==j?($=i.child,$.childLanes=0,$.pendingProps=nt,i.deletions=null):($=Pg(j,nt),$.subtreeFlags=j.subtreeFlags&14680064),rt!==null?_e=Pg(rt,_e):(_e=Tg(_e,tt,_,null),_e.flags|=2),_e.return=i,$.return=i,$.sibling=_e,i.child=$,$=_e,_e=i.child,tt=o.child.memoizedState,tt=tt===null?nj(_):{baseLanes:tt.baseLanes|_,cachePool:null,transitions:tt.transitions},_e.memoizedState=tt,_e.childLanes=o.childLanes&~_,i.memoizedState=mj,$}return _e=o.child,o=_e.sibling,$=Pg(_e,{mode:"visible",children:$.children}),!(i.mode&1)&&($.lanes=_),$.return=i,$.sibling=null,o!==null&&(_=i.deletions,_===null?(i.deletions=[o],i.flags|=16):_.push(o)),i.child=$,i.memoizedState=null,$}function qj(o,i){return i=pj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function sj(o,i,_,$){return $!==null&&Jg($),Ug(i,o.child,null,_),o=qj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function rj(o,i,_,$,j,_e,tt){if(_)return i.flags&256?(i.flags&=-257,$=Ki(Error(p$1(422))),sj(o,i,tt,$)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(_e=$.fallback,j=i.mode,$=pj({mode:"visible",children:$.children},j,0,null),_e=Tg(_e,j,tt,null),_e.flags|=2,$.return=i,_e.return=i,$.sibling=_e,i.child=$,i.mode&1&&Ug(i,o.child,null,tt),i.child.memoizedState=nj(tt),i.memoizedState=mj,_e);if(!(i.mode&1))return sj(o,i,tt,null);if(j.data==="$!"){if($=j.nextSibling&&j.nextSibling.dataset,$)var rt=$.dgst;return $=rt,_e=Error(p$1(419)),$=Ki(_e,$,void 0),sj(o,i,tt,$)}if(rt=(tt&o.childLanes)!==0,dh||rt){if($=Q,$!==null){switch(tt&-tt){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=j&($.suspendedLanes|tt)?0:j,j!==0&&j!==_e.retryLane&&(_e.retryLane=j,ih(o,j),gi($,o,j,-1))}return tj(),$=Ki(Error(p$1(421))),sj(o,i,tt,$)}return j.data==="$?"?(i.flags|=128,i.child=o.child,i=uj.bind(null,o),j._reactRetry=i,null):(o=_e.treeContext,yg=Lf(j.nextSibling),xg=i,I=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=qj(i,$.children),i.flags|=4096,i)}function vj(o,i,_){o.lanes|=i;var $=o.alternate;$!==null&&($.lanes|=i),bh(o.return,i,_)}function wj(o,i,_,$,j){var _e=o.memoizedState;_e===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:$,tail:_,tailMode:j}:(_e.isBackwards=i,_e.rendering=null,_e.renderingStartTime=0,_e.last=$,_e.tail=_,_e.tailMode=j)}function xj(o,i,_){var $=i.pendingProps,j=$.revealOrder,_e=$.tail;if(Xi(o,i,$.children,_),$=L.current,$&2)$=$&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,_,i);else if(o.tag===19)vj(o,_,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}$&=1}if(G(L,$),!(i.mode&1))i.memoizedState=null;else switch(j){case"forwards":for(_=i.child,j=null;_!==null;)o=_.alternate,o!==null&&Ch(o)===null&&(j=_),_=_.sibling;_=j,_===null?(j=i.child,i.child=null):(j=_.sibling,_.sibling=null),wj(i,!1,j,_,_e);break;case"backwards":for(_=null,j=i.child,i.child=null;j!==null;){if(o=j.alternate,o!==null&&Ch(o)===null){i.child=j;break}o=j.sibling,j.sibling=_,_=j,j=o}wj(i,!0,_,null,_e);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function Zi(o,i,_){if(o!==null&&(i.dependencies=o.dependencies),rh|=i.lanes,!(_&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$1(153));if(i.child!==null){for(o=i.child,_=Pg(o,o.pendingProps),i.child=_,_.return=i;o.sibling!==null;)o=o.sibling,_=_.sibling=Pg(o,o.pendingProps),_.return=i;_.sibling=null}return i.child}function yj(o,i,_){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var $=i.type._context,j=i.memoizedProps.value;G(Wg,$._currentValue),$._currentValue=j;break;case 13:if($=i.memoizedState,$!==null)return $.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):_&i.child.childLanes?oj(o,i,_):(G(L,L.current&1),o=Zi(o,i,_),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if($=(_&i.childLanes)!==0,o.flags&128){if($)return xj(o,i,_);i.flags|=128}if(j=i.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),G(L,L.current),$)break;return null;case 22:case 23:return i.lanes=0,dj(o,i,_)}return Zi(o,i,_)}var zj,Aj,Bj,Cj;zj=function(o,i){for(var _=i.child;_!==null;){if(_.tag===5||_.tag===6)o.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break;for(;_.sibling===null;){if(_.return===null||_.return===i)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Aj=function(){};Bj=function(o,i,_,$){var j=o.memoizedProps;if(j!==$){o=i.stateNode,xh(uh.current);var _e=null;switch(_){case"input":j=Ya(o,j),$=Ya(o,$),_e=[];break;case"select":j=A({},j,{value:void 0}),$=A({},$,{value:void 0}),_e=[];break;case"textarea":j=gb(o,j),$=gb(o,$),_e=[];break;default:typeof j.onClick!="function"&&typeof $.onClick=="function"&&(o.onclick=Bf)}ub(_,$);var tt;_=null;for(it in j)if(!$.hasOwnProperty(it)&&j.hasOwnProperty(it)&&j[it]!=null)if(it==="style"){var rt=j[it];for(tt in rt)rt.hasOwnProperty(tt)&&(_||(_={}),_[tt]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?_e||(_e=[]):(_e=_e||[]).push(it,null));for(it in $){var nt=$[it];if(rt=j!=null?j[it]:void 0,$.hasOwnProperty(it)&&nt!==rt&&(nt!=null||rt!=null))if(it==="style")if(rt){for(tt in rt)!rt.hasOwnProperty(tt)||nt&&nt.hasOwnProperty(tt)||(_||(_={}),_[tt]="");for(tt in nt)nt.hasOwnProperty(tt)&&rt[tt]!==nt[tt]&&(_||(_={}),_[tt]=nt[tt])}else _||(_e||(_e=[]),_e.push(it,_)),_=nt;else it==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,rt=rt?rt.__html:void 0,nt!=null&&rt!==nt&&(_e=_e||[]).push(it,nt)):it==="children"?typeof nt!="string"&&typeof nt!="number"||(_e=_e||[]).push(it,""+nt):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(nt!=null&&it==="onScroll"&&D("scroll",o),_e||rt===nt||(_e=[])):(_e=_e||[]).push(it,nt))}_&&(_e=_e||[]).push("style",_);var it=_e;(i.updateQueue=it)&&(i.flags|=4)}};Cj=function(o,i,_,$){_!==$&&(i.flags|=4)};function Dj(o,i){if(!I)switch(o.tailMode){case"hidden":i=o.tail;for(var _=null;i!==null;)i.alternate!==null&&(_=i),i=i.sibling;_===null?o.tail=null:_.sibling=null;break;case"collapsed":_=o.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:$.sibling=null}}function S(o){var i=o.alternate!==null&&o.alternate.child===o.child,_=0,$=0;if(i)for(var j=o.child;j!==null;)_|=j.lanes|j.childLanes,$|=j.subtreeFlags&14680064,$|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)_|=j.lanes|j.childLanes,$|=j.subtreeFlags,$|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=$,o.childLanes=_,i}function Ej(o,i,_){var $=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return $=i.stateNode,zh$1(),E(Wf),E(H),Eh(),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,i),S(i),null;case 5:Bh(i);var j=xh(wh.current);if(_=i.type,o!==null&&i.stateNode!=null)Bj(o,i,_,$,j),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!$){if(i.stateNode===null)throw Error(p$1(166));return S(i),null}if(o=xh(uh.current),Gg(i)){$=i.stateNode,_=i.type;var _e=i.memoizedProps;switch($[Of]=i,$[Pf]=_e,o=(i.mode&1)!==0,_){case"dialog":D("cancel",$),D("close",$);break;case"iframe":case"object":case"embed":D("load",$);break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],$);break;case"source":D("error",$);break;case"img":case"image":case"link":D("error",$),D("load",$);break;case"details":D("toggle",$);break;case"input":Za($,_e),D("invalid",$);break;case"select":$._wrapperState={wasMultiple:!!_e.multiple},D("invalid",$);break;case"textarea":hb($,_e),D("invalid",$)}ub(_,_e),j=null;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=_e[tt];tt==="children"?typeof rt=="string"?$.textContent!==rt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,rt,o),j=["children",rt]):typeof rt=="number"&&$.textContent!==""+rt&&(_e.suppressHydrationWarning!==!0&&Af($.textContent,rt,o),j=["children",""+rt]):ea.hasOwnProperty(tt)&&rt!=null&&tt==="onScroll"&&D("scroll",$)}switch(_){case"input":Va($),db($,_e,!0);break;case"textarea":Va($),jb($);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&($.onclick=Bf)}$=j,i.updateQueue=$,$!==null&&(i.flags|=4)}else{tt=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(_)),o==="http://www.w3.org/1999/xhtml"?_==="script"?(o=tt.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof $.is=="string"?o=tt.createElement(_,{is:$.is}):(o=tt.createElement(_),_==="select"&&(tt=o,$.multiple?tt.multiple=!0:$.size&&(tt.size=$.size))):o=tt.createElementNS(o,_),o[Of]=i,o[Pf]=$,zj(o,i,!1,!1),i.stateNode=o;e:{switch(tt=vb(_,$),_){case"dialog":D("cancel",o),D("close",o),j=$;break;case"iframe":case"object":case"embed":D("load",o),j=$;break;case"video":case"audio":for(j=0;j<lf.length;j++)D(lf[j],o);j=$;break;case"source":D("error",o),j=$;break;case"img":case"image":case"link":D("error",o),D("load",o),j=$;break;case"details":D("toggle",o),j=$;break;case"input":Za(o,$),j=Ya(o,$),D("invalid",o);break;case"option":j=$;break;case"select":o._wrapperState={wasMultiple:!!$.multiple},j=A({},$,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,$),j=gb(o,$),D("invalid",o);break;default:j=$}ub(_,j),rt=j;for(_e in rt)if(rt.hasOwnProperty(_e)){var nt=rt[_e];_e==="style"?sb(o,nt):_e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(o,nt)):_e==="children"?typeof nt=="string"?(_!=="textarea"||nt!=="")&&ob(o,nt):typeof nt=="number"&&ob(o,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?nt!=null&&_e==="onScroll"&&D("scroll",o):nt!=null&&ta(o,_e,nt,tt))}switch(_){case"input":Va(o),db(o,$,!1);break;case"textarea":Va(o),jb(o);break;case"option":$.value!=null&&o.setAttribute("value",""+Sa($.value));break;case"select":o.multiple=!!$.multiple,_e=$.value,_e!=null?fb(o,!!$.multiple,_e,!1):$.defaultValue!=null&&fb(o,!!$.multiple,$.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Bf)}switch(_){case"button":case"input":case"select":case"textarea":$=!!$.autoFocus;break e;case"img":$=!0;break e;default:$=!1}}$&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(o&&i.stateNode!=null)Cj(o,i,o.memoizedProps,$);else{if(typeof $!="string"&&i.stateNode===null)throw Error(p$1(166));if(_=xh(wh.current),xh(uh.current),Gg(i)){if($=i.stateNode,_=i.memoizedProps,$[Of]=i,(_e=$.nodeValue!==_)&&(o=xg,o!==null))switch(o.tag){case 3:Af($.nodeValue,_,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af($.nodeValue,_,(o.mode&1)!==0)}_e&&(i.flags|=4)}else $=(_.nodeType===9?_:_.ownerDocument).createTextNode($),$[Of]=i,i.stateNode=$}return S(i),null;case 13:if(E(L),$=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,_e=!1;else if(_e=Gg(i),$!==null&&$.dehydrated!==null){if(o===null){if(!_e)throw Error(p$1(318));if(_e=i.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$1(317));_e[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),_e=!1}else zg!==null&&(Fj(zg),zg=null),_e=!0;if(!_e)return i.flags&65536?i:null}return i.flags&128?(i.lanes=_,i):($=$!==null,$!==(o!==null&&o.memoizedState!==null)&&$&&(i.child.flags|=8192,i.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh$1(),Aj(o,i),o===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(L),_e=i.memoizedState,_e===null)return S(i),null;if($=(i.flags&128)!==0,tt=_e.rendering,tt===null)if($)Dj(_e,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(tt=Ch(o),tt!==null){for(i.flags|=128,Dj(_e,!1),$=tt.updateQueue,$!==null&&(i.updateQueue=$,i.flags|=4),i.subtreeFlags=0,$=_,_=i.child;_!==null;)_e=_,o=$,_e.flags&=14680066,tt=_e.alternate,tt===null?(_e.childLanes=0,_e.lanes=o,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=tt.childLanes,_e.lanes=tt.lanes,_e.child=tt.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=tt.memoizedProps,_e.memoizedState=tt.memoizedState,_e.updateQueue=tt.updateQueue,_e.type=tt.type,o=tt.dependencies,_e.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),_=_.sibling;return G(L,L.current&1|2),i.child}o=o.sibling}_e.tail!==null&&B()>Gj&&(i.flags|=128,$=!0,Dj(_e,!1),i.lanes=4194304)}else{if(!$)if(o=Ch(tt),o!==null){if(i.flags|=128,$=!0,_=o.updateQueue,_!==null&&(i.updateQueue=_,i.flags|=4),Dj(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!tt.alternate&&!I)return S(i),null}else 2*B()-_e.renderingStartTime>Gj&&_!==1073741824&&(i.flags|=128,$=!0,Dj(_e,!1),i.lanes=4194304);_e.isBackwards?(tt.sibling=i.child,i.child=tt):(_=_e.last,_!==null?_.sibling=tt:i.child=tt,_e.last=tt)}return _e.tail!==null?(i=_e.tail,_e.rendering=i,_e.tail=i.sibling,_e.renderingStartTime=B(),i.sibling=null,_=L.current,G(L,$?_&1|2:_&1),i):(S(i),null);case 22:case 23:return Hj(),$=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==$&&(i.flags|=8192),$&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Ij(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return zh$1(),E(Wf),E(H),Eh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E(L),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E(L),null;case 4:return zh$1(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(o,i){var _=o.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch($){W(o,i,$)}else _.current=null}function Mj(o,i,_){try{_()}catch($){W(o,i,$)}}var Nj=!1;function Oj(o,i){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var _={start:o.selectionStart,end:o.selectionEnd};else e:{_=(_=o.ownerDocument)&&_.defaultView||window;var $=_.getSelection&&_.getSelection();if($&&$.rangeCount!==0){_=$.anchorNode;var j=$.anchorOffset,_e=$.focusNode;$=$.focusOffset;try{_.nodeType,_e.nodeType}catch{_=null;break e}var tt=0,rt=-1,nt=-1,it=0,ot=0,lt=o,ft=null;t:for(;;){for(var _t;lt!==_||j!==0&&lt.nodeType!==3||(rt=tt+j),lt!==_e||$!==0&&lt.nodeType!==3||(nt=tt+$),lt.nodeType===3&&(tt+=lt.nodeValue.length),(_t=lt.firstChild)!==null;)ft=lt,lt=_t;for(;;){if(lt===o)break t;if(ft===_&&++it===j&&(rt=tt),ft===_e&&++ot===$&&(nt=tt),(_t=lt.nextSibling)!==null)break;lt=ft,ft=lt.parentNode}lt=_t}_=rt===-1||nt===-1?null:{start:rt,end:nt}}else _=null}_=_||{start:0,end:0}}else _=null;for(Df={focusedElem:o,selectionRange:_},dd=!1,V=i;V!==null;)if(i=V,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V=o;else for(;V!==null;){i=V;try{var At=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Tt=At.memoizedProps,Mt=At.memoizedState,pt=i.stateNode,Pt=pt.getSnapshotBeforeUpdate(i.elementType===i.type?Tt:Ci(i.type,Tt),Mt);pt.__reactInternalSnapshotBeforeUpdate=Pt}break;case 3:var $t=i.stateNode.containerInfo;$t.nodeType===1?$t.textContent="":$t.nodeType===9&&$t.documentElement&&$t.removeChild($t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Ot){W(i,i.return,Ot)}if(o=i.sibling,o!==null){o.return=i.return,V=o;break}V=i.return}return At=Nj,Nj=!1,At}function Pj(o,i,_){var $=i.updateQueue;if($=$!==null?$.lastEffect:null,$!==null){var j=$=$.next;do{if((j.tag&o)===o){var _e=j.destroy;j.destroy=void 0,_e!==void 0&&Mj(i,_,_e)}j=j.next}while(j!==$)}}function Qj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var _=i=i.next;do{if((_.tag&o)===o){var $=_.create;_.destroy=$()}_=_.next}while(_!==i)}}function Rj(o){var i=o.ref;if(i!==null){var _=o.stateNode;switch(o.tag){case 5:o=_;break;default:o=_}typeof i=="function"?i(o):i.current=o}}function Sj(o){var i=o.alternate;i!==null&&(o.alternate=null,Sj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,i,_){var $=o.tag;if($===5||$===6)o=o.stateNode,i?_.nodeType===8?_.parentNode.insertBefore(o,i):_.insertBefore(o,i):(_.nodeType===8?(i=_.parentNode,i.insertBefore(o,_)):(i=_,i.appendChild(o)),_=_._reactRootContainer,_!=null||i.onclick!==null||(i.onclick=Bf));else if($!==4&&(o=o.child,o!==null))for(Vj(o,i,_),o=o.sibling;o!==null;)Vj(o,i,_),o=o.sibling}function Wj(o,i,_){var $=o.tag;if($===5||$===6)o=o.stateNode,i?_.insertBefore(o,i):_.appendChild(o);else if($!==4&&(o=o.child,o!==null))for(Wj(o,i,_),o=o.sibling;o!==null;)Wj(o,i,_),o=o.sibling}var X$1=null,Xj=!1;function Yj(o,i,_){for(_=_.child;_!==null;)Zj(o,i,_),_=_.sibling}function Zj(o,i,_){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_)}catch{}switch(_.tag){case 5:U||Lj(_,i);case 6:var $=X$1,j=Xj;X$1=null,Yj(o,i,_),X$1=$,Xj=j,X$1!==null&&(Xj?(o=X$1,_=_.stateNode,o.nodeType===8?o.parentNode.removeChild(_):o.removeChild(_)):X$1.removeChild(_.stateNode));break;case 18:X$1!==null&&(Xj?(o=X$1,_=_.stateNode,o.nodeType===8?Kf(o.parentNode,_):o.nodeType===1&&Kf(o,_),bd(o)):Kf(X$1,_.stateNode));break;case 4:$=X$1,j=Xj,X$1=_.stateNode.containerInfo,Xj=!0,Yj(o,i,_),X$1=$,Xj=j;break;case 0:case 11:case 14:case 15:if(!U&&($=_.updateQueue,$!==null&&($=$.lastEffect,$!==null))){j=$=$.next;do{var _e=j,tt=_e.destroy;_e=_e.tag,tt!==void 0&&(_e&2||_e&4)&&Mj(_,i,tt),j=j.next}while(j!==$)}Yj(o,i,_);break;case 1:if(!U&&(Lj(_,i),$=_.stateNode,typeof $.componentWillUnmount=="function"))try{$.props=_.memoizedProps,$.state=_.memoizedState,$.componentWillUnmount()}catch(rt){W(_,i,rt)}Yj(o,i,_);break;case 21:Yj(o,i,_);break;case 22:_.mode&1?(U=($=U)||_.memoizedState!==null,Yj(o,i,_),U=$):Yj(o,i,_);break;default:Yj(o,i,_)}}function ak(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var _=o.stateNode;_===null&&(_=o.stateNode=new Kj),i.forEach(function($){var j=bk.bind(null,o,$);_.has($)||(_.add($),$.then(j,j))})}}function ck(o,i){var _=i.deletions;if(_!==null)for(var $=0;$<_.length;$++){var j=_[$];try{var _e=o,tt=i,rt=tt;e:for(;rt!==null;){switch(rt.tag){case 5:X$1=rt.stateNode,Xj=!1;break e;case 3:X$1=rt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=rt.stateNode.containerInfo,Xj=!0;break e}rt=rt.return}if(X$1===null)throw Error(p$1(160));Zj(_e,tt,j),X$1=null,Xj=!1;var nt=j.alternate;nt!==null&&(nt.return=null),j.return=null}catch(it){W(j,i,it)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,o),i=i.sibling}function dk(o,i){var _=o.alternate,$=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(i,o),ek(o),$&4){try{Pj(3,o,o.return),Qj(3,o)}catch(Tt){W(o,o.return,Tt)}try{Pj(5,o,o.return)}catch(Tt){W(o,o.return,Tt)}}break;case 1:ck(i,o),ek(o),$&512&&_!==null&&Lj(_,_.return);break;case 5:if(ck(i,o),ek(o),$&512&&_!==null&&Lj(_,_.return),o.flags&32){var j=o.stateNode;try{ob(j,"")}catch(Tt){W(o,o.return,Tt)}}if($&4&&(j=o.stateNode,j!=null)){var _e=o.memoizedProps,tt=_!==null?_.memoizedProps:_e,rt=o.type,nt=o.updateQueue;if(o.updateQueue=null,nt!==null)try{rt==="input"&&_e.type==="radio"&&_e.name!=null&&ab(j,_e),vb(rt,tt);var it=vb(rt,_e);for(tt=0;tt<nt.length;tt+=2){var ot=nt[tt],lt=nt[tt+1];ot==="style"?sb(j,lt):ot==="dangerouslySetInnerHTML"?nb(j,lt):ot==="children"?ob(j,lt):ta(j,ot,lt,it)}switch(rt){case"input":bb(j,_e);break;case"textarea":ib(j,_e);break;case"select":var ft=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!_e.multiple;var _t=_e.value;_t!=null?fb(j,!!_e.multiple,_t,!1):ft!==!!_e.multiple&&(_e.defaultValue!=null?fb(j,!!_e.multiple,_e.defaultValue,!0):fb(j,!!_e.multiple,_e.multiple?[]:"",!1))}j[Pf]=_e}catch(Tt){W(o,o.return,Tt)}}break;case 6:if(ck(i,o),ek(o),$&4){if(o.stateNode===null)throw Error(p$1(162));j=o.stateNode,_e=o.memoizedProps;try{j.nodeValue=_e}catch(Tt){W(o,o.return,Tt)}}break;case 3:if(ck(i,o),ek(o),$&4&&_!==null&&_.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(Tt){W(o,o.return,Tt)}break;case 4:ck(i,o),ek(o);break;case 13:ck(i,o),ek(o),j=o.child,j.flags&8192&&(_e=j.memoizedState!==null,j.stateNode.isHidden=_e,!_e||j.alternate!==null&&j.alternate.memoizedState!==null||(fk=B())),$&4&&ak(o);break;case 22:if(ot=_!==null&&_.memoizedState!==null,o.mode&1?(U=(it=U)||ot,ck(i,o),U=it):ck(i,o),ek(o),$&8192){if(it=o.memoizedState!==null,(o.stateNode.isHidden=it)&&!ot&&o.mode&1)for(V=o,ot=o.child;ot!==null;){for(lt=V=ot;V!==null;){switch(ft=V,_t=ft.child,ft.tag){case 0:case 11:case 14:case 15:Pj(4,ft,ft.return);break;case 1:Lj(ft,ft.return);var At=ft.stateNode;if(typeof At.componentWillUnmount=="function"){$=ft,_=ft.return;try{i=$,At.props=i.memoizedProps,At.state=i.memoizedState,At.componentWillUnmount()}catch(Tt){W($,_,Tt)}}break;case 5:Lj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){gk(lt);continue}}_t!==null?(_t.return=ft,V=_t):gk(lt)}ot=ot.sibling}e:for(ot=null,lt=o;;){if(lt.tag===5){if(ot===null){ot=lt;try{j=lt.stateNode,it?(_e=j.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(rt=lt.stateNode,nt=lt.memoizedProps.style,tt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,rt.style.display=rb("display",tt))}catch(Tt){W(o,o.return,Tt)}}}else if(lt.tag===6){if(ot===null)try{lt.stateNode.nodeValue=it?"":lt.memoizedProps}catch(Tt){W(o,o.return,Tt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===o)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===o)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===o)break e;ot===lt&&(ot=null),lt=lt.return}ot===lt&&(ot=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:ck(i,o),ek(o),$&4&&ak(o);break;case 21:break;default:ck(i,o),ek(o)}}function ek(o){var i=o.flags;if(i&2){try{e:{for(var _=o.return;_!==null;){if(Tj(_)){var $=_;break e}_=_.return}throw Error(p$1(160))}switch($.tag){case 5:var j=$.stateNode;$.flags&32&&(ob(j,""),$.flags&=-33);var _e=Uj(o);Wj(o,_e,j);break;case 3:case 4:var tt=$.stateNode.containerInfo,rt=Uj(o);Vj(o,rt,tt);break;default:throw Error(p$1(161))}}catch(nt){W(o,o.return,nt)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function hk(o,i,_){V=o,ik(o)}function ik(o,i,_){for(var $=(o.mode&1)!==0;V!==null;){var j=V,_e=j.child;if(j.tag===22&&$){var tt=j.memoizedState!==null||Jj;if(!tt){var rt=j.alternate,nt=rt!==null&&rt.memoizedState!==null||U;rt=Jj;var it=U;if(Jj=tt,(U=nt)&&!it)for(V=j;V!==null;)tt=V,nt=tt.child,tt.tag===22&&tt.memoizedState!==null?jk(j):nt!==null?(nt.return=tt,V=nt):jk(j);for(;_e!==null;)V=_e,ik(_e),_e=_e.sibling;V=j,Jj=rt,U=it}kk(o)}else j.subtreeFlags&8772&&_e!==null?(_e.return=j,V=_e):kk(o)}}function kk(o){for(;V!==null;){var i=V;if(i.flags&8772){var _=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Qj(5,i);break;case 1:var $=i.stateNode;if(i.flags&4&&!U)if(_===null)$.componentDidMount();else{var j=i.elementType===i.type?_.memoizedProps:Ci(i.type,_.memoizedProps);$.componentDidUpdate(j,_.memoizedState,$.__reactInternalSnapshotBeforeUpdate)}var _e=i.updateQueue;_e!==null&&sh(i,_e,$);break;case 3:var tt=i.updateQueue;if(tt!==null){if(_=null,i.child!==null)switch(i.child.tag){case 5:_=i.child.stateNode;break;case 1:_=i.child.stateNode}sh(i,tt,_)}break;case 5:var rt=i.stateNode;if(_===null&&i.flags&4){_=rt;var nt=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&_.focus();break;case"img":nt.src&&(_.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var it=i.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var lt=ot.dehydrated;lt!==null&&bd(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||i.flags&512&&Rj(i)}catch(ft){W(i,i.return,ft)}}if(i===o){V=null;break}if(_=i.sibling,_!==null){_.return=i.return,V=_;break}V=i.return}}function gk(o){for(;V!==null;){var i=V;if(i===o){V=null;break}var _=i.sibling;if(_!==null){_.return=i.return,V=_;break}V=i.return}}function jk(o){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var _=i.return;try{Qj(4,i)}catch(nt){W(i,_,nt)}break;case 1:var $=i.stateNode;if(typeof $.componentDidMount=="function"){var j=i.return;try{$.componentDidMount()}catch(nt){W(i,j,nt)}}var _e=i.return;try{Rj(i)}catch(nt){W(i,_e,nt)}break;case 5:var tt=i.return;try{Rj(i)}catch(nt){W(i,tt,nt)}}}catch(nt){W(i,i.return,nt)}if(i===o){V=null;break}var rt=i.sibling;if(rt!==null){rt.return=i.return,V=rt;break}V=i.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,i,_,$){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(o,_,$),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=_),T===4&&Ck(o,Z)),Dk(o,$),_===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,i){var _=o.callbackNode;wc(o,i);var $=uc(o,o===Q?Z:0);if($===0)_!==null&&bc(_),o.callbackNode=null,o.callbackPriority=0;else if(i=$&-$,o.callbackPriority!==i){if(_!=null&&bc(_),i===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),_=null;else{switch(Dc($)){case 1:_=fc;break;case 4:_=gc;break;case 16:_=hc;break;case 536870912:_=jc;break;default:_=hc}_=Fk(_,Gk.bind(null,o))}o.callbackPriority=i,o.callbackNode=_}}function Gk(o,i){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var _=o.callbackNode;if(Hk()&&o.callbackNode!==_)return null;var $=uc(o,o===Q?Z:0);if($===0)return null;if($&30||$&o.expiredLanes||i)i=Ik(o,$);else{i=$;var j=K;K|=2;var _e=Jk();(Q!==o||Z!==i)&&(uk=null,Gj=B()+500,Kk(o,i));do try{Lk();break}catch(rt){Mk(o,rt)}while(1);$g(),mk.current=_e,K=j,Y!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&(j=xc(o),j!==0&&($=j,i=Nk(o,j))),i===1)throw _=pk,Kk(o,0),Ck(o,$),Dk(o,B()),_;if(i===6)Ck(o,$);else{if(j=o.current.alternate,!($&30)&&!Ok(j)&&(i=Ik(o,$),i===2&&(_e=xc(o),_e!==0&&($=_e,i=Nk(o,_e))),i===1))throw _=pk,Kk(o,0),Ck(o,$),Dk(o,B()),_;switch(o.finishedWork=j,o.finishedLanes=$,i){case 0:case 1:throw Error(p$1(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,$),($&130023424)===$&&(i=fk+500-B(),10<i)){if(uc(o,0)!==0)break;if(j=o.suspendedLanes,(j&$)!==$){R(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),i);break}Pk(o,tk,uk);break;case 4:if(Ck(o,$),($&4194240)===$)break;for(i=o.eventTimes,j=-1;0<$;){var tt=31-oc($);_e=1<<tt,tt=i[tt],tt>j&&(j=tt),$&=~_e}if($=j,$=B()-$,$=(120>$?120:480>$?480:1080>$?1080:1920>$?1920:3e3>$?3e3:4320>$?4320:1960*lk($/1960))-$,10<$){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),$);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(o,B()),o.callbackNode===_?Gk.bind(null,o):null}function Nk(o,i){var _=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,i).flags|=256),o=Ik(o,i),o!==2&&(i=tk,tk=_,i!==null&&Fj(i)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var i=o;;){if(i.flags&16384){var _=i.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var $=0;$<_.length;$++){var j=_[$],_e=j.getSnapshot;j=j.value;try{if(!He(_e(),j))return!1}catch{return!1}}}if(_=i.child,i.subtreeFlags&16384&&_!==null)_.return=i,i=_;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(o,i){for(i&=~rk,i&=~qk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var _=31-oc(i),$=1<<_;o[_]=-1,i&=~$}}function Ek(o){if(K&6)throw Error(p$1(327));Hk();var i=uc(o,0);if(!(i&1))return Dk(o,B()),null;var _=Ik(o,i);if(o.tag!==0&&_===2){var $=xc(o);$!==0&&(i=$,_=Nk(o,$))}if(_===1)throw _=pk,Kk(o,0),Ck(o,i),Dk(o,B()),_;if(_===6)throw Error(p$1(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,i){var _=K;K|=1;try{return o(i)}finally{K=_,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var _=ok.transition,$=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=$,ok.transition=_,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(o,i){o.finishedWork=null,o.finishedLanes=0;var _=o.timeoutHandle;if(_!==-1&&(o.timeoutHandle=-1,Gf(_)),Y!==null)for(_=Y.return;_!==null;){var $=_;switch(wg($),$.tag){case 1:$=$.type.childContextTypes,$!=null&&$f();break;case 3:zh$1(),E(Wf),E(H),Eh();break;case 5:Bh($);break;case 4:zh$1();break;case 13:E(L);break;case 19:E(L);break;case 10:ah($.type._context);break;case 22:case 23:Hj()}_=_.return}if(Q=o,Y=o=Pg(o.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(_=fh[i],$=_.interleaved,$!==null){_.interleaved=null;var j=$.next,_e=_.pending;if(_e!==null){var tt=_e.next;_e.next=j,$.next=tt}_.pending=$}fh=null}return o}function Mk(o,i){do{var _=Y;try{if($g(),Fh.current=Rh,Ih){for(var $=M.memoizedState;$!==null;){var j=$.queue;j!==null&&(j.pending=null),$=$.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_===null||_.return===null){T=1,pk=i,Y=null;break}e:{var _e=o,tt=_.return,rt=_,nt=i;if(i=Z,rt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var it=nt,ot=rt,lt=ot.tag;if(!(ot.mode&1)&&(lt===0||lt===11||lt===15)){var ft=ot.alternate;ft?(ot.updateQueue=ft.updateQueue,ot.memoizedState=ft.memoizedState,ot.lanes=ft.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var _t=Ui(tt);if(_t!==null){_t.flags&=-257,Vi(_t,tt,rt,_e,i),_t.mode&1&&Si(_e,it,i),i=_t,nt=it;var At=i.updateQueue;if(At===null){var Tt=new Set;Tt.add(nt),i.updateQueue=Tt}else At.add(nt);break e}else{if(!(i&1)){Si(_e,it,i),tj();break e}nt=Error(p$1(426))}}else if(I&&rt.mode&1){var Mt=Ui(tt);if(Mt!==null){!(Mt.flags&65536)&&(Mt.flags|=256),Vi(Mt,tt,rt,_e,i),Jg(Ji(nt,rt));break e}}_e=nt=Ji(nt,rt),T!==4&&(T=2),sk===null?sk=[_e]:sk.push(_e),_e=tt;do{switch(_e.tag){case 3:_e.flags|=65536,i&=-i,_e.lanes|=i;var pt=Ni(_e,nt,i);ph(_e,pt);break e;case 1:rt=nt;var Pt=_e.type,$t=_e.stateNode;if(!(_e.flags&128)&&(typeof Pt.getDerivedStateFromError=="function"||$t!==null&&typeof $t.componentDidCatch=="function"&&(Ri===null||!Ri.has($t)))){_e.flags|=65536,i&=-i,_e.lanes|=i;var Ot=Qi(_e,rt,i);ph(_e,Ot);break e}}_e=_e.return}while(_e!==null)}Sk(_)}catch(It){i=It,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(1)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,i){var _=K;K|=2;var $=Jk();(Q!==o||Z!==i)&&(uk=null,Kk(o,i));do try{Tk();break}catch(j){Mk(o,j)}while(1);if($g(),K=_,mk.current=$,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(o){var i=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,i===null?Sk(o):Y=i,nk.current=null}function Sk(o){var i=o;do{var _=i.alternate;if(o=i.return,i.flags&32768){if(_=Ij(_,i),_!==null){_.flags&=32767,Y=_;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y=null;return}}else if(_=Ej(_,i,fj),_!==null){Y=_;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=o}while(i!==null);T===0&&(T=5)}function Pk(o,i,_){var $=C,j=ok.transition;try{ok.transition=null,C=1,Wk(o,i,_,$)}finally{ok.transition=j,C=$}return null}function Wk(o,i,_,$){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));_=o.finishedWork;var j=o.finishedLanes;if(_===null)return null;if(o.finishedWork=null,o.finishedLanes=0,_===o.current)throw Error(p$1(177));o.callbackNode=null,o.callbackPriority=0;var _e=_.lanes|_.childLanes;if(Bc(o,_e),o===Q&&(Y=Q=null,Z=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_e=(_.flags&15990)!==0,_.subtreeFlags&15990||_e){_e=ok.transition,ok.transition=null;var tt=C;C=1;var rt=K;K|=4,nk.current=null,Oj(o,_),dk(_,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=_,hk(_),dc(),K=rt,C=tt,ok.transition=_e}else o.current=_;if(vk&&(vk=!1,wk=o,xk=j),_e=o.pendingLanes,_e===0&&(Ri=null),mc(_.stateNode),Dk(o,B()),i!==null)for($=o.onRecoverableError,_=0;_<i.length;_++)j=i[_],$(j.value,{componentStack:j.stack,digest:j.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),_e=o.pendingLanes,_e&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),i=ok.transition,_=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var $=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var j=K;for(K|=4,V=o.current;V!==null;){var _e=V,tt=_e.child;if(V.flags&16){var rt=_e.deletions;if(rt!==null){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];for(V=it;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Pj(8,ot,_e)}var lt=ot.child;if(lt!==null)lt.return=ot,V=lt;else for(;V!==null;){ot=V;var ft=ot.sibling,_t=ot.return;if(Sj(ot),ot===it){V=null;break}if(ft!==null){ft.return=_t,V=ft;break}V=_t}}}var At=_e.alternate;if(At!==null){var Tt=At.child;if(Tt!==null){At.child=null;do{var Mt=Tt.sibling;Tt.sibling=null,Tt=Mt}while(Tt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&tt!==null)tt.return=_e,V=tt;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Pj(9,_e,_e.return)}var pt=_e.sibling;if(pt!==null){pt.return=_e.return,V=pt;break e}V=_e.return}}var Pt=o.current;for(V=Pt;V!==null;){tt=V;var $t=tt.child;if(tt.subtreeFlags&2064&&$t!==null)$t.return=tt,V=$t;else e:for(tt=Pt;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Qj(9,rt)}}catch(It){W(rt,rt.return,It)}if(rt===tt){V=null;break e}var Ot=rt.sibling;if(Ot!==null){Ot.return=rt.return,V=Ot;break e}V=rt.return}}if(K=j,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}$=!0}return $}finally{C=_,ok.transition=i}}return!1}function Xk(o,i,_){i=Ji(_,i),i=Ni(o,i,1),o=nh(o,i,1),i=R(),o!==null&&(Ac(o,1,i),Dk(o,i))}function W(o,i,_){if(o.tag===3)Xk(o,o,_);else for(;i!==null;){if(i.tag===3){Xk(i,o,_);break}else if(i.tag===1){var $=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof $.componentDidCatch=="function"&&(Ri===null||!Ri.has($))){o=Ji(_,o),o=Qi(i,o,1),i=nh(i,o,1),o=R(),i!==null&&(Ac(i,1,o),Dk(i,o));break}}i=i.return}}function Ti(o,i,_){var $=o.pingCache;$!==null&&$.delete(i),i=R(),o.pingedLanes|=o.suspendedLanes&_,Q===o&&(Z&_)===_&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=_),Dk(o,i)}function Yk(o,i){i===0&&(o.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var _=R();o=ih(o,i),o!==null&&(Ac(o,i,_),Dk(o,_))}function uj(o){var i=o.memoizedState,_=0;i!==null&&(_=i.retryLane),Yk(o,_)}function bk(o,i){var _=0;switch(o.tag){case 13:var $=o.stateNode,j=o.memoizedState;j!==null&&(_=j.retryLane);break;case 19:$=o.stateNode;break;default:throw Error(p$1(314))}$!==null&&$.delete(i),Yk(o,_)}var Vk;Vk=function(o,i,_){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&_)&&!(i.flags&128))return dh=!1,yj(o,i,_);dh=!!(o.flags&131072)}else dh=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var $=i.type;ij(o,i),o=i.pendingProps;var j=Yf(i,H.current);ch(i,_),j=Nh(null,i,$,o,j,_);var _e=Sh();return i.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf($)?(_e=!0,cg(i)):_e=!1,i.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,kh(i),j.updater=Ei,i.stateNode=j,j._reactInternals=i,Ii(i,$,o,_),i=jj(null,i,$,!0,_e,_)):(i.tag=0,I&&_e&&vg(i),Xi(null,i,j,_),i=i.child),i;case 16:$=i.elementType;e:{switch(ij(o,i),o=i.pendingProps,j=$._init,$=j($._payload),i.type=$,j=i.tag=Zk($),o=Ci($,o),j){case 0:i=cj(null,i,$,o,_);break e;case 1:i=hj(null,i,$,o,_);break e;case 11:i=Yi(null,i,$,o,_);break e;case 14:i=$i(null,i,$,Ci($.type,o),_);break e}throw Error(p$1(306,$,""))}return i;case 0:return $=i.type,j=i.pendingProps,j=i.elementType===$?j:Ci($,j),cj(o,i,$,j,_);case 1:return $=i.type,j=i.pendingProps,j=i.elementType===$?j:Ci($,j),hj(o,i,$,j,_);case 3:e:{if(kj(i),o===null)throw Error(p$1(387));$=i.pendingProps,_e=i.memoizedState,j=_e.element,lh(o,i),qh(i,$,null,_);var tt=i.memoizedState;if($=tt.element,_e.isDehydrated)if(_e={element:$,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},i.updateQueue.baseState=_e,i.memoizedState=_e,i.flags&256){j=Ji(Error(p$1(423)),i),i=lj(o,i,$,_,j);break e}else if($!==j){j=Ji(Error(p$1(424)),i),i=lj(o,i,$,_,j);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,_=Vg(i,null,$,_),i.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ig(),$===j){i=Zi(o,i,_);break e}Xi(o,i,$,_)}i=i.child}return i;case 5:return Ah(i),o===null&&Eg(i),$=i.type,j=i.pendingProps,_e=o!==null?o.memoizedProps:null,tt=j.children,Ef($,j)?tt=null:_e!==null&&Ef($,_e)&&(i.flags|=32),gj(o,i),Xi(o,i,tt,_),i.child;case 6:return o===null&&Eg(i),null;case 13:return oj(o,i,_);case 4:return yh(i,i.stateNode.containerInfo),$=i.pendingProps,o===null?i.child=Ug(i,null,$,_):Xi(o,i,$,_),i.child;case 11:return $=i.type,j=i.pendingProps,j=i.elementType===$?j:Ci($,j),Yi(o,i,$,j,_);case 7:return Xi(o,i,i.pendingProps,_),i.child;case 8:return Xi(o,i,i.pendingProps.children,_),i.child;case 12:return Xi(o,i,i.pendingProps.children,_),i.child;case 10:e:{if($=i.type._context,j=i.pendingProps,_e=i.memoizedProps,tt=j.value,G(Wg,$._currentValue),$._currentValue=tt,_e!==null)if(He(_e.value,tt)){if(_e.children===j.children&&!Wf.current){i=Zi(o,i,_);break e}}else for(_e=i.child,_e!==null&&(_e.return=i);_e!==null;){var rt=_e.dependencies;if(rt!==null){tt=_e.child;for(var nt=rt.firstContext;nt!==null;){if(nt.context===$){if(_e.tag===1){nt=mh(-1,_&-_),nt.tag=2;var it=_e.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?nt.next=nt:(nt.next=ot.next,ot.next=nt),it.pending=nt}}_e.lanes|=_,nt=_e.alternate,nt!==null&&(nt.lanes|=_),bh(_e.return,_,i),rt.lanes|=_;break}nt=nt.next}}else if(_e.tag===10)tt=_e.type===i.type?null:_e.child;else if(_e.tag===18){if(tt=_e.return,tt===null)throw Error(p$1(341));tt.lanes|=_,rt=tt.alternate,rt!==null&&(rt.lanes|=_),bh(tt,_,i),tt=_e.sibling}else tt=_e.child;if(tt!==null)tt.return=_e;else for(tt=_e;tt!==null;){if(tt===i){tt=null;break}if(_e=tt.sibling,_e!==null){_e.return=tt.return,tt=_e;break}tt=tt.return}_e=tt}Xi(o,i,j.children,_),i=i.child}return i;case 9:return j=i.type,$=i.pendingProps.children,ch(i,_),j=eh(j),$=$(j),i.flags|=1,Xi(o,i,$,_),i.child;case 14:return $=i.type,j=Ci($,i.pendingProps),j=Ci($.type,j),$i(o,i,$,j,_);case 15:return bj(o,i,i.type,i.pendingProps,_);case 17:return $=i.type,j=i.pendingProps,j=i.elementType===$?j:Ci($,j),ij(o,i),i.tag=1,Zf($)?(o=!0,cg(i)):o=!1,ch(i,_),Gi(i,$,j),Ii(i,$,j,_),jj(null,i,$,!0,o,_);case 19:return xj(o,i,_);case 22:return dj(o,i,_)}throw Error(p$1(156,i.tag))};function Fk(o,i){return ac(o,i)}function $k(o,i,_,$){this.tag=o,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,_,$){return new $k(o,i,_,$)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,i){var _=o.alternate;return _===null?(_=Bg(o.tag,i,o.key,o.mode),_.elementType=o.elementType,_.type=o.type,_.stateNode=o.stateNode,_.alternate=o,o.alternate=_):(_.pendingProps=i,_.type=o.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=o.flags&14680064,_.childLanes=o.childLanes,_.lanes=o.lanes,_.child=o.child,_.memoizedProps=o.memoizedProps,_.memoizedState=o.memoizedState,_.updateQueue=o.updateQueue,i=o.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},_.sibling=o.sibling,_.index=o.index,_.ref=o.ref,_}function Rg(o,i,_,$,j,_e){var tt=2;if($=o,typeof o=="function")aj(o)&&(tt=1);else if(typeof o=="string")tt=5;else e:switch(o){case ya:return Tg(_.children,j,_e,i);case za:tt=8,j|=8;break;case Aa:return o=Bg(12,_,i,j|2),o.elementType=Aa,o.lanes=_e,o;case Ea:return o=Bg(13,_,i,j),o.elementType=Ea,o.lanes=_e,o;case Fa:return o=Bg(19,_,i,j),o.elementType=Fa,o.lanes=_e,o;case Ia:return pj(_,j,_e,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,$=null;break e}throw Error(p$1(130,o==null?o:typeof o,""))}return i=Bg(tt,_,i,j),i.elementType=o,i.type=$,i.lanes=_e,i}function Tg(o,i,_,$){return o=Bg(7,o,$,i),o.lanes=_,o}function pj(o,i,_,$){return o=Bg(22,o,$,i),o.elementType=Ia,o.lanes=_,o.stateNode={isHidden:!1},o}function Qg(o,i,_){return o=Bg(6,o,null,i),o.lanes=_,o}function Sg(o,i,_){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=_,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function al(o,i,_,$,j){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=$,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function bl(o,i,_,$,j,_e,tt,rt,nt){return o=new al(o,i,_,rt,nt),i===1?(i=1,_e===!0&&(i|=8)):i=0,_e=Bg(3,null,null,i),o.current=_e,_e.stateNode=o,_e.memoizedState={element:$,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_e),o}function cl(o,i,_){var $=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:$==null?null:""+$,children:o,containerInfo:i,implementation:_}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$1(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(o.tag===1){var _=o.type;if(Zf(_))return bg(o,_,i)}return i}function el(o,i,_,$,j,_e,tt,rt,nt){return o=bl(_,$,!0,o,j,_e,tt,rt,nt),o.context=dl(null),_=o.current,$=R(),j=yi(_),_e=mh($,j),_e.callback=i??null,nh(_,_e,j),o.current.lanes=j,Ac(o,j,$),Dk(o,$),o}function fl(o,i,_,$){var j=i.current,_e=R(),tt=yi(j);return _=dl(_),i.context===null?i.context=_:i.pendingContext=_,i=mh(_e,tt),i.payload={element:o},$=$===void 0?null:$,$!==null&&(i.callback=$),o=nh(j,i,tt),o!==null&&(gi(o,j,tt,_e),oh(o,j,tt)),tt}function gl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var _=o.retryLane;o.retryLane=_!==0&&_<i?_:i}}function il(o,i){hl(o,i),(o=o.alternate)&&hl(o,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$1(409));fl(o,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Rk(function(){fl(null,o,null,null)}),i[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc();o={blockedOn:null,target:o,priority:i};for(var _=0;_<Qc.length&&i!==0&&i<Qc[_].priority;_++);Qc.splice(_,0,o),_===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,i,_,$,j){if(j){if(typeof $=="function"){var _e=$;$=function(){var it=gl(tt);_e.call(it)}}var tt=el(i,$,o,0,null,!1,!1,"",pl);return o._reactRootContainer=tt,o[uf]=tt.current,sf(o.nodeType===8?o.parentNode:o),Rk(),tt}for(;j=o.lastChild;)o.removeChild(j);if(typeof $=="function"){var rt=$;$=function(){var it=gl(nt);rt.call(it)}}var nt=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=nt,o[uf]=nt.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(i,nt,_,$)}),nt}function rl(o,i,_,$,j){var _e=_._reactRootContainer;if(_e){var tt=_e;if(typeof j=="function"){var rt=j;j=function(){var nt=gl(tt);rt.call(nt)}}fl(i,tt,o,j)}else tt=ql(_,i,o,j,$);return gl(tt)}Ec=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var _=tc(i.pendingLanes);_!==0&&(Cc(i,_|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var $=ih(o,1);if($!==null){var j=R();gi($,o,1,j)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var i=ih(o,134217728);if(i!==null){var _=R();gi(i,o,134217728,_)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var i=yi(o),_=ih(o,i);if(_!==null){var $=R();gi(_,o,i,$)}il(o,i)}};Hc=function(){return C};Ic=function(o,i){var _=C;try{return C=o,i()}finally{C=_}};yb=function(o,i,_){switch(i){case"input":if(bb(o,_),i=_.name,_.type==="radio"&&i!=null){for(_=o;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<_.length;i++){var $=_[i];if($!==o&&$.form===o.form){var j=Db($);if(!j)throw Error(p$1(90));Wa($),bb($,j)}}}break;case"textarea":ib(o,_);break;case"select":i=_.value,i!=null&&fb(o,!!_.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,i){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$1(200));return cl(o,i,null,_)};reactDom_production_min.createRoot=function(o,i){if(!nl(o))throw Error(p$1(299));var _=!1,$="",j=kl;return i!=null&&(i.unstable_strictMode===!0&&(_=!0),i.identifierPrefix!==void 0&&($=i.identifierPrefix),i.onRecoverableError!==void 0&&(j=i.onRecoverableError)),i=bl(o,1,!1,null,null,_,!1,$,j),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ll(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$1(188)):(o=Object.keys(o).join(","),Error(p$1(268,o)));return o=Zb(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,i,_){if(!ol(i))throw Error(p$1(200));return rl(null,o,i,!0,_)};reactDom_production_min.hydrateRoot=function(o,i,_){if(!nl(o))throw Error(p$1(405));var $=_!=null&&_.hydratedSources||null,j=!1,_e="",tt=kl;if(_!=null&&(_.unstable_strictMode===!0&&(j=!0),_.identifierPrefix!==void 0&&(_e=_.identifierPrefix),_.onRecoverableError!==void 0&&(tt=_.onRecoverableError)),i=el(i,null,o,1,_??null,j,!1,_e,tt),o[uf]=i.current,sf(o),$)for(o=0;o<$.length;o++)_=$[o],j=_._getVersion,j=j(_._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[_,j]:i.mutableSourceEagerHydrationData.push(_,j);return new ml(i)};reactDom_production_min.render=function(o,i,_){if(!ol(i))throw Error(p$1(200));return rl(null,o,i,!1,_)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p$1(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,_,$){if(!ol(_))throw Error(p$1(200));if(o==null||o._reactInternals===void 0)throw Error(p$1(38));return rl(o,i,_,!1,$)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$v.apply(this,arguments)}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(o){o===void 0&&(o={});function i(j,_e){let{pathname:tt="/",search:rt="",hash:nt=""}=parsePath(j.location.hash.substr(1));return!tt.startsWith("/")&&!tt.startsWith(".")&&(tt="/"+tt),createLocation("",{pathname:tt,search:rt,hash:nt},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function _(j,_e){let tt=j.document.querySelector("base"),rt="";if(tt&&tt.getAttribute("href")){let nt=j.location.href,it=nt.indexOf("#");rt=it===-1?nt:nt.slice(0,it)}return rt+"#"+(typeof _e=="string"?_e:createPath(_e))}function $(j,_e){warning(j.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(_e)+")")}return getUrlBasedHistory(i,_,$,o)}function invariant$2(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function warning(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,i){return{usr:o.state,key:o.key,idx:i}}function createLocation(o,i,_,$){return _===void 0&&(_=null),_extends$v({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:_,key:i&&i.key||$||createKey()})}function createPath(o){let{pathname:i="/",search:_="",hash:$=""}=o;return _&&_!=="?"&&(i+=_.charAt(0)==="?"?_:"?"+_),$&&$!=="#"&&(i+=$.charAt(0)==="#"?$:"#"+$),i}function parsePath(o){let i={};if(o){let _=o.indexOf("#");_>=0&&(i.hash=o.substr(_),o=o.substr(0,_));let $=o.indexOf("?");$>=0&&(i.search=o.substr($),o=o.substr(0,$)),o&&(i.pathname=o)}return i}function getUrlBasedHistory(o,i,_,$){$===void 0&&($={});let{window:j=document.defaultView,v5Compat:_e=!1}=$,tt=j.history,rt=Action.Pop,nt=null,it=ot();it==null&&(it=0,tt.replaceState(_extends$v({},tt.state,{idx:it}),""));function ot(){return(tt.state||{idx:null}).idx}function lt(){rt=Action.Pop;let Mt=ot(),pt=Mt==null?null:Mt-it;it=Mt,nt&&nt({action:rt,location:Tt.location,delta:pt})}function ft(Mt,pt){rt=Action.Push;let Pt=createLocation(Tt.location,Mt,pt);_&&_(Pt,Mt),it=ot()+1;let $t=getHistoryState(Pt,it),Ot=Tt.createHref(Pt);try{tt.pushState($t,"",Ot)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;j.location.assign(Ot)}_e&&nt&&nt({action:rt,location:Tt.location,delta:1})}function _t(Mt,pt){rt=Action.Replace;let Pt=createLocation(Tt.location,Mt,pt);_&&_(Pt,Mt),it=ot();let $t=getHistoryState(Pt,it),Ot=Tt.createHref(Pt);tt.replaceState($t,"",Ot),_e&&nt&&nt({action:rt,location:Tt.location,delta:0})}function At(Mt){let pt=j.location.origin!=="null"?j.location.origin:j.location.href,Pt=typeof Mt=="string"?Mt:createPath(Mt);return Pt=Pt.replace(/ $/,"%20"),invariant$2(pt,"No window.location.(origin|href) available to create URL for href: "+Pt),new URL(Pt,pt)}let Tt={get action(){return rt},get location(){return o(j,tt)},listen(Mt){if(nt)throw new Error("A history only accepts one active listener");return j.addEventListener(PopStateEventType,lt),nt=Mt,()=>{j.removeEventListener(PopStateEventType,lt),nt=null}},createHref(Mt){return i(j,Mt)},createURL:At,encodeLocation(Mt){let pt=At(Mt);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:ft,replace:_t,go(Mt){return tt.go(Mt)}};return Tt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,i,_){return _===void 0&&(_="/"),matchRoutesImpl(o,i,_,!1)}function matchRoutesImpl(o,i,_,$){let j=typeof i=="string"?parsePath(i):i,_e=stripBasename(j.pathname||"/",_);if(_e==null)return null;let tt=flattenRoutes(o);rankRouteBranches(tt);let rt=null;for(let nt=0;rt==null&&nt<tt.length;++nt){let it=decodePath(_e);rt=matchRouteBranch(tt[nt],it,$)}return rt}function flattenRoutes(o,i,_,$){i===void 0&&(i=[]),_===void 0&&(_=[]),$===void 0&&($="");let j=(_e,tt,rt)=>{let nt={relativePath:rt===void 0?_e.path||"":rt,caseSensitive:_e.caseSensitive===!0,childrenIndex:tt,route:_e};nt.relativePath.startsWith("/")&&(invariant$2(nt.relativePath.startsWith($),'Absolute route path "'+nt.relativePath+'" nested under path '+('"'+$+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),nt.relativePath=nt.relativePath.slice($.length));let it=joinPaths([$,nt.relativePath]),ot=_.concat(nt);_e.children&&_e.children.length>0&&(invariant$2(_e.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+it+'".')),flattenRoutes(_e.children,i,ot,it)),!(_e.path==null&&!_e.index)&&i.push({path:it,score:computeScore(it,_e.index),routesMeta:ot})};return o.forEach((_e,tt)=>{var rt;if(_e.path===""||!((rt=_e.path)!=null&&rt.includes("?")))j(_e,tt);else for(let nt of explodeOptionalSegments(_e.path))j(_e,tt,nt)}),i}function explodeOptionalSegments(o){let i=o.split("/");if(i.length===0)return[];let[_,...$]=i,j=_.endsWith("?"),_e=_.replace(/\?$/,"");if($.length===0)return j?[_e,""]:[_e];let tt=explodeOptionalSegments($.join("/")),rt=[];return rt.push(...tt.map(nt=>nt===""?_e:[_e,nt].join("/"))),j&&rt.push(...tt),rt.map(nt=>o.startsWith("/")&&nt===""?"/":nt)}function rankRouteBranches(o){o.sort((i,_)=>i.score!==_.score?_.score-i.score:compareIndexes(i.routesMeta.map($=>$.childrenIndex),_.routesMeta.map($=>$.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,i){let _=o.split("/"),$=_.length;return _.some(isSplat)&&($+=splatPenalty),i&&($+=indexRouteValue),_.filter(j=>!isSplat(j)).reduce((j,_e)=>j+(paramRe.test(_e)?dynamicSegmentValue:_e===""?emptySegmentValue:staticSegmentValue),$)}function compareIndexes(o,i){return o.length===i.length&&o.slice(0,-1).every(($,j)=>$===i[j])?o[o.length-1]-i[i.length-1]:0}function matchRouteBranch(o,i,_){_===void 0&&(_=!1);let{routesMeta:$}=o,j={},_e="/",tt=[];for(let rt=0;rt<$.length;++rt){let nt=$[rt],it=rt===$.length-1,ot=_e==="/"?i:i.slice(_e.length)||"/",lt=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:it},ot),ft=nt.route;if(!lt&&it&&_&&!$[$.length-1].route.index&&(lt=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:!1},ot)),!lt)return null;Object.assign(j,lt.params),tt.push({params:j,pathname:joinPaths([_e,lt.pathname]),pathnameBase:normalizePathname(joinPaths([_e,lt.pathnameBase])),route:ft}),lt.pathnameBase!=="/"&&(_e=joinPaths([_e,lt.pathnameBase]))}return tt}function matchPath(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[_,$]=compilePath(o.path,o.caseSensitive,o.end),j=i.match(_);if(!j)return null;let _e=j[0],tt=_e.replace(/(.)\/+$/,"$1"),rt=j.slice(1);return{params:$.reduce((it,ot,lt)=>{let{paramName:ft,isOptional:_t}=ot;if(ft==="*"){let Tt=rt[lt]||"";tt=_e.slice(0,_e.length-Tt.length).replace(/(.)\/+$/,"$1")}const At=rt[lt];return _t&&!At?it[ft]=void 0:it[ft]=(At||"").replace(/%2F/g,"/"),it},{}),pathname:_e,pathnameBase:tt,pattern:o}}function compilePath(o,i,_){i===void 0&&(i=!1),_===void 0&&(_=!0),warning(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let $=[],j="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(tt,rt,nt)=>($.push({paramName:rt,isOptional:nt!=null}),nt?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?($.push({paramName:"*"}),j+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_?j+="\\/*$":o!==""&&o!=="/"&&(j+="(?:(?=\\/|$))"),[new RegExp(j,i?void 0:"i"),$]}function decodePath(o){try{return o.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function stripBasename(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let _=i.endsWith("/")?i.length-1:i.length,$=o.charAt(_);return $&&$!=="/"?null:o.slice(_)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=o=>ABSOLUTE_URL_REGEX$1.test(o);function resolvePath(o,i){i===void 0&&(i="/");let{pathname:_,search:$="",hash:j=""}=typeof o=="string"?parsePath(o):o,_e;if(_)if(isAbsoluteUrl(_))_e=_;else{if(_.includes("//")){let tt=_;_=_.replace(/\/\/+/g,"/"),warning(!1,"Pathnames cannot have embedded double slashes - normalizing "+(tt+" -> "+_))}_.startsWith("/")?_e=resolvePathname(_.substring(1),"/"):_e=resolvePathname(_,i)}else _e=i;return{pathname:_e,search:normalizeSearch($),hash:normalizeHash(j)}}function resolvePathname(o,i){let _=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(j=>{j===".."?_.length>1&&_.pop():j!=="."&&_.push(j)}),_.length>1?_.join("/"):"/"}function getInvalidPathError(o,i,_,$){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify($)+"].  Please separate it out to the ")+("`to."+_+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((i,_)=>_===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(o,i){let _=getPathContributingMatches(o);return i?_.map(($,j)=>j===_.length-1?$.pathname:$.pathnameBase):_.map($=>$.pathnameBase)}function resolveTo(o,i,_,$){$===void 0&&($=!1);let j;typeof o=="string"?j=parsePath(o):(j=_extends$v({},o),invariant$2(!j.pathname||!j.pathname.includes("?"),getInvalidPathError("?","pathname","search",j)),invariant$2(!j.pathname||!j.pathname.includes("#"),getInvalidPathError("#","pathname","hash",j)),invariant$2(!j.search||!j.search.includes("#"),getInvalidPathError("#","search","hash",j)));let _e=o===""||j.pathname==="",tt=_e?"/":j.pathname,rt;if(tt==null)rt=_;else{let lt=i.length-1;if(!$&&tt.startsWith("..")){let ft=tt.split("/");for(;ft[0]==="..";)ft.shift(),lt-=1;j.pathname=ft.join("/")}rt=lt>=0?i[lt]:"/"}let nt=resolvePath(j,rt),it=tt&&tt!=="/"&&tt.endsWith("/"),ot=(_e||tt===".")&&_.endsWith("/");return!nt.pathname.endsWith("/")&&(it||ot)&&(nt.pathname+="/"),nt}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$u.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let o=reactExports.useContext(DataRouterContext),{basename:i,future:_,navigator:$}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),{pathname:_e}=useLocation(),tt=JSON.stringify(getResolveToMatches(j,_.v7_relativeSplatPath)),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{rt.current=!0}),reactExports.useCallback(function(it,ot){if(ot===void 0&&(ot={}),!rt.current)return;if(typeof it=="number"){$.go(it);return}let lt=resolveTo(it,JSON.parse(tt),_e,ot.relative==="path");o==null&&i!=="/"&&(lt.pathname=lt.pathname==="/"?i:joinPaths([i,lt.pathname])),(ot.replace?$.replace:$.push)(lt,ot.state,ot)},[i,$,tt,_e,o])}function useParams(){let{matches:o}=reactExports.useContext(RouteContext),i=o[o.length-1];return i?i.params:{}}function useRoutes(o,i){return useRoutesImpl(o,i)}function useRoutesImpl(o,i,_,$){useInRouterContext()||invariant$2(!1);let{navigator:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),tt=_e[_e.length-1],rt=tt?tt.params:{};tt&&tt.pathname;let nt=tt?tt.pathnameBase:"/";tt&&tt.route;let it=useLocation(),ot;if(i){var lt;let Mt=typeof i=="string"?parsePath(i):i;nt==="/"||(lt=Mt.pathname)!=null&&lt.startsWith(nt)||invariant$2(!1),ot=Mt}else ot=it;let ft=ot.pathname||"/",_t=ft;if(nt!=="/"){let Mt=nt.replace(/^\//,"").split("/");_t="/"+ft.replace(/^\//,"").split("/").slice(Mt.length).join("/")}let At=matchRoutes(o,{pathname:_t}),Tt=_renderMatches(At&&At.map(Mt=>Object.assign({},Mt,{params:Object.assign({},rt,Mt.params),pathname:joinPaths([nt,j.encodeLocation?j.encodeLocation(Mt.pathname).pathname:Mt.pathname]),pathnameBase:Mt.pathnameBase==="/"?nt:joinPaths([nt,j.encodeLocation?j.encodeLocation(Mt.pathnameBase).pathname:Mt.pathnameBase])})),_e,_,$);return i&&Tt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$u({pathname:"/",search:"",hash:"",state:null,key:"default"},ot),navigationType:Action.Pop}},Tt):Tt}function DefaultErrorComponent(){let o=useRouteError(),i=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),_=o instanceof Error?o.stack:null,j={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},_e=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),_?reactExports.createElement("pre",{style:j},_):null,_e)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,_){return _.location!==i.location||_.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:_.error,location:_.location,revalidation:i.revalidation||_.revalidation}}componentDidCatch(i,_){console.error("React Router caught the following error during render",i,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:i,match:_,children:$}=o,j=reactExports.useContext(DataRouterContext);return j&&j.static&&j.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(j.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:i},$)}function _renderMatches(o,i,_,$){var j;if(i===void 0&&(i=[]),_===void 0&&(_=null),$===void 0&&($=null),o==null){var _e;if(!_)return null;if(_.errors)o=_.matches;else if((_e=$)!=null&&_e.v7_partialHydration&&i.length===0&&!_.initialized&&_.matches.length>0)o=_.matches;else return null}let tt=o,rt=(j=_)==null?void 0:j.errors;if(rt!=null){let ot=tt.findIndex(lt=>lt.route.id&&(rt==null?void 0:rt[lt.route.id])!==void 0);ot>=0||invariant$2(!1),tt=tt.slice(0,Math.min(tt.length,ot+1))}let nt=!1,it=-1;if(_&&$&&$.v7_partialHydration)for(let ot=0;ot<tt.length;ot++){let lt=tt[ot];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(it=ot),lt.route.id){let{loaderData:ft,errors:_t}=_,At=lt.route.loader&&ft[lt.route.id]===void 0&&(!_t||_t[lt.route.id]===void 0);if(lt.route.lazy||At){nt=!0,it>=0?tt=tt.slice(0,it+1):tt=[tt[0]];break}}}return tt.reduceRight((ot,lt,ft)=>{let _t,At=!1,Tt=null,Mt=null;_&&(_t=rt&&lt.route.id?rt[lt.route.id]:void 0,Tt=lt.route.errorElement||defaultErrorElement,nt&&(it<0&&ft===0?(warningOnce("route-fallback",!1),At=!0,Mt=null):it===ft&&(At=!0,Mt=lt.route.hydrateFallbackElement||null)));let pt=i.concat(tt.slice(0,ft+1)),Pt=()=>{let $t;return _t?$t=Tt:At?$t=Mt:lt.route.Component?$t=reactExports.createElement(lt.route.Component,null):lt.route.element?$t=lt.route.element:$t=ot,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:ot,matches:pt,isDataRoute:_!=null},children:$t})};return _&&(lt.route.ErrorBoundary||lt.route.errorElement||ft===0)?reactExports.createElement(RenderErrorBoundary,{location:_.location,revalidation:_.revalidation,component:Tt,error:_t,children:Pt(),routeContext:{outlet:null,matches:pt,isDataRoute:!0}}):Pt()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let i=reactExports.useContext(DataRouterContext);return i||invariant$2(!1),i}function useDataRouterState(o){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$2(!1),i}function useRouteContext(o){let i=reactExports.useContext(RouteContext);return i||invariant$2(!1),i}function useCurrentRouteId(o){let i=useRouteContext(),_=i.matches[i.matches.length-1];return _.route.id||invariant$2(!1),_.route.id}function useRouteError(){var o;let i=reactExports.useContext(RouteErrorContext),_=useDataRouterState(DataRouterStateHook$1.UseRouteError),$=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(o=_.errors)==null?void 0:o[$]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{_.current=!0}),reactExports.useCallback(function(j,_e){_e===void 0&&(_e={}),_.current&&(typeof j=="number"?o.navigate(j):o.navigate(j,_extends$u({fromRouteId:i},_e)))},[o,i])}const alreadyWarned$1={};function warningOnce(o,i,_){!i&&!alreadyWarned$1[o]&&(alreadyWarned$1[o]=!0)}function logV6DeprecationWarnings(o,i){o==null||o.v7_startTransition,(o==null?void 0:o.v7_relativeSplatPath)===void 0&&(!i||i.v7_relativeSplatPath),i&&(i.v7_fetcherPersist,i.v7_normalizeFormMethod,i.v7_partialHydration,i.v7_skipActionErrorRevalidation)}function Route(o){invariant$2(!1)}function Router(o){let{basename:i="/",children:_=null,location:$,navigationType:j=Action.Pop,navigator:_e,static:tt=!1,future:rt}=o;useInRouterContext()&&invariant$2(!1);let nt=i.replace(/^\/*/,"/"),it=reactExports.useMemo(()=>({basename:nt,navigator:_e,static:tt,future:_extends$u({v7_relativeSplatPath:!1},rt)}),[nt,rt,_e,tt]);typeof $=="string"&&($=parsePath($));let{pathname:ot="/",search:lt="",hash:ft="",state:_t=null,key:At="default"}=$,Tt=reactExports.useMemo(()=>{let Mt=stripBasename(ot,nt);return Mt==null?null:{location:{pathname:Mt,search:lt,hash:ft,state:_t,key:At},navigationType:j}},[nt,ot,lt,ft,_t,At,j]);return Tt==null?null:reactExports.createElement(NavigationContext.Provider,{value:it},reactExports.createElement(LocationContext.Provider,{children:_,value:Tt}))}function Routes(o){let{children:i,location:_}=o;return useRoutes(createRoutesFromChildren(i),_)}new Promise(()=>{});function createRoutesFromChildren(o,i){i===void 0&&(i=[]);let _=[];return reactExports.Children.forEach(o,($,j)=>{if(!reactExports.isValidElement($))return;let _e=[...i,j];if($.type===reactExports.Fragment){_.push.apply(_,createRoutesFromChildren($.props.children,_e));return}$.type!==Route&&invariant$2(!1),!$.props.index||!$.props.children||invariant$2(!1);let tt={id:$.props.id||_e.join("-"),caseSensitive:$.props.caseSensitive,element:$.props.element,Component:$.props.Component,index:$.props.index,path:$.props.path,loader:$.props.loader,action:$.props.action,errorElement:$.props.errorElement,ErrorBoundary:$.props.ErrorBoundary,hasErrorBoundary:$.props.ErrorBoundary!=null||$.props.errorElement!=null,shouldRevalidate:$.props.shouldRevalidate,handle:$.props.handle,lazy:$.props.lazy};$.props.children&&(tt.children=createRoutesFromChildren($.props.children,_e)),_.push(tt)}),_}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function HashRouter(o){let{basename:i,children:_,future:$,window:j}=o,_e=reactExports.useRef();_e.current==null&&(_e.current=createHashHistory({window:j,v5Compat:!0}));let tt=_e.current,[rt,nt]=reactExports.useState({action:tt.action,location:tt.location}),{v7_startTransition:it}=$||{},ot=reactExports.useCallback(lt=>{it&&startTransitionImpl?startTransitionImpl(()=>nt(lt)):nt(lt)},[nt,it]);return reactExports.useLayoutEffect(()=>tt.listen(ot),[tt,ot]),reactExports.useEffect(()=>logV6DeprecationWarnings($),[$]),reactExports.createElement(Router,{basename:i,children:_,location:rt.location,navigationType:rt.action,navigator:tt,future:$})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function et(o,{insertAt:i}={}){if(!o||typeof document>"u")return;let _=document.head||document.getElementsByTagName("head")[0],$=document.createElement("style");$.type="text/css",i==="top"&&_.firstChild?_.insertBefore($,_.firstChild):_.appendChild($),$.styleSheet?$.styleSheet.cssText=o:$.appendChild(document.createTextNode(o))}et(`html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position=right]{right:max(var(--offset),env(safe-area-inset-right))}[data-sonner-toaster][data-x-position=left]{left:max(var(--offset),env(safe-area-inset-left))}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:max(var(--offset),env(safe-area-inset-top))}[data-sonner-toaster][data-y-position=bottom]{bottom:max(var(--offset),env(safe-area-inset-bottom))}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform,opacity,height;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;transition:opacity .4s,box-shadow .2s}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast] [data-cancel]{color:var(--color);background:var(--border-color)}[data-sonner-toast] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}
`);var dt=o=>{switch(o){case"success":return ht;case"error":return bt;default:return null}},gt=Array(12).fill(0),ct=({visible:o})=>React$2.createElement("div",{className:"sonner-loading-wrapper","data-visible":o},React$2.createElement("div",{className:"sonner-spinner"},gt.map((i,_)=>React$2.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${_}`})))),ht=React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$2.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bt=React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$2.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),at=0,st=class{constructor(){this.subscribe=o=>(this.subscribers.push(o),()=>{let i=this.subscribers.indexOf(o);this.subscribers.splice(i,1)}),this.publish=o=>{this.subscribers.forEach(i=>i(o))},this.addToast=o=>{this.publish(o),this.toasts=[...this.toasts,o]},this.create=o=>{var i;let{message:_,...$}=o,j=typeof(o==null?void 0:o.id)=="number"||((i=o.id)==null?void 0:i.length)>0?o.id:at++,_e=this.toasts.find(rt=>rt.id===j),tt=o.dismissible===void 0?!0:o.dismissible;return _e?this.toasts=this.toasts.map(rt=>rt.id===j?(this.publish({...rt,...o,id:j,title:_}),{...rt,...o,id:j,dismissible:tt,title:_}):rt):this.addToast({title:_,...$,dismissible:tt,id:j}),j},this.dismiss=o=>(o||this.toasts.forEach(i=>{this.subscribers.forEach(_=>_({id:i.id,dismiss:!0}))}),this.subscribers.forEach(i=>i({id:o,dismiss:!0})),o),this.message=(o,i)=>this.create({...i,message:o}),this.error=(o,i)=>this.create({...i,message:o,type:"error"}),this.success=(o,i)=>this.create({...i,type:"success",message:o}),this.loading=(o,i)=>this.create({...i,type:"loading",message:o}),this.promise=(o,i)=>{let _=this.create({...i,promise:o,type:"loading",message:i.loading});return(o instanceof Promise?o:o()).then($=>{let j=typeof i.success=="function"?i.success($):i.success;this.create({id:_,type:"success",message:j})}).catch($=>{let j=typeof i.error=="function"?i.error($):i.error;this.create({id:_,type:"error",message:j})}).finally(i.finally),_},this.custom=(o,i)=>{let _=(i==null?void 0:i.id)||at++;this.publish({jsx:o(_),id:_,...i})},this.subscribers=[],this.toasts=[]}},v$1=new st,yt=(o,i)=>{let _=(i==null?void 0:i.id)||at++;return v$1.addToast({title:o,...i,id:_}),_},xt=yt,vt=Object.assign(xt,{success:v$1.success,error:v$1.error,custom:v$1.custom,message:v$1.message,promise:v$1.promise,dismiss:v$1.dismiss,loading:v$1.loading}),wt=3,Et="32px",St=4e3,Nt=356,mt=14,Rt=20,kt=200,Ct=o=>{let{invert:i,toast:_,interacting:$,setHeights:j,visibleToasts:_e,heights:tt,index:rt,toasts:nt,expanded:it,removeToast:ot,closeButton:lt,style:ft,className:_t="",descriptionClassName:At="",duration:Tt,position:Mt,expandByDefault:pt}=o,[Pt,$t]=React$2.useState(!1),[Ot,It]=React$2.useState(!1),[Dt,Lt]=React$2.useState(!1),[Bt,jt]=React$2.useState(!1),[Ut,Gt]=React$2.useState(0),[qt,Jt]=React$2.useState(0),er=React$2.useRef(null),Kt=React$2.useRef(null),zt=rt===0,Ht=rt+1<=_e,Ft=_.type,Vt=_.dismissible!==!1,Yt=_.className||"",Zt=_.descriptionClassName||"",nr=React$2.useMemo(()=>tt.findIndex(tr=>tr.toastId===_.id)||0,[tt,_.id]),cr=React$2.useMemo(()=>_.duration||Tt||St,[_.duration,Tt]),vr=React$2.useRef(0),Tr=React$2.useRef(0),ar=React$2.useRef(cr),ur=React$2.useRef(0),Sr=React$2.useRef(null),[gr,xr]=Mt.split("-"),Er=React$2.useMemo(()=>tt.reduce((tr,Mr,Lr)=>Lr>=nr?tr:tr+Mr.height,0),[tt,nr]),dr=_.invert||i,Ar=Ft==="loading";Tr.current=React$2.useMemo(()=>nr*mt+Er,[nr,Er]),React$2.useEffect(()=>{$t(!0)},[]),React$2.useLayoutEffect(()=>{if(!Pt)return;let tr=Kt.current,Mr=tr.style.height;tr.style.height="auto";let Lr=tr.getBoundingClientRect().height;tr.style.height=Mr,Jt(Lr),j(Wr=>Wr.find(Cr=>Cr.toastId===_.id)?Wr.map(Cr=>Cr.toastId===_.id?{...Cr,height:Lr}:Cr):[{toastId:_.id,height:Lr},...Wr])},[Pt,_.title,_.description,j,_.id]);let mr=React$2.useCallback(()=>{It(!0),Gt(Tr.current),j(tr=>tr.filter(Mr=>Mr.toastId!==_.id)),setTimeout(()=>{ot(_)},kt)},[_,ot,j,Tr]);return React$2.useEffect(()=>{if(_.promise&&Ft==="loading"||_.duration===1/0)return;let tr;return it||$?(()=>{if(ur.current<vr.current){let Mr=new Date().getTime()-vr.current;ar.current=ar.current-Mr}ur.current=new Date().getTime()})():(vr.current=new Date().getTime(),tr=setTimeout(()=>{var Mr;(Mr=_.onAutoClose)==null||Mr.call(_,_),mr()},ar.current)),()=>clearTimeout(tr)},[it,$,pt,_,cr,mr,_.promise,Ft]),React$2.useEffect(()=>{let tr=Kt.current;if(tr){let Mr=tr.getBoundingClientRect().height;return Jt(Mr),j(Lr=>[{toastId:_.id,height:Mr},...Lr]),()=>j(Lr=>Lr.filter(Wr=>Wr.toastId!==_.id))}},[j,_.id]),React$2.useEffect(()=>{_.delete&&mr()},[mr,_.delete]),React$2.createElement("li",{"aria-live":_.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Kt,className:_t+" "+Yt,"data-sonner-toast":"","data-styled":!_.jsx,"data-mounted":Pt,"data-promise":!!_.promise,"data-removed":Ot,"data-visible":Ht,"data-y-position":gr,"data-x-position":xr,"data-index":rt,"data-front":zt,"data-swiping":Dt,"data-dismissible":Vt,"data-type":Ft,"data-invert":dr,"data-swipe-out":Bt,"data-expanded":!!(it||pt&&Pt),style:{"--index":rt,"--toasts-before":rt,"--z-index":nt.length-rt,"--offset":`${Ot?Ut:Tr.current}px`,"--initial-height":pt?"auto":`${qt}px`,...ft,..._.style},onPointerDown:tr=>{Ar||!Vt||(er.current=new Date,Gt(Tr.current),tr.target.setPointerCapture(tr.pointerId),tr.target.tagName!=="BUTTON"&&(Lt(!0),Sr.current={x:tr.clientX,y:tr.clientY}))},onPointerUp:()=>{var tr,Mr,Lr,Wr;if(Bt||!Vt)return;Sr.current=null;let Cr=Number(((tr=Kt.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount").replace("px",""))||0),an=new Date().getTime()-((Mr=er.current)==null?void 0:Mr.getTime()),Nr=Math.abs(Cr)/an;if(Math.abs(Cr)>=Rt||Nr>.11){Gt(Tr.current),(Lr=_.onDismiss)==null||Lr.call(_,_),mr(),jt(!0);return}(Wr=Kt.current)==null||Wr.style.setProperty("--swipe-amount","0px"),Lt(!1)},onPointerMove:tr=>{var Mr;if(!Sr.current||!Vt)return;let Lr=tr.clientY-Sr.current.y,Wr=tr.clientX-Sr.current.x,Cr=(gr==="top"?Math.min:Math.max)(0,Lr),an=tr.pointerType==="touch"?10:2;Math.abs(Cr)>an?(Mr=Kt.current)==null||Mr.style.setProperty("--swipe-amount",`${Lr}px`):Math.abs(Wr)>an&&(Sr.current=null)}},lt&&!_.jsx?React$2.createElement("button",{"aria-label":"Close toast","data-disabled":Ar,"data-close-button":!0,onClick:Ar||!Vt?void 0:()=>{var tr;mr(),(tr=_.onDismiss)==null||tr.call(_,_)}},React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React$2.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React$2.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,_.jsx||React$2.isValidElement(_.title)?_.jsx||_.title:React$2.createElement(React$2.Fragment,null,Ft||_.icon||_.promise?React$2.createElement("div",{"data-icon":""},_.promise||_.type==="loading"?React$2.createElement(ct,{visible:Ft==="loading"}):null,_.icon||dt(Ft)):null,React$2.createElement("div",{"data-content":""},React$2.createElement("div",{"data-title":""},_.title),_.description?React$2.createElement("div",{"data-description":"",className:At+Zt},_.description):null),_.cancel?React$2.createElement("button",{"data-button":!0,"data-cancel":!0,onClick:()=>{var tr;Vt&&(mr(),(tr=_.cancel)!=null&&tr.onClick&&_.cancel.onClick())}},_.cancel.label):null,_.action?React$2.createElement("button",{"data-button":"",onClick:tr=>{var Mr;(Mr=_.action)==null||Mr.onClick(tr),!tr.defaultPrevented&&mr()}},_.action.label):null))};function ut(){if(typeof window>"u")return"ltr";let o=document.documentElement.getAttribute("dir");return o==="auto"||!o?window.getComputedStyle(document.documentElement).direction:o}var Wt=o=>{var i;let{invert:_,position:$="bottom-right",hotkey:j=["altKey","KeyT"],expand:_e,closeButton:tt,className:rt,offset:nt,theme:it="light",richColors:ot,duration:lt,style:ft,visibleToasts:_t=wt,toastOptions:At,dir:Tt=ut()}=o,[Mt,pt]=React$2.useState([]),[Pt,$t]=React$2.useState([]),[Ot,It]=React$2.useState(!1),[Dt,Lt]=React$2.useState(!1),[Bt,jt]=React$2.useState(it!=="system"?it:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[Ut,Gt]=$.split("-"),qt=React$2.useRef(null),Jt=j.join("+").replace(/Key/g,"").replace(/Digit/g,""),er=React$2.useRef(null),Kt=React$2.useRef(!1),zt=React$2.useCallback(Ht=>pt(Ft=>Ft.filter(({id:Vt})=>Vt!==Ht.id)),[]);return React$2.useEffect(()=>v$1.subscribe(Ht=>{if(Ht.dismiss){pt(Ft=>Ft.map(Vt=>Vt.id===Ht.id?{...Vt,delete:!0}:Vt));return}setTimeout(()=>{ReactDOM.flushSync(()=>{pt(Ft=>{let Vt=Ft.findIndex(Yt=>Yt.id===Ht.id);return Vt!==-1?[...Ft.slice(0,Vt),{...Ft[Vt],...Ht},...Ft.slice(Vt+1)]:[Ht,...Ft]})})})}),[]),React$2.useEffect(()=>{if(it!=="system"){jt(it);return}it==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?jt("dark"):jt("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Ht})=>{jt(Ht?"dark":"light")})},[it]),React$2.useEffect(()=>{Mt.length<=1&&It(!1)},[Mt]),React$2.useEffect(()=>{let Ht=Ft=>{var Vt,Yt;j.every(Zt=>Ft[Zt]||Ft.code===Zt)&&(It(!0),(Vt=qt.current)==null||Vt.focus()),Ft.code==="Escape"&&(document.activeElement===qt.current||(Yt=qt.current)!=null&&Yt.contains(document.activeElement))&&It(!1)};return document.addEventListener("keydown",Ht),()=>document.removeEventListener("keydown",Ht)},[j]),React$2.useEffect(()=>{if(qt.current)return()=>{er.current&&(er.current.focus({preventScroll:!0}),er.current=null,Kt.current=!1)}},[qt.current]),Mt.length?React$2.createElement("section",{"aria-label":`Notifications ${Jt}`,tabIndex:-1},React$2.createElement("ol",{dir:Tt==="auto"?ut():Tt,tabIndex:-1,ref:qt,className:rt,"data-sonner-toaster":!0,"data-theme":Bt,"data-rich-colors":ot,"data-y-position":Ut,"data-x-position":Gt,style:{"--front-toast-height":`${(i=Pt[0])==null?void 0:i.height}px`,"--offset":typeof nt=="number"?`${nt}px`:nt||Et,"--width":`${Nt}px`,"--gap":`${mt}px`,...ft},onBlur:Ht=>{Kt.current&&!Ht.currentTarget.contains(Ht.relatedTarget)&&(Kt.current=!1,er.current&&(er.current.focus({preventScroll:!0}),er.current=null))},onFocus:Ht=>{Ht.target instanceof HTMLElement&&Ht.target.dataset.dismissible==="false"||Kt.current||(Kt.current=!0,er.current=Ht.relatedTarget)},onMouseEnter:()=>It(!0),onMouseMove:()=>It(!0),onMouseLeave:()=>{Dt||It(!1)},onPointerDown:Ht=>{Ht.target instanceof HTMLElement&&Ht.target.dataset.dismissible==="false"||Lt(!0)},onPointerUp:()=>Lt(!1)},Mt.map((Ht,Ft)=>React$2.createElement(Ct,{key:Ht.id,index:Ft,toast:Ht,duration:lt,className:At==null?void 0:At.className,descriptionClassName:At==null?void 0:At.descriptionClassName,invert:_,visibleToasts:_t,closeButton:tt,interacting:Dt,position:$,style:At==null?void 0:At.style,removeToast:zt,toasts:Mt,heights:Pt,setHeights:$t,expandByDefault:_e,expanded:Ot})))):null};const createStoreImpl=o=>{let i;const _=new Set,$=(ot,lt)=>{const ft=typeof ot=="function"?ot(i):ot;if(!Object.is(ft,i)){const _t=i;i=lt??(typeof ft!="object"||ft===null)?ft:Object.assign({},i,ft),_.forEach(At=>At(i,_t))}},j=()=>i,nt={setState:$,getState:j,getInitialState:()=>it,subscribe:ot=>(_.add(ot),()=>_.delete(ot)),destroy:()=>{_.clear()}},it=i=o($,j,nt);return nt},createStore=o=>o?createStoreImpl(o):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(o,i){var _=i(),$=useState({inst:{value:_,getSnapshot:i}}),j=$[0].inst,_e=$[1];return useLayoutEffect(function(){j.value=_,j.getSnapshot=i,checkIfSnapshotChanged(j)&&_e({inst:j})},[o,_,i]),useEffect$1(function(){return checkIfSnapshotChanged(j)&&_e({inst:j}),o(function(){checkIfSnapshotChanged(j)&&_e({inst:j})})},[o]),useDebugValue$2(_),_}function checkIfSnapshotChanged(o){var i=o.getSnapshot;o=o.value;try{var _=i();return!objectIs$1(o,_)}catch{return!0}}function useSyncExternalStore$1(o,i){return i()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(o,i,_,$,j){var _e=useRef(null);if(_e.current===null){var tt={hasValue:!1,value:null};_e.current=tt}else tt=_e.current;_e=useMemo(function(){function nt(_t){if(!it){if(it=!0,ot=_t,_t=$(_t),j!==void 0&&tt.hasValue){var At=tt.value;if(j(At,_t))return lt=At}return lt=_t}if(At=lt,objectIs(ot,_t))return At;var Tt=$(_t);return j!==void 0&&j(At,Tt)?(ot=_t,At):(ot=_t,lt=Tt)}var it=!1,ot,lt,ft=_===void 0?null:_;return[function(){return nt(i())},ft===null?void 0:function(){return nt(ft())}]},[i,_,$,j]);var rt=useSyncExternalStore(o,_e[0],_e[1]);return useEffect(function(){tt.hasValue=!0,tt.value=rt},[rt]),useDebugValue$1(rt),rt};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$c=o=>o;function useStore(o,i=identity$c,_){const $=useSyncExternalStoreWithSelector(o.subscribe,o.getState,o.getServerState||o.getInitialState,i,_);return useDebugValue($),$}const createImpl=o=>{const i=typeof o=="function"?createStore(o):o,_=($,j)=>useStore(i,$,j);return Object.assign(_,i),_},create=o=>o?createImpl(o):createImpl;function createJSONStorage(o,i){let _;try{_=o()}catch{return}return{getItem:j=>{var _e;const tt=nt=>nt===null?null:JSON.parse(nt,i==null?void 0:i.reviver),rt=(_e=_.getItem(j))!=null?_e:null;return rt instanceof Promise?rt.then(tt):tt(rt)},setItem:(j,_e)=>_.setItem(j,JSON.stringify(_e,i==null?void 0:i.replacer)),removeItem:j=>_.removeItem(j)}}const toThenable=o=>i=>{try{const _=o(i);return _ instanceof Promise?_:{then($){return toThenable($)(_)},catch($){return this}}}catch(_){return{then($){return this},catch($){return toThenable($)(_)}}}},oldImpl=(o,i)=>(_,$,j)=>{let _e={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Mt=>Mt,version:0,merge:(Mt,pt)=>({...pt,...Mt}),...i},tt=!1;const rt=new Set,nt=new Set;let it;try{it=_e.getStorage()}catch{}if(!it)return o((...Mt)=>{console.warn(`[zustand persist middleware] Unable to update item '${_e.name}', the given storage is currently unavailable.`),_(...Mt)},$,j);const ot=toThenable(_e.serialize),lt=()=>{const Mt=_e.partialize({...$()});let pt;const Pt=ot({state:Mt,version:_e.version}).then($t=>it.setItem(_e.name,$t)).catch($t=>{pt=$t});if(pt)throw pt;return Pt},ft=j.setState;j.setState=(Mt,pt)=>{ft(Mt,pt),lt()};const _t=o((...Mt)=>{_(...Mt),lt()},$,j);let At;const Tt=()=>{var Mt;if(!it)return;tt=!1,rt.forEach(Pt=>Pt($()));const pt=((Mt=_e.onRehydrateStorage)==null?void 0:Mt.call(_e,$()))||void 0;return toThenable(it.getItem.bind(it))(_e.name).then(Pt=>{if(Pt)return _e.deserialize(Pt)}).then(Pt=>{if(Pt)if(typeof Pt.version=="number"&&Pt.version!==_e.version){if(_e.migrate)return _e.migrate(Pt.state,Pt.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return Pt.state}).then(Pt=>{var $t;return At=_e.merge(Pt,($t=$())!=null?$t:_t),_(At,!0),lt()}).then(()=>{pt==null||pt(At,void 0),tt=!0,nt.forEach(Pt=>Pt(At))}).catch(Pt=>{pt==null||pt(void 0,Pt)})};return j.persist={setOptions:Mt=>{_e={..._e,...Mt},Mt.getStorage&&(it=Mt.getStorage())},clearStorage:()=>{it==null||it.removeItem(_e.name)},getOptions:()=>_e,rehydrate:()=>Tt(),hasHydrated:()=>tt,onHydrate:Mt=>(rt.add(Mt),()=>{rt.delete(Mt)}),onFinishHydration:Mt=>(nt.add(Mt),()=>{nt.delete(Mt)})},Tt(),At||_t},newImpl=(o,i)=>(_,$,j)=>{let _e={storage:createJSONStorage(()=>localStorage),partialize:Tt=>Tt,version:0,merge:(Tt,Mt)=>({...Mt,...Tt}),...i},tt=!1;const rt=new Set,nt=new Set;let it=_e.storage;if(!it)return o((...Tt)=>{console.warn(`[zustand persist middleware] Unable to update item '${_e.name}', the given storage is currently unavailable.`),_(...Tt)},$,j);const ot=()=>{const Tt=_e.partialize({...$()});return it.setItem(_e.name,{state:Tt,version:_e.version})},lt=j.setState;j.setState=(Tt,Mt)=>{lt(Tt,Mt),ot()};const ft=o((...Tt)=>{_(...Tt),ot()},$,j);j.getInitialState=()=>ft;let _t;const At=()=>{var Tt,Mt;if(!it)return;tt=!1,rt.forEach(Pt=>{var $t;return Pt(($t=$())!=null?$t:ft)});const pt=((Mt=_e.onRehydrateStorage)==null?void 0:Mt.call(_e,(Tt=$())!=null?Tt:ft))||void 0;return toThenable(it.getItem.bind(it))(_e.name).then(Pt=>{if(Pt)if(typeof Pt.version=="number"&&Pt.version!==_e.version){if(_e.migrate)return[!0,_e.migrate(Pt.state,Pt.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Pt.state];return[!1,void 0]}).then(Pt=>{var $t;const[Ot,It]=Pt;if(_t=_e.merge(It,($t=$())!=null?$t:ft),_(_t,!0),Ot)return ot()}).then(()=>{pt==null||pt(_t,void 0),_t=$(),tt=!0,nt.forEach(Pt=>Pt(_t))}).catch(Pt=>{pt==null||pt(void 0,Pt)})};return j.persist={setOptions:Tt=>{_e={..._e,...Tt},Tt.storage&&(it=Tt.storage)},clearStorage:()=>{it==null||it.removeItem(_e.name)},getOptions:()=>_e,rehydrate:()=>At(),hasHydrated:()=>tt,onHydrate:Tt=>(rt.add(Tt),()=>{rt.delete(Tt)}),onFinishHydration:Tt=>(nt.add(Tt),()=>{nt.delete(Tt)})},_e.skipHydration||At(),_t||ft},persistImpl=(o,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?oldImpl(o,i):newImpl(o,i),persist=persistImpl,useAppStore=create()(persist((o,i)=>({preferences:{theme:"dark",selectedMemberId:null,soundEnabled:!0,notificationsEnabled:!0},setPreferences:_=>o($=>({preferences:{...$.preferences,..._}})),currentMemberId:null,setCurrentMemberId:_=>o({currentMemberId:_}),isTimerRunning:!1,timeLeft:25*60,isBreakTime:!1,studyDuration:25,breakDuration:5,timerMemberId:null,currentSessionStartTime:null,setTimerState:_=>o($=>({...$,..._})),setCurrentSessionStartTime:_=>o({currentSessionStartTime:_}),sessions:[],addSession:_=>o($=>({sessions:[...$.sessions,_]})),stats:{daily:{},weekly:{},total:0,streak:0},updateStats:_=>{const $=i(),j=new Date().toDateString(),_e=getWeekStart(new Date).toDateString(),tt={...$.stats.daily},rt={...$.stats.weekly};tt[j]=(tt[j]||0)+_.duration,rt[_e]=(rt[_e]||0)+_.duration,o({stats:{daily:tt,weekly:rt,total:$.stats.total+_.duration,streak:calculateStreak($.stats.daily,j)}})},currentTrack:null,isPlaying:!1,volume:.7,setCurrentTrack:_=>o({currentTrack:_}),setIsPlaying:_=>o({isPlaying:_}),setVolume:_=>o({volume:_})}),{name:"wayv-study-companion",partialize:o=>({preferences:o.preferences,sessions:o.sessions,stats:o.stats,currentMemberId:o.currentMemberId,isTimerRunning:o.isTimerRunning,timeLeft:o.timeLeft,isBreakTime:o.isBreakTime,studyDuration:o.studyDuration,breakDuration:o.breakDuration,timerMemberId:o.timerMemberId,currentSessionStartTime:o.currentSessionStartTime})}));function getWeekStart(o){const i=new Date(o),_=i.getDay(),$=i.getDate()-_;return new Date(i.setDate($))}function calculateStreak(o,i){const _=Object.keys(o).sort((_e,tt)=>new Date(tt).getTime()-new Date(_e).getTime());let $=0;const j=new Date(i);for(let _e=0;_e<_.length;_e++){const tt=new Date(_[_e]);if(Math.floor((j.getTime()-tt.getTime())/(1e3*60*60*24))===_e)$++;else break}return $}const defaultMemberImages={hendery:{avatar:"images/hendery-avatar.jpg",banner:"images/hendery-banner.jpg"},kun:{avatar:"images/kun-avatar.jpg",banner:"images/kun-banner.jpg"},ten:{avatar:"images/ten-avatar.jpg",banner:"images/ten-banner.jpg"},xiaojun:{avatar:"images/xiaojun-avatar.jpg",banner:"images/xiaojun-banner.jpg"},yangyang:{avatar:"images/yangyang-avatar.jpg",banner:"images/yangyang-banner.jpg"}};function loadSavedConfigurations(){try{const o=localStorage.getItem("wayvImageConfigs");if(o){const i=JSON.parse(o);return{...defaultMemberImages,...i}}}catch(o){console.error(":",o)}return{...defaultMemberImages}}function getMemberImages(o){return loadSavedConfigurations()[o]||{avatar:"/images/default-avatar.jpg",banner:"/images/default-banner.jpg"}}const createWayvMembers=()=>[{id:"kun",name:"",nameEn:"Kun",color:"member-kun",avatar:getMemberImages("kun").avatar,banner:getMemberImages("kun").banner,description:"",personality:""},{id:"ten",name:"",nameEn:"Ten",color:"member-ten",avatar:getMemberImages("ten").avatar,banner:getMemberImages("ten").banner,description:"",personality:""},{id:"xiaojun",name:"",nameEn:"Xiaojun",color:"member-xiaojun",avatar:getMemberImages("xiaojun").avatar,banner:getMemberImages("xiaojun").banner,description:"",personality:""},{id:"hendery",name:"",nameEn:"Hendery",color:"member-hendery",avatar:getMemberImages("hendery").avatar,banner:getMemberImages("hendery").banner,description:"",personality:""},{id:"yangyang",name:"",nameEn:"Yangyang",color:"member-yangyang",avatar:getMemberImages("yangyang").avatar,banner:getMemberImages("yangyang").banner,description:"",personality:""}],wayvMembers=createWayvMembers();var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(o,i)=>{const _=reactExports.forwardRef(({color:$="currentColor",size:j=24,strokeWidth:_e=2,absoluteStrokeWidth:tt,children:rt,...nt},it)=>reactExports.createElement("svg",{ref:it,...defaultAttributes,width:j,height:j,stroke:$,strokeWidth:tt?Number(_e)*24/Number(j):_e,className:`lucide lucide-${toKebabCase(o)}`,...nt},[...i.map(([ot,lt])=>reactExports.createElement(ot,lt)),...(Array.isArray(rt)?rt:[rt])||[]]));return _.displayName=`${o}`,_};var createLucideIcon$1=createLucideIcon;const ArrowLeft=createLucideIcon$1("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Award=createLucideIcon$1("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),BarChart3=createLucideIcon$1("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Bell=createLucideIcon$1("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Calendar=createLucideIcon$1("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Clock$1=createLucideIcon$1("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Download=createLucideIcon$1("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Languages=createLucideIcon$1("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),Music=createLucideIcon$1("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),Pause=createLucideIcon$1("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Play=createLucideIcon$1("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),RotateCcw=createLucideIcon$1("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Settings=createLucideIcon$1("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sparkles=createLucideIcon$1("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),TrendingUp=createLucideIcon$1("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Upload=createLucideIcon$1("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Volume2=createLucideIcon$1("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),VolumeX=createLucideIcon$1("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),X=createLucideIcon$1("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function BackgroundSettings(){const[o,i]=reactExports.useState(""),[_,$]=reactExports.useState(0),[j,_e]=reactExports.useState(.1);reactExports.useEffect(()=>{const _t=localStorage.getItem("wayvBackgroundSettings");if(_t){const At=JSON.parse(_t);i(At.image||""),$(At.blur||0),_e(At.opacity||.1),tt(At.image||"",At.blur||0,At.opacity||.1)}},[]);const tt=(_t,At,Tt)=>{_t?(document.documentElement.style.setProperty("--bg-image",`url(${_t})`),document.documentElement.style.setProperty("--bg-opacity",Tt.toString())):document.documentElement.style.setProperty("--bg-image","none"),document.documentElement.style.setProperty("--bg-blur",`${At}px`)},rt=_t=>{var Tt;const At=(Tt=_t.target.files)==null?void 0:Tt[0];if(At){const Mt=new FileReader;Mt.onload=pt=>{var $t;const Pt=($t=pt.target)==null?void 0:$t.result;i(Pt),tt(Pt,_,j),vt.success("")},Mt.readAsDataURL(At)}},nt=_t=>{i(_t),tt(_t,_,j),_t&&vt.success("")},it=_t=>{$(_t),tt(o,_t,j)},ot=_t=>{_e(_t),tt(o,_,_t)},lt=()=>{const _t={image:o,blur:_,opacity:j};localStorage.setItem("wayvBackgroundSettings",JSON.stringify(_t)),vt.success("")},ft=()=>{i(""),$(0),_e(.1),tt("",0,.1),localStorage.removeItem("wayvBackgroundSettings"),vt.success("")};return jsxs("div",{className:"space-y-4",children:[jsxs("div",{children:[jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:""}),jsxs("div",{className:"space-y-2",children:[jsx("input",{type:"url",value:o,onChange:_t=>nt(_t.target.value),placeholder:"URL ()",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-wayv-green focus:border-transparent"}),jsxs("div",{className:"flex items-center space-x-2",children:[jsx("input",{type:"file",accept:"image/*",onChange:rt,className:"hidden",id:"bg-image-upload"}),jsxs("label",{htmlFor:"bg-image-upload",className:"flex items-center space-x-2 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 cursor-pointer transition-colors",children:[jsx(Upload,{className:"w-4 h-4"}),jsx("span",{className:"text-sm",children:""})]})]})]})]}),jsxs("div",{children:[jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[": ",_,"px"]}),jsx("input",{type:"range",min:"0",max:"20",value:_,onChange:_t=>it(Number(_t.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),jsxs("div",{children:[jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[": ",Math.round(j*100),"%"]}),jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:j,onChange:_t=>ot(Number(_t.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer slider"})]}),o&&jsxs("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg p-2",children:[jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2",children:""}),jsx("div",{className:"w-full h-20 rounded bg-cover bg-center",style:{backgroundImage:`url(${o})`,filter:`blur(${_}px)`,opacity:j}})]}),jsxs("div",{className:"flex space-x-2",children:[jsx("button",{onClick:lt,className:"flex-1 px-4 py-2 bg-wayv-green text-white rounded-lg hover:bg-wayv-green-dark transition-colors",children:""}),jsx("button",{onClick:ft,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:""})]})]})}function TimerSettings(){const{preferences:o,setPreferences:i}=useAppStore(),_=()=>{vt.success("")},$=()=>{i({soundEnabled:!0,notificationsEnabled:!0}),vt.success("")};return jsxs("div",{className:"space-y-4",children:[jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200 mb-2",children:""}),jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"25 | 5"}),jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:""})]}),jsxs("div",{className:"flex items-center justify-between",children:[jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:jsxs("div",{className:"flex items-center space-x-2",children:[o.soundEnabled?jsx(Volume2,{className:"w-4 h-4"}):jsx(VolumeX,{className:"w-4 h-4"}),jsx("span",{children:""})]})}),jsx("button",{onClick:()=>i({soundEnabled:!o.soundEnabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.soundEnabled?"bg-wayv-green":"bg-slate-300 dark:bg-slate-600"}`,children:jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.soundEnabled?"translate-x-6":"translate-x-1"}`})})]}),jsxs("div",{className:"flex items-center justify-between",children:[jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:jsxs("div",{className:"flex items-center space-x-2",children:[jsx(Bell,{className:"w-4 h-4"}),jsx("span",{children:""})]})}),jsx("button",{onClick:()=>i({notificationsEnabled:!o.notificationsEnabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o.notificationsEnabled?"bg-wayv-green":"bg-slate-300 dark:bg-slate-600"}`,children:jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o.notificationsEnabled?"translate-x-6":"translate-x-1"}`})})]}),jsxs("div",{className:"flex space-x-2 pt-4",children:[jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-wayv-green text-white rounded-lg hover:bg-wayv-green-dark transition-colors",children:""}),jsx("button",{onClick:$,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:""})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="181",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,UnsignedInt101111Type=35899,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",KeepStencilOp=7680,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;function arrayNeedsUint32(o){for(let i=o.length-1;i>=0;--i)if(o[i]>=65535)return!0;return!1}function createElementNS(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function createCanvasElement(){const o=createElementNS("canvas");return o.style.display="block",o}const _cache={};function log$1(...o){const i="THREE."+o.shift();console.log(i,...o)}function warn$2(...o){const i="THREE."+o.shift();console.warn(i,...o)}function error(...o){const i="THREE."+o.shift();console.error(i,...o)}function warnOnce$1(...o){const i=o.join(" ");i in _cache||(_cache[i]=!0,warn$2(...o))}function probeAsync(o,i,_){return new Promise(function($,j){function _e(){switch(o.clientWaitSync(i,o.SYNC_FLUSH_COMMANDS_BIT,0)){case o.WAIT_FAILED:j();break;case o.TIMEOUT_EXPIRED:setTimeout(_e,_);break;default:$()}}setTimeout(_e,_)})}class EventDispatcher{addEventListener(i,_){this._listeners===void 0&&(this._listeners={});const $=this._listeners;$[i]===void 0&&($[i]=[]),$[i].indexOf(_)===-1&&$[i].push(_)}hasEventListener(i,_){const $=this._listeners;return $===void 0?!1:$[i]!==void 0&&$[i].indexOf(_)!==-1}removeEventListener(i,_){const $=this._listeners;if($===void 0)return;const j=$[i];if(j!==void 0){const _e=j.indexOf(_);_e!==-1&&j.splice(_e,1)}}dispatchEvent(i){const _=this._listeners;if(_===void 0)return;const $=_[i.type];if($!==void 0){i.target=this;const j=$.slice(0);for(let _e=0,tt=j.length;_e<tt;_e++)j[_e].call(this,i);i.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const o=Math.random()*4294967295|0,i=Math.random()*4294967295|0,_=Math.random()*4294967295|0,$=Math.random()*4294967295|0;return(_lut[o&255]+_lut[o>>8&255]+_lut[o>>16&255]+_lut[o>>24&255]+"-"+_lut[i&255]+_lut[i>>8&255]+"-"+_lut[i>>16&15|64]+_lut[i>>24&255]+"-"+_lut[_&63|128]+_lut[_>>8&255]+"-"+_lut[_>>16&255]+_lut[_>>24&255]+_lut[$&255]+_lut[$>>8&255]+_lut[$>>16&255]+_lut[$>>24&255]).toLowerCase()}function clamp$1(o,i,_){return Math.max(i,Math.min(_,o))}function euclideanModulo(o,i){return(o%i+i)%i}function lerp(o,i,_){return(1-_)*o+_*i}function denormalize(o,i){switch(i.constructor){case Float32Array:return o;case Uint32Array:return o/4294967295;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int32Array:return Math.max(o/2147483647,-1);case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(o,i){switch(i.constructor){case Float32Array:return o;case Uint32Array:return Math.round(o*4294967295);case Uint16Array:return Math.round(o*65535);case Uint8Array:return Math.round(o*255);case Int32Array:return Math.round(o*2147483647);case Int16Array:return Math.round(o*32767);case Int8Array:return Math.round(o*127);default:throw new Error("Invalid component type.")}}class Vector2{constructor(i=0,_=0){Vector2.prototype.isVector2=!0,this.x=i,this.y=_}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,_){return this.x=i,this.y=_,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,_){switch(i){case 0:this.x=_;break;case 1:this.y=_;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i){return this.x+=i.x,this.y+=i.y,this}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,_){return this.x=i.x+_.x,this.y=i.y+_.y,this}addScaledVector(i,_){return this.x+=i.x*_,this.y+=i.y*_,this}sub(i){return this.x-=i.x,this.y-=i.y,this}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,_){return this.x=i.x-_.x,this.y=i.y-_.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const _=this.x,$=this.y,j=i.elements;return this.x=j[0]*_+j[3]*$+j[6],this.y=j[1]*_+j[4]*$+j[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,_){return this.x=clamp$1(this.x,i.x,_.x),this.y=clamp$1(this.y,i.y,_.y),this}clampScalar(i,_){return this.x=clamp$1(this.x,i,_),this.y=clamp$1(this.y,i,_),this}clampLength(i,_){const $=this.length();return this.divideScalar($||1).multiplyScalar(clamp$1($,i,_))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(i){const _=Math.sqrt(this.lengthSq()*i.lengthSq());if(_===0)return Math.PI/2;const $=this.dot(i)/_;return Math.acos(clamp$1($,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const _=this.x-i.x,$=this.y-i.y;return _*_+$*$}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,_){return this.x+=(i.x-this.x)*_,this.y+=(i.y-this.y)*_,this}lerpVectors(i,_,$){return this.x=i.x+(_.x-i.x)*$,this.y=i.y+(_.y-i.y)*$,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,_=0){return this.x=i[_],this.y=i[_+1],this}toArray(i=[],_=0){return i[_]=this.x,i[_+1]=this.y,i}fromBufferAttribute(i,_){return this.x=i.getX(_),this.y=i.getY(_),this}rotateAround(i,_){const $=Math.cos(_),j=Math.sin(_),_e=this.x-i.x,tt=this.y-i.y;return this.x=_e*$-tt*j+i.x,this.y=_e*j+tt*$+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Quaternion{constructor(i=0,_=0,$=0,j=1){this.isQuaternion=!0,this._x=i,this._y=_,this._z=$,this._w=j}static slerpFlat(i,_,$,j,_e,tt,rt){let nt=$[j+0],it=$[j+1],ot=$[j+2],lt=$[j+3],ft=_e[tt+0],_t=_e[tt+1],At=_e[tt+2],Tt=_e[tt+3];if(rt<=0){i[_+0]=nt,i[_+1]=it,i[_+2]=ot,i[_+3]=lt;return}if(rt>=1){i[_+0]=ft,i[_+1]=_t,i[_+2]=At,i[_+3]=Tt;return}if(lt!==Tt||nt!==ft||it!==_t||ot!==At){let Mt=nt*ft+it*_t+ot*At+lt*Tt;Mt<0&&(ft=-ft,_t=-_t,At=-At,Tt=-Tt,Mt=-Mt);let pt=1-rt;if(Mt<.9995){const Pt=Math.acos(Mt),$t=Math.sin(Pt);pt=Math.sin(pt*Pt)/$t,rt=Math.sin(rt*Pt)/$t,nt=nt*pt+ft*rt,it=it*pt+_t*rt,ot=ot*pt+At*rt,lt=lt*pt+Tt*rt}else{nt=nt*pt+ft*rt,it=it*pt+_t*rt,ot=ot*pt+At*rt,lt=lt*pt+Tt*rt;const Pt=1/Math.sqrt(nt*nt+it*it+ot*ot+lt*lt);nt*=Pt,it*=Pt,ot*=Pt,lt*=Pt}}i[_]=nt,i[_+1]=it,i[_+2]=ot,i[_+3]=lt}static multiplyQuaternionsFlat(i,_,$,j,_e,tt){const rt=$[j],nt=$[j+1],it=$[j+2],ot=$[j+3],lt=_e[tt],ft=_e[tt+1],_t=_e[tt+2],At=_e[tt+3];return i[_]=rt*At+ot*lt+nt*_t-it*ft,i[_+1]=nt*At+ot*ft+it*lt-rt*_t,i[_+2]=it*At+ot*_t+rt*ft-nt*lt,i[_+3]=ot*At-rt*lt-nt*ft-it*_t,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,_,$,j){return this._x=i,this._y=_,this._z=$,this._w=j,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,_=!0){const $=i._x,j=i._y,_e=i._z,tt=i._order,rt=Math.cos,nt=Math.sin,it=rt($/2),ot=rt(j/2),lt=rt(_e/2),ft=nt($/2),_t=nt(j/2),At=nt(_e/2);switch(tt){case"XYZ":this._x=ft*ot*lt+it*_t*At,this._y=it*_t*lt-ft*ot*At,this._z=it*ot*At+ft*_t*lt,this._w=it*ot*lt-ft*_t*At;break;case"YXZ":this._x=ft*ot*lt+it*_t*At,this._y=it*_t*lt-ft*ot*At,this._z=it*ot*At-ft*_t*lt,this._w=it*ot*lt+ft*_t*At;break;case"ZXY":this._x=ft*ot*lt-it*_t*At,this._y=it*_t*lt+ft*ot*At,this._z=it*ot*At+ft*_t*lt,this._w=it*ot*lt-ft*_t*At;break;case"ZYX":this._x=ft*ot*lt-it*_t*At,this._y=it*_t*lt+ft*ot*At,this._z=it*ot*At-ft*_t*lt,this._w=it*ot*lt+ft*_t*At;break;case"YZX":this._x=ft*ot*lt+it*_t*At,this._y=it*_t*lt+ft*ot*At,this._z=it*ot*At-ft*_t*lt,this._w=it*ot*lt-ft*_t*At;break;case"XZY":this._x=ft*ot*lt-it*_t*At,this._y=it*_t*lt-ft*ot*At,this._z=it*ot*At+ft*_t*lt,this._w=it*ot*lt+ft*_t*At;break;default:warn$2("Quaternion: .setFromEuler() encountered an unknown order: "+tt)}return _===!0&&this._onChangeCallback(),this}setFromAxisAngle(i,_){const $=_/2,j=Math.sin($);return this._x=i.x*j,this._y=i.y*j,this._z=i.z*j,this._w=Math.cos($),this._onChangeCallback(),this}setFromRotationMatrix(i){const _=i.elements,$=_[0],j=_[4],_e=_[8],tt=_[1],rt=_[5],nt=_[9],it=_[2],ot=_[6],lt=_[10],ft=$+rt+lt;if(ft>0){const _t=.5/Math.sqrt(ft+1);this._w=.25/_t,this._x=(ot-nt)*_t,this._y=(_e-it)*_t,this._z=(tt-j)*_t}else if($>rt&&$>lt){const _t=2*Math.sqrt(1+$-rt-lt);this._w=(ot-nt)/_t,this._x=.25*_t,this._y=(j+tt)/_t,this._z=(_e+it)/_t}else if(rt>lt){const _t=2*Math.sqrt(1+rt-$-lt);this._w=(_e-it)/_t,this._x=(j+tt)/_t,this._y=.25*_t,this._z=(nt+ot)/_t}else{const _t=2*Math.sqrt(1+lt-$-rt);this._w=(tt-j)/_t,this._x=(_e+it)/_t,this._y=(nt+ot)/_t,this._z=.25*_t}return this._onChangeCallback(),this}setFromUnitVectors(i,_){let $=i.dot(_)+1;return $<1e-8?($=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=$):(this._x=0,this._y=-i.z,this._z=i.y,this._w=$)):(this._x=i.y*_.z-i.z*_.y,this._y=i.z*_.x-i.x*_.z,this._z=i.x*_.y-i.y*_.x,this._w=$),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(clamp$1(this.dot(i),-1,1)))}rotateTowards(i,_){const $=this.angleTo(i);if($===0)return this;const j=Math.min(1,_/$);return this.slerp(i,j),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i){return this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,_){const $=i._x,j=i._y,_e=i._z,tt=i._w,rt=_._x,nt=_._y,it=_._z,ot=_._w;return this._x=$*ot+tt*rt+j*it-_e*nt,this._y=j*ot+tt*nt+_e*rt-$*it,this._z=_e*ot+tt*it+$*nt-j*rt,this._w=tt*ot-$*rt-j*nt-_e*it,this._onChangeCallback(),this}slerp(i,_){if(_<=0)return this;if(_>=1)return this.copy(i);let $=i._x,j=i._y,_e=i._z,tt=i._w,rt=this.dot(i);rt<0&&($=-$,j=-j,_e=-_e,tt=-tt,rt=-rt);let nt=1-_;if(rt<.9995){const it=Math.acos(rt),ot=Math.sin(it);nt=Math.sin(nt*it)/ot,_=Math.sin(_*it)/ot,this._x=this._x*nt+$*_,this._y=this._y*nt+j*_,this._z=this._z*nt+_e*_,this._w=this._w*nt+tt*_,this._onChangeCallback()}else this._x=this._x*nt+$*_,this._y=this._y*nt+j*_,this._z=this._z*nt+_e*_,this._w=this._w*nt+tt*_,this.normalize();return this}slerpQuaternions(i,_,$){return this.copy(i).slerp(_,$)}random(){const i=2*Math.PI*Math.random(),_=2*Math.PI*Math.random(),$=Math.random(),j=Math.sqrt(1-$),_e=Math.sqrt($);return this.set(j*Math.sin(i),j*Math.cos(i),_e*Math.sin(_),_e*Math.cos(_))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,_=0){return this._x=i[_],this._y=i[_+1],this._z=i[_+2],this._w=i[_+3],this._onChangeCallback(),this}toArray(i=[],_=0){return i[_]=this._x,i[_+1]=this._y,i[_+2]=this._z,i[_+3]=this._w,i}fromBufferAttribute(i,_){return this._x=i.getX(_),this._y=i.getY(_),this._z=i.getZ(_),this._w=i.getW(_),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(i=0,_=0,$=0){Vector3.prototype.isVector3=!0,this.x=i,this.y=_,this.z=$}set(i,_,$){return $===void 0&&($=this.z),this.x=i,this.y=_,this.z=$,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,_){switch(i){case 0:this.x=_;break;case 1:this.y=_;break;case 2:this.z=_;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,_){return this.x=i.x+_.x,this.y=i.y+_.y,this.z=i.z+_.z,this}addScaledVector(i,_){return this.x+=i.x*_,this.y+=i.y*_,this.z+=i.z*_,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,_){return this.x=i.x-_.x,this.y=i.y-_.y,this.z=i.z-_.z,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,_){return this.x=i.x*_.x,this.y=i.y*_.y,this.z=i.z*_.z,this}applyEuler(i){return this.applyQuaternion(_quaternion$4.setFromEuler(i))}applyAxisAngle(i,_){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(i,_))}applyMatrix3(i){const _=this.x,$=this.y,j=this.z,_e=i.elements;return this.x=_e[0]*_+_e[3]*$+_e[6]*j,this.y=_e[1]*_+_e[4]*$+_e[7]*j,this.z=_e[2]*_+_e[5]*$+_e[8]*j,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const _=this.x,$=this.y,j=this.z,_e=i.elements,tt=1/(_e[3]*_+_e[7]*$+_e[11]*j+_e[15]);return this.x=(_e[0]*_+_e[4]*$+_e[8]*j+_e[12])*tt,this.y=(_e[1]*_+_e[5]*$+_e[9]*j+_e[13])*tt,this.z=(_e[2]*_+_e[6]*$+_e[10]*j+_e[14])*tt,this}applyQuaternion(i){const _=this.x,$=this.y,j=this.z,_e=i.x,tt=i.y,rt=i.z,nt=i.w,it=2*(tt*j-rt*$),ot=2*(rt*_-_e*j),lt=2*(_e*$-tt*_);return this.x=_+nt*it+tt*lt-rt*ot,this.y=$+nt*ot+rt*it-_e*lt,this.z=j+nt*lt+_e*ot-tt*it,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const _=this.x,$=this.y,j=this.z,_e=i.elements;return this.x=_e[0]*_+_e[4]*$+_e[8]*j,this.y=_e[1]*_+_e[5]*$+_e[9]*j,this.z=_e[2]*_+_e[6]*$+_e[10]*j,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,_){return this.x=clamp$1(this.x,i.x,_.x),this.y=clamp$1(this.y,i.y,_.y),this.z=clamp$1(this.z,i.z,_.z),this}clampScalar(i,_){return this.x=clamp$1(this.x,i,_),this.y=clamp$1(this.y,i,_),this.z=clamp$1(this.z,i,_),this}clampLength(i,_){const $=this.length();return this.divideScalar($||1).multiplyScalar(clamp$1($,i,_))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,_){return this.x+=(i.x-this.x)*_,this.y+=(i.y-this.y)*_,this.z+=(i.z-this.z)*_,this}lerpVectors(i,_,$){return this.x=i.x+(_.x-i.x)*$,this.y=i.y+(_.y-i.y)*$,this.z=i.z+(_.z-i.z)*$,this}cross(i){return this.crossVectors(this,i)}crossVectors(i,_){const $=i.x,j=i.y,_e=i.z,tt=_.x,rt=_.y,nt=_.z;return this.x=j*nt-_e*rt,this.y=_e*tt-$*nt,this.z=$*rt-j*tt,this}projectOnVector(i){const _=i.lengthSq();if(_===0)return this.set(0,0,0);const $=i.dot(this)/_;return this.copy(i).multiplyScalar($)}projectOnPlane(i){return _vector$c.copy(this).projectOnVector(i),this.sub(_vector$c)}reflect(i){return this.sub(_vector$c.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const _=Math.sqrt(this.lengthSq()*i.lengthSq());if(_===0)return Math.PI/2;const $=this.dot(i)/_;return Math.acos(clamp$1($,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const _=this.x-i.x,$=this.y-i.y,j=this.z-i.z;return _*_+$*$+j*j}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,_,$){const j=Math.sin(_)*i;return this.x=j*Math.sin($),this.y=Math.cos(_)*i,this.z=j*Math.cos($),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,_,$){return this.x=i*Math.sin(_),this.y=$,this.z=i*Math.cos(_),this}setFromMatrixPosition(i){const _=i.elements;return this.x=_[12],this.y=_[13],this.z=_[14],this}setFromMatrixScale(i){const _=this.setFromMatrixColumn(i,0).length(),$=this.setFromMatrixColumn(i,1).length(),j=this.setFromMatrixColumn(i,2).length();return this.x=_,this.y=$,this.z=j,this}setFromMatrixColumn(i,_){return this.fromArray(i.elements,_*4)}setFromMatrix3Column(i,_){return this.fromArray(i.elements,_*3)}setFromEuler(i){return this.x=i._x,this.y=i._y,this.z=i._z,this}setFromColor(i){return this.x=i.r,this.y=i.g,this.z=i.b,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,_=0){return this.x=i[_],this.y=i[_+1],this.z=i[_+2],this}toArray(i=[],_=0){return i[_]=this.x,i[_+1]=this.y,i[_+2]=this.z,i}fromBufferAttribute(i,_){return this.x=i.getX(_),this.y=i.getY(_),this.z=i.getZ(_),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=Math.random()*Math.PI*2,_=Math.random()*2-1,$=Math.sqrt(1-_*_);return this.x=$*Math.cos(i),this.y=_,this.z=$*Math.sin(i),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Matrix3{constructor(i,_,$,j,_e,tt,rt,nt,it){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],i!==void 0&&this.set(i,_,$,j,_e,tt,rt,nt,it)}set(i,_,$,j,_e,tt,rt,nt,it){const ot=this.elements;return ot[0]=i,ot[1]=j,ot[2]=rt,ot[3]=_,ot[4]=_e,ot[5]=nt,ot[6]=$,ot[7]=tt,ot[8]=it,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(i){const _=this.elements,$=i.elements;return _[0]=$[0],_[1]=$[1],_[2]=$[2],_[3]=$[3],_[4]=$[4],_[5]=$[5],_[6]=$[6],_[7]=$[7],_[8]=$[8],this}extractBasis(i,_,$){return i.setFromMatrix3Column(this,0),_.setFromMatrix3Column(this,1),$.setFromMatrix3Column(this,2),this}setFromMatrix4(i){const _=i.elements;return this.set(_[0],_[4],_[8],_[1],_[5],_[9],_[2],_[6],_[10]),this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,_){const $=i.elements,j=_.elements,_e=this.elements,tt=$[0],rt=$[3],nt=$[6],it=$[1],ot=$[4],lt=$[7],ft=$[2],_t=$[5],At=$[8],Tt=j[0],Mt=j[3],pt=j[6],Pt=j[1],$t=j[4],Ot=j[7],It=j[2],Dt=j[5],Lt=j[8];return _e[0]=tt*Tt+rt*Pt+nt*It,_e[3]=tt*Mt+rt*$t+nt*Dt,_e[6]=tt*pt+rt*Ot+nt*Lt,_e[1]=it*Tt+ot*Pt+lt*It,_e[4]=it*Mt+ot*$t+lt*Dt,_e[7]=it*pt+ot*Ot+lt*Lt,_e[2]=ft*Tt+_t*Pt+At*It,_e[5]=ft*Mt+_t*$t+At*Dt,_e[8]=ft*pt+_t*Ot+At*Lt,this}multiplyScalar(i){const _=this.elements;return _[0]*=i,_[3]*=i,_[6]*=i,_[1]*=i,_[4]*=i,_[7]*=i,_[2]*=i,_[5]*=i,_[8]*=i,this}determinant(){const i=this.elements,_=i[0],$=i[1],j=i[2],_e=i[3],tt=i[4],rt=i[5],nt=i[6],it=i[7],ot=i[8];return _*tt*ot-_*rt*it-$*_e*ot+$*rt*nt+j*_e*it-j*tt*nt}invert(){const i=this.elements,_=i[0],$=i[1],j=i[2],_e=i[3],tt=i[4],rt=i[5],nt=i[6],it=i[7],ot=i[8],lt=ot*tt-rt*it,ft=rt*nt-ot*_e,_t=it*_e-tt*nt,At=_*lt+$*ft+j*_t;if(At===0)return this.set(0,0,0,0,0,0,0,0,0);const Tt=1/At;return i[0]=lt*Tt,i[1]=(j*it-ot*$)*Tt,i[2]=(rt*$-j*tt)*Tt,i[3]=ft*Tt,i[4]=(ot*_-j*nt)*Tt,i[5]=(j*_e-rt*_)*Tt,i[6]=_t*Tt,i[7]=($*nt-it*_)*Tt,i[8]=(tt*_-$*_e)*Tt,this}transpose(){let i;const _=this.elements;return i=_[1],_[1]=_[3],_[3]=i,i=_[2],_[2]=_[6],_[6]=i,i=_[5],_[5]=_[7],_[7]=i,this}getNormalMatrix(i){return this.setFromMatrix4(i).invert().transpose()}transposeIntoArray(i){const _=this.elements;return i[0]=_[0],i[1]=_[3],i[2]=_[6],i[3]=_[1],i[4]=_[4],i[5]=_[7],i[6]=_[2],i[7]=_[5],i[8]=_[8],this}setUvTransform(i,_,$,j,_e,tt,rt){const nt=Math.cos(_e),it=Math.sin(_e);return this.set($*nt,$*it,-$*(nt*tt+it*rt)+tt+i,-j*it,j*nt,-j*(-it*tt+nt*rt)+rt+_,0,0,1),this}scale(i,_){return this.premultiply(_m3.makeScale(i,_)),this}rotate(i){return this.premultiply(_m3.makeRotation(-i)),this}translate(i,_){return this.premultiply(_m3.makeTranslation(i,_)),this}makeTranslation(i,_){return i.isVector2?this.set(1,0,i.x,0,1,i.y,0,0,1):this.set(1,0,i,0,1,_,0,0,1),this}makeRotation(i){const _=Math.cos(i),$=Math.sin(i);return this.set(_,-$,0,$,_,0,0,0,1),this}makeScale(i,_){return this.set(i,0,0,0,_,0,0,0,1),this}equals(i){const _=this.elements,$=i.elements;for(let j=0;j<9;j++)if(_[j]!==$[j])return!1;return!0}fromArray(i,_=0){for(let $=0;$<9;$++)this.elements[$]=i[$+_];return this}toArray(i=[],_=0){const $=this.elements;return i[_]=$[0],i[_+1]=$[1],i[_+2]=$[2],i[_+3]=$[3],i[_+4]=$[4],i[_+5]=$[5],i[_+6]=$[6],i[_+7]=$[7],i[_+8]=$[8],i}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3,LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const o={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(j,_e,tt){return this.enabled===!1||_e===tt||!_e||!tt||(this.spaces[_e].transfer===SRGBTransfer&&(j.r=SRGBToLinear(j.r),j.g=SRGBToLinear(j.g),j.b=SRGBToLinear(j.b)),this.spaces[_e].primaries!==this.spaces[tt].primaries&&(j.applyMatrix3(this.spaces[_e].toXYZ),j.applyMatrix3(this.spaces[tt].fromXYZ)),this.spaces[tt].transfer===SRGBTransfer&&(j.r=LinearToSRGB(j.r),j.g=LinearToSRGB(j.g),j.b=LinearToSRGB(j.b))),j},workingToColorSpace:function(j,_e){return this.convert(j,this.workingColorSpace,_e)},colorSpaceToWorking:function(j,_e){return this.convert(j,_e,this.workingColorSpace)},getPrimaries:function(j){return this.spaces[j].primaries},getTransfer:function(j){return j===NoColorSpace?LinearTransfer:this.spaces[j].transfer},getToneMappingMode:function(j){return this.spaces[j].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(j,_e=this.workingColorSpace){return j.fromArray(this.spaces[_e].luminanceCoefficients)},define:function(j){Object.assign(this.spaces,j)},_getMatrix:function(j,_e,tt){return j.copy(this.spaces[_e].toXYZ).multiply(this.spaces[tt].fromXYZ)},_getDrawingBufferColorSpace:function(j){return this.spaces[j].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(j=this.workingColorSpace){return this.spaces[j].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(j,_e){return warnOnce$1("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),o.workingToColorSpace(j,_e)},toWorkingColorSpace:function(j,_e){return warnOnce$1("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),o.colorSpaceToWorking(j,_e)}},i=[.64,.33,.3,.6,.15,.06],_=[.2126,.7152,.0722],$=[.3127,.329];return o.define({[LinearSRGBColorSpace]:{primaries:i,whitePoint:$,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:_,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:i,whitePoint:$,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:_,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),o}const ColorManagement=createColorManagement();function SRGBToLinear(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}function LinearToSRGB(o){return o<.0031308?o*12.92:1.055*Math.pow(o,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(i,_="image/png"){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let $;if(i instanceof HTMLCanvasElement)$=i;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=i.width,_canvas.height=i.height;const j=_canvas.getContext("2d");i instanceof ImageData?j.putImageData(i,0,0):j.drawImage(i,0,0,i.width,i.height),$=_canvas}return $.toDataURL(_)}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const _=createElementNS("canvas");_.width=i.width,_.height=i.height;const $=_.getContext("2d");$.drawImage(i,0,0,i.width,i.height);const j=$.getImageData(0,0,i.width,i.height),_e=j.data;for(let tt=0;tt<_e.length;tt++)_e[tt]=SRGBToLinear(_e[tt]/255)*255;return $.putImageData(j,0,0),_}else if(i.data){const _=i.data.slice(0);for(let $=0;$<_.length;$++)_ instanceof Uint8Array||_ instanceof Uint8ClampedArray?_[$]=Math.floor(SRGBToLinear(_[$]/255)*255):_[$]=SRGBToLinear(_[$]);return{data:_,width:i.width,height:i.height}}else return warn$2("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}}let _sourceId=0;class Source{constructor(i=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=i,this.dataReady=!0,this.version=0}getSize(i){const _=this.data;return typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement?i.set(_.videoWidth,_.videoHeight,0):_ instanceof VideoFrame?i.set(_.displayHeight,_.displayWidth,0):_!==null?i.set(_.width,_.height,_.depth||0):i.set(0,0,0),i}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const _=i===void 0||typeof i=="string";if(!_&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const $={uuid:this.uuid,url:""},j=this.data;if(j!==null){let _e;if(Array.isArray(j)){_e=[];for(let tt=0,rt=j.length;tt<rt;tt++)j[tt].isDataTexture?_e.push(serializeImage(j[tt].image)):_e.push(serializeImage(j[tt]))}else _e=serializeImage(j);$.url=_e}return _||(i.images[this.uuid]=$),$}}function serializeImage(o){return typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap?ImageUtils.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(warn$2("Texture: Unable to serialize Texture."),{})}let _textureId=0;const _tempVec3=new Vector3;class Texture extends EventDispatcher{constructor(i=Texture.DEFAULT_IMAGE,_=Texture.DEFAULT_MAPPING,$=ClampToEdgeWrapping,j=ClampToEdgeWrapping,_e=LinearFilter,tt=LinearMipmapLinearFilter,rt=RGBAFormat,nt=UnsignedByteType,it=Texture.DEFAULT_ANISOTROPY,ot=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(i),this.mipmaps=[],this.mapping=_,this.channel=0,this.wrapS=$,this.wrapT=j,this.magFilter=_e,this.minFilter=tt,this.anisotropy=it,this.format=rt,this.internalFormat=null,this.type=nt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=ot,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(i&&i.depth&&i.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(_tempVec3).x}get height(){return this.source.getSize(_tempVec3).y}get depth(){return this.source.getSize(_tempVec3).z}get image(){return this.source.data}set image(i=null){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(i,_){this.updateRanges.push({start:i,count:_})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.channel=i.channel,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.colorSpace=i.colorSpace,this.renderTarget=i.renderTarget,this.isRenderTargetTexture=i.isRenderTargetTexture,this.isArrayTexture=i.isArrayTexture,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}setValues(i){for(const _ in i){const $=i[_];if($===void 0){warn$2(`Texture.setValues(): parameter '${_}' has value of undefined.`);continue}const j=this[_];if(j===void 0){warn$2(`Texture.setValues(): property '${_}' does not exist.`);continue}j&&$&&j.isVector2&&$.isVector2||j&&$&&j.isVector3&&$.isVector3||j&&$&&j.isMatrix3&&$.isMatrix3?j.copy($):this[_]=$}}toJSON(i){const _=i===void 0||typeof i=="string";if(!_&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];const $={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&($.userData=this.userData),_||(i.textures[this.uuid]=$),$}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==UVMapping)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case RepeatWrapping:i.x=i.x-Math.floor(i.x);break;case ClampToEdgeWrapping:i.x=i.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case RepeatWrapping:i.y=i.y-Math.floor(i.y);break;case ClampToEdgeWrapping:i.y=i.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(i){i===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(i=0,_=0,$=0,j=1){Vector4.prototype.isVector4=!0,this.x=i,this.y=_,this.z=$,this.w=j}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,_,$,j){return this.x=i,this.y=_,this.z=$,this.w=j,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,_){switch(i){case 0:this.x=_;break;case 1:this.y=_;break;case 2:this.z=_;break;case 3:this.w=_;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,_){return this.x=i.x+_.x,this.y=i.y+_.y,this.z=i.z+_.z,this.w=i.w+_.w,this}addScaledVector(i,_){return this.x+=i.x*_,this.y+=i.y*_,this.z+=i.z*_,this.w+=i.w*_,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,_){return this.x=i.x-_.x,this.y=i.y-_.y,this.z=i.z-_.z,this.w=i.w-_.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const _=this.x,$=this.y,j=this.z,_e=this.w,tt=i.elements;return this.x=tt[0]*_+tt[4]*$+tt[8]*j+tt[12]*_e,this.y=tt[1]*_+tt[5]*$+tt[9]*j+tt[13]*_e,this.z=tt[2]*_+tt[6]*$+tt[10]*j+tt[14]*_e,this.w=tt[3]*_+tt[7]*$+tt[11]*j+tt[15]*_e,this}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this.w/=i.w,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const _=Math.sqrt(1-i.w*i.w);return _<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/_,this.y=i.y/_,this.z=i.z/_),this}setAxisAngleFromRotationMatrix(i){let _,$,j,_e;const nt=i.elements,it=nt[0],ot=nt[4],lt=nt[8],ft=nt[1],_t=nt[5],At=nt[9],Tt=nt[2],Mt=nt[6],pt=nt[10];if(Math.abs(ot-ft)<.01&&Math.abs(lt-Tt)<.01&&Math.abs(At-Mt)<.01){if(Math.abs(ot+ft)<.1&&Math.abs(lt+Tt)<.1&&Math.abs(At+Mt)<.1&&Math.abs(it+_t+pt-3)<.1)return this.set(1,0,0,0),this;_=Math.PI;const $t=(it+1)/2,Ot=(_t+1)/2,It=(pt+1)/2,Dt=(ot+ft)/4,Lt=(lt+Tt)/4,Bt=(At+Mt)/4;return $t>Ot&&$t>It?$t<.01?($=0,j=.707106781,_e=.707106781):($=Math.sqrt($t),j=Dt/$,_e=Lt/$):Ot>It?Ot<.01?($=.707106781,j=0,_e=.707106781):(j=Math.sqrt(Ot),$=Dt/j,_e=Bt/j):It<.01?($=.707106781,j=.707106781,_e=0):(_e=Math.sqrt(It),$=Lt/_e,j=Bt/_e),this.set($,j,_e,_),this}let Pt=Math.sqrt((Mt-At)*(Mt-At)+(lt-Tt)*(lt-Tt)+(ft-ot)*(ft-ot));return Math.abs(Pt)<.001&&(Pt=1),this.x=(Mt-At)/Pt,this.y=(lt-Tt)/Pt,this.z=(ft-ot)/Pt,this.w=Math.acos((it+_t+pt-1)/2),this}setFromMatrixPosition(i){const _=i.elements;return this.x=_[12],this.y=_[13],this.z=_[14],this.w=_[15],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,_){return this.x=clamp$1(this.x,i.x,_.x),this.y=clamp$1(this.y,i.y,_.y),this.z=clamp$1(this.z,i.z,_.z),this.w=clamp$1(this.w,i.w,_.w),this}clampScalar(i,_){return this.x=clamp$1(this.x,i,_),this.y=clamp$1(this.y,i,_),this.z=clamp$1(this.z,i,_),this.w=clamp$1(this.w,i,_),this}clampLength(i,_){const $=this.length();return this.divideScalar($||1).multiplyScalar(clamp$1($,i,_))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,_){return this.x+=(i.x-this.x)*_,this.y+=(i.y-this.y)*_,this.z+=(i.z-this.z)*_,this.w+=(i.w-this.w)*_,this}lerpVectors(i,_,$){return this.x=i.x+(_.x-i.x)*$,this.y=i.y+(_.y-i.y)*$,this.z=i.z+(_.z-i.z)*$,this.w=i.w+(_.w-i.w)*$,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,_=0){return this.x=i[_],this.y=i[_+1],this.z=i[_+2],this.w=i[_+3],this}toArray(i=[],_=0){return i[_]=this.x,i[_+1]=this.y,i[_+2]=this.z,i[_+3]=this.w,i}fromBufferAttribute(i,_){return this.x=i.getX(_),this.y=i.getY(_),this.z=i.getZ(_),this.w=i.getW(_),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(i=1,_=1,$={}){super(),$=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},$),this.isRenderTarget=!0,this.width=i,this.height=_,this.depth=$.depth,this.scissor=new Vector4(0,0,i,_),this.scissorTest=!1,this.viewport=new Vector4(0,0,i,_);const j={width:i,height:_,depth:$.depth},_e=new Texture(j);this.textures=[];const tt=$.count;for(let rt=0;rt<tt;rt++)this.textures[rt]=_e.clone(),this.textures[rt].isRenderTargetTexture=!0,this.textures[rt].renderTarget=this;this._setTextureOptions($),this.depthBuffer=$.depthBuffer,this.stencilBuffer=$.stencilBuffer,this.resolveDepthBuffer=$.resolveDepthBuffer,this.resolveStencilBuffer=$.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=$.depthTexture,this.samples=$.samples,this.multiview=$.multiview}_setTextureOptions(i={}){const _={minFilter:LinearFilter,generateMipmaps:!1,flipY:!1,internalFormat:null};i.mapping!==void 0&&(_.mapping=i.mapping),i.wrapS!==void 0&&(_.wrapS=i.wrapS),i.wrapT!==void 0&&(_.wrapT=i.wrapT),i.wrapR!==void 0&&(_.wrapR=i.wrapR),i.magFilter!==void 0&&(_.magFilter=i.magFilter),i.minFilter!==void 0&&(_.minFilter=i.minFilter),i.format!==void 0&&(_.format=i.format),i.type!==void 0&&(_.type=i.type),i.anisotropy!==void 0&&(_.anisotropy=i.anisotropy),i.colorSpace!==void 0&&(_.colorSpace=i.colorSpace),i.flipY!==void 0&&(_.flipY=i.flipY),i.generateMipmaps!==void 0&&(_.generateMipmaps=i.generateMipmaps),i.internalFormat!==void 0&&(_.internalFormat=i.internalFormat);for(let $=0;$<this.textures.length;$++)this.textures[$].setValues(_)}get texture(){return this.textures[0]}set texture(i){this.textures[0]=i}set depthTexture(i){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),i!==null&&(i.renderTarget=this),this._depthTexture=i}get depthTexture(){return this._depthTexture}setSize(i,_,$=1){if(this.width!==i||this.height!==_||this.depth!==$){this.width=i,this.height=_,this.depth=$;for(let j=0,_e=this.textures.length;j<_e;j++)this.textures[j].image.width=i,this.textures[j].image.height=_,this.textures[j].image.depth=$,this.textures[j].isData3DTexture!==!0&&(this.textures[j].isArrayTexture=this.textures[j].image.depth>1);this.dispose()}this.viewport.set(0,0,i,_),this.scissor.set(0,0,i,_)}clone(){return new this.constructor().copy(this)}copy(i){this.width=i.width,this.height=i.height,this.depth=i.depth,this.scissor.copy(i.scissor),this.scissorTest=i.scissorTest,this.viewport.copy(i.viewport),this.textures.length=0;for(let _=0,$=i.textures.length;_<$;_++){this.textures[_]=i.textures[_].clone(),this.textures[_].isRenderTargetTexture=!0,this.textures[_].renderTarget=this;const j=Object.assign({},i.textures[_].image);this.textures[_].source=new Source(j)}return this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,i.depthTexture!==null&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(i=1,_=1,$={}){super(i,_,$),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(i=null,_=1,$=1,j=1){super(null),this.isDataArrayTexture=!0,this.image={data:i,width:_,height:$,depth:j},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(i){this.layerUpdates.add(i)}clearLayerUpdates(){this.layerUpdates.clear()}}class Data3DTexture extends Texture{constructor(i=null,_=1,$=1,j=1){super(null),this.isData3DTexture=!0,this.image={data:i,width:_,height:$,depth:j},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Box3{constructor(i=new Vector3(1/0,1/0,1/0),_=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=i,this.max=_}set(i,_){return this.min.copy(i),this.max.copy(_),this}setFromArray(i){this.makeEmpty();for(let _=0,$=i.length;_<$;_+=3)this.expandByPoint(_vector$b.fromArray(i,_));return this}setFromBufferAttribute(i){this.makeEmpty();for(let _=0,$=i.count;_<$;_++)this.expandByPoint(_vector$b.fromBufferAttribute(i,_));return this}setFromPoints(i){this.makeEmpty();for(let _=0,$=i.length;_<$;_++)this.expandByPoint(i[_]);return this}setFromCenterAndSize(i,_){const $=_vector$b.copy(_).multiplyScalar(.5);return this.min.copy(i).sub($),this.max.copy(i).add($),this}setFromObject(i,_=!1){return this.makeEmpty(),this.expandByObject(i,_)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,_=!1){i.updateWorldMatrix(!1,!1);const $=i.geometry;if($!==void 0){const _e=$.getAttribute("position");if(_===!0&&_e!==void 0&&i.isInstancedMesh!==!0)for(let tt=0,rt=_e.count;tt<rt;tt++)i.isMesh===!0?i.getVertexPosition(tt,_vector$b):_vector$b.fromBufferAttribute(_e,tt),_vector$b.applyMatrix4(i.matrixWorld),this.expandByPoint(_vector$b);else i.boundingBox!==void 0?(i.boundingBox===null&&i.computeBoundingBox(),_box$4.copy(i.boundingBox)):($.boundingBox===null&&$.computeBoundingBox(),_box$4.copy($.boundingBox)),_box$4.applyMatrix4(i.matrixWorld),this.union(_box$4)}const j=i.children;for(let _e=0,tt=j.length;_e<tt;_e++)this.expandByObject(j[_e],_);return this}containsPoint(i){return i.x>=this.min.x&&i.x<=this.max.x&&i.y>=this.min.y&&i.y<=this.max.y&&i.z>=this.min.z&&i.z<=this.max.z}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,_){return _.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return i.max.x>=this.min.x&&i.min.x<=this.max.x&&i.max.y>=this.min.y&&i.min.y<=this.max.y&&i.max.z>=this.min.z&&i.min.z<=this.max.z}intersectsSphere(i){return this.clampPoint(i.center,_vector$b),_vector$b.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let _,$;return i.normal.x>0?(_=i.normal.x*this.min.x,$=i.normal.x*this.max.x):(_=i.normal.x*this.max.x,$=i.normal.x*this.min.x),i.normal.y>0?(_+=i.normal.y*this.min.y,$+=i.normal.y*this.max.y):(_+=i.normal.y*this.max.y,$+=i.normal.y*this.min.y),i.normal.z>0?(_+=i.normal.z*this.min.z,$+=i.normal.z*this.max.z):(_+=i.normal.z*this.max.z,$+=i.normal.z*this.min.z),_<=-i.constant&&$>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(i.a,_center),_v1$7.subVectors(i.b,_center),_v2$4.subVectors(i.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let _=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(_,_v0$2,_v1$7,_v2$4,_extents)||(_=[1,0,0,0,1,0,0,0,1],!satForAxes(_,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),_=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(_,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(i,_){return _.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return this.clampPoint(i,_vector$b).distanceTo(i)}getBoundingSphere(i){return this.isEmpty()?i.makeEmpty():(this.getCenter(i.center),i.radius=this.getSize(_vector$b).length()*.5),i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(_points),this)}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(i){return this.min.fromArray(i.min),this.max.fromArray(i.max),this}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(o,i,_,$,j){for(let _e=0,tt=o.length-3;_e<=tt;_e+=3){_testAxis.fromArray(o,_e);const rt=j.x*Math.abs(_testAxis.x)+j.y*Math.abs(_testAxis.y)+j.z*Math.abs(_testAxis.z),nt=i.dot(_testAxis),it=_.dot(_testAxis),ot=$.dot(_testAxis);if(Math.max(-Math.max(nt,it,ot),Math.min(nt,it,ot))>rt)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(i=new Vector3,_=-1){this.isSphere=!0,this.center=i,this.radius=_}set(i,_){return this.center.copy(i),this.radius=_,this}setFromPoints(i,_){const $=this.center;_!==void 0?$.copy(_):_box$3.setFromPoints(i).getCenter($);let j=0;for(let _e=0,tt=i.length;_e<tt;_e++)j=Math.max(j,$.distanceToSquared(i[_e]));return this.radius=Math.sqrt(j),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const _=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=_*_}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,_){const $=this.center.distanceToSquared(i);return _.copy(i),$>this.radius*this.radius&&(_.sub(this.center).normalize(),_.multiplyScalar(this.radius).add(this.center)),_}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){if(this.isEmpty())return this.center.copy(i),this.radius=0,this;_v1$6.subVectors(i,this.center);const _=_v1$6.lengthSq();if(_>this.radius*this.radius){const $=Math.sqrt(_),j=($-this.radius)*.5;this.center.addScaledVector(_v1$6,j/$),this.radius+=j}return this}union(i){return i.isEmpty()?this:this.isEmpty()?(this.copy(i),this):(this.center.equals(i.center)===!0?this.radius=Math.max(this.radius,i.radius):(_v2$3.subVectors(i.center,this.center).setLength(i.radius),this.expandByPoint(_v1$6.copy(i.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(i.center).sub(_v2$3))),this)}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(i){return this.radius=i.radius,this.center.fromArray(i.center),this}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(i=new Vector3,_=new Vector3(0,0,-1)){this.origin=i,this.direction=_}set(i,_){return this.origin.copy(i),this.direction.copy(_),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,_){return _.copy(this.origin).addScaledVector(this.direction,i)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,_vector$a)),this}closestPointToPoint(i,_){_.subVectors(i,this.origin);const $=_.dot(this.direction);return $<0?_.copy(this.origin):_.copy(this.origin).addScaledVector(this.direction,$)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const _=_vector$a.subVectors(i,this.origin).dot(this.direction);return _<0?this.origin.distanceToSquared(i):(_vector$a.copy(this.origin).addScaledVector(this.direction,_),_vector$a.distanceToSquared(i))}distanceSqToSegment(i,_,$,j){_segCenter.copy(i).add(_).multiplyScalar(.5),_segDir.copy(_).sub(i).normalize(),_diff.copy(this.origin).sub(_segCenter);const _e=i.distanceTo(_)*.5,tt=-this.direction.dot(_segDir),rt=_diff.dot(this.direction),nt=-_diff.dot(_segDir),it=_diff.lengthSq(),ot=Math.abs(1-tt*tt);let lt,ft,_t,At;if(ot>0)if(lt=tt*nt-rt,ft=tt*rt-nt,At=_e*ot,lt>=0)if(ft>=-At)if(ft<=At){const Tt=1/ot;lt*=Tt,ft*=Tt,_t=lt*(lt+tt*ft+2*rt)+ft*(tt*lt+ft+2*nt)+it}else ft=_e,lt=Math.max(0,-(tt*ft+rt)),_t=-lt*lt+ft*(ft+2*nt)+it;else ft=-_e,lt=Math.max(0,-(tt*ft+rt)),_t=-lt*lt+ft*(ft+2*nt)+it;else ft<=-At?(lt=Math.max(0,-(-tt*_e+rt)),ft=lt>0?-_e:Math.min(Math.max(-_e,-nt),_e),_t=-lt*lt+ft*(ft+2*nt)+it):ft<=At?(lt=0,ft=Math.min(Math.max(-_e,-nt),_e),_t=ft*(ft+2*nt)+it):(lt=Math.max(0,-(tt*_e+rt)),ft=lt>0?_e:Math.min(Math.max(-_e,-nt),_e),_t=-lt*lt+ft*(ft+2*nt)+it);else ft=tt>0?-_e:_e,lt=Math.max(0,-(tt*ft+rt)),_t=-lt*lt+ft*(ft+2*nt)+it;return $&&$.copy(this.origin).addScaledVector(this.direction,lt),j&&j.copy(_segCenter).addScaledVector(_segDir,ft),_t}intersectSphere(i,_){_vector$a.subVectors(i.center,this.origin);const $=_vector$a.dot(this.direction),j=_vector$a.dot(_vector$a)-$*$,_e=i.radius*i.radius;if(j>_e)return null;const tt=Math.sqrt(_e-j),rt=$-tt,nt=$+tt;return nt<0?null:rt<0?this.at(nt,_):this.at(rt,_)}intersectsSphere(i){return i.radius<0?!1:this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const _=i.normal.dot(this.direction);if(_===0)return i.distanceToPoint(this.origin)===0?0:null;const $=-(this.origin.dot(i.normal)+i.constant)/_;return $>=0?$:null}intersectPlane(i,_){const $=this.distanceToPlane(i);return $===null?null:this.at($,_)}intersectsPlane(i){const _=i.distanceToPoint(this.origin);return _===0||i.normal.dot(this.direction)*_<0}intersectBox(i,_){let $,j,_e,tt,rt,nt;const it=1/this.direction.x,ot=1/this.direction.y,lt=1/this.direction.z,ft=this.origin;return it>=0?($=(i.min.x-ft.x)*it,j=(i.max.x-ft.x)*it):($=(i.max.x-ft.x)*it,j=(i.min.x-ft.x)*it),ot>=0?(_e=(i.min.y-ft.y)*ot,tt=(i.max.y-ft.y)*ot):(_e=(i.max.y-ft.y)*ot,tt=(i.min.y-ft.y)*ot),$>tt||_e>j||((_e>$||isNaN($))&&($=_e),(tt<j||isNaN(j))&&(j=tt),lt>=0?(rt=(i.min.z-ft.z)*lt,nt=(i.max.z-ft.z)*lt):(rt=(i.max.z-ft.z)*lt,nt=(i.min.z-ft.z)*lt),$>nt||rt>j)||((rt>$||$!==$)&&($=rt),(nt<j||j!==j)&&(j=nt),j<0)?null:this.at($>=0?$:j,_)}intersectsBox(i){return this.intersectBox(i,_vector$a)!==null}intersectTriangle(i,_,$,j,_e){_edge1.subVectors(_,i),_edge2.subVectors($,i),_normal$1.crossVectors(_edge1,_edge2);let tt=this.direction.dot(_normal$1),rt;if(tt>0){if(j)return null;rt=1}else if(tt<0)rt=-1,tt=-tt;else return null;_diff.subVectors(this.origin,i);const nt=rt*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(nt<0)return null;const it=rt*this.direction.dot(_edge1.cross(_diff));if(it<0||nt+it>tt)return null;const ot=-rt*_diff.dot(_normal$1);return ot<0?null:this.at(ot/tt,_e)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(i,_,$,j,_e,tt,rt,nt,it,ot,lt,ft,_t,At,Tt,Mt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i!==void 0&&this.set(i,_,$,j,_e,tt,rt,nt,it,ot,lt,ft,_t,At,Tt,Mt)}set(i,_,$,j,_e,tt,rt,nt,it,ot,lt,ft,_t,At,Tt,Mt){const pt=this.elements;return pt[0]=i,pt[4]=_,pt[8]=$,pt[12]=j,pt[1]=_e,pt[5]=tt,pt[9]=rt,pt[13]=nt,pt[2]=it,pt[6]=ot,pt[10]=lt,pt[14]=ft,pt[3]=_t,pt[7]=At,pt[11]=Tt,pt[15]=Mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(i){const _=this.elements,$=i.elements;return _[0]=$[0],_[1]=$[1],_[2]=$[2],_[3]=$[3],_[4]=$[4],_[5]=$[5],_[6]=$[6],_[7]=$[7],_[8]=$[8],_[9]=$[9],_[10]=$[10],_[11]=$[11],_[12]=$[12],_[13]=$[13],_[14]=$[14],_[15]=$[15],this}copyPosition(i){const _=this.elements,$=i.elements;return _[12]=$[12],_[13]=$[13],_[14]=$[14],this}setFromMatrix3(i){const _=i.elements;return this.set(_[0],_[3],_[6],0,_[1],_[4],_[7],0,_[2],_[5],_[8],0,0,0,0,1),this}extractBasis(i,_,$){return i.setFromMatrixColumn(this,0),_.setFromMatrixColumn(this,1),$.setFromMatrixColumn(this,2),this}makeBasis(i,_,$){return this.set(i.x,_.x,$.x,0,i.y,_.y,$.y,0,i.z,_.z,$.z,0,0,0,0,1),this}extractRotation(i){const _=this.elements,$=i.elements,j=1/_v1$5.setFromMatrixColumn(i,0).length(),_e=1/_v1$5.setFromMatrixColumn(i,1).length(),tt=1/_v1$5.setFromMatrixColumn(i,2).length();return _[0]=$[0]*j,_[1]=$[1]*j,_[2]=$[2]*j,_[3]=0,_[4]=$[4]*_e,_[5]=$[5]*_e,_[6]=$[6]*_e,_[7]=0,_[8]=$[8]*tt,_[9]=$[9]*tt,_[10]=$[10]*tt,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,this}makeRotationFromEuler(i){const _=this.elements,$=i.x,j=i.y,_e=i.z,tt=Math.cos($),rt=Math.sin($),nt=Math.cos(j),it=Math.sin(j),ot=Math.cos(_e),lt=Math.sin(_e);if(i.order==="XYZ"){const ft=tt*ot,_t=tt*lt,At=rt*ot,Tt=rt*lt;_[0]=nt*ot,_[4]=-nt*lt,_[8]=it,_[1]=_t+At*it,_[5]=ft-Tt*it,_[9]=-rt*nt,_[2]=Tt-ft*it,_[6]=At+_t*it,_[10]=tt*nt}else if(i.order==="YXZ"){const ft=nt*ot,_t=nt*lt,At=it*ot,Tt=it*lt;_[0]=ft+Tt*rt,_[4]=At*rt-_t,_[8]=tt*it,_[1]=tt*lt,_[5]=tt*ot,_[9]=-rt,_[2]=_t*rt-At,_[6]=Tt+ft*rt,_[10]=tt*nt}else if(i.order==="ZXY"){const ft=nt*ot,_t=nt*lt,At=it*ot,Tt=it*lt;_[0]=ft-Tt*rt,_[4]=-tt*lt,_[8]=At+_t*rt,_[1]=_t+At*rt,_[5]=tt*ot,_[9]=Tt-ft*rt,_[2]=-tt*it,_[6]=rt,_[10]=tt*nt}else if(i.order==="ZYX"){const ft=tt*ot,_t=tt*lt,At=rt*ot,Tt=rt*lt;_[0]=nt*ot,_[4]=At*it-_t,_[8]=ft*it+Tt,_[1]=nt*lt,_[5]=Tt*it+ft,_[9]=_t*it-At,_[2]=-it,_[6]=rt*nt,_[10]=tt*nt}else if(i.order==="YZX"){const ft=tt*nt,_t=tt*it,At=rt*nt,Tt=rt*it;_[0]=nt*ot,_[4]=Tt-ft*lt,_[8]=At*lt+_t,_[1]=lt,_[5]=tt*ot,_[9]=-rt*ot,_[2]=-it*ot,_[6]=_t*lt+At,_[10]=ft-Tt*lt}else if(i.order==="XZY"){const ft=tt*nt,_t=tt*it,At=rt*nt,Tt=rt*it;_[0]=nt*ot,_[4]=-lt,_[8]=it*ot,_[1]=ft*lt+Tt,_[5]=tt*ot,_[9]=_t*lt-At,_[2]=At*lt-_t,_[6]=rt*ot,_[10]=Tt*lt+ft}return _[3]=0,_[7]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,this}makeRotationFromQuaternion(i){return this.compose(_zero,i,_one)}lookAt(i,_,$){const j=this.elements;return _z.subVectors(i,_),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors($,_z),_x.lengthSq()===0&&(Math.abs($.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors($,_z)),_x.normalize(),_y.crossVectors(_z,_x),j[0]=_x.x,j[4]=_y.x,j[8]=_z.x,j[1]=_x.y,j[5]=_y.y,j[9]=_z.y,j[2]=_x.z,j[6]=_y.z,j[10]=_z.z,this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,_){const $=i.elements,j=_.elements,_e=this.elements,tt=$[0],rt=$[4],nt=$[8],it=$[12],ot=$[1],lt=$[5],ft=$[9],_t=$[13],At=$[2],Tt=$[6],Mt=$[10],pt=$[14],Pt=$[3],$t=$[7],Ot=$[11],It=$[15],Dt=j[0],Lt=j[4],Bt=j[8],jt=j[12],Ut=j[1],Gt=j[5],qt=j[9],Jt=j[13],er=j[2],Kt=j[6],zt=j[10],Ht=j[14],Ft=j[3],Vt=j[7],Yt=j[11],Zt=j[15];return _e[0]=tt*Dt+rt*Ut+nt*er+it*Ft,_e[4]=tt*Lt+rt*Gt+nt*Kt+it*Vt,_e[8]=tt*Bt+rt*qt+nt*zt+it*Yt,_e[12]=tt*jt+rt*Jt+nt*Ht+it*Zt,_e[1]=ot*Dt+lt*Ut+ft*er+_t*Ft,_e[5]=ot*Lt+lt*Gt+ft*Kt+_t*Vt,_e[9]=ot*Bt+lt*qt+ft*zt+_t*Yt,_e[13]=ot*jt+lt*Jt+ft*Ht+_t*Zt,_e[2]=At*Dt+Tt*Ut+Mt*er+pt*Ft,_e[6]=At*Lt+Tt*Gt+Mt*Kt+pt*Vt,_e[10]=At*Bt+Tt*qt+Mt*zt+pt*Yt,_e[14]=At*jt+Tt*Jt+Mt*Ht+pt*Zt,_e[3]=Pt*Dt+$t*Ut+Ot*er+It*Ft,_e[7]=Pt*Lt+$t*Gt+Ot*Kt+It*Vt,_e[11]=Pt*Bt+$t*qt+Ot*zt+It*Yt,_e[15]=Pt*jt+$t*Jt+Ot*Ht+It*Zt,this}multiplyScalar(i){const _=this.elements;return _[0]*=i,_[4]*=i,_[8]*=i,_[12]*=i,_[1]*=i,_[5]*=i,_[9]*=i,_[13]*=i,_[2]*=i,_[6]*=i,_[10]*=i,_[14]*=i,_[3]*=i,_[7]*=i,_[11]*=i,_[15]*=i,this}determinant(){const i=this.elements,_=i[0],$=i[4],j=i[8],_e=i[12],tt=i[1],rt=i[5],nt=i[9],it=i[13],ot=i[2],lt=i[6],ft=i[10],_t=i[14],At=i[3],Tt=i[7],Mt=i[11],pt=i[15];return At*(+_e*nt*lt-j*it*lt-_e*rt*ft+$*it*ft+j*rt*_t-$*nt*_t)+Tt*(+_*nt*_t-_*it*ft+_e*tt*ft-j*tt*_t+j*it*ot-_e*nt*ot)+Mt*(+_*it*lt-_*rt*_t-_e*tt*lt+$*tt*_t+_e*rt*ot-$*it*ot)+pt*(-j*rt*ot-_*nt*lt+_*rt*ft+j*tt*lt-$*tt*ft+$*nt*ot)}transpose(){const i=this.elements;let _;return _=i[1],i[1]=i[4],i[4]=_,_=i[2],i[2]=i[8],i[8]=_,_=i[6],i[6]=i[9],i[9]=_,_=i[3],i[3]=i[12],i[12]=_,_=i[7],i[7]=i[13],i[13]=_,_=i[11],i[11]=i[14],i[14]=_,this}setPosition(i,_,$){const j=this.elements;return i.isVector3?(j[12]=i.x,j[13]=i.y,j[14]=i.z):(j[12]=i,j[13]=_,j[14]=$),this}invert(){const i=this.elements,_=i[0],$=i[1],j=i[2],_e=i[3],tt=i[4],rt=i[5],nt=i[6],it=i[7],ot=i[8],lt=i[9],ft=i[10],_t=i[11],At=i[12],Tt=i[13],Mt=i[14],pt=i[15],Pt=lt*Mt*it-Tt*ft*it+Tt*nt*_t-rt*Mt*_t-lt*nt*pt+rt*ft*pt,$t=At*ft*it-ot*Mt*it-At*nt*_t+tt*Mt*_t+ot*nt*pt-tt*ft*pt,Ot=ot*Tt*it-At*lt*it+At*rt*_t-tt*Tt*_t-ot*rt*pt+tt*lt*pt,It=At*lt*nt-ot*Tt*nt-At*rt*ft+tt*Tt*ft+ot*rt*Mt-tt*lt*Mt,Dt=_*Pt+$*$t+j*Ot+_e*It;if(Dt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Lt=1/Dt;return i[0]=Pt*Lt,i[1]=(Tt*ft*_e-lt*Mt*_e-Tt*j*_t+$*Mt*_t+lt*j*pt-$*ft*pt)*Lt,i[2]=(rt*Mt*_e-Tt*nt*_e+Tt*j*it-$*Mt*it-rt*j*pt+$*nt*pt)*Lt,i[3]=(lt*nt*_e-rt*ft*_e-lt*j*it+$*ft*it+rt*j*_t-$*nt*_t)*Lt,i[4]=$t*Lt,i[5]=(ot*Mt*_e-At*ft*_e+At*j*_t-_*Mt*_t-ot*j*pt+_*ft*pt)*Lt,i[6]=(At*nt*_e-tt*Mt*_e-At*j*it+_*Mt*it+tt*j*pt-_*nt*pt)*Lt,i[7]=(tt*ft*_e-ot*nt*_e+ot*j*it-_*ft*it-tt*j*_t+_*nt*_t)*Lt,i[8]=Ot*Lt,i[9]=(At*lt*_e-ot*Tt*_e-At*$*_t+_*Tt*_t+ot*$*pt-_*lt*pt)*Lt,i[10]=(tt*Tt*_e-At*rt*_e+At*$*it-_*Tt*it-tt*$*pt+_*rt*pt)*Lt,i[11]=(ot*rt*_e-tt*lt*_e-ot*$*it+_*lt*it+tt*$*_t-_*rt*_t)*Lt,i[12]=It*Lt,i[13]=(ot*Tt*j-At*lt*j+At*$*ft-_*Tt*ft-ot*$*Mt+_*lt*Mt)*Lt,i[14]=(At*rt*j-tt*Tt*j-At*$*nt+_*Tt*nt+tt*$*Mt-_*rt*Mt)*Lt,i[15]=(tt*lt*j-ot*rt*j+ot*$*nt-_*lt*nt-tt*$*ft+_*rt*ft)*Lt,this}scale(i){const _=this.elements,$=i.x,j=i.y,_e=i.z;return _[0]*=$,_[4]*=j,_[8]*=_e,_[1]*=$,_[5]*=j,_[9]*=_e,_[2]*=$,_[6]*=j,_[10]*=_e,_[3]*=$,_[7]*=j,_[11]*=_e,this}getMaxScaleOnAxis(){const i=this.elements,_=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],$=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],j=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(_,$,j))}makeTranslation(i,_,$){return i.isVector3?this.set(1,0,0,i.x,0,1,0,i.y,0,0,1,i.z,0,0,0,1):this.set(1,0,0,i,0,1,0,_,0,0,1,$,0,0,0,1),this}makeRotationX(i){const _=Math.cos(i),$=Math.sin(i);return this.set(1,0,0,0,0,_,-$,0,0,$,_,0,0,0,0,1),this}makeRotationY(i){const _=Math.cos(i),$=Math.sin(i);return this.set(_,0,$,0,0,1,0,0,-$,0,_,0,0,0,0,1),this}makeRotationZ(i){const _=Math.cos(i),$=Math.sin(i);return this.set(_,-$,0,0,$,_,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(i,_){const $=Math.cos(_),j=Math.sin(_),_e=1-$,tt=i.x,rt=i.y,nt=i.z,it=_e*tt,ot=_e*rt;return this.set(it*tt+$,it*rt-j*nt,it*nt+j*rt,0,it*rt+j*nt,ot*rt+$,ot*nt-j*tt,0,it*nt-j*rt,ot*nt+j*tt,_e*nt*nt+$,0,0,0,0,1),this}makeScale(i,_,$){return this.set(i,0,0,0,0,_,0,0,0,0,$,0,0,0,0,1),this}makeShear(i,_,$,j,_e,tt){return this.set(1,$,_e,0,i,1,tt,0,_,j,1,0,0,0,0,1),this}compose(i,_,$){const j=this.elements,_e=_._x,tt=_._y,rt=_._z,nt=_._w,it=_e+_e,ot=tt+tt,lt=rt+rt,ft=_e*it,_t=_e*ot,At=_e*lt,Tt=tt*ot,Mt=tt*lt,pt=rt*lt,Pt=nt*it,$t=nt*ot,Ot=nt*lt,It=$.x,Dt=$.y,Lt=$.z;return j[0]=(1-(Tt+pt))*It,j[1]=(_t+Ot)*It,j[2]=(At-$t)*It,j[3]=0,j[4]=(_t-Ot)*Dt,j[5]=(1-(ft+pt))*Dt,j[6]=(Mt+Pt)*Dt,j[7]=0,j[8]=(At+$t)*Lt,j[9]=(Mt-Pt)*Lt,j[10]=(1-(ft+Tt))*Lt,j[11]=0,j[12]=i.x,j[13]=i.y,j[14]=i.z,j[15]=1,this}decompose(i,_,$){const j=this.elements;let _e=_v1$5.set(j[0],j[1],j[2]).length();const tt=_v1$5.set(j[4],j[5],j[6]).length(),rt=_v1$5.set(j[8],j[9],j[10]).length();this.determinant()<0&&(_e=-_e),i.x=j[12],i.y=j[13],i.z=j[14],_m1$2.copy(this);const it=1/_e,ot=1/tt,lt=1/rt;return _m1$2.elements[0]*=it,_m1$2.elements[1]*=it,_m1$2.elements[2]*=it,_m1$2.elements[4]*=ot,_m1$2.elements[5]*=ot,_m1$2.elements[6]*=ot,_m1$2.elements[8]*=lt,_m1$2.elements[9]*=lt,_m1$2.elements[10]*=lt,_.setFromRotationMatrix(_m1$2),$.x=_e,$.y=tt,$.z=rt,this}makePerspective(i,_,$,j,_e,tt,rt=WebGLCoordinateSystem,nt=!1){const it=this.elements,ot=2*_e/(_-i),lt=2*_e/($-j),ft=(_+i)/(_-i),_t=($+j)/($-j);let At,Tt;if(nt)At=_e/(tt-_e),Tt=tt*_e/(tt-_e);else if(rt===WebGLCoordinateSystem)At=-(tt+_e)/(tt-_e),Tt=-2*tt*_e/(tt-_e);else if(rt===WebGPUCoordinateSystem)At=-tt/(tt-_e),Tt=-tt*_e/(tt-_e);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+rt);return it[0]=ot,it[4]=0,it[8]=ft,it[12]=0,it[1]=0,it[5]=lt,it[9]=_t,it[13]=0,it[2]=0,it[6]=0,it[10]=At,it[14]=Tt,it[3]=0,it[7]=0,it[11]=-1,it[15]=0,this}makeOrthographic(i,_,$,j,_e,tt,rt=WebGLCoordinateSystem,nt=!1){const it=this.elements,ot=2/(_-i),lt=2/($-j),ft=-(_+i)/(_-i),_t=-($+j)/($-j);let At,Tt;if(nt)At=1/(tt-_e),Tt=tt/(tt-_e);else if(rt===WebGLCoordinateSystem)At=-2/(tt-_e),Tt=-(tt+_e)/(tt-_e);else if(rt===WebGPUCoordinateSystem)At=-1/(tt-_e),Tt=-_e/(tt-_e);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+rt);return it[0]=ot,it[4]=0,it[8]=0,it[12]=ft,it[1]=0,it[5]=lt,it[9]=0,it[13]=_t,it[2]=0,it[6]=0,it[10]=At,it[14]=Tt,it[3]=0,it[7]=0,it[11]=0,it[15]=1,this}equals(i){const _=this.elements,$=i.elements;for(let j=0;j<16;j++)if(_[j]!==$[j])return!1;return!0}fromArray(i,_=0){for(let $=0;$<16;$++)this.elements[$]=i[$+_];return this}toArray(i=[],_=0){const $=this.elements;return i[_]=$[0],i[_+1]=$[1],i[_+2]=$[2],i[_+3]=$[3],i[_+4]=$[4],i[_+5]=$[5],i[_+6]=$[6],i[_+7]=$[7],i[_+8]=$[8],i[_+9]=$[9],i[_+10]=$[10],i[_+11]=$[11],i[_+12]=$[12],i[_+13]=$[13],i[_+14]=$[14],i[_+15]=$[15],i}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(i=0,_=0,$=0,j=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=i,this._y=_,this._z=$,this._order=j}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,_,$,j=this._order){return this._x=i,this._y=_,this._z=$,this._order=j,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,_=this._order,$=!0){const j=i.elements,_e=j[0],tt=j[4],rt=j[8],nt=j[1],it=j[5],ot=j[9],lt=j[2],ft=j[6],_t=j[10];switch(_){case"XYZ":this._y=Math.asin(clamp$1(rt,-1,1)),Math.abs(rt)<.9999999?(this._x=Math.atan2(-ot,_t),this._z=Math.atan2(-tt,_e)):(this._x=Math.atan2(ft,it),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(ot,-1,1)),Math.abs(ot)<.9999999?(this._y=Math.atan2(rt,_t),this._z=Math.atan2(nt,it)):(this._y=Math.atan2(-lt,_e),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(-lt,_t),this._z=Math.atan2(-tt,it)):(this._y=0,this._z=Math.atan2(nt,_e));break;case"ZYX":this._y=Math.asin(-clamp$1(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(ft,_t),this._z=Math.atan2(nt,_e)):(this._x=0,this._z=Math.atan2(-tt,it));break;case"YZX":this._z=Math.asin(clamp$1(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(-ot,it),this._y=Math.atan2(-lt,_e)):(this._x=0,this._y=Math.atan2(rt,_t));break;case"XZY":this._z=Math.asin(-clamp$1(tt,-1,1)),Math.abs(tt)<.9999999?(this._x=Math.atan2(ft,it),this._y=Math.atan2(rt,_e)):(this._x=Math.atan2(-ot,_t),this._y=0);break;default:warn$2("Euler: .setFromRotationMatrix() encountered an unknown order: "+_)}return this._order=_,$===!0&&this._onChangeCallback(),this}setFromQuaternion(i,_,$){return _matrix$2.makeRotationFromQuaternion(i),this.setFromRotationMatrix(_matrix$2,_,$)}setFromVector3(i,_=this._order){return this.set(i.x,i.y,i.z,_)}reorder(i){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],_=0){return i[_]=this._x,i[_+1]=this._y,i[_+2]=this._z,i[_+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(i){this.mask=(1<<i|0)>>>0}enable(i){this.mask|=1<<i|0}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i|0}disable(i){this.mask&=~(1<<i|0)}disableAll(){this.mask=0}test(i){return(this.mask&i.mask)!==0}isEnabled(i){return(this.mask&(1<<i|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const i=new Vector3,_=new Euler,$=new Quaternion,j=new Vector3(1,1,1);function _e(){$.setFromEuler(_,!1)}function tt(){_.setFromQuaternion($,void 0,!1)}_._onChange(_e),$._onChange(tt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:_},quaternion:{configurable:!0,enumerable:!0,value:$},scale:{configurable:!0,enumerable:!0,value:j},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,_){this.quaternion.setFromAxisAngle(i,_)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,_){return _q1.setFromAxisAngle(i,_),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(i,_){return _q1.setFromAxisAngle(i,_),this.quaternion.premultiply(_q1),this}rotateX(i){return this.rotateOnAxis(_xAxis,i)}rotateY(i){return this.rotateOnAxis(_yAxis,i)}rotateZ(i){return this.rotateOnAxis(_zAxis,i)}translateOnAxis(i,_){return _v1$4.copy(i).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(_)),this}translateX(i){return this.translateOnAxis(_xAxis,i)}translateY(i){return this.translateOnAxis(_yAxis,i)}translateZ(i){return this.translateOnAxis(_zAxis,i)}localToWorld(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(i,_,$){i.isVector3?_target.copy(i):_target.set(i,_,$);const j=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),j&&(_m1$1$1.extractRotation(j.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(i){if(arguments.length>1){for(let _=0;_<arguments.length;_++)this.add(arguments[_]);return this}return i===this?(error("Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.removeFromParent(),i.parent=this,this.children.push(i),i.dispatchEvent(_addedEvent),_childaddedEvent.child=i,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):error("Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let $=0;$<arguments.length;$++)this.remove(arguments[$]);return this}const _=this.children.indexOf(i);return _!==-1&&(i.parent=null,this.children.splice(_,1),i.dispatchEvent(_removedEvent),_childremovedEvent.child=i,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const i=this.parent;return i!==null&&i.remove(this),this}clear(){return this.remove(...this.children)}attach(i){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(i.parent.matrixWorld)),i.applyMatrix4(_m1$1$1),i.removeFromParent(),i.parent=this,this.children.push(i),i.updateWorldMatrix(!1,!0),i.dispatchEvent(_addedEvent),_childaddedEvent.child=i,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,_){if(this[i]===_)return this;for(let $=0,j=this.children.length;$<j;$++){const tt=this.children[$].getObjectByProperty(i,_);if(tt!==void 0)return tt}}getObjectsByProperty(i,_,$=[]){this[i]===_&&$.push(this);const j=this.children;for(let _e=0,tt=j.length;_e<tt;_e++)j[_e].getObjectsByProperty(i,_,$);return $}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,i,_scale$2),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const _=this.matrixWorld.elements;return i.set(_[8],_[9],_[10]).normalize()}raycast(){}traverse(i){i(this);const _=this.children;for(let $=0,j=_.length;$<j;$++)_[$].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);const _=this.children;for(let $=0,j=_.length;$<j;$++)_[$].traverseVisible(i)}traverseAncestors(i){const _=this.parent;_!==null&&(i(_),_.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,i=!0);const _=this.children;for(let $=0,j=_.length;$<j;$++)_[$].updateMatrixWorld(i)}updateWorldMatrix(i,_){const $=this.parent;if(i===!0&&$!==null&&$.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),_===!0){const j=this.children;for(let _e=0,tt=j.length;_e<tt;_e++)j[_e].updateWorldMatrix(!1,!0)}}toJSON(i){const _=i===void 0||typeof i=="string",$={};_&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},$.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const j={};j.uuid=this.uuid,j.type=this.type,this.name!==""&&(j.name=this.name),this.castShadow===!0&&(j.castShadow=!0),this.receiveShadow===!0&&(j.receiveShadow=!0),this.visible===!1&&(j.visible=!1),this.frustumCulled===!1&&(j.frustumCulled=!1),this.renderOrder!==0&&(j.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(j.userData=this.userData),j.layers=this.layers.mask,j.matrix=this.matrix.toArray(),j.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(j.matrixAutoUpdate=!1),this.isInstancedMesh&&(j.type="InstancedMesh",j.count=this.count,j.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(j.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(j.type="BatchedMesh",j.perObjectFrustumCulled=this.perObjectFrustumCulled,j.sortObjects=this.sortObjects,j.drawRanges=this._drawRanges,j.reservedRanges=this._reservedRanges,j.geometryInfo=this._geometryInfo.map(rt=>({...rt,boundingBox:rt.boundingBox?rt.boundingBox.toJSON():void 0,boundingSphere:rt.boundingSphere?rt.boundingSphere.toJSON():void 0})),j.instanceInfo=this._instanceInfo.map(rt=>({...rt})),j.availableInstanceIds=this._availableInstanceIds.slice(),j.availableGeometryIds=this._availableGeometryIds.slice(),j.nextIndexStart=this._nextIndexStart,j.nextVertexStart=this._nextVertexStart,j.geometryCount=this._geometryCount,j.maxInstanceCount=this._maxInstanceCount,j.maxVertexCount=this._maxVertexCount,j.maxIndexCount=this._maxIndexCount,j.geometryInitialized=this._geometryInitialized,j.matricesTexture=this._matricesTexture.toJSON(i),j.indirectTexture=this._indirectTexture.toJSON(i),this._colorsTexture!==null&&(j.colorsTexture=this._colorsTexture.toJSON(i)),this.boundingSphere!==null&&(j.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(j.boundingBox=this.boundingBox.toJSON()));function _e(rt,nt){return rt[nt.uuid]===void 0&&(rt[nt.uuid]=nt.toJSON(i)),nt.uuid}if(this.isScene)this.background&&(this.background.isColor?j.background=this.background.toJSON():this.background.isTexture&&(j.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(j.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){j.geometry=_e(i.geometries,this.geometry);const rt=this.geometry.parameters;if(rt!==void 0&&rt.shapes!==void 0){const nt=rt.shapes;if(Array.isArray(nt))for(let it=0,ot=nt.length;it<ot;it++){const lt=nt[it];_e(i.shapes,lt)}else _e(i.shapes,nt)}}if(this.isSkinnedMesh&&(j.bindMode=this.bindMode,j.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(_e(i.skeletons,this.skeleton),j.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const rt=[];for(let nt=0,it=this.material.length;nt<it;nt++)rt.push(_e(i.materials,this.material[nt]));j.material=rt}else j.material=_e(i.materials,this.material);if(this.children.length>0){j.children=[];for(let rt=0;rt<this.children.length;rt++)j.children.push(this.children[rt].toJSON(i).object)}if(this.animations.length>0){j.animations=[];for(let rt=0;rt<this.animations.length;rt++){const nt=this.animations[rt];j.animations.push(_e(i.animations,nt))}}if(_){const rt=tt(i.geometries),nt=tt(i.materials),it=tt(i.textures),ot=tt(i.images),lt=tt(i.shapes),ft=tt(i.skeletons),_t=tt(i.animations),At=tt(i.nodes);rt.length>0&&($.geometries=rt),nt.length>0&&($.materials=nt),it.length>0&&($.textures=it),ot.length>0&&($.images=ot),lt.length>0&&($.shapes=lt),ft.length>0&&($.skeletons=ft),_t.length>0&&($.animations=_t),At.length>0&&($.nodes=At)}return $.object=j,$;function tt(rt){const nt=[];for(const it in rt){const ot=rt[it];delete ot.metadata,nt.push(ot)}return nt}}clone(i){return new this.constructor().copy(this,i)}copy(i,_=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.animations=i.animations.slice(),this.userData=JSON.parse(JSON.stringify(i.userData)),_===!0)for(let $=0;$<i.children.length;$++){const j=i.children[$];this.add(j.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(i=new Vector3,_=new Vector3,$=new Vector3){this.a=i,this.b=_,this.c=$}static getNormal(i,_,$,j){j.subVectors($,_),_v0$1.subVectors(i,_),j.cross(_v0$1);const _e=j.lengthSq();return _e>0?j.multiplyScalar(1/Math.sqrt(_e)):j.set(0,0,0)}static getBarycoord(i,_,$,j,_e){_v0$1.subVectors(j,_),_v1$3.subVectors($,_),_v2$2.subVectors(i,_);const tt=_v0$1.dot(_v0$1),rt=_v0$1.dot(_v1$3),nt=_v0$1.dot(_v2$2),it=_v1$3.dot(_v1$3),ot=_v1$3.dot(_v2$2),lt=tt*it-rt*rt;if(lt===0)return _e.set(0,0,0),null;const ft=1/lt,_t=(it*nt-rt*ot)*ft,At=(tt*ot-rt*nt)*ft;return _e.set(1-_t-At,At,_t)}static containsPoint(i,_,$,j){return this.getBarycoord(i,_,$,j,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(i,_,$,j,_e,tt,rt,nt){return this.getBarycoord(i,_,$,j,_v3$2)===null?(nt.x=0,nt.y=0,"z"in nt&&(nt.z=0),"w"in nt&&(nt.w=0),null):(nt.setScalar(0),nt.addScaledVector(_e,_v3$2.x),nt.addScaledVector(tt,_v3$2.y),nt.addScaledVector(rt,_v3$2.z),nt)}static getInterpolatedAttribute(i,_,$,j,_e,tt){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(i,_),_v41.fromBufferAttribute(i,$),_v42.fromBufferAttribute(i,j),tt.setScalar(0),tt.addScaledVector(_v40,_e.x),tt.addScaledVector(_v41,_e.y),tt.addScaledVector(_v42,_e.z),tt}static isFrontFacing(i,_,$,j){return _v0$1.subVectors($,_),_v1$3.subVectors(i,_),_v0$1.cross(_v1$3).dot(j)<0}set(i,_,$){return this.a.copy(i),this.b.copy(_),this.c.copy($),this}setFromPointsAndIndices(i,_,$,j){return this.a.copy(i[_]),this.b.copy(i[$]),this.c.copy(i[j]),this}setFromAttributeAndIndices(i,_,$,j){return this.a.fromBufferAttribute(i,_),this.b.fromBufferAttribute(i,$),this.c.fromBufferAttribute(i,j),this}clone(){return new this.constructor().copy(this)}copy(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(i){return i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(i){return Triangle.getNormal(this.a,this.b,this.c,i)}getPlane(i){return i.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(i,_){return Triangle.getBarycoord(i,this.a,this.b,this.c,_)}getInterpolation(i,_,$,j,_e){return Triangle.getInterpolation(i,this.a,this.b,this.c,_,$,j,_e)}containsPoint(i){return Triangle.containsPoint(i,this.a,this.b,this.c)}isFrontFacing(i){return Triangle.isFrontFacing(this.a,this.b,this.c,i)}intersectsBox(i){return i.intersectsTriangle(this)}closestPointToPoint(i,_){const $=this.a,j=this.b,_e=this.c;let tt,rt;_vab.subVectors(j,$),_vac.subVectors(_e,$),_vap.subVectors(i,$);const nt=_vab.dot(_vap),it=_vac.dot(_vap);if(nt<=0&&it<=0)return _.copy($);_vbp.subVectors(i,j);const ot=_vab.dot(_vbp),lt=_vac.dot(_vbp);if(ot>=0&&lt<=ot)return _.copy(j);const ft=nt*lt-ot*it;if(ft<=0&&nt>=0&&ot<=0)return tt=nt/(nt-ot),_.copy($).addScaledVector(_vab,tt);_vcp.subVectors(i,_e);const _t=_vab.dot(_vcp),At=_vac.dot(_vcp);if(At>=0&&_t<=At)return _.copy(_e);const Tt=_t*it-nt*At;if(Tt<=0&&it>=0&&At<=0)return rt=it/(it-At),_.copy($).addScaledVector(_vac,rt);const Mt=ot*At-_t*lt;if(Mt<=0&&lt-ot>=0&&_t-At>=0)return _vbc.subVectors(_e,j),rt=(lt-ot)/(lt-ot+(_t-At)),_.copy(j).addScaledVector(_vbc,rt);const pt=1/(Mt+Tt+ft);return tt=Tt*pt,rt=ft*pt,_.copy($).addScaledVector(_vab,tt).addScaledVector(_vac,rt)}equals(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(o,i,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?o+(i-o)*6*_:_<1/2?i:_<2/3?o+(i-o)*6*(2/3-_):o}let Color$1=class{constructor(i,_,$){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(i,_,$)}set(i,_,$){if(_===void 0&&$===void 0){const j=i;j&&j.isColor?this.copy(j):typeof j=="number"?this.setHex(j):typeof j=="string"&&this.setStyle(j)}else this.setRGB(i,_,$);return this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,_=SRGBColorSpace){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,ColorManagement.colorSpaceToWorking(this,_),this}setRGB(i,_,$,j=ColorManagement.workingColorSpace){return this.r=i,this.g=_,this.b=$,ColorManagement.colorSpaceToWorking(this,j),this}setHSL(i,_,$,j=ColorManagement.workingColorSpace){if(i=euclideanModulo(i,1),_=clamp$1(_,0,1),$=clamp$1($,0,1),_===0)this.r=this.g=this.b=$;else{const _e=$<=.5?$*(1+_):$+_-$*_,tt=2*$-_e;this.r=hue2rgb(tt,_e,i+1/3),this.g=hue2rgb(tt,_e,i),this.b=hue2rgb(tt,_e,i-1/3)}return ColorManagement.colorSpaceToWorking(this,j),this}setStyle(i,_=SRGBColorSpace){function $(_e){_e!==void 0&&parseFloat(_e)<1&&warn$2("Color: Alpha component of "+i+" will be ignored.")}let j;if(j=/^(\w+)\(([^\)]*)\)/.exec(i)){let _e;const tt=j[1],rt=j[2];switch(tt){case"rgb":case"rgba":if(_e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt))return $(_e[4]),this.setRGB(Math.min(255,parseInt(_e[1],10))/255,Math.min(255,parseInt(_e[2],10))/255,Math.min(255,parseInt(_e[3],10))/255,_);if(_e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt))return $(_e[4]),this.setRGB(Math.min(100,parseInt(_e[1],10))/100,Math.min(100,parseInt(_e[2],10))/100,Math.min(100,parseInt(_e[3],10))/100,_);break;case"hsl":case"hsla":if(_e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(rt))return $(_e[4]),this.setHSL(parseFloat(_e[1])/360,parseFloat(_e[2])/100,parseFloat(_e[3])/100,_);break;default:warn$2("Color: Unknown color model "+i)}}else if(j=/^\#([A-Fa-f\d]+)$/.exec(i)){const _e=j[1],tt=_e.length;if(tt===3)return this.setRGB(parseInt(_e.charAt(0),16)/15,parseInt(_e.charAt(1),16)/15,parseInt(_e.charAt(2),16)/15,_);if(tt===6)return this.setHex(parseInt(_e,16),_);warn$2("Color: Invalid hex color "+i)}else if(i&&i.length>0)return this.setColorName(i,_);return this}setColorName(i,_=SRGBColorSpace){const $=_colorKeywords[i.toLowerCase()];return $!==void 0?this.setHex($,_):warn$2("Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=SRGBToLinear(i.r),this.g=SRGBToLinear(i.g),this.b=SRGBToLinear(i.b),this}copyLinearToSRGB(i){return this.r=LinearToSRGB(i.r),this.g=LinearToSRGB(i.g),this.b=LinearToSRGB(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=SRGBColorSpace){return ColorManagement.workingToColorSpace(_color.copy(this),i),Math.round(clamp$1(_color.r*255,0,255))*65536+Math.round(clamp$1(_color.g*255,0,255))*256+Math.round(clamp$1(_color.b*255,0,255))}getHexString(i=SRGBColorSpace){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,_=ColorManagement.workingColorSpace){ColorManagement.workingToColorSpace(_color.copy(this),_);const $=_color.r,j=_color.g,_e=_color.b,tt=Math.max($,j,_e),rt=Math.min($,j,_e);let nt,it;const ot=(rt+tt)/2;if(rt===tt)nt=0,it=0;else{const lt=tt-rt;switch(it=ot<=.5?lt/(tt+rt):lt/(2-tt-rt),tt){case $:nt=(j-_e)/lt+(j<_e?6:0);break;case j:nt=(_e-$)/lt+2;break;case _e:nt=($-j)/lt+4;break}nt/=6}return i.h=nt,i.s=it,i.l=ot,i}getRGB(i,_=ColorManagement.workingColorSpace){return ColorManagement.workingToColorSpace(_color.copy(this),_),i.r=_color.r,i.g=_color.g,i.b=_color.b,i}getStyle(i=SRGBColorSpace){ColorManagement.workingToColorSpace(_color.copy(this),i);const _=_color.r,$=_color.g,j=_color.b;return i!==SRGBColorSpace?`color(${i} ${_.toFixed(3)} ${$.toFixed(3)} ${j.toFixed(3)})`:`rgb(${Math.round(_*255)},${Math.round($*255)},${Math.round(j*255)})`}offsetHSL(i,_,$){return this.getHSL(_hslA),this.setHSL(_hslA.h+i,_hslA.s+_,_hslA.l+$)}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,_){return this.r=i.r+_.r,this.g=i.g+_.g,this.b=i.b+_.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,_){return this.r+=(i.r-this.r)*_,this.g+=(i.g-this.g)*_,this.b+=(i.b-this.b)*_,this}lerpColors(i,_,$){return this.r=i.r+(_.r-i.r)*$,this.g=i.g+(_.g-i.g)*$,this.b=i.b+(_.b-i.b)*$,this}lerpHSL(i,_){this.getHSL(_hslA),i.getHSL(_hslB);const $=lerp(_hslA.h,_hslB.h,_),j=lerp(_hslA.s,_hslB.s,_),_e=lerp(_hslA.l,_hslB.l,_);return this.setHSL($,j,_e),this}setFromVector3(i){return this.r=i.x,this.g=i.y,this.b=i.z,this}applyMatrix3(i){const _=this.r,$=this.g,j=this.b,_e=i.elements;return this.r=_e[0]*_+_e[3]*$+_e[6]*j,this.g=_e[1]*_+_e[4]*$+_e[7]*j,this.b=_e[2]*_+_e[5]*$+_e[8]*j,this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,_=0){return this.r=i[_],this.g=i[_+1],this.b=i[_+2],this}toArray(i=[],_=0){return i[_]=this.r,i[_+1]=this.g,i[_+2]=this.b,i}fromBufferAttribute(i,_){return this.r=i.getX(_),this.g=i.getY(_),this.b=i.getZ(_),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(i){this._alphaTest>0!=i>0&&this.version++,this._alphaTest=i}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(i){if(i!==void 0)for(const _ in i){const $=i[_];if($===void 0){warn$2(`Material: parameter '${_}' has value of undefined.`);continue}const j=this[_];if(j===void 0){warn$2(`Material: '${_}' is not a property of THREE.${this.type}.`);continue}j&&j.isColor?j.set($):j&&j.isVector3&&$&&$.isVector3?j.copy($):this[_]=$}}toJSON(i){const _=i===void 0||typeof i=="string";_&&(i={textures:{},images:{}});const $={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};$.uuid=this.uuid,$.type=this.type,this.name!==""&&($.name=this.name),this.color&&this.color.isColor&&($.color=this.color.getHex()),this.roughness!==void 0&&($.roughness=this.roughness),this.metalness!==void 0&&($.metalness=this.metalness),this.sheen!==void 0&&($.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&($.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&($.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&($.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&($.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&($.specular=this.specular.getHex()),this.specularIntensity!==void 0&&($.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&($.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&($.shininess=this.shininess),this.clearcoat!==void 0&&($.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&($.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&($.clearcoatMap=this.clearcoatMap.toJSON(i).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&($.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(i).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&($.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(i).uuid,$.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&($.sheenColorMap=this.sheenColorMap.toJSON(i).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&($.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(i).uuid),this.dispersion!==void 0&&($.dispersion=this.dispersion),this.iridescence!==void 0&&($.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&($.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&($.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&($.iridescenceMap=this.iridescenceMap.toJSON(i).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&($.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(i).uuid),this.anisotropy!==void 0&&($.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&($.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&($.anisotropyMap=this.anisotropyMap.toJSON(i).uuid),this.map&&this.map.isTexture&&($.map=this.map.toJSON(i).uuid),this.matcap&&this.matcap.isTexture&&($.matcap=this.matcap.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&($.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&($.lightMap=this.lightMap.toJSON(i).uuid,$.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&($.aoMap=this.aoMap.toJSON(i).uuid,$.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&($.bumpMap=this.bumpMap.toJSON(i).uuid,$.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&($.normalMap=this.normalMap.toJSON(i).uuid,$.normalMapType=this.normalMapType,$.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&($.displacementMap=this.displacementMap.toJSON(i).uuid,$.displacementScale=this.displacementScale,$.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&($.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&($.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&($.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&($.specularMap=this.specularMap.toJSON(i).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&($.specularIntensityMap=this.specularIntensityMap.toJSON(i).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&($.specularColorMap=this.specularColorMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&($.envMap=this.envMap.toJSON(i).uuid,this.combine!==void 0&&($.combine=this.combine)),this.envMapRotation!==void 0&&($.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&($.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&($.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&($.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&($.gradientMap=this.gradientMap.toJSON(i).uuid),this.transmission!==void 0&&($.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&($.transmissionMap=this.transmissionMap.toJSON(i).uuid),this.thickness!==void 0&&($.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&($.thicknessMap=this.thicknessMap.toJSON(i).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&($.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&($.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&($.size=this.size),this.shadowSide!==null&&($.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&($.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&($.blending=this.blending),this.side!==FrontSide&&($.side=this.side),this.vertexColors===!0&&($.vertexColors=!0),this.opacity<1&&($.opacity=this.opacity),this.transparent===!0&&($.transparent=!0),this.blendSrc!==SrcAlphaFactor&&($.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&($.blendDst=this.blendDst),this.blendEquation!==AddEquation&&($.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&($.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&($.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&($.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&($.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&($.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&($.depthFunc=this.depthFunc),this.depthTest===!1&&($.depthTest=this.depthTest),this.depthWrite===!1&&($.depthWrite=this.depthWrite),this.colorWrite===!1&&($.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&($.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&($.stencilFunc=this.stencilFunc),this.stencilRef!==0&&($.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&($.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&($.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&($.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&($.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&($.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&($.rotation=this.rotation),this.polygonOffset===!0&&($.polygonOffset=!0),this.polygonOffsetFactor!==0&&($.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&($.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&($.linewidth=this.linewidth),this.dashSize!==void 0&&($.dashSize=this.dashSize),this.gapSize!==void 0&&($.gapSize=this.gapSize),this.scale!==void 0&&($.scale=this.scale),this.dithering===!0&&($.dithering=!0),this.alphaTest>0&&($.alphaTest=this.alphaTest),this.alphaHash===!0&&($.alphaHash=!0),this.alphaToCoverage===!0&&($.alphaToCoverage=!0),this.premultipliedAlpha===!0&&($.premultipliedAlpha=!0),this.forceSinglePass===!0&&($.forceSinglePass=!0),this.wireframe===!0&&($.wireframe=!0),this.wireframeLinewidth>1&&($.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&($.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&($.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&($.flatShading=!0),this.visible===!1&&($.visible=!1),this.toneMapped===!1&&($.toneMapped=!1),this.fog===!1&&($.fog=!1),Object.keys(this.userData).length>0&&($.userData=this.userData);function j(_e){const tt=[];for(const rt in _e){const nt=_e[rt];delete nt.metadata,tt.push(nt)}return tt}if(_){const _e=j(i.textures),tt=j(i.images);_e.length>0&&($.textures=_e),tt.length>0&&($.images=tt)}return $}clone(){return new this.constructor().copy(this)}copy(i){this.name=i.name,this.blending=i.blending,this.side=i.side,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.blendColor.copy(i.blendColor),this.blendAlpha=i.blendAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.stencilWriteMask=i.stencilWriteMask,this.stencilFunc=i.stencilFunc,this.stencilRef=i.stencilRef,this.stencilFuncMask=i.stencilFuncMask,this.stencilFail=i.stencilFail,this.stencilZFail=i.stencilZFail,this.stencilZPass=i.stencilZPass,this.stencilWrite=i.stencilWrite;const _=i.clippingPlanes;let $=null;if(_!==null){const j=_.length;$=new Array(j);for(let _e=0;_e!==j;++_e)$[_e]=_[_e].clone()}return this.clippingPlanes=$,this.clipIntersection=i.clipIntersection,this.clipShadows=i.clipShadows,this.shadowSide=i.shadowSide,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.alphaHash=i.alphaHash,this.alphaToCoverage=i.alphaToCoverage,this.premultipliedAlpha=i.premultipliedAlpha,this.forceSinglePass=i.forceSinglePass,this.visible=i.visible,this.toneMapped=i.toneMapped,this.userData=JSON.parse(JSON.stringify(i.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(i){i===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(i){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapRotation.copy(i.envMapRotation),this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.fog=i.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor(i,_,$=!1){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=i,this.itemSize=_,this.count=i!==void 0?i.length/_:0,this.normalized=$,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}addUpdateRange(i,_){this.updateRanges.push({start:i,count:_})}clearUpdateRanges(){this.updateRanges.length=0}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this.gpuType=i.gpuType,this}copyAt(i,_,$){i*=this.itemSize,$*=_.itemSize;for(let j=0,_e=this.itemSize;j<_e;j++)this.array[i+j]=_.array[$+j];return this}copyArray(i){return this.array.set(i),this}applyMatrix3(i){if(this.itemSize===2)for(let _=0,$=this.count;_<$;_++)_vector2$1.fromBufferAttribute(this,_),_vector2$1.applyMatrix3(i),this.setXY(_,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let _=0,$=this.count;_<$;_++)_vector$9.fromBufferAttribute(this,_),_vector$9.applyMatrix3(i),this.setXYZ(_,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(i){for(let _=0,$=this.count;_<$;_++)_vector$9.fromBufferAttribute(this,_),_vector$9.applyMatrix4(i),this.setXYZ(_,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(i){for(let _=0,$=this.count;_<$;_++)_vector$9.fromBufferAttribute(this,_),_vector$9.applyNormalMatrix(i),this.setXYZ(_,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(i){for(let _=0,$=this.count;_<$;_++)_vector$9.fromBufferAttribute(this,_),_vector$9.transformDirection(i),this.setXYZ(_,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(i,_=0){return this.array.set(i,_),this}getComponent(i,_){let $=this.array[i*this.itemSize+_];return this.normalized&&($=denormalize($,this.array)),$}setComponent(i,_,$){return this.normalized&&($=normalize$1($,this.array)),this.array[i*this.itemSize+_]=$,this}getX(i){let _=this.array[i*this.itemSize];return this.normalized&&(_=denormalize(_,this.array)),_}setX(i,_){return this.normalized&&(_=normalize$1(_,this.array)),this.array[i*this.itemSize]=_,this}getY(i){let _=this.array[i*this.itemSize+1];return this.normalized&&(_=denormalize(_,this.array)),_}setY(i,_){return this.normalized&&(_=normalize$1(_,this.array)),this.array[i*this.itemSize+1]=_,this}getZ(i){let _=this.array[i*this.itemSize+2];return this.normalized&&(_=denormalize(_,this.array)),_}setZ(i,_){return this.normalized&&(_=normalize$1(_,this.array)),this.array[i*this.itemSize+2]=_,this}getW(i){let _=this.array[i*this.itemSize+3];return this.normalized&&(_=denormalize(_,this.array)),_}setW(i,_){return this.normalized&&(_=normalize$1(_,this.array)),this.array[i*this.itemSize+3]=_,this}setXY(i,_,$){return i*=this.itemSize,this.normalized&&(_=normalize$1(_,this.array),$=normalize$1($,this.array)),this.array[i+0]=_,this.array[i+1]=$,this}setXYZ(i,_,$,j){return i*=this.itemSize,this.normalized&&(_=normalize$1(_,this.array),$=normalize$1($,this.array),j=normalize$1(j,this.array)),this.array[i+0]=_,this.array[i+1]=$,this.array[i+2]=j,this}setXYZW(i,_,$,j,_e){return i*=this.itemSize,this.normalized&&(_=normalize$1(_,this.array),$=normalize$1($,this.array),j=normalize$1(j,this.array),_e=normalize$1(_e,this.array)),this.array[i+0]=_,this.array[i+1]=$,this.array[i+2]=j,this.array[i+3]=_e,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==StaticDrawUsage&&(i.usage=this.usage),i}}class Uint16BufferAttribute extends BufferAttribute{constructor(i,_,$){super(new Uint16Array(i),_,$)}}class Uint32BufferAttribute extends BufferAttribute{constructor(i,_,$){super(new Uint32Array(i),_,$)}}class Float32BufferAttribute extends BufferAttribute{constructor(i,_,$){super(new Float32Array(i),_,$)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(i){return Array.isArray(i)?this.index=new(arrayNeedsUint32(i)?Uint32BufferAttribute:Uint16BufferAttribute)(i,1):this.index=i,this}setIndirect(i){return this.indirect=i,this}getIndirect(){return this.indirect}getAttribute(i){return this.attributes[i]}setAttribute(i,_){return this.attributes[i]=_,this}deleteAttribute(i){return delete this.attributes[i],this}hasAttribute(i){return this.attributes[i]!==void 0}addGroup(i,_,$=0){this.groups.push({start:i,count:_,materialIndex:$})}clearGroups(){this.groups=[]}setDrawRange(i,_){this.drawRange.start=i,this.drawRange.count=_}applyMatrix4(i){const _=this.attributes.position;_!==void 0&&(_.applyMatrix4(i),_.needsUpdate=!0);const $=this.attributes.normal;if($!==void 0){const _e=new Matrix3().getNormalMatrix(i);$.applyNormalMatrix(_e),$.needsUpdate=!0}const j=this.attributes.tangent;return j!==void 0&&(j.transformDirection(i),j.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(i){return _m1$3.makeRotationFromQuaternion(i),this.applyMatrix4(_m1$3),this}rotateX(i){return _m1$3.makeRotationX(i),this.applyMatrix4(_m1$3),this}rotateY(i){return _m1$3.makeRotationY(i),this.applyMatrix4(_m1$3),this}rotateZ(i){return _m1$3.makeRotationZ(i),this.applyMatrix4(_m1$3),this}translate(i,_,$){return _m1$3.makeTranslation(i,_,$),this.applyMatrix4(_m1$3),this}scale(i,_,$){return _m1$3.makeScale(i,_,$),this.applyMatrix4(_m1$3),this}lookAt(i){return _obj.lookAt(i),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(i){const _=this.getAttribute("position");if(_===void 0){const $=[];for(let j=0,_e=i.length;j<_e;j++){const tt=i[j];$.push(tt.x,tt.y,tt.z||0)}this.setAttribute("position",new Float32BufferAttribute($,3))}else{const $=Math.min(i.length,_.count);for(let j=0;j<$;j++){const _e=i[j];_.setXYZ(j,_e.x,_e.y,_e.z||0)}i.length>_.count&&warn$2("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),_.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const i=this.attributes.position,_=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){error("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(i!==void 0){if(this.boundingBox.setFromBufferAttribute(i),_)for(let $=0,j=_.length;$<j;$++){const _e=_[$];_box$2.setFromBufferAttribute(_e),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&error('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const i=this.attributes.position,_=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){error("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(i){const $=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(i),_)for(let _e=0,tt=_.length;_e<tt;_e++){const rt=_[_e];_boxMorphTargets.setFromBufferAttribute(rt),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter($);let j=0;for(let _e=0,tt=i.count;_e<tt;_e++)_vector$8.fromBufferAttribute(i,_e),j=Math.max(j,$.distanceToSquared(_vector$8));if(_)for(let _e=0,tt=_.length;_e<tt;_e++){const rt=_[_e],nt=this.morphTargetsRelative;for(let it=0,ot=rt.count;it<ot;it++)_vector$8.fromBufferAttribute(rt,it),nt&&(_offset.fromBufferAttribute(i,it),_vector$8.add(_offset)),j=Math.max(j,$.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(j),isNaN(this.boundingSphere.radius)&&error('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const i=this.index,_=this.attributes;if(i===null||_.position===void 0||_.normal===void 0||_.uv===void 0){error("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const $=_.position,j=_.normal,_e=_.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*$.count),4));const tt=this.getAttribute("tangent"),rt=[],nt=[];for(let Bt=0;Bt<$.count;Bt++)rt[Bt]=new Vector3,nt[Bt]=new Vector3;const it=new Vector3,ot=new Vector3,lt=new Vector3,ft=new Vector2,_t=new Vector2,At=new Vector2,Tt=new Vector3,Mt=new Vector3;function pt(Bt,jt,Ut){it.fromBufferAttribute($,Bt),ot.fromBufferAttribute($,jt),lt.fromBufferAttribute($,Ut),ft.fromBufferAttribute(_e,Bt),_t.fromBufferAttribute(_e,jt),At.fromBufferAttribute(_e,Ut),ot.sub(it),lt.sub(it),_t.sub(ft),At.sub(ft);const Gt=1/(_t.x*At.y-At.x*_t.y);isFinite(Gt)&&(Tt.copy(ot).multiplyScalar(At.y).addScaledVector(lt,-_t.y).multiplyScalar(Gt),Mt.copy(lt).multiplyScalar(_t.x).addScaledVector(ot,-At.x).multiplyScalar(Gt),rt[Bt].add(Tt),rt[jt].add(Tt),rt[Ut].add(Tt),nt[Bt].add(Mt),nt[jt].add(Mt),nt[Ut].add(Mt))}let Pt=this.groups;Pt.length===0&&(Pt=[{start:0,count:i.count}]);for(let Bt=0,jt=Pt.length;Bt<jt;++Bt){const Ut=Pt[Bt],Gt=Ut.start,qt=Ut.count;for(let Jt=Gt,er=Gt+qt;Jt<er;Jt+=3)pt(i.getX(Jt+0),i.getX(Jt+1),i.getX(Jt+2))}const $t=new Vector3,Ot=new Vector3,It=new Vector3,Dt=new Vector3;function Lt(Bt){It.fromBufferAttribute(j,Bt),Dt.copy(It);const jt=rt[Bt];$t.copy(jt),$t.sub(It.multiplyScalar(It.dot(jt))).normalize(),Ot.crossVectors(Dt,jt);const Gt=Ot.dot(nt[Bt])<0?-1:1;tt.setXYZW(Bt,$t.x,$t.y,$t.z,Gt)}for(let Bt=0,jt=Pt.length;Bt<jt;++Bt){const Ut=Pt[Bt],Gt=Ut.start,qt=Ut.count;for(let Jt=Gt,er=Gt+qt;Jt<er;Jt+=3)Lt(i.getX(Jt+0)),Lt(i.getX(Jt+1)),Lt(i.getX(Jt+2))}}computeVertexNormals(){const i=this.index,_=this.getAttribute("position");if(_!==void 0){let $=this.getAttribute("normal");if($===void 0)$=new BufferAttribute(new Float32Array(_.count*3),3),this.setAttribute("normal",$);else for(let ft=0,_t=$.count;ft<_t;ft++)$.setXYZ(ft,0,0,0);const j=new Vector3,_e=new Vector3,tt=new Vector3,rt=new Vector3,nt=new Vector3,it=new Vector3,ot=new Vector3,lt=new Vector3;if(i)for(let ft=0,_t=i.count;ft<_t;ft+=3){const At=i.getX(ft+0),Tt=i.getX(ft+1),Mt=i.getX(ft+2);j.fromBufferAttribute(_,At),_e.fromBufferAttribute(_,Tt),tt.fromBufferAttribute(_,Mt),ot.subVectors(tt,_e),lt.subVectors(j,_e),ot.cross(lt),rt.fromBufferAttribute($,At),nt.fromBufferAttribute($,Tt),it.fromBufferAttribute($,Mt),rt.add(ot),nt.add(ot),it.add(ot),$.setXYZ(At,rt.x,rt.y,rt.z),$.setXYZ(Tt,nt.x,nt.y,nt.z),$.setXYZ(Mt,it.x,it.y,it.z)}else for(let ft=0,_t=_.count;ft<_t;ft+=3)j.fromBufferAttribute(_,ft+0),_e.fromBufferAttribute(_,ft+1),tt.fromBufferAttribute(_,ft+2),ot.subVectors(tt,_e),lt.subVectors(j,_e),ot.cross(lt),$.setXYZ(ft+0,ot.x,ot.y,ot.z),$.setXYZ(ft+1,ot.x,ot.y,ot.z),$.setXYZ(ft+2,ot.x,ot.y,ot.z);this.normalizeNormals(),$.needsUpdate=!0}}normalizeNormals(){const i=this.attributes.normal;for(let _=0,$=i.count;_<$;_++)_vector$8.fromBufferAttribute(i,_),_vector$8.normalize(),i.setXYZ(_,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function i(rt,nt){const it=rt.array,ot=rt.itemSize,lt=rt.normalized,ft=new it.constructor(nt.length*ot);let _t=0,At=0;for(let Tt=0,Mt=nt.length;Tt<Mt;Tt++){rt.isInterleavedBufferAttribute?_t=nt[Tt]*rt.data.stride+rt.offset:_t=nt[Tt]*ot;for(let pt=0;pt<ot;pt++)ft[At++]=it[_t++]}return new BufferAttribute(ft,ot,lt)}if(this.index===null)return warn$2("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const _=new BufferGeometry,$=this.index.array,j=this.attributes;for(const rt in j){const nt=j[rt],it=i(nt,$);_.setAttribute(rt,it)}const _e=this.morphAttributes;for(const rt in _e){const nt=[],it=_e[rt];for(let ot=0,lt=it.length;ot<lt;ot++){const ft=it[ot],_t=i(ft,$);nt.push(_t)}_.morphAttributes[rt]=nt}_.morphTargetsRelative=this.morphTargetsRelative;const tt=this.groups;for(let rt=0,nt=tt.length;rt<nt;rt++){const it=tt[rt];_.addGroup(it.start,it.count,it.materialIndex)}return _}toJSON(){const i={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){const nt=this.parameters;for(const it in nt)nt[it]!==void 0&&(i[it]=nt[it]);return i}i.data={attributes:{}};const _=this.index;_!==null&&(i.data.index={type:_.array.constructor.name,array:Array.prototype.slice.call(_.array)});const $=this.attributes;for(const nt in $){const it=$[nt];i.data.attributes[nt]=it.toJSON(i.data)}const j={};let _e=!1;for(const nt in this.morphAttributes){const it=this.morphAttributes[nt],ot=[];for(let lt=0,ft=it.length;lt<ft;lt++){const _t=it[lt];ot.push(_t.toJSON(i.data))}ot.length>0&&(j[nt]=ot,_e=!0)}_e&&(i.data.morphAttributes=j,i.data.morphTargetsRelative=this.morphTargetsRelative);const tt=this.groups;tt.length>0&&(i.data.groups=JSON.parse(JSON.stringify(tt)));const rt=this.boundingSphere;return rt!==null&&(i.data.boundingSphere=rt.toJSON()),i}clone(){return new this.constructor().copy(this)}copy(i){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const _={};this.name=i.name;const $=i.index;$!==null&&this.setIndex($.clone());const j=i.attributes;for(const it in j){const ot=j[it];this.setAttribute(it,ot.clone(_))}const _e=i.morphAttributes;for(const it in _e){const ot=[],lt=_e[it];for(let ft=0,_t=lt.length;ft<_t;ft++)ot.push(lt[ft].clone(_));this.morphAttributes[it]=ot}this.morphTargetsRelative=i.morphTargetsRelative;const tt=i.groups;for(let it=0,ot=tt.length;it<ot;it++){const lt=tt[it];this.addGroup(lt.start,lt.count,lt.materialIndex)}const rt=i.boundingBox;rt!==null&&(this.boundingBox=rt.clone());const nt=i.boundingSphere;return nt!==null&&(this.boundingSphere=nt.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(i=new BufferGeometry,_=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=i,this.material=_,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(i,_){return super.copy(i,_),i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this.material=Array.isArray(i.material)?i.material.slice():i.material,this.geometry=i.geometry,this}updateMorphTargets(){const _=this.geometry.morphAttributes,$=Object.keys(_);if($.length>0){const j=_[$[0]];if(j!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _e=0,tt=j.length;_e<tt;_e++){const rt=j[_e].name||String(_e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[rt]=_e}}}}getVertexPosition(i,_){const $=this.geometry,j=$.attributes.position,_e=$.morphAttributes.position,tt=$.morphTargetsRelative;_.fromBufferAttribute(j,i);const rt=this.morphTargetInfluences;if(_e&&rt){_morphA.set(0,0,0);for(let nt=0,it=_e.length;nt<it;nt++){const ot=rt[nt],lt=_e[nt];ot!==0&&(_tempA.fromBufferAttribute(lt,i),tt?_morphA.addScaledVector(_tempA,ot):_morphA.addScaledVector(_tempA.sub(_),ot))}_.add(_morphA)}return _}raycast(i,_){const $=this.geometry,j=this.material,_e=this.matrixWorld;j!==void 0&&($.boundingSphere===null&&$.computeBoundingSphere(),_sphere$6.copy($.boundingSphere),_sphere$6.applyMatrix4(_e),_ray$3.copy(i.ray).recast(i.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(i.far-i.near)**2))&&(_inverseMatrix$3.copy(_e).invert(),_ray$3.copy(i.ray).applyMatrix4(_inverseMatrix$3),!($.boundingBox!==null&&_ray$3.intersectsBox($.boundingBox)===!1)&&this._computeIntersections(i,_,_ray$3)))}_computeIntersections(i,_,$){let j;const _e=this.geometry,tt=this.material,rt=_e.index,nt=_e.attributes.position,it=_e.attributes.uv,ot=_e.attributes.uv1,lt=_e.attributes.normal,ft=_e.groups,_t=_e.drawRange;if(rt!==null)if(Array.isArray(tt))for(let At=0,Tt=ft.length;At<Tt;At++){const Mt=ft[At],pt=tt[Mt.materialIndex],Pt=Math.max(Mt.start,_t.start),$t=Math.min(rt.count,Math.min(Mt.start+Mt.count,_t.start+_t.count));for(let Ot=Pt,It=$t;Ot<It;Ot+=3){const Dt=rt.getX(Ot),Lt=rt.getX(Ot+1),Bt=rt.getX(Ot+2);j=checkGeometryIntersection(this,pt,i,$,it,ot,lt,Dt,Lt,Bt),j&&(j.faceIndex=Math.floor(Ot/3),j.face.materialIndex=Mt.materialIndex,_.push(j))}}else{const At=Math.max(0,_t.start),Tt=Math.min(rt.count,_t.start+_t.count);for(let Mt=At,pt=Tt;Mt<pt;Mt+=3){const Pt=rt.getX(Mt),$t=rt.getX(Mt+1),Ot=rt.getX(Mt+2);j=checkGeometryIntersection(this,tt,i,$,it,ot,lt,Pt,$t,Ot),j&&(j.faceIndex=Math.floor(Mt/3),_.push(j))}}else if(nt!==void 0)if(Array.isArray(tt))for(let At=0,Tt=ft.length;At<Tt;At++){const Mt=ft[At],pt=tt[Mt.materialIndex],Pt=Math.max(Mt.start,_t.start),$t=Math.min(nt.count,Math.min(Mt.start+Mt.count,_t.start+_t.count));for(let Ot=Pt,It=$t;Ot<It;Ot+=3){const Dt=Ot,Lt=Ot+1,Bt=Ot+2;j=checkGeometryIntersection(this,pt,i,$,it,ot,lt,Dt,Lt,Bt),j&&(j.faceIndex=Math.floor(Ot/3),j.face.materialIndex=Mt.materialIndex,_.push(j))}}else{const At=Math.max(0,_t.start),Tt=Math.min(nt.count,_t.start+_t.count);for(let Mt=At,pt=Tt;Mt<pt;Mt+=3){const Pt=Mt,$t=Mt+1,Ot=Mt+2;j=checkGeometryIntersection(this,tt,i,$,it,ot,lt,Pt,$t,Ot),j&&(j.faceIndex=Math.floor(Mt/3),_.push(j))}}}}function checkIntersection$1(o,i,_,$,j,_e,tt,rt){let nt;if(i.side===BackSide?nt=$.intersectTriangle(tt,_e,j,!0,rt):nt=$.intersectTriangle(j,_e,tt,i.side===FrontSide,rt),nt===null)return null;_intersectionPointWorld.copy(rt),_intersectionPointWorld.applyMatrix4(o.matrixWorld);const it=_.ray.origin.distanceTo(_intersectionPointWorld);return it<_.near||it>_.far?null:{distance:it,point:_intersectionPointWorld.clone(),object:o}}function checkGeometryIntersection(o,i,_,$,j,_e,tt,rt,nt,it){o.getVertexPosition(rt,_vA$1),o.getVertexPosition(nt,_vB$1),o.getVertexPosition(it,_vC$1);const ot=checkIntersection$1(o,i,_,$,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ot){const lt=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,lt),j&&(ot.uv=Triangle.getInterpolatedAttribute(j,rt,nt,it,lt,new Vector2)),_e&&(ot.uv1=Triangle.getInterpolatedAttribute(_e,rt,nt,it,lt,new Vector2)),tt&&(ot.normal=Triangle.getInterpolatedAttribute(tt,rt,nt,it,lt,new Vector3),ot.normal.dot($.direction)>0&&ot.normal.multiplyScalar(-1));const ft={a:rt,b:nt,c:it,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ft.normal),ot.face=ft,ot.barycoord=lt}return ot}class BoxGeometry extends BufferGeometry{constructor(i=1,_=1,$=1,j=1,_e=1,tt=1){super(),this.type="BoxGeometry",this.parameters={width:i,height:_,depth:$,widthSegments:j,heightSegments:_e,depthSegments:tt};const rt=this;j=Math.floor(j),_e=Math.floor(_e),tt=Math.floor(tt);const nt=[],it=[],ot=[],lt=[];let ft=0,_t=0;At("z","y","x",-1,-1,$,_,i,tt,_e,0),At("z","y","x",1,-1,$,_,-i,tt,_e,1),At("x","z","y",1,1,i,$,_,j,tt,2),At("x","z","y",1,-1,i,$,-_,j,tt,3),At("x","y","z",1,-1,i,_,$,j,_e,4),At("x","y","z",-1,-1,i,_,-$,j,_e,5),this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2));function At(Tt,Mt,pt,Pt,$t,Ot,It,Dt,Lt,Bt,jt){const Ut=Ot/Lt,Gt=It/Bt,qt=Ot/2,Jt=It/2,er=Dt/2,Kt=Lt+1,zt=Bt+1;let Ht=0,Ft=0;const Vt=new Vector3;for(let Yt=0;Yt<zt;Yt++){const Zt=Yt*Gt-Jt;for(let nr=0;nr<Kt;nr++){const cr=nr*Ut-qt;Vt[Tt]=cr*Pt,Vt[Mt]=Zt*$t,Vt[pt]=er,it.push(Vt.x,Vt.y,Vt.z),Vt[Tt]=0,Vt[Mt]=0,Vt[pt]=Dt>0?1:-1,ot.push(Vt.x,Vt.y,Vt.z),lt.push(nr/Lt),lt.push(1-Yt/Bt),Ht+=1}}for(let Yt=0;Yt<Bt;Yt++)for(let Zt=0;Zt<Lt;Zt++){const nr=ft+Zt+Kt*Yt,cr=ft+Zt+Kt*(Yt+1),vr=ft+(Zt+1)+Kt*(Yt+1),Tr=ft+(Zt+1)+Kt*Yt;nt.push(nr,cr,Tr),nt.push(cr,vr,Tr),Ft+=6}rt.addGroup(_t,Ft,jt),_t+=Ft,ft+=Ht}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new BoxGeometry(i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments)}}function cloneUniforms(o){const i={};for(const _ in o){i[_]={};for(const $ in o[_]){const j=o[_][$];j&&(j.isColor||j.isMatrix3||j.isMatrix4||j.isVector2||j.isVector3||j.isVector4||j.isTexture||j.isQuaternion)?j.isRenderTargetTexture?(warn$2("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),i[_][$]=null):i[_][$]=j.clone():Array.isArray(j)?i[_][$]=j.slice():i[_][$]=j}}return i}function mergeUniforms(o){const i={};for(let _=0;_<o.length;_++){const $=cloneUniforms(o[_]);for(const j in $)i[j]=$[j]}return i}function cloneUniformsGroups(o){const i=[];for(let _=0;_<o.length;_++)i.push(o[_].clone());return i}function getUnlitUniformColorSpace(o){const i=o.getRenderTarget();return i===null?o.outputColorSpace:i.isXRRenderTarget===!0?i.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(i){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,i!==void 0&&this.setValues(i)}copy(i){return super.copy(i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=cloneUniforms(i.uniforms),this.uniformsGroups=cloneUniformsGroups(i.uniformsGroups),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.fog=i.fog,this.lights=i.lights,this.clipping=i.clipping,this.extensions=Object.assign({},i.extensions),this.glslVersion=i.glslVersion,this}toJSON(i){const _=super.toJSON(i);_.glslVersion=this.glslVersion,_.uniforms={};for(const j in this.uniforms){const tt=this.uniforms[j].value;tt&&tt.isTexture?_.uniforms[j]={type:"t",value:tt.toJSON(i).uuid}:tt&&tt.isColor?_.uniforms[j]={type:"c",value:tt.getHex()}:tt&&tt.isVector2?_.uniforms[j]={type:"v2",value:tt.toArray()}:tt&&tt.isVector3?_.uniforms[j]={type:"v3",value:tt.toArray()}:tt&&tt.isVector4?_.uniforms[j]={type:"v4",value:tt.toArray()}:tt&&tt.isMatrix3?_.uniforms[j]={type:"m3",value:tt.toArray()}:tt&&tt.isMatrix4?_.uniforms[j]={type:"m4",value:tt.toArray()}:_.uniforms[j]={value:tt}}Object.keys(this.defines).length>0&&(_.defines=this.defines),_.vertexShader=this.vertexShader,_.fragmentShader=this.fragmentShader,_.lights=this.lights,_.clipping=this.clipping;const $={};for(const j in this.extensions)this.extensions[j]===!0&&($[j]=!0);return Object.keys($).length>0&&(_.extensions=$),_}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(i,_){return super.copy(i,_),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this.coordinateSystem=i.coordinateSystem,this}getWorldDirection(i){return super.getWorldDirection(i).negate()}updateMatrixWorld(i){super.updateMatrixWorld(i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(i,_){super.updateWorldMatrix(i,_),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(i=50,_=1,$=.1,j=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=i,this.zoom=1,this.near=$,this.far=j,this.focus=10,this.aspect=_,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(i,_){return super.copy(i,_),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this}setFocalLength(i){const _=.5*this.getFilmHeight()/i;this.fov=RAD2DEG*2*Math.atan(_),this.updateProjectionMatrix()}getFocalLength(){const i=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/i}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(i,_,$){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),_.set(_v3$1.x,_v3$1.y).multiplyScalar(-i/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),$.set(_v3$1.x,_v3$1.y).multiplyScalar(-i/_v3$1.z)}getViewSize(i,_){return this.getViewBounds(i,_minTarget,_maxTarget),_.subVectors(_maxTarget,_minTarget)}setViewOffset(i,_,$,j,_e,tt){this.aspect=i/_,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=_,this.view.offsetX=$,this.view.offsetY=j,this.view.width=_e,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=this.near;let _=i*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,$=2*_,j=this.aspect*$,_e=-.5*j;const tt=this.view;if(this.view!==null&&this.view.enabled){const nt=tt.fullWidth,it=tt.fullHeight;_e+=tt.offsetX*j/nt,_-=tt.offsetY*$/it,j*=tt.width/nt,$*=tt.height/it}const rt=this.filmOffset;rt!==0&&(_e+=i*rt/this.getFilmWidth()),this.projectionMatrix.makePerspective(_e,_e+j,_,_-$,i,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const _=super.toJSON(i);return _.object.fov=this.fov,_.object.zoom=this.zoom,_.object.near=this.near,_.object.far=this.far,_.object.focus=this.focus,_.object.aspect=this.aspect,this.view!==null&&(_.object.view=Object.assign({},this.view)),_.object.filmGauge=this.filmGauge,_.object.filmOffset=this.filmOffset,_}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(i,_,$){super(),this.type="CubeCamera",this.renderTarget=$,this.coordinateSystem=null,this.activeMipmapLevel=0;const j=new PerspectiveCamera(fov,aspect,i,_);j.layers=this.layers,this.add(j);const _e=new PerspectiveCamera(fov,aspect,i,_);_e.layers=this.layers,this.add(_e);const tt=new PerspectiveCamera(fov,aspect,i,_);tt.layers=this.layers,this.add(tt);const rt=new PerspectiveCamera(fov,aspect,i,_);rt.layers=this.layers,this.add(rt);const nt=new PerspectiveCamera(fov,aspect,i,_);nt.layers=this.layers,this.add(nt);const it=new PerspectiveCamera(fov,aspect,i,_);it.layers=this.layers,this.add(it)}updateCoordinateSystem(){const i=this.coordinateSystem,_=this.children.concat(),[$,j,_e,tt,rt,nt]=_;for(const it of _)this.remove(it);if(i===WebGLCoordinateSystem)$.up.set(0,1,0),$.lookAt(1,0,0),j.up.set(0,1,0),j.lookAt(-1,0,0),_e.up.set(0,0,-1),_e.lookAt(0,1,0),tt.up.set(0,0,1),tt.lookAt(0,-1,0),rt.up.set(0,1,0),rt.lookAt(0,0,1),nt.up.set(0,1,0),nt.lookAt(0,0,-1);else if(i===WebGPUCoordinateSystem)$.up.set(0,-1,0),$.lookAt(-1,0,0),j.up.set(0,-1,0),j.lookAt(1,0,0),_e.up.set(0,0,1),_e.lookAt(0,1,0),tt.up.set(0,0,-1),tt.lookAt(0,-1,0),rt.up.set(0,-1,0),rt.lookAt(0,0,1),nt.up.set(0,-1,0),nt.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+i);for(const it of _)this.add(it),it.updateMatrixWorld()}update(i,_){this.parent===null&&this.updateMatrixWorld();const{renderTarget:$,activeMipmapLevel:j}=this;this.coordinateSystem!==i.coordinateSystem&&(this.coordinateSystem=i.coordinateSystem,this.updateCoordinateSystem());const[_e,tt,rt,nt,it,ot]=this.children,lt=i.getRenderTarget(),ft=i.getActiveCubeFace(),_t=i.getActiveMipmapLevel(),At=i.xr.enabled;i.xr.enabled=!1;const Tt=$.texture.generateMipmaps;$.texture.generateMipmaps=!1,i.setRenderTarget($,0,j),i.render(_,_e),i.setRenderTarget($,1,j),i.render(_,tt),i.setRenderTarget($,2,j),i.render(_,rt),i.setRenderTarget($,3,j),i.render(_,nt),i.setRenderTarget($,4,j),i.render(_,it),$.texture.generateMipmaps=Tt,i.setRenderTarget($,5,j),i.render(_,ot),i.setRenderTarget(lt,ft,_t),i.xr.enabled=At,$.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(i=[],_=CubeReflectionMapping,$,j,_e,tt,rt,nt,it,ot){super(i,_,$,j,_e,tt,rt,nt,it,ot),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(i){this.image=i}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(i=1,_={}){super(i,i,_),this.isWebGLCubeRenderTarget=!0;const $={width:i,height:i,depth:1},j=[$,$,$,$,$,$];this.texture=new CubeTexture(j),this._setTextureOptions(_),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(i,_){this.texture.type=_.type,this.texture.colorSpace=_.colorSpace,this.texture.generateMipmaps=_.generateMipmaps,this.texture.minFilter=_.minFilter,this.texture.magFilter=_.magFilter;const $={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},j=new BoxGeometry(5,5,5),_e=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms($.uniforms),vertexShader:$.vertexShader,fragmentShader:$.fragmentShader,side:BackSide,blending:NoBlending});_e.uniforms.tEquirect.value=_;const tt=new Mesh(j,_e),rt=_.minFilter;return _.minFilter===LinearMipmapLinearFilter&&(_.minFilter=LinearFilter),new CubeCamera(1,10,this).update(i,tt),_.minFilter=rt,tt.geometry.dispose(),tt.material.dispose(),this}clear(i,_=!0,$=!0,j=!0){const _e=i.getRenderTarget();for(let tt=0;tt<6;tt++)i.setRenderTarget(this,tt),i.clear(_,$,j);i.setRenderTarget(_e)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(i){return this._targetRay!==null&&this._targetRay.dispatchEvent(i),this._grip!==null&&this._grip.dispatchEvent(i),this._hand!==null&&this._hand.dispatchEvent(i),this}connect(i){if(i&&i.hand){const _=this._hand;if(_)for(const $ of i.hand.values())this._getHandJoint(_,$)}return this.dispatchEvent({type:"connected",data:i}),this}disconnect(i){return this.dispatchEvent({type:"disconnected",data:i}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(i,_,$){let j=null,_e=null,tt=null;const rt=this._targetRay,nt=this._grip,it=this._hand;if(i&&_.session.visibilityState!=="visible-blurred"){if(it&&i.hand){tt=!0;for(const Tt of i.hand.values()){const Mt=_.getJointPose(Tt,$),pt=this._getHandJoint(it,Tt);Mt!==null&&(pt.matrix.fromArray(Mt.transform.matrix),pt.matrix.decompose(pt.position,pt.rotation,pt.scale),pt.matrixWorldNeedsUpdate=!0,pt.jointRadius=Mt.radius),pt.visible=Mt!==null}const ot=it.joints["index-finger-tip"],lt=it.joints["thumb-tip"],ft=ot.position.distanceTo(lt.position),_t=.02,At=.005;it.inputState.pinching&&ft>_t+At?(it.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!it.inputState.pinching&&ft<=_t-At&&(it.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else nt!==null&&i.gripSpace&&(_e=_.getPose(i.gripSpace,$),_e!==null&&(nt.matrix.fromArray(_e.transform.matrix),nt.matrix.decompose(nt.position,nt.rotation,nt.scale),nt.matrixWorldNeedsUpdate=!0,_e.linearVelocity?(nt.hasLinearVelocity=!0,nt.linearVelocity.copy(_e.linearVelocity)):nt.hasLinearVelocity=!1,_e.angularVelocity?(nt.hasAngularVelocity=!0,nt.angularVelocity.copy(_e.angularVelocity)):nt.hasAngularVelocity=!1));rt!==null&&(j=_.getPose(i.targetRaySpace,$),j===null&&_e!==null&&(j=_e),j!==null&&(rt.matrix.fromArray(j.transform.matrix),rt.matrix.decompose(rt.position,rt.rotation,rt.scale),rt.matrixWorldNeedsUpdate=!0,j.linearVelocity?(rt.hasLinearVelocity=!0,rt.linearVelocity.copy(j.linearVelocity)):rt.hasLinearVelocity=!1,j.angularVelocity?(rt.hasAngularVelocity=!0,rt.angularVelocity.copy(j.angularVelocity)):rt.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return rt!==null&&(rt.visible=j!==null),nt!==null&&(nt.visible=_e!==null),it!==null&&(it.visible=tt!==null),this}_getHandJoint(i,_){if(i.joints[_.jointName]===void 0){const $=new Group;$.matrixAutoUpdate=!1,$.visible=!1,i.joints[_.jointName]=$,i.add($)}return i.joints[_.jointName]}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(i,_){return super.copy(i,_),i.background!==null&&(this.background=i.background.clone()),i.environment!==null&&(this.environment=i.environment.clone()),i.fog!==null&&(this.fog=i.fog.clone()),this.backgroundBlurriness=i.backgroundBlurriness,this.backgroundIntensity=i.backgroundIntensity,this.backgroundRotation.copy(i.backgroundRotation),this.environmentIntensity=i.environmentIntensity,this.environmentRotation.copy(i.environmentRotation),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.matrixAutoUpdate=i.matrixAutoUpdate,this}toJSON(i){const _=super.toJSON(i);return this.fog!==null&&(_.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(_.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(_.object.backgroundIntensity=this.backgroundIntensity),_.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(_.object.environmentIntensity=this.environmentIntensity),_.object.environmentRotation=this.environmentRotation.toArray(),_}}class DataTexture extends Texture{constructor(i=null,_=1,$=1,j,_e,tt,rt,nt,it=NearestFilter,ot=NearestFilter,lt,ft){super(null,tt,rt,nt,it,ot,j,_e,lt,ft),this.isDataTexture=!0,this.image={data:i,width:_,height:$},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(i=new Vector3(1,0,0),_=0){this.isPlane=!0,this.normal=i,this.constant=_}set(i,_){return this.normal.copy(i),this.constant=_,this}setComponents(i,_,$,j){return this.normal.set(i,_,$),this.constant=j,this}setFromNormalAndCoplanarPoint(i,_){return this.normal.copy(i),this.constant=-_.dot(this.normal),this}setFromCoplanarPoints(i,_,$){const j=_vector1.subVectors($,_).cross(_vector2.subVectors(i,_)).normalize();return this.setFromNormalAndCoplanarPoint(j,i),this}copy(i){return this.normal.copy(i.normal),this.constant=i.constant,this}normalize(){const i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(i){return this.normal.dot(i)+this.constant}distanceToSphere(i){return this.distanceToPoint(i.center)-i.radius}projectPoint(i,_){return _.copy(i).addScaledVector(this.normal,-this.distanceToPoint(i))}intersectLine(i,_){const $=i.delta(_vector1),j=this.normal.dot($);if(j===0)return this.distanceToPoint(i.start)===0?_.copy(i.start):null;const _e=-(i.start.dot(this.normal)+this.constant)/j;return _e<0||_e>1?null:_.copy(i.start).addScaledVector($,_e)}intersectsLine(i){const _=this.distanceToPoint(i.start),$=this.distanceToPoint(i.end);return _<0&&$>0||$<0&&_>0}intersectsBox(i){return i.intersectsPlane(this)}intersectsSphere(i){return i.intersectsPlane(this)}coplanarPoint(i){return i.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(i,_){const $=_||_normalMatrix.getNormalMatrix(i),j=this.coplanarPoint(_vector1).applyMatrix4(i),_e=this.normal.applyMatrix3($).normalize();return this.constant=-j.dot(_e),this}translate(i){return this.constant-=i.dot(this.normal),this}equals(i){return i.normal.equals(this.normal)&&i.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_defaultSpriteCenter=new Vector2(.5,.5),_vector$6=new Vector3;class Frustum{constructor(i=new Plane,_=new Plane,$=new Plane,j=new Plane,_e=new Plane,tt=new Plane){this.planes=[i,_,$,j,_e,tt]}set(i,_,$,j,_e,tt){const rt=this.planes;return rt[0].copy(i),rt[1].copy(_),rt[2].copy($),rt[3].copy(j),rt[4].copy(_e),rt[5].copy(tt),this}copy(i){const _=this.planes;for(let $=0;$<6;$++)_[$].copy(i.planes[$]);return this}setFromProjectionMatrix(i,_=WebGLCoordinateSystem,$=!1){const j=this.planes,_e=i.elements,tt=_e[0],rt=_e[1],nt=_e[2],it=_e[3],ot=_e[4],lt=_e[5],ft=_e[6],_t=_e[7],At=_e[8],Tt=_e[9],Mt=_e[10],pt=_e[11],Pt=_e[12],$t=_e[13],Ot=_e[14],It=_e[15];if(j[0].setComponents(it-tt,_t-ot,pt-At,It-Pt).normalize(),j[1].setComponents(it+tt,_t+ot,pt+At,It+Pt).normalize(),j[2].setComponents(it+rt,_t+lt,pt+Tt,It+$t).normalize(),j[3].setComponents(it-rt,_t-lt,pt-Tt,It-$t).normalize(),$)j[4].setComponents(nt,ft,Mt,Ot).normalize(),j[5].setComponents(it-nt,_t-ft,pt-Mt,It-Ot).normalize();else if(j[4].setComponents(it-nt,_t-ft,pt-Mt,It-Ot).normalize(),_===WebGLCoordinateSystem)j[5].setComponents(it+nt,_t+ft,pt+Mt,It+Ot).normalize();else if(_===WebGPUCoordinateSystem)j[5].setComponents(nt,ft,Mt,Ot).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+_);return this}intersectsObject(i){if(i.boundingSphere!==void 0)i.boundingSphere===null&&i.computeBoundingSphere(),_sphere$3.copy(i.boundingSphere).applyMatrix4(i.matrixWorld);else{const _=i.geometry;_.boundingSphere===null&&_.computeBoundingSphere(),_sphere$3.copy(_.boundingSphere).applyMatrix4(i.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(i){_sphere$3.center.set(0,0,0);const _=_defaultSpriteCenter.distanceTo(i.center);return _sphere$3.radius=.7071067811865476+_,_sphere$3.applyMatrix4(i.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(i){const _=this.planes,$=i.center,j=-i.radius;for(let _e=0;_e<6;_e++)if(_[_e].distanceToPoint($)<j)return!1;return!0}intersectsBox(i){const _=this.planes;for(let $=0;$<6;$++){const j=_[$];if(_vector$6.x=j.normal.x>0?i.max.x:i.min.x,_vector$6.y=j.normal.y>0?i.max.y:i.min.y,_vector$6.z=j.normal.z>0?i.max.z:i.min.z,j.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(i){const _=this.planes;for(let $=0;$<6;$++)if(_[$].distanceToPoint(i)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class PointsMaterial extends Material{constructor(i){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this.fog=i.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(i=new BufferGeometry,_=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=i,this.material=_,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(i,_){return super.copy(i,_),this.material=Array.isArray(i.material)?i.material.slice():i.material,this.geometry=i.geometry,this}raycast(i,_){const $=this.geometry,j=this.matrixWorld,_e=i.params.Points.threshold,tt=$.drawRange;if($.boundingSphere===null&&$.computeBoundingSphere(),_sphere.copy($.boundingSphere),_sphere.applyMatrix4(j),_sphere.radius+=_e,i.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(j).invert(),_ray.copy(i.ray).applyMatrix4(_inverseMatrix);const rt=_e/((this.scale.x+this.scale.y+this.scale.z)/3),nt=rt*rt,it=$.index,lt=$.attributes.position;if(it!==null){const ft=Math.max(0,tt.start),_t=Math.min(it.count,tt.start+tt.count);for(let At=ft,Tt=_t;At<Tt;At++){const Mt=it.getX(At);_position$2.fromBufferAttribute(lt,Mt),testPoint(_position$2,Mt,nt,j,i,_,this)}}else{const ft=Math.max(0,tt.start),_t=Math.min(lt.count,tt.start+tt.count);for(let At=ft,Tt=_t;At<Tt;At++)_position$2.fromBufferAttribute(lt,At),testPoint(_position$2,At,nt,j,i,_,this)}}updateMorphTargets(){const _=this.geometry.morphAttributes,$=Object.keys(_);if($.length>0){const j=_[$[0]];if(j!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let _e=0,tt=j.length;_e<tt;_e++){const rt=j[_e].name||String(_e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[rt]=_e}}}}}function testPoint(o,i,_,$,j,_e,tt){const rt=_ray.distanceSqToPoint(o);if(rt<_){const nt=new Vector3;_ray.closestPointToPoint(o,nt),nt.applyMatrix4($);const it=j.ray.origin.distanceTo(nt);if(it<j.near||it>j.far)return;_e.push({distance:it,distanceToRay:Math.sqrt(rt),point:nt,index:i,face:null,faceIndex:null,barycoord:null,object:tt})}}class DepthTexture extends Texture{constructor(i,_,$=UnsignedIntType,j,_e,tt,rt=NearestFilter,nt=NearestFilter,it,ot=DepthFormat,lt=1){if(ot!==DepthFormat&&ot!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const ft={width:i,height:_,depth:lt};super(ft,j,_e,tt,rt,nt,ot,$,it),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(i){return super.copy(i),this.source=new Source(Object.assign({},i.image)),this.compareFunction=i.compareFunction,this}toJSON(i){const _=super.toJSON(i);return this.compareFunction!==null&&(_.compareFunction=this.compareFunction),_}}class ExternalTexture extends Texture{constructor(i=null){super(),this.sourceTexture=i,this.isExternalTexture=!0}copy(i){return super.copy(i),this.sourceTexture=i.sourceTexture,this}}class PlaneGeometry extends BufferGeometry{constructor(i=1,_=1,$=1,j=1){super(),this.type="PlaneGeometry",this.parameters={width:i,height:_,widthSegments:$,heightSegments:j};const _e=i/2,tt=_/2,rt=Math.floor($),nt=Math.floor(j),it=rt+1,ot=nt+1,lt=i/rt,ft=_/nt,_t=[],At=[],Tt=[],Mt=[];for(let pt=0;pt<ot;pt++){const Pt=pt*ft-tt;for(let $t=0;$t<it;$t++){const Ot=$t*lt-_e;At.push(Ot,-Pt,0),Tt.push(0,0,1),Mt.push($t/rt),Mt.push(1-pt/nt)}}for(let pt=0;pt<nt;pt++)for(let Pt=0;Pt<rt;Pt++){const $t=Pt+it*pt,Ot=Pt+it*(pt+1),It=Pt+1+it*(pt+1),Dt=Pt+1+it*pt;_t.push($t,Ot,Dt),_t.push(Ot,It,Dt)}this.setIndex(_t),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(Tt,3)),this.setAttribute("uv",new Float32BufferAttribute(Mt,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new PlaneGeometry(i.width,i.height,i.widthSegments,i.heightSegments)}}class MeshDepthMaterial extends Material{constructor(i){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(i)}copy(i){return super.copy(i),this.depthPacking=i.depthPacking,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(i){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(i)}copy(i){return super.copy(i),this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this}}class OrthographicCamera extends Camera{constructor(i=-1,_=1,$=1,j=-1,_e=.1,tt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=_,this.top=$,this.bottom=j,this.near=_e,this.far=tt,this.updateProjectionMatrix()}copy(i,_){return super.copy(i,_),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this}setViewOffset(i,_,$,j,_e,tt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=_,this.view.offsetX=$,this.view.offsetY=j,this.view.width=_e,this.view.height=tt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=(this.right-this.left)/(2*this.zoom),_=(this.top-this.bottom)/(2*this.zoom),$=(this.right+this.left)/2,j=(this.top+this.bottom)/2;let _e=$-i,tt=$+i,rt=j+_,nt=j-_;if(this.view!==null&&this.view.enabled){const it=(this.right-this.left)/this.view.fullWidth/this.zoom,ot=(this.top-this.bottom)/this.view.fullHeight/this.zoom;_e+=it*this.view.offsetX,tt=_e+it*this.view.width,rt-=ot*this.view.offsetY,nt=rt-ot*this.view.height}this.projectionMatrix.makeOrthographic(_e,tt,rt,nt,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const _=super.toJSON(i);return _.object.zoom=this.zoom,_.object.left=this.left,_.object.right=this.right,_.object.top=this.top,_.object.bottom=this.bottom,_.object.near=this.near,_.object.far=this.far,this.view!==null&&(_.object.view=Object.assign({},this.view)),_}}class ArrayCamera extends PerspectiveCamera{constructor(i=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=i}}class Clock{constructor(i=!0){this.autoStart=i,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const _=performance.now();i=(_-this.oldTime)/1e3,this.oldTime=_,this.elapsedTime+=i}return i}}function getByteLength(o,i,_,$){const j=getTextureTypeByteLength($);switch(_){case AlphaFormat:return o*i;case RedFormat:return o*i/j.components*j.byteLength;case RedIntegerFormat:return o*i/j.components*j.byteLength;case RGFormat:return o*i*2/j.components*j.byteLength;case RGIntegerFormat:return o*i*2/j.components*j.byteLength;case RGBFormat:return o*i*3/j.components*j.byteLength;case RGBAFormat:return o*i*4/j.components*j.byteLength;case RGBAIntegerFormat:return o*i*4/j.components*j.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((o+3)/4)*Math.floor((i+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((o+3)/4)*Math.floor((i+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(o,16)*Math.max(i,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(o,8)*Math.max(i,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((o+3)/4)*Math.floor((i+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((o+3)/4)*Math.floor((i+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((o+3)/4)*Math.floor((i+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((o+4)/5)*Math.floor((i+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((o+4)/5)*Math.floor((i+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((o+5)/6)*Math.floor((i+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((o+5)/6)*Math.floor((i+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((o+7)/8)*Math.floor((i+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((o+7)/8)*Math.floor((i+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((o+7)/8)*Math.floor((i+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((o+9)/10)*Math.floor((i+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((o+9)/10)*Math.floor((i+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((o+9)/10)*Math.floor((i+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((o+9)/10)*Math.floor((i+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((o+11)/12)*Math.floor((i+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((o+11)/12)*Math.floor((i+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(o/4)*Math.ceil(i/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(o/4)*Math.ceil(i/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(o/4)*Math.ceil(i/4)*16}throw new Error(`Unable to determine texture byte length for ${_} format.`)}function getTextureTypeByteLength(o){switch(o){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:case UnsignedInt101111Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${o}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?warn$2("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let o=null,i=!1,_=null,$=null;function j(_e,tt){_(_e,tt),$=o.requestAnimationFrame(j)}return{start:function(){i!==!0&&_!==null&&($=o.requestAnimationFrame(j),i=!0)},stop:function(){o.cancelAnimationFrame($),i=!1},setAnimationLoop:function(_e){_=_e},setContext:function(_e){o=_e}}}function WebGLAttributes(o){const i=new WeakMap;function _(rt,nt){const it=rt.array,ot=rt.usage,lt=it.byteLength,ft=o.createBuffer();o.bindBuffer(nt,ft),o.bufferData(nt,it,ot),rt.onUploadCallback();let _t;if(it instanceof Float32Array)_t=o.FLOAT;else if(typeof Float16Array<"u"&&it instanceof Float16Array)_t=o.HALF_FLOAT;else if(it instanceof Uint16Array)rt.isFloat16BufferAttribute?_t=o.HALF_FLOAT:_t=o.UNSIGNED_SHORT;else if(it instanceof Int16Array)_t=o.SHORT;else if(it instanceof Uint32Array)_t=o.UNSIGNED_INT;else if(it instanceof Int32Array)_t=o.INT;else if(it instanceof Int8Array)_t=o.BYTE;else if(it instanceof Uint8Array)_t=o.UNSIGNED_BYTE;else if(it instanceof Uint8ClampedArray)_t=o.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+it);return{buffer:ft,type:_t,bytesPerElement:it.BYTES_PER_ELEMENT,version:rt.version,size:lt}}function $(rt,nt,it){const ot=nt.array,lt=nt.updateRanges;if(o.bindBuffer(it,rt),lt.length===0)o.bufferSubData(it,0,ot);else{lt.sort((_t,At)=>_t.start-At.start);let ft=0;for(let _t=1;_t<lt.length;_t++){const At=lt[ft],Tt=lt[_t];Tt.start<=At.start+At.count+1?At.count=Math.max(At.count,Tt.start+Tt.count-At.start):(++ft,lt[ft]=Tt)}lt.length=ft+1;for(let _t=0,At=lt.length;_t<At;_t++){const Tt=lt[_t];o.bufferSubData(it,Tt.start*ot.BYTES_PER_ELEMENT,ot,Tt.start,Tt.count)}nt.clearUpdateRanges()}nt.onUploadCallback()}function j(rt){return rt.isInterleavedBufferAttribute&&(rt=rt.data),i.get(rt)}function _e(rt){rt.isInterleavedBufferAttribute&&(rt=rt.data);const nt=i.get(rt);nt&&(o.deleteBuffer(nt.buffer),i.delete(rt))}function tt(rt,nt){if(rt.isInterleavedBufferAttribute&&(rt=rt.data),rt.isGLBufferAttribute){const ot=i.get(rt);(!ot||ot.version<rt.version)&&i.set(rt,{buffer:rt.buffer,type:rt.type,bytesPerElement:rt.elementSize,version:rt.version});return}const it=i.get(rt);if(it===void 0)i.set(rt,_(rt,nt));else if(it.version<rt.version){if(it.size!==rt.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");$(it.buffer,rt,nt),it.version=rt.version}}return{get:j,remove:_e,update:tt}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(o,i,_,$,j,_e,tt){const rt=new Color$1(0);let nt=_e===!0?0:1,it,ot,lt=null,ft=0,_t=null;function At($t){let Ot=$t.isScene===!0?$t.background:null;return Ot&&Ot.isTexture&&(Ot=($t.backgroundBlurriness>0?_:i).get(Ot)),Ot}function Tt($t){let Ot=!1;const It=At($t);It===null?pt(rt,nt):It&&It.isColor&&(pt(It,1),Ot=!0);const Dt=o.xr.getEnvironmentBlendMode();Dt==="additive"?$.buffers.color.setClear(0,0,0,1,tt):Dt==="alpha-blend"&&$.buffers.color.setClear(0,0,0,0,tt),(o.autoClear||Ot)&&($.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil))}function Mt($t,Ot){const It=At(Ot);It&&(It.isCubeTexture||It.mapping===CubeUVReflectionMapping)?(ot===void 0&&(ot=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),ot.geometry.deleteAttribute("normal"),ot.geometry.deleteAttribute("uv"),ot.onBeforeRender=function(Dt,Lt,Bt){this.matrixWorld.copyPosition(Bt.matrixWorld)},Object.defineProperty(ot.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),j.update(ot)),_e1$1.copy(Ot.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,It.isCubeTexture&&It.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),ot.material.uniforms.envMap.value=It,ot.material.uniforms.flipEnvMap.value=It.isCubeTexture&&It.isRenderTargetTexture===!1?-1:1,ot.material.uniforms.backgroundBlurriness.value=Ot.backgroundBlurriness,ot.material.uniforms.backgroundIntensity.value=Ot.backgroundIntensity,ot.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),ot.material.toneMapped=ColorManagement.getTransfer(It.colorSpace)!==SRGBTransfer,(lt!==It||ft!==It.version||_t!==o.toneMapping)&&(ot.material.needsUpdate=!0,lt=It,ft=It.version,_t=o.toneMapping),ot.layers.enableAll(),$t.unshift(ot,ot.geometry,ot.material,0,0,null)):It&&It.isTexture&&(it===void 0&&(it=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),it.geometry.deleteAttribute("normal"),Object.defineProperty(it.material,"map",{get:function(){return this.uniforms.t2D.value}}),j.update(it)),it.material.uniforms.t2D.value=It,it.material.uniforms.backgroundIntensity.value=Ot.backgroundIntensity,it.material.toneMapped=ColorManagement.getTransfer(It.colorSpace)!==SRGBTransfer,It.matrixAutoUpdate===!0&&It.updateMatrix(),it.material.uniforms.uvTransform.value.copy(It.matrix),(lt!==It||ft!==It.version||_t!==o.toneMapping)&&(it.material.needsUpdate=!0,lt=It,ft=It.version,_t=o.toneMapping),it.layers.enableAll(),$t.unshift(it,it.geometry,it.material,0,0,null))}function pt($t,Ot){$t.getRGB(_rgb,getUnlitUniformColorSpace(o)),$.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Ot,tt)}function Pt(){ot!==void 0&&(ot.geometry.dispose(),ot.material.dispose(),ot=void 0),it!==void 0&&(it.geometry.dispose(),it.material.dispose(),it=void 0)}return{getClearColor:function(){return rt},setClearColor:function($t,Ot=1){rt.set($t),nt=Ot,pt(rt,nt)},getClearAlpha:function(){return nt},setClearAlpha:function($t){nt=$t,pt(rt,nt)},render:Tt,addToRenderList:Mt,dispose:Pt}}function WebGLBindingStates(o,i){const _=o.getParameter(o.MAX_VERTEX_ATTRIBS),$={},j=ft(null);let _e=j,tt=!1;function rt(Ut,Gt,qt,Jt,er){let Kt=!1;const zt=lt(Jt,qt,Gt);_e!==zt&&(_e=zt,it(_e.object)),Kt=_t(Ut,Jt,qt,er),Kt&&At(Ut,Jt,qt,er),er!==null&&i.update(er,o.ELEMENT_ARRAY_BUFFER),(Kt||tt)&&(tt=!1,Ot(Ut,Gt,qt,Jt),er!==null&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,i.get(er).buffer))}function nt(){return o.createVertexArray()}function it(Ut){return o.bindVertexArray(Ut)}function ot(Ut){return o.deleteVertexArray(Ut)}function lt(Ut,Gt,qt){const Jt=qt.wireframe===!0;let er=$[Ut.id];er===void 0&&(er={},$[Ut.id]=er);let Kt=er[Gt.id];Kt===void 0&&(Kt={},er[Gt.id]=Kt);let zt=Kt[Jt];return zt===void 0&&(zt=ft(nt()),Kt[Jt]=zt),zt}function ft(Ut){const Gt=[],qt=[],Jt=[];for(let er=0;er<_;er++)Gt[er]=0,qt[er]=0,Jt[er]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Gt,enabledAttributes:qt,attributeDivisors:Jt,object:Ut,attributes:{},index:null}}function _t(Ut,Gt,qt,Jt){const er=_e.attributes,Kt=Gt.attributes;let zt=0;const Ht=qt.getAttributes();for(const Ft in Ht)if(Ht[Ft].location>=0){const Yt=er[Ft];let Zt=Kt[Ft];if(Zt===void 0&&(Ft==="instanceMatrix"&&Ut.instanceMatrix&&(Zt=Ut.instanceMatrix),Ft==="instanceColor"&&Ut.instanceColor&&(Zt=Ut.instanceColor)),Yt===void 0||Yt.attribute!==Zt||Zt&&Yt.data!==Zt.data)return!0;zt++}return _e.attributesNum!==zt||_e.index!==Jt}function At(Ut,Gt,qt,Jt){const er={},Kt=Gt.attributes;let zt=0;const Ht=qt.getAttributes();for(const Ft in Ht)if(Ht[Ft].location>=0){let Yt=Kt[Ft];Yt===void 0&&(Ft==="instanceMatrix"&&Ut.instanceMatrix&&(Yt=Ut.instanceMatrix),Ft==="instanceColor"&&Ut.instanceColor&&(Yt=Ut.instanceColor));const Zt={};Zt.attribute=Yt,Yt&&Yt.data&&(Zt.data=Yt.data),er[Ft]=Zt,zt++}_e.attributes=er,_e.attributesNum=zt,_e.index=Jt}function Tt(){const Ut=_e.newAttributes;for(let Gt=0,qt=Ut.length;Gt<qt;Gt++)Ut[Gt]=0}function Mt(Ut){pt(Ut,0)}function pt(Ut,Gt){const qt=_e.newAttributes,Jt=_e.enabledAttributes,er=_e.attributeDivisors;qt[Ut]=1,Jt[Ut]===0&&(o.enableVertexAttribArray(Ut),Jt[Ut]=1),er[Ut]!==Gt&&(o.vertexAttribDivisor(Ut,Gt),er[Ut]=Gt)}function Pt(){const Ut=_e.newAttributes,Gt=_e.enabledAttributes;for(let qt=0,Jt=Gt.length;qt<Jt;qt++)Gt[qt]!==Ut[qt]&&(o.disableVertexAttribArray(qt),Gt[qt]=0)}function $t(Ut,Gt,qt,Jt,er,Kt,zt){zt===!0?o.vertexAttribIPointer(Ut,Gt,qt,er,Kt):o.vertexAttribPointer(Ut,Gt,qt,Jt,er,Kt)}function Ot(Ut,Gt,qt,Jt){Tt();const er=Jt.attributes,Kt=qt.getAttributes(),zt=Gt.defaultAttributeValues;for(const Ht in Kt){const Ft=Kt[Ht];if(Ft.location>=0){let Vt=er[Ht];if(Vt===void 0&&(Ht==="instanceMatrix"&&Ut.instanceMatrix&&(Vt=Ut.instanceMatrix),Ht==="instanceColor"&&Ut.instanceColor&&(Vt=Ut.instanceColor)),Vt!==void 0){const Yt=Vt.normalized,Zt=Vt.itemSize,nr=i.get(Vt);if(nr===void 0)continue;const cr=nr.buffer,vr=nr.type,Tr=nr.bytesPerElement,ar=vr===o.INT||vr===o.UNSIGNED_INT||Vt.gpuType===IntType;if(Vt.isInterleavedBufferAttribute){const ur=Vt.data,Sr=ur.stride,gr=Vt.offset;if(ur.isInstancedInterleavedBuffer){for(let xr=0;xr<Ft.locationSize;xr++)pt(Ft.location+xr,ur.meshPerAttribute);Ut.isInstancedMesh!==!0&&Jt._maxInstanceCount===void 0&&(Jt._maxInstanceCount=ur.meshPerAttribute*ur.count)}else for(let xr=0;xr<Ft.locationSize;xr++)Mt(Ft.location+xr);o.bindBuffer(o.ARRAY_BUFFER,cr);for(let xr=0;xr<Ft.locationSize;xr++)$t(Ft.location+xr,Zt/Ft.locationSize,vr,Yt,Sr*Tr,(gr+Zt/Ft.locationSize*xr)*Tr,ar)}else{if(Vt.isInstancedBufferAttribute){for(let ur=0;ur<Ft.locationSize;ur++)pt(Ft.location+ur,Vt.meshPerAttribute);Ut.isInstancedMesh!==!0&&Jt._maxInstanceCount===void 0&&(Jt._maxInstanceCount=Vt.meshPerAttribute*Vt.count)}else for(let ur=0;ur<Ft.locationSize;ur++)Mt(Ft.location+ur);o.bindBuffer(o.ARRAY_BUFFER,cr);for(let ur=0;ur<Ft.locationSize;ur++)$t(Ft.location+ur,Zt/Ft.locationSize,vr,Yt,Zt*Tr,Zt/Ft.locationSize*ur*Tr,ar)}}else if(zt!==void 0){const Yt=zt[Ht];if(Yt!==void 0)switch(Yt.length){case 2:o.vertexAttrib2fv(Ft.location,Yt);break;case 3:o.vertexAttrib3fv(Ft.location,Yt);break;case 4:o.vertexAttrib4fv(Ft.location,Yt);break;default:o.vertexAttrib1fv(Ft.location,Yt)}}}}Pt()}function It(){Bt();for(const Ut in $){const Gt=$[Ut];for(const qt in Gt){const Jt=Gt[qt];for(const er in Jt)ot(Jt[er].object),delete Jt[er];delete Gt[qt]}delete $[Ut]}}function Dt(Ut){if($[Ut.id]===void 0)return;const Gt=$[Ut.id];for(const qt in Gt){const Jt=Gt[qt];for(const er in Jt)ot(Jt[er].object),delete Jt[er];delete Gt[qt]}delete $[Ut.id]}function Lt(Ut){for(const Gt in $){const qt=$[Gt];if(qt[Ut.id]===void 0)continue;const Jt=qt[Ut.id];for(const er in Jt)ot(Jt[er].object),delete Jt[er];delete qt[Ut.id]}}function Bt(){jt(),tt=!0,_e!==j&&(_e=j,it(_e.object))}function jt(){j.geometry=null,j.program=null,j.wireframe=!1}return{setup:rt,reset:Bt,resetDefaultState:jt,dispose:It,releaseStatesOfGeometry:Dt,releaseStatesOfProgram:Lt,initAttributes:Tt,enableAttribute:Mt,disableUnusedAttributes:Pt}}function WebGLBufferRenderer(o,i,_){let $;function j(it){$=it}function _e(it,ot){o.drawArrays($,it,ot),_.update(ot,$,1)}function tt(it,ot,lt){lt!==0&&(o.drawArraysInstanced($,it,ot,lt),_.update(ot,$,lt))}function rt(it,ot,lt){if(lt===0)return;i.get("WEBGL_multi_draw").multiDrawArraysWEBGL($,it,0,ot,0,lt);let _t=0;for(let At=0;At<lt;At++)_t+=ot[At];_.update(_t,$,1)}function nt(it,ot,lt,ft){if(lt===0)return;const _t=i.get("WEBGL_multi_draw");if(_t===null)for(let At=0;At<it.length;At++)tt(it[At],ot[At],ft[At]);else{_t.multiDrawArraysInstancedWEBGL($,it,0,ot,0,ft,0,lt);let At=0;for(let Tt=0;Tt<lt;Tt++)At+=ot[Tt]*ft[Tt];_.update(At,$,1)}}this.setMode=j,this.render=_e,this.renderInstances=tt,this.renderMultiDraw=rt,this.renderMultiDrawInstances=nt}function WebGLCapabilities(o,i,_,$){let j;function _e(){if(j!==void 0)return j;if(i.has("EXT_texture_filter_anisotropic")===!0){const Lt=i.get("EXT_texture_filter_anisotropic");j=o.getParameter(Lt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else j=0;return j}function tt(Lt){return!(Lt!==RGBAFormat&&$.convert(Lt)!==o.getParameter(o.IMPLEMENTATION_COLOR_READ_FORMAT))}function rt(Lt){const Bt=Lt===HalfFloatType&&(i.has("EXT_color_buffer_half_float")||i.has("EXT_color_buffer_float"));return!(Lt!==UnsignedByteType&&$.convert(Lt)!==o.getParameter(o.IMPLEMENTATION_COLOR_READ_TYPE)&&Lt!==FloatType&&!Bt)}function nt(Lt){if(Lt==="highp"){if(o.getShaderPrecisionFormat(o.VERTEX_SHADER,o.HIGH_FLOAT).precision>0&&o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT).precision>0)return"highp";Lt="mediump"}return Lt==="mediump"&&o.getShaderPrecisionFormat(o.VERTEX_SHADER,o.MEDIUM_FLOAT).precision>0&&o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let it=_.precision!==void 0?_.precision:"highp";const ot=nt(it);ot!==it&&(warn$2("WebGLRenderer:",it,"not supported, using",ot,"instead."),it=ot);const lt=_.logarithmicDepthBuffer===!0,ft=_.reversedDepthBuffer===!0&&i.has("EXT_clip_control"),_t=o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS),At=o.getParameter(o.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Tt=o.getParameter(o.MAX_TEXTURE_SIZE),Mt=o.getParameter(o.MAX_CUBE_MAP_TEXTURE_SIZE),pt=o.getParameter(o.MAX_VERTEX_ATTRIBS),Pt=o.getParameter(o.MAX_VERTEX_UNIFORM_VECTORS),$t=o.getParameter(o.MAX_VARYING_VECTORS),Ot=o.getParameter(o.MAX_FRAGMENT_UNIFORM_VECTORS),It=At>0,Dt=o.getParameter(o.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:_e,getMaxPrecision:nt,textureFormatReadable:tt,textureTypeReadable:rt,precision:it,logarithmicDepthBuffer:lt,reversedDepthBuffer:ft,maxTextures:_t,maxVertexTextures:At,maxTextureSize:Tt,maxCubemapSize:Mt,maxAttributes:pt,maxVertexUniforms:Pt,maxVaryings:$t,maxFragmentUniforms:Ot,vertexTextures:It,maxSamples:Dt}}function WebGLClipping(o){const i=this;let _=null,$=0,j=!1,_e=!1;const tt=new Plane,rt=new Matrix3,nt={value:null,needsUpdate:!1};this.uniform=nt,this.numPlanes=0,this.numIntersection=0,this.init=function(lt,ft){const _t=lt.length!==0||ft||$!==0||j;return j=ft,$=lt.length,_t},this.beginShadows=function(){_e=!0,ot(null)},this.endShadows=function(){_e=!1},this.setGlobalState=function(lt,ft){_=ot(lt,ft,0)},this.setState=function(lt,ft,_t){const At=lt.clippingPlanes,Tt=lt.clipIntersection,Mt=lt.clipShadows,pt=o.get(lt);if(!j||At===null||At.length===0||_e&&!Mt)_e?ot(null):it();else{const Pt=_e?0:$,$t=Pt*4;let Ot=pt.clippingState||null;nt.value=Ot,Ot=ot(At,ft,$t,_t);for(let It=0;It!==$t;++It)Ot[It]=_[It];pt.clippingState=Ot,this.numIntersection=Tt?this.numPlanes:0,this.numPlanes+=Pt}};function it(){nt.value!==_&&(nt.value=_,nt.needsUpdate=$>0),i.numPlanes=$,i.numIntersection=0}function ot(lt,ft,_t,At){const Tt=lt!==null?lt.length:0;let Mt=null;if(Tt!==0){if(Mt=nt.value,At!==!0||Mt===null){const pt=_t+Tt*4,Pt=ft.matrixWorldInverse;rt.getNormalMatrix(Pt),(Mt===null||Mt.length<pt)&&(Mt=new Float32Array(pt));for(let $t=0,Ot=_t;$t!==Tt;++$t,Ot+=4)tt.copy(lt[$t]).applyMatrix4(Pt,rt),tt.normal.toArray(Mt,Ot),Mt[Ot+3]=tt.constant}nt.value=Mt,nt.needsUpdate=!0}return i.numPlanes=Tt,i.numIntersection=0,Mt}}function WebGLCubeMaps(o){let i=new WeakMap;function _(tt,rt){return rt===EquirectangularReflectionMapping?tt.mapping=CubeReflectionMapping:rt===EquirectangularRefractionMapping&&(tt.mapping=CubeRefractionMapping),tt}function $(tt){if(tt&&tt.isTexture){const rt=tt.mapping;if(rt===EquirectangularReflectionMapping||rt===EquirectangularRefractionMapping)if(i.has(tt)){const nt=i.get(tt).texture;return _(nt,tt.mapping)}else{const nt=tt.image;if(nt&&nt.height>0){const it=new WebGLCubeRenderTarget(nt.height);return it.fromEquirectangularTexture(o,tt),i.set(tt,it),tt.addEventListener("dispose",j),_(it.texture,tt.mapping)}else return null}}return tt}function j(tt){const rt=tt.target;rt.removeEventListener("dispose",j);const nt=i.get(rt);nt!==void 0&&(i.delete(rt),nt.dispose())}function _e(){i=new WeakMap}return{get:$,dispose:_e}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,GGX_SAMPLES=256,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const _origin=new Vector3;class PMREMGenerator{constructor(i){this._renderer=i,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(i,_=0,$=.1,j=100,_e={}){const{size:tt=256,position:rt=_origin}=_e;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(tt);const nt=this._allocateTargets();return nt.depthBuffer=!0,this._sceneToCubeUV(i,$,j,nt,rt),_>0&&this._blur(nt,0,0,_),this._applyPMREM(nt),this._cleanup(nt),nt}fromEquirectangular(i,_=null){return this._fromTexture(i,_)}fromCubemap(i,_=null){return this._fromTexture(i,_)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(i){this._lodMax=Math.floor(Math.log2(i)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodMeshes.length;i++)this._lodMeshes[i].geometry.dispose()}_cleanup(i){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,i.scissorTest=!1,_setViewport(i,0,0,i.width,i.height)}_fromTexture(i,_){i.mapping===CubeReflectionMapping||i.mapping===CubeRefractionMapping?this._setSize(i.image.length===0?16:i.image[0].width||i.image[0].image.width):this._setSize(i.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const $=_||this._allocateTargets();return this._textureToCubeUV(i,$),this._applyPMREM($),this._cleanup($),$}_allocateTargets(){const i=3*Math.max(this._cubeSize,112),_=4*this._cubeSize,$={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},j=_createRenderTarget(i,_,$);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==i||this._pingPongRenderTarget.height!==_){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(i,_,$);const{_lodMax:_e}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=_createPlanes(_e)),this._blurMaterial=_getBlurShader(_e,i,_),this._ggxMaterial=_getGGXShader(_e,i,_)}return j}_compileMaterial(i){const _=new Mesh(new BufferGeometry,i);this._renderer.compile(_,_flatCamera)}_sceneToCubeUV(i,_,$,j,_e){const nt=new PerspectiveCamera(90,1,_,$),it=[1,-1,1,1,1,1],ot=[1,1,1,-1,-1,-1],lt=this._renderer,ft=lt.autoClear,_t=lt.toneMapping;lt.getClearColor(_clearColor),lt.toneMapping=NoToneMapping,lt.autoClear=!1,lt.state.buffers.depth.getReversed()&&(lt.setRenderTarget(j),lt.clearDepth(),lt.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Mesh(new BoxGeometry,new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1})));const Tt=this._backgroundBox,Mt=Tt.material;let pt=!1;const Pt=i.background;Pt?Pt.isColor&&(Mt.color.copy(Pt),i.background=null,pt=!0):(Mt.color.copy(_clearColor),pt=!0);for(let $t=0;$t<6;$t++){const Ot=$t%3;Ot===0?(nt.up.set(0,it[$t],0),nt.position.set(_e.x,_e.y,_e.z),nt.lookAt(_e.x+ot[$t],_e.y,_e.z)):Ot===1?(nt.up.set(0,0,it[$t]),nt.position.set(_e.x,_e.y,_e.z),nt.lookAt(_e.x,_e.y+ot[$t],_e.z)):(nt.up.set(0,it[$t],0),nt.position.set(_e.x,_e.y,_e.z),nt.lookAt(_e.x,_e.y,_e.z+ot[$t]));const It=this._cubeSize;_setViewport(j,Ot*It,$t>2?It:0,It,It),lt.setRenderTarget(j),pt&&lt.render(Tt,nt),lt.render(i,nt)}lt.toneMapping=_t,lt.autoClear=ft,i.background=Pt}_textureToCubeUV(i,_){const $=this._renderer,j=i.mapping===CubeReflectionMapping||i.mapping===CubeRefractionMapping;j?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=i.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const _e=j?this._cubemapMaterial:this._equirectMaterial,tt=this._lodMeshes[0];tt.material=_e;const rt=_e.uniforms;rt.envMap.value=i;const nt=this._cubeSize;_setViewport(_,0,0,3*nt,2*nt),$.setRenderTarget(_),$.render(tt,_flatCamera)}_applyPMREM(i){const _=this._renderer,$=_.autoClear;_.autoClear=!1;const j=this._lodMeshes.length;for(let _e=1;_e<j;_e++)this._applyGGXFilter(i,_e-1,_e);_.autoClear=$}_applyGGXFilter(i,_,$){const j=this._renderer,_e=this._pingPongRenderTarget,tt=this._ggxMaterial,rt=this._lodMeshes[$];rt.material=tt;const nt=tt.uniforms,it=$/(this._lodMeshes.length-1),ot=_/(this._lodMeshes.length-1),lt=Math.sqrt(it*it-ot*ot),ft=.05+it*.95,_t=lt*ft,{_lodMax:At}=this,Tt=this._sizeLods[$],Mt=3*Tt*($>At-LOD_MIN?$-At+LOD_MIN:0),pt=4*(this._cubeSize-Tt);nt.envMap.value=i.texture,nt.roughness.value=_t,nt.mipInt.value=At-_,_setViewport(_e,Mt,pt,3*Tt,2*Tt),j.setRenderTarget(_e),j.render(rt,_flatCamera),nt.envMap.value=_e.texture,nt.roughness.value=0,nt.mipInt.value=At-$,_setViewport(i,Mt,pt,3*Tt,2*Tt),j.setRenderTarget(i),j.render(rt,_flatCamera)}_blur(i,_,$,j,_e){const tt=this._pingPongRenderTarget;this._halfBlur(i,tt,_,$,j,"latitudinal",_e),this._halfBlur(tt,i,$,$,j,"longitudinal",_e)}_halfBlur(i,_,$,j,_e,tt,rt){const nt=this._renderer,it=this._blurMaterial;tt!=="latitudinal"&&tt!=="longitudinal"&&error("blur direction must be either latitudinal or longitudinal!");const ot=3,lt=this._lodMeshes[j];lt.material=it;const ft=it.uniforms,_t=this._sizeLods[$]-1,At=isFinite(_e)?Math.PI/(2*_t):2*Math.PI/(2*MAX_SAMPLES-1),Tt=_e/At,Mt=isFinite(_e)?1+Math.floor(ot*Tt):MAX_SAMPLES;Mt>MAX_SAMPLES&&warn$2(`sigmaRadians, ${_e}, is too large and will clip, as it requested ${Mt} samples when the maximum is set to ${MAX_SAMPLES}`);const pt=[];let Pt=0;for(let Lt=0;Lt<MAX_SAMPLES;++Lt){const Bt=Lt/Tt,jt=Math.exp(-Bt*Bt/2);pt.push(jt),Lt===0?Pt+=jt:Lt<Mt&&(Pt+=2*jt)}for(let Lt=0;Lt<pt.length;Lt++)pt[Lt]=pt[Lt]/Pt;ft.envMap.value=i.texture,ft.samples.value=Mt,ft.weights.value=pt,ft.latitudinal.value=tt==="latitudinal",rt&&(ft.poleAxis.value=rt);const{_lodMax:$t}=this;ft.dTheta.value=At,ft.mipInt.value=$t-$;const Ot=this._sizeLods[j],It=3*Ot*(j>$t-LOD_MIN?j-$t+LOD_MIN:0),Dt=4*(this._cubeSize-Ot);_setViewport(_,It,Dt,3*Ot,2*Ot),nt.setRenderTarget(_),nt.render(lt,_flatCamera)}}function _createPlanes(o){const i=[],_=[],$=[];let j=o;const _e=o-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let tt=0;tt<_e;tt++){const rt=Math.pow(2,j);i.push(rt);let nt=1/rt;tt>o-LOD_MIN?nt=EXTRA_LOD_SIGMA[tt-o+LOD_MIN-1]:tt===0&&(nt=0),_.push(nt);const it=1/(rt-2),ot=-it,lt=1+it,ft=[ot,ot,lt,ot,lt,lt,ot,ot,lt,lt,ot,lt],_t=6,At=6,Tt=3,Mt=2,pt=1,Pt=new Float32Array(Tt*At*_t),$t=new Float32Array(Mt*At*_t),Ot=new Float32Array(pt*At*_t);for(let Dt=0;Dt<_t;Dt++){const Lt=Dt%3*2/3-1,Bt=Dt>2?0:-1,jt=[Lt,Bt,0,Lt+2/3,Bt,0,Lt+2/3,Bt+1,0,Lt,Bt,0,Lt+2/3,Bt+1,0,Lt,Bt+1,0];Pt.set(jt,Tt*At*Dt),$t.set(ft,Mt*At*Dt);const Ut=[Dt,Dt,Dt,Dt,Dt,Dt];Ot.set(Ut,pt*At*Dt)}const It=new BufferGeometry;It.setAttribute("position",new BufferAttribute(Pt,Tt)),It.setAttribute("uv",new BufferAttribute($t,Mt)),It.setAttribute("faceIndex",new BufferAttribute(Ot,pt)),$.push(new Mesh(It,null)),j>LOD_MIN&&j--}return{lodMeshes:$,sizeLods:i,sigmas:_}}function _createRenderTarget(o,i,_){const $=new WebGLRenderTarget(o,i,_);return $.texture.mapping=CubeUVReflectionMapping,$.texture.name="PMREM.cubeUv",$.scissorTest=!0,$}function _setViewport(o,i,_,$,j){o.viewport.set(i,_,$,j),o.scissor.set(i,_,$,j)}function _getGGXShader(o,i,_){return new ShaderMaterial({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/_,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getBlurShader(o,i,_){const $=new Float32Array(MAX_SAMPLES),j=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/_,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:$},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:j}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(o){let i=new WeakMap,_=null;function $(rt){if(rt&&rt.isTexture){const nt=rt.mapping,it=nt===EquirectangularReflectionMapping||nt===EquirectangularRefractionMapping,ot=nt===CubeReflectionMapping||nt===CubeRefractionMapping;if(it||ot){let lt=i.get(rt);const ft=lt!==void 0?lt.texture.pmremVersion:0;if(rt.isRenderTargetTexture&&rt.pmremVersion!==ft)return _===null&&(_=new PMREMGenerator(o)),lt=it?_.fromEquirectangular(rt,lt):_.fromCubemap(rt,lt),lt.texture.pmremVersion=rt.pmremVersion,i.set(rt,lt),lt.texture;if(lt!==void 0)return lt.texture;{const _t=rt.image;return it&&_t&&_t.height>0||ot&&_t&&j(_t)?(_===null&&(_=new PMREMGenerator(o)),lt=it?_.fromEquirectangular(rt):_.fromCubemap(rt),lt.texture.pmremVersion=rt.pmremVersion,i.set(rt,lt),rt.addEventListener("dispose",_e),lt.texture):null}}}return rt}function j(rt){let nt=0;const it=6;for(let ot=0;ot<it;ot++)rt[ot]!==void 0&&nt++;return nt===it}function _e(rt){const nt=rt.target;nt.removeEventListener("dispose",_e);const it=i.get(nt);it!==void 0&&(i.delete(nt),it.dispose())}function tt(){i=new WeakMap,_!==null&&(_.dispose(),_=null)}return{get:$,dispose:tt}}function WebGLExtensions(o){const i={};function _($){if(i[$]!==void 0)return i[$];const j=o.getExtension($);return i[$]=j,j}return{has:function($){return _($)!==null},init:function(){_("EXT_color_buffer_float"),_("WEBGL_clip_cull_distance"),_("OES_texture_float_linear"),_("EXT_color_buffer_half_float"),_("WEBGL_multisampled_render_to_texture"),_("WEBGL_render_shared_exponent")},get:function($){const j=_($);return j===null&&warnOnce$1("WebGLRenderer: "+$+" extension not supported."),j}}}function WebGLGeometries(o,i,_,$){const j={},_e=new WeakMap;function tt(lt){const ft=lt.target;ft.index!==null&&i.remove(ft.index);for(const At in ft.attributes)i.remove(ft.attributes[At]);ft.removeEventListener("dispose",tt),delete j[ft.id];const _t=_e.get(ft);_t&&(i.remove(_t),_e.delete(ft)),$.releaseStatesOfGeometry(ft),ft.isInstancedBufferGeometry===!0&&delete ft._maxInstanceCount,_.memory.geometries--}function rt(lt,ft){return j[ft.id]===!0||(ft.addEventListener("dispose",tt),j[ft.id]=!0,_.memory.geometries++),ft}function nt(lt){const ft=lt.attributes;for(const _t in ft)i.update(ft[_t],o.ARRAY_BUFFER)}function it(lt){const ft=[],_t=lt.index,At=lt.attributes.position;let Tt=0;if(_t!==null){const Pt=_t.array;Tt=_t.version;for(let $t=0,Ot=Pt.length;$t<Ot;$t+=3){const It=Pt[$t+0],Dt=Pt[$t+1],Lt=Pt[$t+2];ft.push(It,Dt,Dt,Lt,Lt,It)}}else if(At!==void 0){const Pt=At.array;Tt=At.version;for(let $t=0,Ot=Pt.length/3-1;$t<Ot;$t+=3){const It=$t+0,Dt=$t+1,Lt=$t+2;ft.push(It,Dt,Dt,Lt,Lt,It)}}else return;const Mt=new(arrayNeedsUint32(ft)?Uint32BufferAttribute:Uint16BufferAttribute)(ft,1);Mt.version=Tt;const pt=_e.get(lt);pt&&i.remove(pt),_e.set(lt,Mt)}function ot(lt){const ft=_e.get(lt);if(ft){const _t=lt.index;_t!==null&&ft.version<_t.version&&it(lt)}else it(lt);return _e.get(lt)}return{get:rt,update:nt,getWireframeAttribute:ot}}function WebGLIndexedBufferRenderer(o,i,_){let $;function j(ft){$=ft}let _e,tt;function rt(ft){_e=ft.type,tt=ft.bytesPerElement}function nt(ft,_t){o.drawElements($,_t,_e,ft*tt),_.update(_t,$,1)}function it(ft,_t,At){At!==0&&(o.drawElementsInstanced($,_t,_e,ft*tt,At),_.update(_t,$,At))}function ot(ft,_t,At){if(At===0)return;i.get("WEBGL_multi_draw").multiDrawElementsWEBGL($,_t,0,_e,ft,0,At);let Mt=0;for(let pt=0;pt<At;pt++)Mt+=_t[pt];_.update(Mt,$,1)}function lt(ft,_t,At,Tt){if(At===0)return;const Mt=i.get("WEBGL_multi_draw");if(Mt===null)for(let pt=0;pt<ft.length;pt++)it(ft[pt]/tt,_t[pt],Tt[pt]);else{Mt.multiDrawElementsInstancedWEBGL($,_t,0,_e,ft,0,Tt,0,At);let pt=0;for(let Pt=0;Pt<At;Pt++)pt+=_t[Pt]*Tt[Pt];_.update(pt,$,1)}}this.setMode=j,this.setIndex=rt,this.render=nt,this.renderInstances=it,this.renderMultiDraw=ot,this.renderMultiDrawInstances=lt}function WebGLInfo(o){const i={geometries:0,textures:0},_={frame:0,calls:0,triangles:0,points:0,lines:0};function $(_e,tt,rt){switch(_.calls++,tt){case o.TRIANGLES:_.triangles+=rt*(_e/3);break;case o.LINES:_.lines+=rt*(_e/2);break;case o.LINE_STRIP:_.lines+=rt*(_e-1);break;case o.LINE_LOOP:_.lines+=rt*_e;break;case o.POINTS:_.points+=rt*_e;break;default:error("WebGLInfo: Unknown draw mode:",tt);break}}function j(){_.calls=0,_.triangles=0,_.points=0,_.lines=0}return{memory:i,render:_,programs:null,autoReset:!0,reset:j,update:$}}function WebGLMorphtargets(o,i,_){const $=new WeakMap,j=new Vector4;function _e(tt,rt,nt){const it=tt.morphTargetInfluences,ot=rt.morphAttributes.position||rt.morphAttributes.normal||rt.morphAttributes.color,lt=ot!==void 0?ot.length:0;let ft=$.get(rt);if(ft===void 0||ft.count!==lt){let Ut=function(){Bt.dispose(),$.delete(rt),rt.removeEventListener("dispose",Ut)};var _t=Ut;ft!==void 0&&ft.texture.dispose();const At=rt.morphAttributes.position!==void 0,Tt=rt.morphAttributes.normal!==void 0,Mt=rt.morphAttributes.color!==void 0,pt=rt.morphAttributes.position||[],Pt=rt.morphAttributes.normal||[],$t=rt.morphAttributes.color||[];let Ot=0;At===!0&&(Ot=1),Tt===!0&&(Ot=2),Mt===!0&&(Ot=3);let It=rt.attributes.position.count*Ot,Dt=1;It>i.maxTextureSize&&(Dt=Math.ceil(It/i.maxTextureSize),It=i.maxTextureSize);const Lt=new Float32Array(It*Dt*4*lt),Bt=new DataArrayTexture(Lt,It,Dt,lt);Bt.type=FloatType,Bt.needsUpdate=!0;const jt=Ot*4;for(let Gt=0;Gt<lt;Gt++){const qt=pt[Gt],Jt=Pt[Gt],er=$t[Gt],Kt=It*Dt*4*Gt;for(let zt=0;zt<qt.count;zt++){const Ht=zt*jt;At===!0&&(j.fromBufferAttribute(qt,zt),Lt[Kt+Ht+0]=j.x,Lt[Kt+Ht+1]=j.y,Lt[Kt+Ht+2]=j.z,Lt[Kt+Ht+3]=0),Tt===!0&&(j.fromBufferAttribute(Jt,zt),Lt[Kt+Ht+4]=j.x,Lt[Kt+Ht+5]=j.y,Lt[Kt+Ht+6]=j.z,Lt[Kt+Ht+7]=0),Mt===!0&&(j.fromBufferAttribute(er,zt),Lt[Kt+Ht+8]=j.x,Lt[Kt+Ht+9]=j.y,Lt[Kt+Ht+10]=j.z,Lt[Kt+Ht+11]=er.itemSize===4?j.w:1)}}ft={count:lt,texture:Bt,size:new Vector2(It,Dt)},$.set(rt,ft),rt.addEventListener("dispose",Ut)}if(tt.isInstancedMesh===!0&&tt.morphTexture!==null)nt.getUniforms().setValue(o,"morphTexture",tt.morphTexture,_);else{let At=0;for(let Mt=0;Mt<it.length;Mt++)At+=it[Mt];const Tt=rt.morphTargetsRelative?1:1-At;nt.getUniforms().setValue(o,"morphTargetBaseInfluence",Tt),nt.getUniforms().setValue(o,"morphTargetInfluences",it)}nt.getUniforms().setValue(o,"morphTargetsTexture",ft.texture,_),nt.getUniforms().setValue(o,"morphTargetsTextureSize",ft.size)}return{update:_e}}function WebGLObjects(o,i,_,$){let j=new WeakMap;function _e(nt){const it=$.render.frame,ot=nt.geometry,lt=i.get(nt,ot);if(j.get(lt)!==it&&(i.update(lt),j.set(lt,it)),nt.isInstancedMesh&&(nt.hasEventListener("dispose",rt)===!1&&nt.addEventListener("dispose",rt),j.get(nt)!==it&&(_.update(nt.instanceMatrix,o.ARRAY_BUFFER),nt.instanceColor!==null&&_.update(nt.instanceColor,o.ARRAY_BUFFER),j.set(nt,it))),nt.isSkinnedMesh){const ft=nt.skeleton;j.get(ft)!==it&&(ft.update(),j.set(ft,it))}return lt}function tt(){j=new WeakMap}function rt(nt){const it=nt.target;it.removeEventListener("dispose",rt),_.remove(it.instanceMatrix),it.instanceColor!==null&&_.remove(it.instanceColor)}return{update:_e,dispose:tt}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(o,i,_){const $=o[0];if($<=0||$>0)return o;const j=i*_;let _e=arrayCacheF32[j];if(_e===void 0&&(_e=new Float32Array(j),arrayCacheF32[j]=_e),i!==0){$.toArray(_e,0);for(let tt=1,rt=0;tt!==i;++tt)rt+=_,o[tt].toArray(_e,rt)}return _e}function arraysEqual(o,i){if(o.length!==i.length)return!1;for(let _=0,$=o.length;_<$;_++)if(o[_]!==i[_])return!1;return!0}function copyArray(o,i){for(let _=0,$=i.length;_<$;_++)o[_]=i[_]}function allocTexUnits(o,i){let _=arrayCacheI32[i];_===void 0&&(_=new Int32Array(i),arrayCacheI32[i]=_);for(let $=0;$!==i;++$)_[$]=o.allocateTextureUnit();return _}function setValueV1f(o,i){const _=this.cache;_[0]!==i&&(o.uniform1f(this.addr,i),_[0]=i)}function setValueV2f(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y)&&(o.uniform2f(this.addr,i.x,i.y),_[0]=i.x,_[1]=i.y);else{if(arraysEqual(_,i))return;o.uniform2fv(this.addr,i),copyArray(_,i)}}function setValueV3f(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z)&&(o.uniform3f(this.addr,i.x,i.y,i.z),_[0]=i.x,_[1]=i.y,_[2]=i.z);else if(i.r!==void 0)(_[0]!==i.r||_[1]!==i.g||_[2]!==i.b)&&(o.uniform3f(this.addr,i.r,i.g,i.b),_[0]=i.r,_[1]=i.g,_[2]=i.b);else{if(arraysEqual(_,i))return;o.uniform3fv(this.addr,i),copyArray(_,i)}}function setValueV4f(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z||_[3]!==i.w)&&(o.uniform4f(this.addr,i.x,i.y,i.z,i.w),_[0]=i.x,_[1]=i.y,_[2]=i.z,_[3]=i.w);else{if(arraysEqual(_,i))return;o.uniform4fv(this.addr,i),copyArray(_,i)}}function setValueM2(o,i){const _=this.cache,$=i.elements;if($===void 0){if(arraysEqual(_,i))return;o.uniformMatrix2fv(this.addr,!1,i),copyArray(_,i)}else{if(arraysEqual(_,$))return;mat2array.set($),o.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(_,$)}}function setValueM3(o,i){const _=this.cache,$=i.elements;if($===void 0){if(arraysEqual(_,i))return;o.uniformMatrix3fv(this.addr,!1,i),copyArray(_,i)}else{if(arraysEqual(_,$))return;mat3array.set($),o.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(_,$)}}function setValueM4(o,i){const _=this.cache,$=i.elements;if($===void 0){if(arraysEqual(_,i))return;o.uniformMatrix4fv(this.addr,!1,i),copyArray(_,i)}else{if(arraysEqual(_,$))return;mat4array.set($),o.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(_,$)}}function setValueV1i(o,i){const _=this.cache;_[0]!==i&&(o.uniform1i(this.addr,i),_[0]=i)}function setValueV2i(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y)&&(o.uniform2i(this.addr,i.x,i.y),_[0]=i.x,_[1]=i.y);else{if(arraysEqual(_,i))return;o.uniform2iv(this.addr,i),copyArray(_,i)}}function setValueV3i(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z)&&(o.uniform3i(this.addr,i.x,i.y,i.z),_[0]=i.x,_[1]=i.y,_[2]=i.z);else{if(arraysEqual(_,i))return;o.uniform3iv(this.addr,i),copyArray(_,i)}}function setValueV4i(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z||_[3]!==i.w)&&(o.uniform4i(this.addr,i.x,i.y,i.z,i.w),_[0]=i.x,_[1]=i.y,_[2]=i.z,_[3]=i.w);else{if(arraysEqual(_,i))return;o.uniform4iv(this.addr,i),copyArray(_,i)}}function setValueV1ui(o,i){const _=this.cache;_[0]!==i&&(o.uniform1ui(this.addr,i),_[0]=i)}function setValueV2ui(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y)&&(o.uniform2ui(this.addr,i.x,i.y),_[0]=i.x,_[1]=i.y);else{if(arraysEqual(_,i))return;o.uniform2uiv(this.addr,i),copyArray(_,i)}}function setValueV3ui(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z)&&(o.uniform3ui(this.addr,i.x,i.y,i.z),_[0]=i.x,_[1]=i.y,_[2]=i.z);else{if(arraysEqual(_,i))return;o.uniform3uiv(this.addr,i),copyArray(_,i)}}function setValueV4ui(o,i){const _=this.cache;if(i.x!==void 0)(_[0]!==i.x||_[1]!==i.y||_[2]!==i.z||_[3]!==i.w)&&(o.uniform4ui(this.addr,i.x,i.y,i.z,i.w),_[0]=i.x,_[1]=i.y,_[2]=i.z,_[3]=i.w);else{if(arraysEqual(_,i))return;o.uniform4uiv(this.addr,i),copyArray(_,i)}}function setValueT1(o,i,_){const $=this.cache,j=_.allocateTextureUnit();$[0]!==j&&(o.uniform1i(this.addr,j),$[0]=j);let _e;this.type===o.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,_e=emptyShadowTexture):_e=emptyTexture,_.setTexture2D(i||_e,j)}function setValueT3D1(o,i,_){const $=this.cache,j=_.allocateTextureUnit();$[0]!==j&&(o.uniform1i(this.addr,j),$[0]=j),_.setTexture3D(i||empty3dTexture,j)}function setValueT6(o,i,_){const $=this.cache,j=_.allocateTextureUnit();$[0]!==j&&(o.uniform1i(this.addr,j),$[0]=j),_.setTextureCube(i||emptyCubeTexture,j)}function setValueT2DArray1(o,i,_){const $=this.cache,j=_.allocateTextureUnit();$[0]!==j&&(o.uniform1i(this.addr,j),$[0]=j),_.setTexture2DArray(i||emptyArrayTexture,j)}function getSingularSetter(o){switch(o){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(o,i){o.uniform1fv(this.addr,i)}function setValueV2fArray(o,i){const _=flatten(i,this.size,2);o.uniform2fv(this.addr,_)}function setValueV3fArray(o,i){const _=flatten(i,this.size,3);o.uniform3fv(this.addr,_)}function setValueV4fArray(o,i){const _=flatten(i,this.size,4);o.uniform4fv(this.addr,_)}function setValueM2Array(o,i){const _=flatten(i,this.size,4);o.uniformMatrix2fv(this.addr,!1,_)}function setValueM3Array(o,i){const _=flatten(i,this.size,9);o.uniformMatrix3fv(this.addr,!1,_)}function setValueM4Array(o,i){const _=flatten(i,this.size,16);o.uniformMatrix4fv(this.addr,!1,_)}function setValueV1iArray(o,i){o.uniform1iv(this.addr,i)}function setValueV2iArray(o,i){o.uniform2iv(this.addr,i)}function setValueV3iArray(o,i){o.uniform3iv(this.addr,i)}function setValueV4iArray(o,i){o.uniform4iv(this.addr,i)}function setValueV1uiArray(o,i){o.uniform1uiv(this.addr,i)}function setValueV2uiArray(o,i){o.uniform2uiv(this.addr,i)}function setValueV3uiArray(o,i){o.uniform3uiv(this.addr,i)}function setValueV4uiArray(o,i){o.uniform4uiv(this.addr,i)}function setValueT1Array(o,i,_){const $=this.cache,j=i.length,_e=allocTexUnits(_,j);arraysEqual($,_e)||(o.uniform1iv(this.addr,_e),copyArray($,_e));for(let tt=0;tt!==j;++tt)_.setTexture2D(i[tt]||emptyTexture,_e[tt])}function setValueT3DArray(o,i,_){const $=this.cache,j=i.length,_e=allocTexUnits(_,j);arraysEqual($,_e)||(o.uniform1iv(this.addr,_e),copyArray($,_e));for(let tt=0;tt!==j;++tt)_.setTexture3D(i[tt]||empty3dTexture,_e[tt])}function setValueT6Array(o,i,_){const $=this.cache,j=i.length,_e=allocTexUnits(_,j);arraysEqual($,_e)||(o.uniform1iv(this.addr,_e),copyArray($,_e));for(let tt=0;tt!==j;++tt)_.setTextureCube(i[tt]||emptyCubeTexture,_e[tt])}function setValueT2DArrayArray(o,i,_){const $=this.cache,j=i.length,_e=allocTexUnits(_,j);arraysEqual($,_e)||(o.uniform1iv(this.addr,_e),copyArray($,_e));for(let tt=0;tt!==j;++tt)_.setTexture2DArray(i[tt]||emptyArrayTexture,_e[tt])}function getPureArraySetter(o){switch(o){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(i,_,$){this.id=i,this.addr=$,this.cache=[],this.type=_.type,this.setValue=getSingularSetter(_.type)}}class PureArrayUniform{constructor(i,_,$){this.id=i,this.addr=$,this.cache=[],this.type=_.type,this.size=_.size,this.setValue=getPureArraySetter(_.type)}}class StructuredUniform{constructor(i){this.id=i,this.seq=[],this.map={}}setValue(i,_,$){const j=this.seq;for(let _e=0,tt=j.length;_e!==tt;++_e){const rt=j[_e];rt.setValue(i,_[rt.id],$)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(o,i){o.seq.push(i),o.map[i.id]=i}function parseUniform(o,i,_){const $=o.name,j=$.length;for(RePathPart.lastIndex=0;;){const _e=RePathPart.exec($),tt=RePathPart.lastIndex;let rt=_e[1];const nt=_e[2]==="]",it=_e[3];if(nt&&(rt=rt|0),it===void 0||it==="["&&tt+2===j){addUniform(_,it===void 0?new SingleUniform(rt,o,i):new PureArrayUniform(rt,o,i));break}else{let lt=_.map[rt];lt===void 0&&(lt=new StructuredUniform(rt),addUniform(_,lt)),_=lt}}}class WebGLUniforms{constructor(i,_){this.seq=[],this.map={};const $=i.getProgramParameter(_,i.ACTIVE_UNIFORMS);for(let j=0;j<$;++j){const _e=i.getActiveUniform(_,j),tt=i.getUniformLocation(_,_e.name);parseUniform(_e,tt,this)}}setValue(i,_,$,j){const _e=this.map[_];_e!==void 0&&_e.setValue(i,$,j)}setOptional(i,_,$){const j=_[$];j!==void 0&&this.setValue(i,$,j)}static upload(i,_,$,j){for(let _e=0,tt=_.length;_e!==tt;++_e){const rt=_[_e],nt=$[rt.id];nt.needsUpdate!==!1&&rt.setValue(i,nt.value,j)}}static seqWithValue(i,_){const $=[];for(let j=0,_e=i.length;j!==_e;++j){const tt=i[j];tt.id in _&&$.push(tt)}return $}}function WebGLShader(o,i,_){const $=o.createShader(i);return o.shaderSource($,_),o.compileShader($),$}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(o,i){const _=o.split(`
`),$=[],j=Math.max(i-6,0),_e=Math.min(i+6,_.length);for(let tt=j;tt<_e;tt++){const rt=tt+1;$.push(`${rt===i?">":" "} ${rt}: ${_[tt]}`)}return $.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(o){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,o);const i=`mat3( ${_m0.elements.map(_=>_.toFixed(4))} )`;switch(ColorManagement.getTransfer(o)){case LinearTransfer:return[i,"LinearTransferOETF"];case SRGBTransfer:return[i,"sRGBTransferOETF"];default:return warn$2("WebGLProgram: Unsupported color space: ",o),[i,"LinearTransferOETF"]}}function getShaderErrors(o,i,_){const $=o.getShaderParameter(i,o.COMPILE_STATUS),_e=(o.getShaderInfoLog(i)||"").trim();if($&&_e==="")return"";const tt=/ERROR: 0:(\d+)/.exec(_e);if(tt){const rt=parseInt(tt[1]);return _.toUpperCase()+`

`+_e+`

`+handleSource(o.getShaderSource(i),rt)}else return _e}function getTexelEncodingFunction(o,i){const _=getEncodingComponents(i);return[`vec4 ${o}( vec4 value ) {`,`	return ${_[1]}( vec4( value.rgb * ${_[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(o,i){let _;switch(i){case LinearToneMapping:_="Linear";break;case ReinhardToneMapping:_="Reinhard";break;case CineonToneMapping:_="Cineon";break;case ACESFilmicToneMapping:_="ACESFilmic";break;case AgXToneMapping:_="AgX";break;case NeutralToneMapping:_="Neutral";break;case CustomToneMapping:_="Custom";break;default:warn$2("WebGLProgram: Unsupported toneMapping:",i),_="Linear"}return"vec3 "+o+"( vec3 color ) { return "+_+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const o=_v0.x.toFixed(4),i=_v0.y.toFixed(4),_=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${o}, ${i}, ${_} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(o){return[o.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",o.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(o){const i=[];for(const _ in o){const $=o[_];$!==!1&&i.push("#define "+_+" "+$)}return i.join(`
`)}function fetchAttributeLocations(o,i){const _={},$=o.getProgramParameter(i,o.ACTIVE_ATTRIBUTES);for(let j=0;j<$;j++){const _e=o.getActiveAttrib(i,j),tt=_e.name;let rt=1;_e.type===o.FLOAT_MAT2&&(rt=2),_e.type===o.FLOAT_MAT3&&(rt=3),_e.type===o.FLOAT_MAT4&&(rt=4),_[tt]={type:_e.type,location:o.getAttribLocation(i,tt),locationSize:rt}}return _}function filterEmptyLine(o){return o!==""}function replaceLightNums(o,i){const _=i.numSpotLightShadows+i.numSpotLightMaps-i.numSpotLightShadowsWithMaps;return o.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,i.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,_).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,i.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function replaceClippingPlaneNums(o,i){return o.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(o){return o.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(o,i){let _=ShaderChunk[i];if(_===void 0){const $=shaderChunkMap.get(i);if($!==void 0)_=ShaderChunk[$],warn$2('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',i,$);else throw new Error("Can not resolve #include <"+i+">")}return resolveIncludes(_)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(o){return o.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(o,i,_,$){let j="";for(let _e=parseInt(i);_e<parseInt(_);_e++)j+=$.replace(/\[\s*i\s*\]/g,"[ "+_e+" ]").replace(/UNROLLED_LOOP_INDEX/g,_e);return j}function generatePrecision(o){let i=`precision ${o.precision} float;
	precision ${o.precision} int;
	precision ${o.precision} sampler2D;
	precision ${o.precision} samplerCube;
	precision ${o.precision} sampler3D;
	precision ${o.precision} sampler2DArray;
	precision ${o.precision} sampler2DShadow;
	precision ${o.precision} samplerCubeShadow;
	precision ${o.precision} sampler2DArrayShadow;
	precision ${o.precision} isampler2D;
	precision ${o.precision} isampler3D;
	precision ${o.precision} isamplerCube;
	precision ${o.precision} isampler2DArray;
	precision ${o.precision} usampler2D;
	precision ${o.precision} usampler3D;
	precision ${o.precision} usamplerCube;
	precision ${o.precision} usampler2DArray;
	`;return o.precision==="highp"?i+=`
#define HIGH_PRECISION`:o.precision==="mediump"?i+=`
#define MEDIUM_PRECISION`:o.precision==="lowp"&&(i+=`
#define LOW_PRECISION`),i}function generateShadowMapTypeDefine(o){let i="SHADOWMAP_TYPE_BASIC";return o.shadowMapType===PCFShadowMap?i="SHADOWMAP_TYPE_PCF":o.shadowMapType===PCFSoftShadowMap?i="SHADOWMAP_TYPE_PCF_SOFT":o.shadowMapType===VSMShadowMap&&(i="SHADOWMAP_TYPE_VSM"),i}function generateEnvMapTypeDefine(o){let i="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:i="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:i="ENVMAP_TYPE_CUBE_UV";break}return i}function generateEnvMapModeDefine(o){let i="ENVMAP_MODE_REFLECTION";if(o.envMap)switch(o.envMapMode){case CubeRefractionMapping:i="ENVMAP_MODE_REFRACTION";break}return i}function generateEnvMapBlendingDefine(o){let i="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case MultiplyOperation:i="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:i="ENVMAP_BLENDING_MIX";break;case AddOperation:i="ENVMAP_BLENDING_ADD";break}return i}function generateCubeUVSize(o){const i=o.envMapCubeUVHeight;if(i===null)return null;const _=Math.log2(i)-2,$=1/i;return{texelWidth:1/(3*Math.max(Math.pow(2,_),7*16)),texelHeight:$,maxMip:_}}function WebGLProgram(o,i,_,$){const j=o.getContext(),_e=_.defines;let tt=_.vertexShader,rt=_.fragmentShader;const nt=generateShadowMapTypeDefine(_),it=generateEnvMapTypeDefine(_),ot=generateEnvMapModeDefine(_),lt=generateEnvMapBlendingDefine(_),ft=generateCubeUVSize(_),_t=generateVertexExtensions(_),At=generateDefines(_e),Tt=j.createProgram();let Mt,pt,Pt=_.glslVersion?"#version "+_.glslVersion+`
`:"";_.isRawShaderMaterial?(Mt=["#define SHADER_TYPE "+_.shaderType,"#define SHADER_NAME "+_.shaderName,At].filter(filterEmptyLine).join(`
`),Mt.length>0&&(Mt+=`
`),pt=["#define SHADER_TYPE "+_.shaderType,"#define SHADER_NAME "+_.shaderName,At].filter(filterEmptyLine).join(`
`),pt.length>0&&(pt+=`
`)):(Mt=[generatePrecision(_),"#define SHADER_TYPE "+_.shaderType,"#define SHADER_NAME "+_.shaderName,At,_.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",_.batching?"#define USE_BATCHING":"",_.batchingColor?"#define USE_BATCHING_COLOR":"",_.instancing?"#define USE_INSTANCING":"",_.instancingColor?"#define USE_INSTANCING_COLOR":"",_.instancingMorph?"#define USE_INSTANCING_MORPH":"",_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.map?"#define USE_MAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+ot:"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",_.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",_.displacementMap?"#define USE_DISPLACEMENTMAP":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.anisotropy?"#define USE_ANISOTROPY":"",_.anisotropyMap?"#define USE_ANISOTROPYMAP":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",_.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.alphaHash?"#define USE_ALPHAHASH":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",_.mapUv?"#define MAP_UV "+_.mapUv:"",_.alphaMapUv?"#define ALPHAMAP_UV "+_.alphaMapUv:"",_.lightMapUv?"#define LIGHTMAP_UV "+_.lightMapUv:"",_.aoMapUv?"#define AOMAP_UV "+_.aoMapUv:"",_.emissiveMapUv?"#define EMISSIVEMAP_UV "+_.emissiveMapUv:"",_.bumpMapUv?"#define BUMPMAP_UV "+_.bumpMapUv:"",_.normalMapUv?"#define NORMALMAP_UV "+_.normalMapUv:"",_.displacementMapUv?"#define DISPLACEMENTMAP_UV "+_.displacementMapUv:"",_.metalnessMapUv?"#define METALNESSMAP_UV "+_.metalnessMapUv:"",_.roughnessMapUv?"#define ROUGHNESSMAP_UV "+_.roughnessMapUv:"",_.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+_.anisotropyMapUv:"",_.clearcoatMapUv?"#define CLEARCOATMAP_UV "+_.clearcoatMapUv:"",_.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+_.clearcoatNormalMapUv:"",_.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+_.clearcoatRoughnessMapUv:"",_.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+_.iridescenceMapUv:"",_.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+_.iridescenceThicknessMapUv:"",_.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+_.sheenColorMapUv:"",_.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+_.sheenRoughnessMapUv:"",_.specularMapUv?"#define SPECULARMAP_UV "+_.specularMapUv:"",_.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+_.specularColorMapUv:"",_.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+_.specularIntensityMapUv:"",_.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+_.transmissionMapUv:"",_.thicknessMapUv?"#define THICKNESSMAP_UV "+_.thicknessMapUv:"",_.vertexTangents&&_.flatShading===!1?"#define USE_TANGENT":"",_.vertexColors?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUv1s?"#define USE_UV1":"",_.vertexUv2s?"#define USE_UV2":"",_.vertexUv3s?"#define USE_UV3":"",_.pointsUvs?"#define USE_POINTS_UV":"",_.flatShading?"#define FLAT_SHADED":"",_.skinning?"#define USE_SKINNING":"",_.morphTargets?"#define USE_MORPHTARGETS":"",_.morphNormals&&_.flatShading===!1?"#define USE_MORPHNORMALS":"",_.morphColors?"#define USE_MORPHCOLORS":"",_.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+_.morphTextureStride:"",_.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+_.morphTargetsCount:"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+nt:"",_.sizeAttenuation?"#define USE_SIZEATTENUATION":"",_.numLightProbes>0?"#define USE_LIGHT_PROBES":"",_.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",_.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),pt=[generatePrecision(_),"#define SHADER_TYPE "+_.shaderType,"#define SHADER_NAME "+_.shaderName,At,_.useFog&&_.fog?"#define USE_FOG":"",_.useFog&&_.fogExp2?"#define FOG_EXP2":"",_.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",_.map?"#define USE_MAP":"",_.matcap?"#define USE_MATCAP":"",_.envMap?"#define USE_ENVMAP":"",_.envMap?"#define "+it:"",_.envMap?"#define "+ot:"",_.envMap?"#define "+lt:"",ft?"#define CUBEUV_TEXEL_WIDTH "+ft.texelWidth:"",ft?"#define CUBEUV_TEXEL_HEIGHT "+ft.texelHeight:"",ft?"#define CUBEUV_MAX_MIP "+ft.maxMip+".0":"",_.lightMap?"#define USE_LIGHTMAP":"",_.aoMap?"#define USE_AOMAP":"",_.bumpMap?"#define USE_BUMPMAP":"",_.normalMap?"#define USE_NORMALMAP":"",_.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",_.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",_.emissiveMap?"#define USE_EMISSIVEMAP":"",_.anisotropy?"#define USE_ANISOTROPY":"",_.anisotropyMap?"#define USE_ANISOTROPYMAP":"",_.clearcoat?"#define USE_CLEARCOAT":"",_.clearcoatMap?"#define USE_CLEARCOATMAP":"",_.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",_.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",_.dispersion?"#define USE_DISPERSION":"",_.iridescence?"#define USE_IRIDESCENCE":"",_.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",_.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",_.specularMap?"#define USE_SPECULARMAP":"",_.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",_.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",_.roughnessMap?"#define USE_ROUGHNESSMAP":"",_.metalnessMap?"#define USE_METALNESSMAP":"",_.alphaMap?"#define USE_ALPHAMAP":"",_.alphaTest?"#define USE_ALPHATEST":"",_.alphaHash?"#define USE_ALPHAHASH":"",_.sheen?"#define USE_SHEEN":"",_.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",_.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",_.transmission?"#define USE_TRANSMISSION":"",_.transmissionMap?"#define USE_TRANSMISSIONMAP":"",_.thicknessMap?"#define USE_THICKNESSMAP":"",_.vertexTangents&&_.flatShading===!1?"#define USE_TANGENT":"",_.vertexColors||_.instancingColor||_.batchingColor?"#define USE_COLOR":"",_.vertexAlphas?"#define USE_COLOR_ALPHA":"",_.vertexUv1s?"#define USE_UV1":"",_.vertexUv2s?"#define USE_UV2":"",_.vertexUv3s?"#define USE_UV3":"",_.pointsUvs?"#define USE_POINTS_UV":"",_.gradientMap?"#define USE_GRADIENTMAP":"",_.flatShading?"#define FLAT_SHADED":"",_.doubleSided?"#define DOUBLE_SIDED":"",_.flipSided?"#define FLIP_SIDED":"",_.shadowMapEnabled?"#define USE_SHADOWMAP":"",_.shadowMapEnabled?"#define "+nt:"",_.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",_.numLightProbes>0?"#define USE_LIGHT_PROBES":"",_.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",_.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",_.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",_.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",_.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",_.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",_.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",_.toneMapping):"",_.dithering?"#define DITHERING":"",_.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",_.outputColorSpace),getLuminanceFunction(),_.useDepthPacking?"#define DEPTH_PACKING "+_.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),tt=resolveIncludes(tt),tt=replaceLightNums(tt,_),tt=replaceClippingPlaneNums(tt,_),rt=resolveIncludes(rt),rt=replaceLightNums(rt,_),rt=replaceClippingPlaneNums(rt,_),tt=unrollLoops(tt),rt=unrollLoops(rt),_.isRawShaderMaterial!==!0&&(Pt=`#version 300 es
`,Mt=[_t,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Mt,pt=["#define varying in",_.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",_.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+pt);const $t=Pt+Mt+tt,Ot=Pt+pt+rt,It=WebGLShader(j,j.VERTEX_SHADER,$t),Dt=WebGLShader(j,j.FRAGMENT_SHADER,Ot);j.attachShader(Tt,It),j.attachShader(Tt,Dt),_.index0AttributeName!==void 0?j.bindAttribLocation(Tt,0,_.index0AttributeName):_.morphTargets===!0&&j.bindAttribLocation(Tt,0,"position"),j.linkProgram(Tt);function Lt(Gt){if(o.debug.checkShaderErrors){const qt=j.getProgramInfoLog(Tt)||"",Jt=j.getShaderInfoLog(It)||"",er=j.getShaderInfoLog(Dt)||"",Kt=qt.trim(),zt=Jt.trim(),Ht=er.trim();let Ft=!0,Vt=!0;if(j.getProgramParameter(Tt,j.LINK_STATUS)===!1)if(Ft=!1,typeof o.debug.onShaderError=="function")o.debug.onShaderError(j,Tt,It,Dt);else{const Yt=getShaderErrors(j,It,"vertex"),Zt=getShaderErrors(j,Dt,"fragment");error("THREE.WebGLProgram: Shader Error "+j.getError()+" - VALIDATE_STATUS "+j.getProgramParameter(Tt,j.VALIDATE_STATUS)+`

Material Name: `+Gt.name+`
Material Type: `+Gt.type+`

Program Info Log: `+Kt+`
`+Yt+`
`+Zt)}else Kt!==""?warn$2("WebGLProgram: Program Info Log:",Kt):(zt===""||Ht==="")&&(Vt=!1);Vt&&(Gt.diagnostics={runnable:Ft,programLog:Kt,vertexShader:{log:zt,prefix:Mt},fragmentShader:{log:Ht,prefix:pt}})}j.deleteShader(It),j.deleteShader(Dt),Bt=new WebGLUniforms(j,Tt),jt=fetchAttributeLocations(j,Tt)}let Bt;this.getUniforms=function(){return Bt===void 0&&Lt(this),Bt};let jt;this.getAttributes=function(){return jt===void 0&&Lt(this),jt};let Ut=_.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ut===!1&&(Ut=j.getProgramParameter(Tt,COMPLETION_STATUS_KHR)),Ut},this.destroy=function(){$.releaseStatesOfProgram(this),j.deleteProgram(Tt),this.program=void 0},this.type=_.shaderType,this.name=_.shaderName,this.id=programIdCount++,this.cacheKey=i,this.usedTimes=1,this.program=Tt,this.vertexShader=It,this.fragmentShader=Dt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(i){const _=i.vertexShader,$=i.fragmentShader,j=this._getShaderStage(_),_e=this._getShaderStage($),tt=this._getShaderCacheForMaterial(i);return tt.has(j)===!1&&(tt.add(j),j.usedTimes++),tt.has(_e)===!1&&(tt.add(_e),_e.usedTimes++),this}remove(i){const _=this.materialCache.get(i);for(const $ of _)$.usedTimes--,$.usedTimes===0&&this.shaderCache.delete($.code);return this.materialCache.delete(i),this}getVertexShaderID(i){return this._getShaderStage(i.vertexShader).id}getFragmentShaderID(i){return this._getShaderStage(i.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(i){const _=this.materialCache;let $=_.get(i);return $===void 0&&($=new Set,_.set(i,$)),$}_getShaderStage(i){const _=this.shaderCache;let $=_.get(i);return $===void 0&&($=new WebGLShaderStage(i),_.set(i,$)),$}}class WebGLShaderStage{constructor(i){this.id=_id++,this.code=i,this.usedTimes=0}}function WebGLPrograms(o,i,_,$,j,_e,tt){const rt=new Layers,nt=new WebGLShaderCache,it=new Set,ot=[],lt=j.logarithmicDepthBuffer,ft=j.vertexTextures;let _t=j.precision;const At={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Tt(jt){return it.add(jt),jt===0?"uv":`uv${jt}`}function Mt(jt,Ut,Gt,qt,Jt){const er=qt.fog,Kt=Jt.geometry,zt=jt.isMeshStandardMaterial?qt.environment:null,Ht=(jt.isMeshStandardMaterial?_:i).get(jt.envMap||zt),Ft=Ht&&Ht.mapping===CubeUVReflectionMapping?Ht.image.height:null,Vt=At[jt.type];jt.precision!==null&&(_t=j.getMaxPrecision(jt.precision),_t!==jt.precision&&warn$2("WebGLProgram.getParameters:",jt.precision,"not supported, using",_t,"instead."));const Yt=Kt.morphAttributes.position||Kt.morphAttributes.normal||Kt.morphAttributes.color,Zt=Yt!==void 0?Yt.length:0;let nr=0;Kt.morphAttributes.position!==void 0&&(nr=1),Kt.morphAttributes.normal!==void 0&&(nr=2),Kt.morphAttributes.color!==void 0&&(nr=3);let cr,vr,Tr,ar;if(Vt){const cn=ShaderLib[Vt];cr=cn.vertexShader,vr=cn.fragmentShader}else cr=jt.vertexShader,vr=jt.fragmentShader,nt.update(jt),Tr=nt.getVertexShaderID(jt),ar=nt.getFragmentShaderID(jt);const ur=o.getRenderTarget(),Sr=o.state.buffers.depth.getReversed(),gr=Jt.isInstancedMesh===!0,xr=Jt.isBatchedMesh===!0,Er=!!jt.map,dr=!!jt.matcap,Ar=!!Ht,mr=!!jt.aoMap,tr=!!jt.lightMap,Mr=!!jt.bumpMap,Lr=!!jt.normalMap,Wr=!!jt.displacementMap,Cr=!!jt.emissiveMap,an=!!jt.metalnessMap,Nr=!!jt.roughnessMap,Gr=jt.anisotropy>0,rr=jt.clearcoat>0,Xt=jt.dispersion>0,lr=jt.iridescence>0,yr=jt.sheen>0,_r=jt.transmission>0,pr=Gr&&!!jt.anisotropyMap,Hr=rr&&!!jt.clearcoatMap,Or=rr&&!!jt.clearcoatNormalMap,Kr=rr&&!!jt.clearcoatRoughnessMap,qr=lr&&!!jt.iridescenceMap,wr=lr&&!!jt.iridescenceThicknessMap,Rr=yr&&!!jt.sheenColorMap,Qr=yr&&!!jt.sheenRoughnessMap,Zr=!!jt.specularMap,jr=!!jt.specularColorMap,rn=!!jt.specularIntensityMap,ir=_r&&!!jt.transmissionMap,Fr=_r&&!!jt.thicknessMap,Ir=!!jt.gradientMap,Dr=!!jt.alphaMap,Pr=jt.alphaTest>0,br=!!jt.alphaHash,Ur=!!jt.extensions;let nn=NoToneMapping;jt.toneMapped&&(ur===null||ur.isXRRenderTarget===!0)&&(nn=o.toneMapping);const hn={shaderID:Vt,shaderType:jt.type,shaderName:jt.name,vertexShader:cr,fragmentShader:vr,defines:jt.defines,customVertexShaderID:Tr,customFragmentShaderID:ar,isRawShaderMaterial:jt.isRawShaderMaterial===!0,glslVersion:jt.glslVersion,precision:_t,batching:xr,batchingColor:xr&&Jt._colorsTexture!==null,instancing:gr,instancingColor:gr&&Jt.instanceColor!==null,instancingMorph:gr&&Jt.morphTexture!==null,supportsVertexTextures:ft,outputColorSpace:ur===null?o.outputColorSpace:ur.isXRRenderTarget===!0?ur.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!jt.alphaToCoverage,map:Er,matcap:dr,envMap:Ar,envMapMode:Ar&&Ht.mapping,envMapCubeUVHeight:Ft,aoMap:mr,lightMap:tr,bumpMap:Mr,normalMap:Lr,displacementMap:ft&&Wr,emissiveMap:Cr,normalMapObjectSpace:Lr&&jt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Lr&&jt.normalMapType===TangentSpaceNormalMap,metalnessMap:an,roughnessMap:Nr,anisotropy:Gr,anisotropyMap:pr,clearcoat:rr,clearcoatMap:Hr,clearcoatNormalMap:Or,clearcoatRoughnessMap:Kr,dispersion:Xt,iridescence:lr,iridescenceMap:qr,iridescenceThicknessMap:wr,sheen:yr,sheenColorMap:Rr,sheenRoughnessMap:Qr,specularMap:Zr,specularColorMap:jr,specularIntensityMap:rn,transmission:_r,transmissionMap:ir,thicknessMap:Fr,gradientMap:Ir,opaque:jt.transparent===!1&&jt.blending===NormalBlending&&jt.alphaToCoverage===!1,alphaMap:Dr,alphaTest:Pr,alphaHash:br,combine:jt.combine,mapUv:Er&&Tt(jt.map.channel),aoMapUv:mr&&Tt(jt.aoMap.channel),lightMapUv:tr&&Tt(jt.lightMap.channel),bumpMapUv:Mr&&Tt(jt.bumpMap.channel),normalMapUv:Lr&&Tt(jt.normalMap.channel),displacementMapUv:Wr&&Tt(jt.displacementMap.channel),emissiveMapUv:Cr&&Tt(jt.emissiveMap.channel),metalnessMapUv:an&&Tt(jt.metalnessMap.channel),roughnessMapUv:Nr&&Tt(jt.roughnessMap.channel),anisotropyMapUv:pr&&Tt(jt.anisotropyMap.channel),clearcoatMapUv:Hr&&Tt(jt.clearcoatMap.channel),clearcoatNormalMapUv:Or&&Tt(jt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Kr&&Tt(jt.clearcoatRoughnessMap.channel),iridescenceMapUv:qr&&Tt(jt.iridescenceMap.channel),iridescenceThicknessMapUv:wr&&Tt(jt.iridescenceThicknessMap.channel),sheenColorMapUv:Rr&&Tt(jt.sheenColorMap.channel),sheenRoughnessMapUv:Qr&&Tt(jt.sheenRoughnessMap.channel),specularMapUv:Zr&&Tt(jt.specularMap.channel),specularColorMapUv:jr&&Tt(jt.specularColorMap.channel),specularIntensityMapUv:rn&&Tt(jt.specularIntensityMap.channel),transmissionMapUv:ir&&Tt(jt.transmissionMap.channel),thicknessMapUv:Fr&&Tt(jt.thicknessMap.channel),alphaMapUv:Dr&&Tt(jt.alphaMap.channel),vertexTangents:!!Kt.attributes.tangent&&(Lr||Gr),vertexColors:jt.vertexColors,vertexAlphas:jt.vertexColors===!0&&!!Kt.attributes.color&&Kt.attributes.color.itemSize===4,pointsUvs:Jt.isPoints===!0&&!!Kt.attributes.uv&&(Er||Dr),fog:!!er,useFog:jt.fog===!0,fogExp2:!!er&&er.isFogExp2,flatShading:jt.flatShading===!0&&jt.wireframe===!1,sizeAttenuation:jt.sizeAttenuation===!0,logarithmicDepthBuffer:lt,reversedDepthBuffer:Sr,skinning:Jt.isSkinnedMesh===!0,morphTargets:Kt.morphAttributes.position!==void 0,morphNormals:Kt.morphAttributes.normal!==void 0,morphColors:Kt.morphAttributes.color!==void 0,morphTargetsCount:Zt,morphTextureStride:nr,numDirLights:Ut.directional.length,numPointLights:Ut.point.length,numSpotLights:Ut.spot.length,numSpotLightMaps:Ut.spotLightMap.length,numRectAreaLights:Ut.rectArea.length,numHemiLights:Ut.hemi.length,numDirLightShadows:Ut.directionalShadowMap.length,numPointLightShadows:Ut.pointShadowMap.length,numSpotLightShadows:Ut.spotShadowMap.length,numSpotLightShadowsWithMaps:Ut.numSpotLightShadowsWithMaps,numLightProbes:Ut.numLightProbes,numClippingPlanes:tt.numPlanes,numClipIntersection:tt.numIntersection,dithering:jt.dithering,shadowMapEnabled:o.shadowMap.enabled&&Gt.length>0,shadowMapType:o.shadowMap.type,toneMapping:nn,decodeVideoTexture:Er&&jt.map.isVideoTexture===!0&&ColorManagement.getTransfer(jt.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:Cr&&jt.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(jt.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:jt.premultipliedAlpha,doubleSided:jt.side===DoubleSide,flipSided:jt.side===BackSide,useDepthPacking:jt.depthPacking>=0,depthPacking:jt.depthPacking||0,index0AttributeName:jt.index0AttributeName,extensionClipCullDistance:Ur&&jt.extensions.clipCullDistance===!0&&$.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ur&&jt.extensions.multiDraw===!0||xr)&&$.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:$.has("KHR_parallel_shader_compile"),customProgramCacheKey:jt.customProgramCacheKey()};return hn.vertexUv1s=it.has(1),hn.vertexUv2s=it.has(2),hn.vertexUv3s=it.has(3),it.clear(),hn}function pt(jt){const Ut=[];if(jt.shaderID?Ut.push(jt.shaderID):(Ut.push(jt.customVertexShaderID),Ut.push(jt.customFragmentShaderID)),jt.defines!==void 0)for(const Gt in jt.defines)Ut.push(Gt),Ut.push(jt.defines[Gt]);return jt.isRawShaderMaterial===!1&&(Pt(Ut,jt),$t(Ut,jt),Ut.push(o.outputColorSpace)),Ut.push(jt.customProgramCacheKey),Ut.join()}function Pt(jt,Ut){jt.push(Ut.precision),jt.push(Ut.outputColorSpace),jt.push(Ut.envMapMode),jt.push(Ut.envMapCubeUVHeight),jt.push(Ut.mapUv),jt.push(Ut.alphaMapUv),jt.push(Ut.lightMapUv),jt.push(Ut.aoMapUv),jt.push(Ut.bumpMapUv),jt.push(Ut.normalMapUv),jt.push(Ut.displacementMapUv),jt.push(Ut.emissiveMapUv),jt.push(Ut.metalnessMapUv),jt.push(Ut.roughnessMapUv),jt.push(Ut.anisotropyMapUv),jt.push(Ut.clearcoatMapUv),jt.push(Ut.clearcoatNormalMapUv),jt.push(Ut.clearcoatRoughnessMapUv),jt.push(Ut.iridescenceMapUv),jt.push(Ut.iridescenceThicknessMapUv),jt.push(Ut.sheenColorMapUv),jt.push(Ut.sheenRoughnessMapUv),jt.push(Ut.specularMapUv),jt.push(Ut.specularColorMapUv),jt.push(Ut.specularIntensityMapUv),jt.push(Ut.transmissionMapUv),jt.push(Ut.thicknessMapUv),jt.push(Ut.combine),jt.push(Ut.fogExp2),jt.push(Ut.sizeAttenuation),jt.push(Ut.morphTargetsCount),jt.push(Ut.morphAttributeCount),jt.push(Ut.numDirLights),jt.push(Ut.numPointLights),jt.push(Ut.numSpotLights),jt.push(Ut.numSpotLightMaps),jt.push(Ut.numHemiLights),jt.push(Ut.numRectAreaLights),jt.push(Ut.numDirLightShadows),jt.push(Ut.numPointLightShadows),jt.push(Ut.numSpotLightShadows),jt.push(Ut.numSpotLightShadowsWithMaps),jt.push(Ut.numLightProbes),jt.push(Ut.shadowMapType),jt.push(Ut.toneMapping),jt.push(Ut.numClippingPlanes),jt.push(Ut.numClipIntersection),jt.push(Ut.depthPacking)}function $t(jt,Ut){rt.disableAll(),Ut.supportsVertexTextures&&rt.enable(0),Ut.instancing&&rt.enable(1),Ut.instancingColor&&rt.enable(2),Ut.instancingMorph&&rt.enable(3),Ut.matcap&&rt.enable(4),Ut.envMap&&rt.enable(5),Ut.normalMapObjectSpace&&rt.enable(6),Ut.normalMapTangentSpace&&rt.enable(7),Ut.clearcoat&&rt.enable(8),Ut.iridescence&&rt.enable(9),Ut.alphaTest&&rt.enable(10),Ut.vertexColors&&rt.enable(11),Ut.vertexAlphas&&rt.enable(12),Ut.vertexUv1s&&rt.enable(13),Ut.vertexUv2s&&rt.enable(14),Ut.vertexUv3s&&rt.enable(15),Ut.vertexTangents&&rt.enable(16),Ut.anisotropy&&rt.enable(17),Ut.alphaHash&&rt.enable(18),Ut.batching&&rt.enable(19),Ut.dispersion&&rt.enable(20),Ut.batchingColor&&rt.enable(21),Ut.gradientMap&&rt.enable(22),jt.push(rt.mask),rt.disableAll(),Ut.fog&&rt.enable(0),Ut.useFog&&rt.enable(1),Ut.flatShading&&rt.enable(2),Ut.logarithmicDepthBuffer&&rt.enable(3),Ut.reversedDepthBuffer&&rt.enable(4),Ut.skinning&&rt.enable(5),Ut.morphTargets&&rt.enable(6),Ut.morphNormals&&rt.enable(7),Ut.morphColors&&rt.enable(8),Ut.premultipliedAlpha&&rt.enable(9),Ut.shadowMapEnabled&&rt.enable(10),Ut.doubleSided&&rt.enable(11),Ut.flipSided&&rt.enable(12),Ut.useDepthPacking&&rt.enable(13),Ut.dithering&&rt.enable(14),Ut.transmission&&rt.enable(15),Ut.sheen&&rt.enable(16),Ut.opaque&&rt.enable(17),Ut.pointsUvs&&rt.enable(18),Ut.decodeVideoTexture&&rt.enable(19),Ut.decodeVideoTextureEmissive&&rt.enable(20),Ut.alphaToCoverage&&rt.enable(21),jt.push(rt.mask)}function Ot(jt){const Ut=At[jt.type];let Gt;if(Ut){const qt=ShaderLib[Ut];Gt=UniformsUtils.clone(qt.uniforms)}else Gt=jt.uniforms;return Gt}function It(jt,Ut){let Gt;for(let qt=0,Jt=ot.length;qt<Jt;qt++){const er=ot[qt];if(er.cacheKey===Ut){Gt=er,++Gt.usedTimes;break}}return Gt===void 0&&(Gt=new WebGLProgram(o,Ut,jt,_e),ot.push(Gt)),Gt}function Dt(jt){if(--jt.usedTimes===0){const Ut=ot.indexOf(jt);ot[Ut]=ot[ot.length-1],ot.pop(),jt.destroy()}}function Lt(jt){nt.remove(jt)}function Bt(){nt.dispose()}return{getParameters:Mt,getProgramCacheKey:pt,getUniforms:Ot,acquireProgram:It,releaseProgram:Dt,releaseShaderCache:Lt,programs:ot,dispose:Bt}}function WebGLProperties(){let o=new WeakMap;function i(tt){return o.has(tt)}function _(tt){let rt=o.get(tt);return rt===void 0&&(rt={},o.set(tt,rt)),rt}function $(tt){o.delete(tt)}function j(tt,rt,nt){o.get(tt)[rt]=nt}function _e(){o=new WeakMap}return{has:i,get:_,remove:$,update:j,dispose:_e}}function painterSortStable(o,i){return o.groupOrder!==i.groupOrder?o.groupOrder-i.groupOrder:o.renderOrder!==i.renderOrder?o.renderOrder-i.renderOrder:o.material.id!==i.material.id?o.material.id-i.material.id:o.z!==i.z?o.z-i.z:o.id-i.id}function reversePainterSortStable(o,i){return o.groupOrder!==i.groupOrder?o.groupOrder-i.groupOrder:o.renderOrder!==i.renderOrder?o.renderOrder-i.renderOrder:o.z!==i.z?i.z-o.z:o.id-i.id}function WebGLRenderList(){const o=[];let i=0;const _=[],$=[],j=[];function _e(){i=0,_.length=0,$.length=0,j.length=0}function tt(lt,ft,_t,At,Tt,Mt){let pt=o[i];return pt===void 0?(pt={id:lt.id,object:lt,geometry:ft,material:_t,groupOrder:At,renderOrder:lt.renderOrder,z:Tt,group:Mt},o[i]=pt):(pt.id=lt.id,pt.object=lt,pt.geometry=ft,pt.material=_t,pt.groupOrder=At,pt.renderOrder=lt.renderOrder,pt.z=Tt,pt.group=Mt),i++,pt}function rt(lt,ft,_t,At,Tt,Mt){const pt=tt(lt,ft,_t,At,Tt,Mt);_t.transmission>0?$.push(pt):_t.transparent===!0?j.push(pt):_.push(pt)}function nt(lt,ft,_t,At,Tt,Mt){const pt=tt(lt,ft,_t,At,Tt,Mt);_t.transmission>0?$.unshift(pt):_t.transparent===!0?j.unshift(pt):_.unshift(pt)}function it(lt,ft){_.length>1&&_.sort(lt||painterSortStable),$.length>1&&$.sort(ft||reversePainterSortStable),j.length>1&&j.sort(ft||reversePainterSortStable)}function ot(){for(let lt=i,ft=o.length;lt<ft;lt++){const _t=o[lt];if(_t.id===null)break;_t.id=null,_t.object=null,_t.geometry=null,_t.material=null,_t.group=null}}return{opaque:_,transmissive:$,transparent:j,init:_e,push:rt,unshift:nt,finish:ot,sort:it}}function WebGLRenderLists(){let o=new WeakMap;function i($,j){const _e=o.get($);let tt;return _e===void 0?(tt=new WebGLRenderList,o.set($,[tt])):j>=_e.length?(tt=new WebGLRenderList,_e.push(tt)):tt=_e[j],tt}function _(){o=new WeakMap}return{get:i,dispose:_}}function UniformsCache(){const o={};return{get:function(i){if(o[i.id]!==void 0)return o[i.id];let _;switch(i.type){case"DirectionalLight":_={direction:new Vector3,color:new Color$1};break;case"SpotLight":_={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":_={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":_={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":_={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return o[i.id]=_,_}}}function ShadowUniformsCache(){const o={};return{get:function(i){if(o[i.id]!==void 0)return o[i.id];let _;switch(i.type){case"DirectionalLight":_={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":_={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":_={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return o[i.id]=_,_}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(o,i){return(i.castShadow?2:0)-(o.castShadow?2:0)+(i.map?1:0)-(o.map?1:0)}function WebGLLights(o){const i=new UniformsCache,_=ShadowUniformsCache(),$={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let it=0;it<9;it++)$.probe.push(new Vector3);const j=new Vector3,_e=new Matrix4,tt=new Matrix4;function rt(it){let ot=0,lt=0,ft=0;for(let jt=0;jt<9;jt++)$.probe[jt].set(0,0,0);let _t=0,At=0,Tt=0,Mt=0,pt=0,Pt=0,$t=0,Ot=0,It=0,Dt=0,Lt=0;it.sort(shadowCastingAndTexturingLightsFirst);for(let jt=0,Ut=it.length;jt<Ut;jt++){const Gt=it[jt],qt=Gt.color,Jt=Gt.intensity,er=Gt.distance,Kt=Gt.shadow&&Gt.shadow.map?Gt.shadow.map.texture:null;if(Gt.isAmbientLight)ot+=qt.r*Jt,lt+=qt.g*Jt,ft+=qt.b*Jt;else if(Gt.isLightProbe){for(let zt=0;zt<9;zt++)$.probe[zt].addScaledVector(Gt.sh.coefficients[zt],Jt);Lt++}else if(Gt.isDirectionalLight){const zt=i.get(Gt);if(zt.color.copy(Gt.color).multiplyScalar(Gt.intensity),Gt.castShadow){const Ht=Gt.shadow,Ft=_.get(Gt);Ft.shadowIntensity=Ht.intensity,Ft.shadowBias=Ht.bias,Ft.shadowNormalBias=Ht.normalBias,Ft.shadowRadius=Ht.radius,Ft.shadowMapSize=Ht.mapSize,$.directionalShadow[_t]=Ft,$.directionalShadowMap[_t]=Kt,$.directionalShadowMatrix[_t]=Gt.shadow.matrix,Pt++}$.directional[_t]=zt,_t++}else if(Gt.isSpotLight){const zt=i.get(Gt);zt.position.setFromMatrixPosition(Gt.matrixWorld),zt.color.copy(qt).multiplyScalar(Jt),zt.distance=er,zt.coneCos=Math.cos(Gt.angle),zt.penumbraCos=Math.cos(Gt.angle*(1-Gt.penumbra)),zt.decay=Gt.decay,$.spot[Tt]=zt;const Ht=Gt.shadow;if(Gt.map&&($.spotLightMap[It]=Gt.map,It++,Ht.updateMatrices(Gt),Gt.castShadow&&Dt++),$.spotLightMatrix[Tt]=Ht.matrix,Gt.castShadow){const Ft=_.get(Gt);Ft.shadowIntensity=Ht.intensity,Ft.shadowBias=Ht.bias,Ft.shadowNormalBias=Ht.normalBias,Ft.shadowRadius=Ht.radius,Ft.shadowMapSize=Ht.mapSize,$.spotShadow[Tt]=Ft,$.spotShadowMap[Tt]=Kt,Ot++}Tt++}else if(Gt.isRectAreaLight){const zt=i.get(Gt);zt.color.copy(qt).multiplyScalar(Jt),zt.halfWidth.set(Gt.width*.5,0,0),zt.halfHeight.set(0,Gt.height*.5,0),$.rectArea[Mt]=zt,Mt++}else if(Gt.isPointLight){const zt=i.get(Gt);if(zt.color.copy(Gt.color).multiplyScalar(Gt.intensity),zt.distance=Gt.distance,zt.decay=Gt.decay,Gt.castShadow){const Ht=Gt.shadow,Ft=_.get(Gt);Ft.shadowIntensity=Ht.intensity,Ft.shadowBias=Ht.bias,Ft.shadowNormalBias=Ht.normalBias,Ft.shadowRadius=Ht.radius,Ft.shadowMapSize=Ht.mapSize,Ft.shadowCameraNear=Ht.camera.near,Ft.shadowCameraFar=Ht.camera.far,$.pointShadow[At]=Ft,$.pointShadowMap[At]=Kt,$.pointShadowMatrix[At]=Gt.shadow.matrix,$t++}$.point[At]=zt,At++}else if(Gt.isHemisphereLight){const zt=i.get(Gt);zt.skyColor.copy(Gt.color).multiplyScalar(Jt),zt.groundColor.copy(Gt.groundColor).multiplyScalar(Jt),$.hemi[pt]=zt,pt++}}Mt>0&&(o.has("OES_texture_float_linear")===!0?($.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,$.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):($.rectAreaLTC1=UniformsLib.LTC_HALF_1,$.rectAreaLTC2=UniformsLib.LTC_HALF_2)),$.ambient[0]=ot,$.ambient[1]=lt,$.ambient[2]=ft;const Bt=$.hash;(Bt.directionalLength!==_t||Bt.pointLength!==At||Bt.spotLength!==Tt||Bt.rectAreaLength!==Mt||Bt.hemiLength!==pt||Bt.numDirectionalShadows!==Pt||Bt.numPointShadows!==$t||Bt.numSpotShadows!==Ot||Bt.numSpotMaps!==It||Bt.numLightProbes!==Lt)&&($.directional.length=_t,$.spot.length=Tt,$.rectArea.length=Mt,$.point.length=At,$.hemi.length=pt,$.directionalShadow.length=Pt,$.directionalShadowMap.length=Pt,$.pointShadow.length=$t,$.pointShadowMap.length=$t,$.spotShadow.length=Ot,$.spotShadowMap.length=Ot,$.directionalShadowMatrix.length=Pt,$.pointShadowMatrix.length=$t,$.spotLightMatrix.length=Ot+It-Dt,$.spotLightMap.length=It,$.numSpotLightShadowsWithMaps=Dt,$.numLightProbes=Lt,Bt.directionalLength=_t,Bt.pointLength=At,Bt.spotLength=Tt,Bt.rectAreaLength=Mt,Bt.hemiLength=pt,Bt.numDirectionalShadows=Pt,Bt.numPointShadows=$t,Bt.numSpotShadows=Ot,Bt.numSpotMaps=It,Bt.numLightProbes=Lt,$.version=nextVersion++)}function nt(it,ot){let lt=0,ft=0,_t=0,At=0,Tt=0;const Mt=ot.matrixWorldInverse;for(let pt=0,Pt=it.length;pt<Pt;pt++){const $t=it[pt];if($t.isDirectionalLight){const Ot=$.directional[lt];Ot.direction.setFromMatrixPosition($t.matrixWorld),j.setFromMatrixPosition($t.target.matrixWorld),Ot.direction.sub(j),Ot.direction.transformDirection(Mt),lt++}else if($t.isSpotLight){const Ot=$.spot[_t];Ot.position.setFromMatrixPosition($t.matrixWorld),Ot.position.applyMatrix4(Mt),Ot.direction.setFromMatrixPosition($t.matrixWorld),j.setFromMatrixPosition($t.target.matrixWorld),Ot.direction.sub(j),Ot.direction.transformDirection(Mt),_t++}else if($t.isRectAreaLight){const Ot=$.rectArea[At];Ot.position.setFromMatrixPosition($t.matrixWorld),Ot.position.applyMatrix4(Mt),tt.identity(),_e.copy($t.matrixWorld),_e.premultiply(Mt),tt.extractRotation(_e),Ot.halfWidth.set($t.width*.5,0,0),Ot.halfHeight.set(0,$t.height*.5,0),Ot.halfWidth.applyMatrix4(tt),Ot.halfHeight.applyMatrix4(tt),At++}else if($t.isPointLight){const Ot=$.point[ft];Ot.position.setFromMatrixPosition($t.matrixWorld),Ot.position.applyMatrix4(Mt),ft++}else if($t.isHemisphereLight){const Ot=$.hemi[Tt];Ot.direction.setFromMatrixPosition($t.matrixWorld),Ot.direction.transformDirection(Mt),Tt++}}}return{setup:rt,setupView:nt,state:$}}function WebGLRenderState(o){const i=new WebGLLights(o),_=[],$=[];function j(ot){it.camera=ot,_.length=0,$.length=0}function _e(ot){_.push(ot)}function tt(ot){$.push(ot)}function rt(){i.setup(_)}function nt(ot){i.setupView(_,ot)}const it={lightsArray:_,shadowsArray:$,camera:null,lights:i,transmissionRenderTarget:{}};return{init:j,state:it,setupLights:rt,setupLightsView:nt,pushLight:_e,pushShadow:tt}}function WebGLRenderStates(o){let i=new WeakMap;function _(j,_e=0){const tt=i.get(j);let rt;return tt===void 0?(rt=new WebGLRenderState(o),i.set(j,[rt])):_e>=tt.length?(rt=new WebGLRenderState(o),tt.push(rt)):rt=tt[_e],rt}function $(){i=new WeakMap}return{get:_,dispose:$}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(o,i,_){let $=new Frustum;const j=new Vector2,_e=new Vector2,tt=new Vector4,rt=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),nt=new MeshDistanceMaterial,it={},ot=_.maxTextureSize,lt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ft=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),_t=ft.clone();_t.defines.HORIZONTAL_PASS=1;const At=new BufferGeometry;At.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Tt=new Mesh(At,ft),Mt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let pt=this.type;this.render=function(Dt,Lt,Bt){if(Mt.enabled===!1||Mt.autoUpdate===!1&&Mt.needsUpdate===!1||Dt.length===0)return;const jt=o.getRenderTarget(),Ut=o.getActiveCubeFace(),Gt=o.getActiveMipmapLevel(),qt=o.state;qt.setBlending(NoBlending),qt.buffers.depth.getReversed()===!0?qt.buffers.color.setClear(0,0,0,0):qt.buffers.color.setClear(1,1,1,1),qt.buffers.depth.setTest(!0),qt.setScissorTest(!1);const Jt=pt!==VSMShadowMap&&this.type===VSMShadowMap,er=pt===VSMShadowMap&&this.type!==VSMShadowMap;for(let Kt=0,zt=Dt.length;Kt<zt;Kt++){const Ht=Dt[Kt],Ft=Ht.shadow;if(Ft===void 0){warn$2("WebGLShadowMap:",Ht,"has no shadow.");continue}if(Ft.autoUpdate===!1&&Ft.needsUpdate===!1)continue;j.copy(Ft.mapSize);const Vt=Ft.getFrameExtents();if(j.multiply(Vt),_e.copy(Ft.mapSize),(j.x>ot||j.y>ot)&&(j.x>ot&&(_e.x=Math.floor(ot/Vt.x),j.x=_e.x*Vt.x,Ft.mapSize.x=_e.x),j.y>ot&&(_e.y=Math.floor(ot/Vt.y),j.y=_e.y*Vt.y,Ft.mapSize.y=_e.y)),Ft.map===null||Jt===!0||er===!0){const Zt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Ft.map!==null&&Ft.map.dispose(),Ft.map=new WebGLRenderTarget(j.x,j.y,Zt),Ft.map.texture.name=Ht.name+".shadowMap",Ft.camera.updateProjectionMatrix()}o.setRenderTarget(Ft.map),o.clear();const Yt=Ft.getViewportCount();for(let Zt=0;Zt<Yt;Zt++){const nr=Ft.getViewport(Zt);tt.set(_e.x*nr.x,_e.y*nr.y,_e.x*nr.z,_e.y*nr.w),qt.viewport(tt),Ft.updateMatrices(Ht,Zt),$=Ft.getFrustum(),Ot(Lt,Bt,Ft.camera,Ht,this.type)}Ft.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Pt(Ft,Bt),Ft.needsUpdate=!1}pt=this.type,Mt.needsUpdate=!1,o.setRenderTarget(jt,Ut,Gt)};function Pt(Dt,Lt){const Bt=i.update(Tt);ft.defines.VSM_SAMPLES!==Dt.blurSamples&&(ft.defines.VSM_SAMPLES=Dt.blurSamples,_t.defines.VSM_SAMPLES=Dt.blurSamples,ft.needsUpdate=!0,_t.needsUpdate=!0),Dt.mapPass===null&&(Dt.mapPass=new WebGLRenderTarget(j.x,j.y)),ft.uniforms.shadow_pass.value=Dt.map.texture,ft.uniforms.resolution.value=Dt.mapSize,ft.uniforms.radius.value=Dt.radius,o.setRenderTarget(Dt.mapPass),o.clear(),o.renderBufferDirect(Lt,null,Bt,ft,Tt,null),_t.uniforms.shadow_pass.value=Dt.mapPass.texture,_t.uniforms.resolution.value=Dt.mapSize,_t.uniforms.radius.value=Dt.radius,o.setRenderTarget(Dt.map),o.clear(),o.renderBufferDirect(Lt,null,Bt,_t,Tt,null)}function $t(Dt,Lt,Bt,jt){let Ut=null;const Gt=Bt.isPointLight===!0?Dt.customDistanceMaterial:Dt.customDepthMaterial;if(Gt!==void 0)Ut=Gt;else if(Ut=Bt.isPointLight===!0?nt:rt,o.localClippingEnabled&&Lt.clipShadows===!0&&Array.isArray(Lt.clippingPlanes)&&Lt.clippingPlanes.length!==0||Lt.displacementMap&&Lt.displacementScale!==0||Lt.alphaMap&&Lt.alphaTest>0||Lt.map&&Lt.alphaTest>0||Lt.alphaToCoverage===!0){const qt=Ut.uuid,Jt=Lt.uuid;let er=it[qt];er===void 0&&(er={},it[qt]=er);let Kt=er[Jt];Kt===void 0&&(Kt=Ut.clone(),er[Jt]=Kt,Lt.addEventListener("dispose",It)),Ut=Kt}if(Ut.visible=Lt.visible,Ut.wireframe=Lt.wireframe,jt===VSMShadowMap?Ut.side=Lt.shadowSide!==null?Lt.shadowSide:Lt.side:Ut.side=Lt.shadowSide!==null?Lt.shadowSide:lt[Lt.side],Ut.alphaMap=Lt.alphaMap,Ut.alphaTest=Lt.alphaToCoverage===!0?.5:Lt.alphaTest,Ut.map=Lt.map,Ut.clipShadows=Lt.clipShadows,Ut.clippingPlanes=Lt.clippingPlanes,Ut.clipIntersection=Lt.clipIntersection,Ut.displacementMap=Lt.displacementMap,Ut.displacementScale=Lt.displacementScale,Ut.displacementBias=Lt.displacementBias,Ut.wireframeLinewidth=Lt.wireframeLinewidth,Ut.linewidth=Lt.linewidth,Bt.isPointLight===!0&&Ut.isMeshDistanceMaterial===!0){const qt=o.properties.get(Ut);qt.light=Bt}return Ut}function Ot(Dt,Lt,Bt,jt,Ut){if(Dt.visible===!1)return;if(Dt.layers.test(Lt.layers)&&(Dt.isMesh||Dt.isLine||Dt.isPoints)&&(Dt.castShadow||Dt.receiveShadow&&Ut===VSMShadowMap)&&(!Dt.frustumCulled||$.intersectsObject(Dt))){Dt.modelViewMatrix.multiplyMatrices(Bt.matrixWorldInverse,Dt.matrixWorld);const Jt=i.update(Dt),er=Dt.material;if(Array.isArray(er)){const Kt=Jt.groups;for(let zt=0,Ht=Kt.length;zt<Ht;zt++){const Ft=Kt[zt],Vt=er[Ft.materialIndex];if(Vt&&Vt.visible){const Yt=$t(Dt,Vt,jt,Ut);Dt.onBeforeShadow(o,Dt,Lt,Bt,Jt,Yt,Ft),o.renderBufferDirect(Bt,null,Jt,Yt,Dt,Ft),Dt.onAfterShadow(o,Dt,Lt,Bt,Jt,Yt,Ft)}}}else if(er.visible){const Kt=$t(Dt,er,jt,Ut);Dt.onBeforeShadow(o,Dt,Lt,Bt,Jt,Kt,null),o.renderBufferDirect(Bt,null,Jt,Kt,Dt,null),Dt.onAfterShadow(o,Dt,Lt,Bt,Jt,Kt,null)}}const qt=Dt.children;for(let Jt=0,er=qt.length;Jt<er;Jt++)Ot(qt[Jt],Lt,Bt,jt,Ut)}function It(Dt){Dt.target.removeEventListener("dispose",It);for(const Bt in it){const jt=it[Bt],Ut=Dt.target.uuid;Ut in jt&&(jt[Ut].dispose(),delete jt[Ut])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(o,i){function _(){let ir=!1;const Fr=new Vector4;let Ir=null;const Dr=new Vector4(0,0,0,0);return{setMask:function(Pr){Ir!==Pr&&!ir&&(o.colorMask(Pr,Pr,Pr,Pr),Ir=Pr)},setLocked:function(Pr){ir=Pr},setClear:function(Pr,br,Ur,nn,hn){hn===!0&&(Pr*=nn,br*=nn,Ur*=nn),Fr.set(Pr,br,Ur,nn),Dr.equals(Fr)===!1&&(o.clearColor(Pr,br,Ur,nn),Dr.copy(Fr))},reset:function(){ir=!1,Ir=null,Dr.set(-1,0,0,0)}}}function $(){let ir=!1,Fr=!1,Ir=null,Dr=null,Pr=null;return{setReversed:function(br){if(Fr!==br){const Ur=i.get("EXT_clip_control");br?Ur.clipControlEXT(Ur.LOWER_LEFT_EXT,Ur.ZERO_TO_ONE_EXT):Ur.clipControlEXT(Ur.LOWER_LEFT_EXT,Ur.NEGATIVE_ONE_TO_ONE_EXT),Fr=br;const nn=Pr;Pr=null,this.setClear(nn)}},getReversed:function(){return Fr},setTest:function(br){br?ur(o.DEPTH_TEST):Sr(o.DEPTH_TEST)},setMask:function(br){Ir!==br&&!ir&&(o.depthMask(br),Ir=br)},setFunc:function(br){if(Fr&&(br=reversedFuncs[br]),Dr!==br){switch(br){case NeverDepth:o.depthFunc(o.NEVER);break;case AlwaysDepth:o.depthFunc(o.ALWAYS);break;case LessDepth:o.depthFunc(o.LESS);break;case LessEqualDepth:o.depthFunc(o.LEQUAL);break;case EqualDepth:o.depthFunc(o.EQUAL);break;case GreaterEqualDepth:o.depthFunc(o.GEQUAL);break;case GreaterDepth:o.depthFunc(o.GREATER);break;case NotEqualDepth:o.depthFunc(o.NOTEQUAL);break;default:o.depthFunc(o.LEQUAL)}Dr=br}},setLocked:function(br){ir=br},setClear:function(br){Pr!==br&&(Fr&&(br=1-br),o.clearDepth(br),Pr=br)},reset:function(){ir=!1,Ir=null,Dr=null,Pr=null,Fr=!1}}}function j(){let ir=!1,Fr=null,Ir=null,Dr=null,Pr=null,br=null,Ur=null,nn=null,hn=null;return{setTest:function(cn){ir||(cn?ur(o.STENCIL_TEST):Sr(o.STENCIL_TEST))},setMask:function(cn){Fr!==cn&&!ir&&(o.stencilMask(cn),Fr=cn)},setFunc:function(cn,Tn,En){(Ir!==cn||Dr!==Tn||Pr!==En)&&(o.stencilFunc(cn,Tn,En),Ir=cn,Dr=Tn,Pr=En)},setOp:function(cn,Tn,En){(br!==cn||Ur!==Tn||nn!==En)&&(o.stencilOp(cn,Tn,En),br=cn,Ur=Tn,nn=En)},setLocked:function(cn){ir=cn},setClear:function(cn){hn!==cn&&(o.clearStencil(cn),hn=cn)},reset:function(){ir=!1,Fr=null,Ir=null,Dr=null,Pr=null,br=null,Ur=null,nn=null,hn=null}}}const _e=new _,tt=new $,rt=new j,nt=new WeakMap,it=new WeakMap;let ot={},lt={},ft=new WeakMap,_t=[],At=null,Tt=!1,Mt=null,pt=null,Pt=null,$t=null,Ot=null,It=null,Dt=null,Lt=new Color$1(0,0,0),Bt=0,jt=!1,Ut=null,Gt=null,qt=null,Jt=null,er=null;const Kt=o.getParameter(o.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let zt=!1,Ht=0;const Ft=o.getParameter(o.VERSION);Ft.indexOf("WebGL")!==-1?(Ht=parseFloat(/^WebGL (\d)/.exec(Ft)[1]),zt=Ht>=1):Ft.indexOf("OpenGL ES")!==-1&&(Ht=parseFloat(/^OpenGL ES (\d)/.exec(Ft)[1]),zt=Ht>=2);let Vt=null,Yt={};const Zt=o.getParameter(o.SCISSOR_BOX),nr=o.getParameter(o.VIEWPORT),cr=new Vector4().fromArray(Zt),vr=new Vector4().fromArray(nr);function Tr(ir,Fr,Ir,Dr){const Pr=new Uint8Array(4),br=o.createTexture();o.bindTexture(ir,br),o.texParameteri(ir,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(ir,o.TEXTURE_MAG_FILTER,o.NEAREST);for(let Ur=0;Ur<Ir;Ur++)ir===o.TEXTURE_3D||ir===o.TEXTURE_2D_ARRAY?o.texImage3D(Fr,0,o.RGBA,1,1,Dr,0,o.RGBA,o.UNSIGNED_BYTE,Pr):o.texImage2D(Fr+Ur,0,o.RGBA,1,1,0,o.RGBA,o.UNSIGNED_BYTE,Pr);return br}const ar={};ar[o.TEXTURE_2D]=Tr(o.TEXTURE_2D,o.TEXTURE_2D,1),ar[o.TEXTURE_CUBE_MAP]=Tr(o.TEXTURE_CUBE_MAP,o.TEXTURE_CUBE_MAP_POSITIVE_X,6),ar[o.TEXTURE_2D_ARRAY]=Tr(o.TEXTURE_2D_ARRAY,o.TEXTURE_2D_ARRAY,1,1),ar[o.TEXTURE_3D]=Tr(o.TEXTURE_3D,o.TEXTURE_3D,1,1),_e.setClear(0,0,0,1),tt.setClear(1),rt.setClear(0),ur(o.DEPTH_TEST),tt.setFunc(LessEqualDepth),Mr(!1),Lr(CullFaceBack),ur(o.CULL_FACE),mr(NoBlending);function ur(ir){ot[ir]!==!0&&(o.enable(ir),ot[ir]=!0)}function Sr(ir){ot[ir]!==!1&&(o.disable(ir),ot[ir]=!1)}function gr(ir,Fr){return lt[ir]!==Fr?(o.bindFramebuffer(ir,Fr),lt[ir]=Fr,ir===o.DRAW_FRAMEBUFFER&&(lt[o.FRAMEBUFFER]=Fr),ir===o.FRAMEBUFFER&&(lt[o.DRAW_FRAMEBUFFER]=Fr),!0):!1}function xr(ir,Fr){let Ir=_t,Dr=!1;if(ir){Ir=ft.get(Fr),Ir===void 0&&(Ir=[],ft.set(Fr,Ir));const Pr=ir.textures;if(Ir.length!==Pr.length||Ir[0]!==o.COLOR_ATTACHMENT0){for(let br=0,Ur=Pr.length;br<Ur;br++)Ir[br]=o.COLOR_ATTACHMENT0+br;Ir.length=Pr.length,Dr=!0}}else Ir[0]!==o.BACK&&(Ir[0]=o.BACK,Dr=!0);Dr&&o.drawBuffers(Ir)}function Er(ir){return At!==ir?(o.useProgram(ir),At=ir,!0):!1}const dr={[AddEquation]:o.FUNC_ADD,[SubtractEquation]:o.FUNC_SUBTRACT,[ReverseSubtractEquation]:o.FUNC_REVERSE_SUBTRACT};dr[MinEquation]=o.MIN,dr[MaxEquation]=o.MAX;const Ar={[ZeroFactor]:o.ZERO,[OneFactor]:o.ONE,[SrcColorFactor]:o.SRC_COLOR,[SrcAlphaFactor]:o.SRC_ALPHA,[SrcAlphaSaturateFactor]:o.SRC_ALPHA_SATURATE,[DstColorFactor]:o.DST_COLOR,[DstAlphaFactor]:o.DST_ALPHA,[OneMinusSrcColorFactor]:o.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:o.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:o.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:o.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:o.CONSTANT_COLOR,[OneMinusConstantColorFactor]:o.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:o.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:o.ONE_MINUS_CONSTANT_ALPHA};function mr(ir,Fr,Ir,Dr,Pr,br,Ur,nn,hn,cn){if(ir===NoBlending){Tt===!0&&(Sr(o.BLEND),Tt=!1);return}if(Tt===!1&&(ur(o.BLEND),Tt=!0),ir!==CustomBlending){if(ir!==Mt||cn!==jt){if((pt!==AddEquation||Ot!==AddEquation)&&(o.blendEquation(o.FUNC_ADD),pt=AddEquation,Ot=AddEquation),cn)switch(ir){case NormalBlending:o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:o.blendFunc(o.ONE,o.ONE);break;case SubtractiveBlending:o.blendFuncSeparate(o.ZERO,o.ONE_MINUS_SRC_COLOR,o.ZERO,o.ONE);break;case MultiplyBlending:o.blendFuncSeparate(o.DST_COLOR,o.ONE_MINUS_SRC_ALPHA,o.ZERO,o.ONE);break;default:error("WebGLState: Invalid blending: ",ir);break}else switch(ir){case NormalBlending:o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:o.blendFuncSeparate(o.SRC_ALPHA,o.ONE,o.ONE,o.ONE);break;case SubtractiveBlending:error("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case MultiplyBlending:error("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:error("WebGLState: Invalid blending: ",ir);break}Pt=null,$t=null,It=null,Dt=null,Lt.set(0,0,0),Bt=0,Mt=ir,jt=cn}return}Pr=Pr||Fr,br=br||Ir,Ur=Ur||Dr,(Fr!==pt||Pr!==Ot)&&(o.blendEquationSeparate(dr[Fr],dr[Pr]),pt=Fr,Ot=Pr),(Ir!==Pt||Dr!==$t||br!==It||Ur!==Dt)&&(o.blendFuncSeparate(Ar[Ir],Ar[Dr],Ar[br],Ar[Ur]),Pt=Ir,$t=Dr,It=br,Dt=Ur),(nn.equals(Lt)===!1||hn!==Bt)&&(o.blendColor(nn.r,nn.g,nn.b,hn),Lt.copy(nn),Bt=hn),Mt=ir,jt=!1}function tr(ir,Fr){ir.side===DoubleSide?Sr(o.CULL_FACE):ur(o.CULL_FACE);let Ir=ir.side===BackSide;Fr&&(Ir=!Ir),Mr(Ir),ir.blending===NormalBlending&&ir.transparent===!1?mr(NoBlending):mr(ir.blending,ir.blendEquation,ir.blendSrc,ir.blendDst,ir.blendEquationAlpha,ir.blendSrcAlpha,ir.blendDstAlpha,ir.blendColor,ir.blendAlpha,ir.premultipliedAlpha),tt.setFunc(ir.depthFunc),tt.setTest(ir.depthTest),tt.setMask(ir.depthWrite),_e.setMask(ir.colorWrite);const Dr=ir.stencilWrite;rt.setTest(Dr),Dr&&(rt.setMask(ir.stencilWriteMask),rt.setFunc(ir.stencilFunc,ir.stencilRef,ir.stencilFuncMask),rt.setOp(ir.stencilFail,ir.stencilZFail,ir.stencilZPass)),Cr(ir.polygonOffset,ir.polygonOffsetFactor,ir.polygonOffsetUnits),ir.alphaToCoverage===!0?ur(o.SAMPLE_ALPHA_TO_COVERAGE):Sr(o.SAMPLE_ALPHA_TO_COVERAGE)}function Mr(ir){Ut!==ir&&(ir?o.frontFace(o.CW):o.frontFace(o.CCW),Ut=ir)}function Lr(ir){ir!==CullFaceNone?(ur(o.CULL_FACE),ir!==Gt&&(ir===CullFaceBack?o.cullFace(o.BACK):ir===CullFaceFront?o.cullFace(o.FRONT):o.cullFace(o.FRONT_AND_BACK))):Sr(o.CULL_FACE),Gt=ir}function Wr(ir){ir!==qt&&(zt&&o.lineWidth(ir),qt=ir)}function Cr(ir,Fr,Ir){ir?(ur(o.POLYGON_OFFSET_FILL),(Jt!==Fr||er!==Ir)&&(o.polygonOffset(Fr,Ir),Jt=Fr,er=Ir)):Sr(o.POLYGON_OFFSET_FILL)}function an(ir){ir?ur(o.SCISSOR_TEST):Sr(o.SCISSOR_TEST)}function Nr(ir){ir===void 0&&(ir=o.TEXTURE0+Kt-1),Vt!==ir&&(o.activeTexture(ir),Vt=ir)}function Gr(ir,Fr,Ir){Ir===void 0&&(Vt===null?Ir=o.TEXTURE0+Kt-1:Ir=Vt);let Dr=Yt[Ir];Dr===void 0&&(Dr={type:void 0,texture:void 0},Yt[Ir]=Dr),(Dr.type!==ir||Dr.texture!==Fr)&&(Vt!==Ir&&(o.activeTexture(Ir),Vt=Ir),o.bindTexture(ir,Fr||ar[ir]),Dr.type=ir,Dr.texture=Fr)}function rr(){const ir=Yt[Vt];ir!==void 0&&ir.type!==void 0&&(o.bindTexture(ir.type,null),ir.type=void 0,ir.texture=void 0)}function Xt(){try{o.compressedTexImage2D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function lr(){try{o.compressedTexImage3D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function yr(){try{o.texSubImage2D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function _r(){try{o.texSubImage3D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function pr(){try{o.compressedTexSubImage2D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function Hr(){try{o.compressedTexSubImage3D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function Or(){try{o.texStorage2D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function Kr(){try{o.texStorage3D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function qr(){try{o.texImage2D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function wr(){try{o.texImage3D(...arguments)}catch(ir){ir("WebGLState:",ir)}}function Rr(ir){cr.equals(ir)===!1&&(o.scissor(ir.x,ir.y,ir.z,ir.w),cr.copy(ir))}function Qr(ir){vr.equals(ir)===!1&&(o.viewport(ir.x,ir.y,ir.z,ir.w),vr.copy(ir))}function Zr(ir,Fr){let Ir=it.get(Fr);Ir===void 0&&(Ir=new WeakMap,it.set(Fr,Ir));let Dr=Ir.get(ir);Dr===void 0&&(Dr=o.getUniformBlockIndex(Fr,ir.name),Ir.set(ir,Dr))}function jr(ir,Fr){const Dr=it.get(Fr).get(ir);nt.get(Fr)!==Dr&&(o.uniformBlockBinding(Fr,Dr,ir.__bindingPointIndex),nt.set(Fr,Dr))}function rn(){o.disable(o.BLEND),o.disable(o.CULL_FACE),o.disable(o.DEPTH_TEST),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SCISSOR_TEST),o.disable(o.STENCIL_TEST),o.disable(o.SAMPLE_ALPHA_TO_COVERAGE),o.blendEquation(o.FUNC_ADD),o.blendFunc(o.ONE,o.ZERO),o.blendFuncSeparate(o.ONE,o.ZERO,o.ONE,o.ZERO),o.blendColor(0,0,0,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(o.LESS),tt.setReversed(!1),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(o.ALWAYS,0,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),o.clearStencil(0),o.cullFace(o.BACK),o.frontFace(o.CCW),o.polygonOffset(0,0),o.activeTexture(o.TEXTURE0),o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),o.bindFramebuffer(o.READ_FRAMEBUFFER,null),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),ot={},Vt=null,Yt={},lt={},ft=new WeakMap,_t=[],At=null,Tt=!1,Mt=null,pt=null,Pt=null,$t=null,Ot=null,It=null,Dt=null,Lt=new Color$1(0,0,0),Bt=0,jt=!1,Ut=null,Gt=null,qt=null,Jt=null,er=null,cr.set(0,0,o.canvas.width,o.canvas.height),vr.set(0,0,o.canvas.width,o.canvas.height),_e.reset(),tt.reset(),rt.reset()}return{buffers:{color:_e,depth:tt,stencil:rt},enable:ur,disable:Sr,bindFramebuffer:gr,drawBuffers:xr,useProgram:Er,setBlending:mr,setMaterial:tr,setFlipSided:Mr,setCullFace:Lr,setLineWidth:Wr,setPolygonOffset:Cr,setScissorTest:an,activeTexture:Nr,bindTexture:Gr,unbindTexture:rr,compressedTexImage2D:Xt,compressedTexImage3D:lr,texImage2D:qr,texImage3D:wr,updateUBOMapping:Zr,uniformBlockBinding:jr,texStorage2D:Or,texStorage3D:Kr,texSubImage2D:yr,texSubImage3D:_r,compressedTexSubImage2D:pr,compressedTexSubImage3D:Hr,scissor:Rr,viewport:Qr,reset:rn}}function WebGLTextures(o,i,_,$,j,_e,tt){const rt=i.has("WEBGL_multisampled_render_to_texture")?i.get("WEBGL_multisampled_render_to_texture"):null,nt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),it=new Vector2,ot=new WeakMap;let lt;const ft=new WeakMap;let _t=!1;try{_t=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function At(rr,Xt){return _t?new OffscreenCanvas(rr,Xt):createElementNS("canvas")}function Tt(rr,Xt,lr){let yr=1;const _r=Gr(rr);if((_r.width>lr||_r.height>lr)&&(yr=lr/Math.max(_r.width,_r.height)),yr<1)if(typeof HTMLImageElement<"u"&&rr instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&rr instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&rr instanceof ImageBitmap||typeof VideoFrame<"u"&&rr instanceof VideoFrame){const pr=Math.floor(yr*_r.width),Hr=Math.floor(yr*_r.height);lt===void 0&&(lt=At(pr,Hr));const Or=Xt?At(pr,Hr):lt;return Or.width=pr,Or.height=Hr,Or.getContext("2d").drawImage(rr,0,0,pr,Hr),warn$2("WebGLRenderer: Texture has been resized from ("+_r.width+"x"+_r.height+") to ("+pr+"x"+Hr+")."),Or}else return"data"in rr&&warn$2("WebGLRenderer: Image in DataTexture is too big ("+_r.width+"x"+_r.height+")."),rr;return rr}function Mt(rr){return rr.generateMipmaps}function pt(rr){o.generateMipmap(rr)}function Pt(rr){return rr.isWebGLCubeRenderTarget?o.TEXTURE_CUBE_MAP:rr.isWebGL3DRenderTarget?o.TEXTURE_3D:rr.isWebGLArrayRenderTarget||rr.isCompressedArrayTexture?o.TEXTURE_2D_ARRAY:o.TEXTURE_2D}function $t(rr,Xt,lr,yr,_r=!1){if(rr!==null){if(o[rr]!==void 0)return o[rr];warn$2("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+rr+"'")}let pr=Xt;if(Xt===o.RED&&(lr===o.FLOAT&&(pr=o.R32F),lr===o.HALF_FLOAT&&(pr=o.R16F),lr===o.UNSIGNED_BYTE&&(pr=o.R8)),Xt===o.RED_INTEGER&&(lr===o.UNSIGNED_BYTE&&(pr=o.R8UI),lr===o.UNSIGNED_SHORT&&(pr=o.R16UI),lr===o.UNSIGNED_INT&&(pr=o.R32UI),lr===o.BYTE&&(pr=o.R8I),lr===o.SHORT&&(pr=o.R16I),lr===o.INT&&(pr=o.R32I)),Xt===o.RG&&(lr===o.FLOAT&&(pr=o.RG32F),lr===o.HALF_FLOAT&&(pr=o.RG16F),lr===o.UNSIGNED_BYTE&&(pr=o.RG8)),Xt===o.RG_INTEGER&&(lr===o.UNSIGNED_BYTE&&(pr=o.RG8UI),lr===o.UNSIGNED_SHORT&&(pr=o.RG16UI),lr===o.UNSIGNED_INT&&(pr=o.RG32UI),lr===o.BYTE&&(pr=o.RG8I),lr===o.SHORT&&(pr=o.RG16I),lr===o.INT&&(pr=o.RG32I)),Xt===o.RGB_INTEGER&&(lr===o.UNSIGNED_BYTE&&(pr=o.RGB8UI),lr===o.UNSIGNED_SHORT&&(pr=o.RGB16UI),lr===o.UNSIGNED_INT&&(pr=o.RGB32UI),lr===o.BYTE&&(pr=o.RGB8I),lr===o.SHORT&&(pr=o.RGB16I),lr===o.INT&&(pr=o.RGB32I)),Xt===o.RGBA_INTEGER&&(lr===o.UNSIGNED_BYTE&&(pr=o.RGBA8UI),lr===o.UNSIGNED_SHORT&&(pr=o.RGBA16UI),lr===o.UNSIGNED_INT&&(pr=o.RGBA32UI),lr===o.BYTE&&(pr=o.RGBA8I),lr===o.SHORT&&(pr=o.RGBA16I),lr===o.INT&&(pr=o.RGBA32I)),Xt===o.RGB&&(lr===o.UNSIGNED_INT_5_9_9_9_REV&&(pr=o.RGB9_E5),lr===o.UNSIGNED_INT_10F_11F_11F_REV&&(pr=o.R11F_G11F_B10F)),Xt===o.RGBA){const Hr=_r?LinearTransfer:ColorManagement.getTransfer(yr);lr===o.FLOAT&&(pr=o.RGBA32F),lr===o.HALF_FLOAT&&(pr=o.RGBA16F),lr===o.UNSIGNED_BYTE&&(pr=Hr===SRGBTransfer?o.SRGB8_ALPHA8:o.RGBA8),lr===o.UNSIGNED_SHORT_4_4_4_4&&(pr=o.RGBA4),lr===o.UNSIGNED_SHORT_5_5_5_1&&(pr=o.RGB5_A1)}return(pr===o.R16F||pr===o.R32F||pr===o.RG16F||pr===o.RG32F||pr===o.RGBA16F||pr===o.RGBA32F)&&i.get("EXT_color_buffer_float"),pr}function Ot(rr,Xt){let lr;return rr?Xt===null||Xt===UnsignedIntType||Xt===UnsignedInt248Type?lr=o.DEPTH24_STENCIL8:Xt===FloatType?lr=o.DEPTH32F_STENCIL8:Xt===UnsignedShortType&&(lr=o.DEPTH24_STENCIL8,warn$2("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Xt===null||Xt===UnsignedIntType||Xt===UnsignedInt248Type?lr=o.DEPTH_COMPONENT24:Xt===FloatType?lr=o.DEPTH_COMPONENT32F:Xt===UnsignedShortType&&(lr=o.DEPTH_COMPONENT16),lr}function It(rr,Xt){return Mt(rr)===!0||rr.isFramebufferTexture&&rr.minFilter!==NearestFilter&&rr.minFilter!==LinearFilter?Math.log2(Math.max(Xt.width,Xt.height))+1:rr.mipmaps!==void 0&&rr.mipmaps.length>0?rr.mipmaps.length:rr.isCompressedTexture&&Array.isArray(rr.image)?Xt.mipmaps.length:1}function Dt(rr){const Xt=rr.target;Xt.removeEventListener("dispose",Dt),Bt(Xt),Xt.isVideoTexture&&ot.delete(Xt)}function Lt(rr){const Xt=rr.target;Xt.removeEventListener("dispose",Lt),Ut(Xt)}function Bt(rr){const Xt=$.get(rr);if(Xt.__webglInit===void 0)return;const lr=rr.source,yr=ft.get(lr);if(yr){const _r=yr[Xt.__cacheKey];_r.usedTimes--,_r.usedTimes===0&&jt(rr),Object.keys(yr).length===0&&ft.delete(lr)}$.remove(rr)}function jt(rr){const Xt=$.get(rr);o.deleteTexture(Xt.__webglTexture);const lr=rr.source,yr=ft.get(lr);delete yr[Xt.__cacheKey],tt.memory.textures--}function Ut(rr){const Xt=$.get(rr);if(rr.depthTexture&&(rr.depthTexture.dispose(),$.remove(rr.depthTexture)),rr.isWebGLCubeRenderTarget)for(let yr=0;yr<6;yr++){if(Array.isArray(Xt.__webglFramebuffer[yr]))for(let _r=0;_r<Xt.__webglFramebuffer[yr].length;_r++)o.deleteFramebuffer(Xt.__webglFramebuffer[yr][_r]);else o.deleteFramebuffer(Xt.__webglFramebuffer[yr]);Xt.__webglDepthbuffer&&o.deleteRenderbuffer(Xt.__webglDepthbuffer[yr])}else{if(Array.isArray(Xt.__webglFramebuffer))for(let yr=0;yr<Xt.__webglFramebuffer.length;yr++)o.deleteFramebuffer(Xt.__webglFramebuffer[yr]);else o.deleteFramebuffer(Xt.__webglFramebuffer);if(Xt.__webglDepthbuffer&&o.deleteRenderbuffer(Xt.__webglDepthbuffer),Xt.__webglMultisampledFramebuffer&&o.deleteFramebuffer(Xt.__webglMultisampledFramebuffer),Xt.__webglColorRenderbuffer)for(let yr=0;yr<Xt.__webglColorRenderbuffer.length;yr++)Xt.__webglColorRenderbuffer[yr]&&o.deleteRenderbuffer(Xt.__webglColorRenderbuffer[yr]);Xt.__webglDepthRenderbuffer&&o.deleteRenderbuffer(Xt.__webglDepthRenderbuffer)}const lr=rr.textures;for(let yr=0,_r=lr.length;yr<_r;yr++){const pr=$.get(lr[yr]);pr.__webglTexture&&(o.deleteTexture(pr.__webglTexture),tt.memory.textures--),$.remove(lr[yr])}$.remove(rr)}let Gt=0;function qt(){Gt=0}function Jt(){const rr=Gt;return rr>=j.maxTextures&&warn$2("WebGLTextures: Trying to use "+rr+" texture units while this GPU supports only "+j.maxTextures),Gt+=1,rr}function er(rr){const Xt=[];return Xt.push(rr.wrapS),Xt.push(rr.wrapT),Xt.push(rr.wrapR||0),Xt.push(rr.magFilter),Xt.push(rr.minFilter),Xt.push(rr.anisotropy),Xt.push(rr.internalFormat),Xt.push(rr.format),Xt.push(rr.type),Xt.push(rr.generateMipmaps),Xt.push(rr.premultiplyAlpha),Xt.push(rr.flipY),Xt.push(rr.unpackAlignment),Xt.push(rr.colorSpace),Xt.join()}function Kt(rr,Xt){const lr=$.get(rr);if(rr.isVideoTexture&&an(rr),rr.isRenderTargetTexture===!1&&rr.isExternalTexture!==!0&&rr.version>0&&lr.__version!==rr.version){const yr=rr.image;if(yr===null)warn$2("WebGLRenderer: Texture marked for update but no image data found.");else if(yr.complete===!1)warn$2("WebGLRenderer: Texture marked for update but image is incomplete");else{ar(lr,rr,Xt);return}}else rr.isExternalTexture&&(lr.__webglTexture=rr.sourceTexture?rr.sourceTexture:null);_.bindTexture(o.TEXTURE_2D,lr.__webglTexture,o.TEXTURE0+Xt)}function zt(rr,Xt){const lr=$.get(rr);if(rr.isRenderTargetTexture===!1&&rr.version>0&&lr.__version!==rr.version){ar(lr,rr,Xt);return}else rr.isExternalTexture&&(lr.__webglTexture=rr.sourceTexture?rr.sourceTexture:null);_.bindTexture(o.TEXTURE_2D_ARRAY,lr.__webglTexture,o.TEXTURE0+Xt)}function Ht(rr,Xt){const lr=$.get(rr);if(rr.isRenderTargetTexture===!1&&rr.version>0&&lr.__version!==rr.version){ar(lr,rr,Xt);return}_.bindTexture(o.TEXTURE_3D,lr.__webglTexture,o.TEXTURE0+Xt)}function Ft(rr,Xt){const lr=$.get(rr);if(rr.version>0&&lr.__version!==rr.version){ur(lr,rr,Xt);return}_.bindTexture(o.TEXTURE_CUBE_MAP,lr.__webglTexture,o.TEXTURE0+Xt)}const Vt={[RepeatWrapping]:o.REPEAT,[ClampToEdgeWrapping]:o.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:o.MIRRORED_REPEAT},Yt={[NearestFilter]:o.NEAREST,[NearestMipmapNearestFilter]:o.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:o.NEAREST_MIPMAP_LINEAR,[LinearFilter]:o.LINEAR,[LinearMipmapNearestFilter]:o.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:o.LINEAR_MIPMAP_LINEAR},Zt={[NeverCompare]:o.NEVER,[AlwaysCompare]:o.ALWAYS,[LessCompare]:o.LESS,[LessEqualCompare]:o.LEQUAL,[EqualCompare]:o.EQUAL,[GreaterEqualCompare]:o.GEQUAL,[GreaterCompare]:o.GREATER,[NotEqualCompare]:o.NOTEQUAL};function nr(rr,Xt){if(Xt.type===FloatType&&i.has("OES_texture_float_linear")===!1&&(Xt.magFilter===LinearFilter||Xt.magFilter===LinearMipmapNearestFilter||Xt.magFilter===NearestMipmapLinearFilter||Xt.magFilter===LinearMipmapLinearFilter||Xt.minFilter===LinearFilter||Xt.minFilter===LinearMipmapNearestFilter||Xt.minFilter===NearestMipmapLinearFilter||Xt.minFilter===LinearMipmapLinearFilter)&&warn$2("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),o.texParameteri(rr,o.TEXTURE_WRAP_S,Vt[Xt.wrapS]),o.texParameteri(rr,o.TEXTURE_WRAP_T,Vt[Xt.wrapT]),(rr===o.TEXTURE_3D||rr===o.TEXTURE_2D_ARRAY)&&o.texParameteri(rr,o.TEXTURE_WRAP_R,Vt[Xt.wrapR]),o.texParameteri(rr,o.TEXTURE_MAG_FILTER,Yt[Xt.magFilter]),o.texParameteri(rr,o.TEXTURE_MIN_FILTER,Yt[Xt.minFilter]),Xt.compareFunction&&(o.texParameteri(rr,o.TEXTURE_COMPARE_MODE,o.COMPARE_REF_TO_TEXTURE),o.texParameteri(rr,o.TEXTURE_COMPARE_FUNC,Zt[Xt.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(Xt.magFilter===NearestFilter||Xt.minFilter!==NearestMipmapLinearFilter&&Xt.minFilter!==LinearMipmapLinearFilter||Xt.type===FloatType&&i.has("OES_texture_float_linear")===!1)return;if(Xt.anisotropy>1||$.get(Xt).__currentAnisotropy){const lr=i.get("EXT_texture_filter_anisotropic");o.texParameterf(rr,lr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Xt.anisotropy,j.getMaxAnisotropy())),$.get(Xt).__currentAnisotropy=Xt.anisotropy}}}function cr(rr,Xt){let lr=!1;rr.__webglInit===void 0&&(rr.__webglInit=!0,Xt.addEventListener("dispose",Dt));const yr=Xt.source;let _r=ft.get(yr);_r===void 0&&(_r={},ft.set(yr,_r));const pr=er(Xt);if(pr!==rr.__cacheKey){_r[pr]===void 0&&(_r[pr]={texture:o.createTexture(),usedTimes:0},tt.memory.textures++,lr=!0),_r[pr].usedTimes++;const Hr=_r[rr.__cacheKey];Hr!==void 0&&(_r[rr.__cacheKey].usedTimes--,Hr.usedTimes===0&&jt(Xt)),rr.__cacheKey=pr,rr.__webglTexture=_r[pr].texture}return lr}function vr(rr,Xt,lr){return Math.floor(Math.floor(rr/lr)/Xt)}function Tr(rr,Xt,lr,yr){const pr=rr.updateRanges;if(pr.length===0)_.texSubImage2D(o.TEXTURE_2D,0,0,0,Xt.width,Xt.height,lr,yr,Xt.data);else{pr.sort((wr,Rr)=>wr.start-Rr.start);let Hr=0;for(let wr=1;wr<pr.length;wr++){const Rr=pr[Hr],Qr=pr[wr],Zr=Rr.start+Rr.count,jr=vr(Qr.start,Xt.width,4),rn=vr(Rr.start,Xt.width,4);Qr.start<=Zr+1&&jr===rn&&vr(Qr.start+Qr.count-1,Xt.width,4)===jr?Rr.count=Math.max(Rr.count,Qr.start+Qr.count-Rr.start):(++Hr,pr[Hr]=Qr)}pr.length=Hr+1;const Or=o.getParameter(o.UNPACK_ROW_LENGTH),Kr=o.getParameter(o.UNPACK_SKIP_PIXELS),qr=o.getParameter(o.UNPACK_SKIP_ROWS);o.pixelStorei(o.UNPACK_ROW_LENGTH,Xt.width);for(let wr=0,Rr=pr.length;wr<Rr;wr++){const Qr=pr[wr],Zr=Math.floor(Qr.start/4),jr=Math.ceil(Qr.count/4),rn=Zr%Xt.width,ir=Math.floor(Zr/Xt.width),Fr=jr,Ir=1;o.pixelStorei(o.UNPACK_SKIP_PIXELS,rn),o.pixelStorei(o.UNPACK_SKIP_ROWS,ir),_.texSubImage2D(o.TEXTURE_2D,0,rn,ir,Fr,Ir,lr,yr,Xt.data)}rr.clearUpdateRanges(),o.pixelStorei(o.UNPACK_ROW_LENGTH,Or),o.pixelStorei(o.UNPACK_SKIP_PIXELS,Kr),o.pixelStorei(o.UNPACK_SKIP_ROWS,qr)}}function ar(rr,Xt,lr){let yr=o.TEXTURE_2D;(Xt.isDataArrayTexture||Xt.isCompressedArrayTexture)&&(yr=o.TEXTURE_2D_ARRAY),Xt.isData3DTexture&&(yr=o.TEXTURE_3D);const _r=cr(rr,Xt),pr=Xt.source;_.bindTexture(yr,rr.__webglTexture,o.TEXTURE0+lr);const Hr=$.get(pr);if(pr.version!==Hr.__version||_r===!0){_.activeTexture(o.TEXTURE0+lr);const Or=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Kr=Xt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Xt.colorSpace),qr=Xt.colorSpace===NoColorSpace||Or===Kr?o.NONE:o.BROWSER_DEFAULT_WEBGL;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,Xt.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xt.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,Xt.unpackAlignment),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,qr);let wr=Tt(Xt.image,!1,j.maxTextureSize);wr=Nr(Xt,wr);const Rr=_e.convert(Xt.format,Xt.colorSpace),Qr=_e.convert(Xt.type);let Zr=$t(Xt.internalFormat,Rr,Qr,Xt.colorSpace,Xt.isVideoTexture);nr(yr,Xt);let jr;const rn=Xt.mipmaps,ir=Xt.isVideoTexture!==!0,Fr=Hr.__version===void 0||_r===!0,Ir=pr.dataReady,Dr=It(Xt,wr);if(Xt.isDepthTexture)Zr=Ot(Xt.format===DepthStencilFormat,Xt.type),Fr&&(ir?_.texStorage2D(o.TEXTURE_2D,1,Zr,wr.width,wr.height):_.texImage2D(o.TEXTURE_2D,0,Zr,wr.width,wr.height,0,Rr,Qr,null));else if(Xt.isDataTexture)if(rn.length>0){ir&&Fr&&_.texStorage2D(o.TEXTURE_2D,Dr,Zr,rn[0].width,rn[0].height);for(let Pr=0,br=rn.length;Pr<br;Pr++)jr=rn[Pr],ir?Ir&&_.texSubImage2D(o.TEXTURE_2D,Pr,0,0,jr.width,jr.height,Rr,Qr,jr.data):_.texImage2D(o.TEXTURE_2D,Pr,Zr,jr.width,jr.height,0,Rr,Qr,jr.data);Xt.generateMipmaps=!1}else ir?(Fr&&_.texStorage2D(o.TEXTURE_2D,Dr,Zr,wr.width,wr.height),Ir&&Tr(Xt,wr,Rr,Qr)):_.texImage2D(o.TEXTURE_2D,0,Zr,wr.width,wr.height,0,Rr,Qr,wr.data);else if(Xt.isCompressedTexture)if(Xt.isCompressedArrayTexture){ir&&Fr&&_.texStorage3D(o.TEXTURE_2D_ARRAY,Dr,Zr,rn[0].width,rn[0].height,wr.depth);for(let Pr=0,br=rn.length;Pr<br;Pr++)if(jr=rn[Pr],Xt.format!==RGBAFormat)if(Rr!==null)if(ir){if(Ir)if(Xt.layerUpdates.size>0){const Ur=getByteLength(jr.width,jr.height,Xt.format,Xt.type);for(const nn of Xt.layerUpdates){const hn=jr.data.subarray(nn*Ur/jr.data.BYTES_PER_ELEMENT,(nn+1)*Ur/jr.data.BYTES_PER_ELEMENT);_.compressedTexSubImage3D(o.TEXTURE_2D_ARRAY,Pr,0,0,nn,jr.width,jr.height,1,Rr,hn)}Xt.clearLayerUpdates()}else _.compressedTexSubImage3D(o.TEXTURE_2D_ARRAY,Pr,0,0,0,jr.width,jr.height,wr.depth,Rr,jr.data)}else _.compressedTexImage3D(o.TEXTURE_2D_ARRAY,Pr,Zr,jr.width,jr.height,wr.depth,0,jr.data,0,0);else warn$2("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ir?Ir&&_.texSubImage3D(o.TEXTURE_2D_ARRAY,Pr,0,0,0,jr.width,jr.height,wr.depth,Rr,Qr,jr.data):_.texImage3D(o.TEXTURE_2D_ARRAY,Pr,Zr,jr.width,jr.height,wr.depth,0,Rr,Qr,jr.data)}else{ir&&Fr&&_.texStorage2D(o.TEXTURE_2D,Dr,Zr,rn[0].width,rn[0].height);for(let Pr=0,br=rn.length;Pr<br;Pr++)jr=rn[Pr],Xt.format!==RGBAFormat?Rr!==null?ir?Ir&&_.compressedTexSubImage2D(o.TEXTURE_2D,Pr,0,0,jr.width,jr.height,Rr,jr.data):_.compressedTexImage2D(o.TEXTURE_2D,Pr,Zr,jr.width,jr.height,0,jr.data):warn$2("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ir?Ir&&_.texSubImage2D(o.TEXTURE_2D,Pr,0,0,jr.width,jr.height,Rr,Qr,jr.data):_.texImage2D(o.TEXTURE_2D,Pr,Zr,jr.width,jr.height,0,Rr,Qr,jr.data)}else if(Xt.isDataArrayTexture)if(ir){if(Fr&&_.texStorage3D(o.TEXTURE_2D_ARRAY,Dr,Zr,wr.width,wr.height,wr.depth),Ir)if(Xt.layerUpdates.size>0){const Pr=getByteLength(wr.width,wr.height,Xt.format,Xt.type);for(const br of Xt.layerUpdates){const Ur=wr.data.subarray(br*Pr/wr.data.BYTES_PER_ELEMENT,(br+1)*Pr/wr.data.BYTES_PER_ELEMENT);_.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,br,wr.width,wr.height,1,Rr,Qr,Ur)}Xt.clearLayerUpdates()}else _.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,0,wr.width,wr.height,wr.depth,Rr,Qr,wr.data)}else _.texImage3D(o.TEXTURE_2D_ARRAY,0,Zr,wr.width,wr.height,wr.depth,0,Rr,Qr,wr.data);else if(Xt.isData3DTexture)ir?(Fr&&_.texStorage3D(o.TEXTURE_3D,Dr,Zr,wr.width,wr.height,wr.depth),Ir&&_.texSubImage3D(o.TEXTURE_3D,0,0,0,0,wr.width,wr.height,wr.depth,Rr,Qr,wr.data)):_.texImage3D(o.TEXTURE_3D,0,Zr,wr.width,wr.height,wr.depth,0,Rr,Qr,wr.data);else if(Xt.isFramebufferTexture){if(Fr)if(ir)_.texStorage2D(o.TEXTURE_2D,Dr,Zr,wr.width,wr.height);else{let Pr=wr.width,br=wr.height;for(let Ur=0;Ur<Dr;Ur++)_.texImage2D(o.TEXTURE_2D,Ur,Zr,Pr,br,0,Rr,Qr,null),Pr>>=1,br>>=1}}else if(rn.length>0){if(ir&&Fr){const Pr=Gr(rn[0]);_.texStorage2D(o.TEXTURE_2D,Dr,Zr,Pr.width,Pr.height)}for(let Pr=0,br=rn.length;Pr<br;Pr++)jr=rn[Pr],ir?Ir&&_.texSubImage2D(o.TEXTURE_2D,Pr,0,0,Rr,Qr,jr):_.texImage2D(o.TEXTURE_2D,Pr,Zr,Rr,Qr,jr);Xt.generateMipmaps=!1}else if(ir){if(Fr){const Pr=Gr(wr);_.texStorage2D(o.TEXTURE_2D,Dr,Zr,Pr.width,Pr.height)}Ir&&_.texSubImage2D(o.TEXTURE_2D,0,0,0,Rr,Qr,wr)}else _.texImage2D(o.TEXTURE_2D,0,Zr,Rr,Qr,wr);Mt(Xt)&&pt(yr),Hr.__version=pr.version,Xt.onUpdate&&Xt.onUpdate(Xt)}rr.__version=Xt.version}function ur(rr,Xt,lr){if(Xt.image.length!==6)return;const yr=cr(rr,Xt),_r=Xt.source;_.bindTexture(o.TEXTURE_CUBE_MAP,rr.__webglTexture,o.TEXTURE0+lr);const pr=$.get(_r);if(_r.version!==pr.__version||yr===!0){_.activeTexture(o.TEXTURE0+lr);const Hr=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Or=Xt.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Xt.colorSpace),Kr=Xt.colorSpace===NoColorSpace||Hr===Or?o.NONE:o.BROWSER_DEFAULT_WEBGL;o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,Xt.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xt.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,Xt.unpackAlignment),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,Kr);const qr=Xt.isCompressedTexture||Xt.image[0].isCompressedTexture,wr=Xt.image[0]&&Xt.image[0].isDataTexture,Rr=[];for(let br=0;br<6;br++)!qr&&!wr?Rr[br]=Tt(Xt.image[br],!0,j.maxCubemapSize):Rr[br]=wr?Xt.image[br].image:Xt.image[br],Rr[br]=Nr(Xt,Rr[br]);const Qr=Rr[0],Zr=_e.convert(Xt.format,Xt.colorSpace),jr=_e.convert(Xt.type),rn=$t(Xt.internalFormat,Zr,jr,Xt.colorSpace),ir=Xt.isVideoTexture!==!0,Fr=pr.__version===void 0||yr===!0,Ir=_r.dataReady;let Dr=It(Xt,Qr);nr(o.TEXTURE_CUBE_MAP,Xt);let Pr;if(qr){ir&&Fr&&_.texStorage2D(o.TEXTURE_CUBE_MAP,Dr,rn,Qr.width,Qr.height);for(let br=0;br<6;br++){Pr=Rr[br].mipmaps;for(let Ur=0;Ur<Pr.length;Ur++){const nn=Pr[Ur];Xt.format!==RGBAFormat?Zr!==null?ir?Ir&&_.compressedTexSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur,0,0,nn.width,nn.height,Zr,nn.data):_.compressedTexImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur,rn,nn.width,nn.height,0,nn.data):warn$2("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ir?Ir&&_.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur,0,0,nn.width,nn.height,Zr,jr,nn.data):_.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur,rn,nn.width,nn.height,0,Zr,jr,nn.data)}}}else{if(Pr=Xt.mipmaps,ir&&Fr){Pr.length>0&&Dr++;const br=Gr(Rr[0]);_.texStorage2D(o.TEXTURE_CUBE_MAP,Dr,rn,br.width,br.height)}for(let br=0;br<6;br++)if(wr){ir?Ir&&_.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,0,0,0,Rr[br].width,Rr[br].height,Zr,jr,Rr[br].data):_.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,0,rn,Rr[br].width,Rr[br].height,0,Zr,jr,Rr[br].data);for(let Ur=0;Ur<Pr.length;Ur++){const hn=Pr[Ur].image[br].image;ir?Ir&&_.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur+1,0,0,hn.width,hn.height,Zr,jr,hn.data):_.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur+1,rn,hn.width,hn.height,0,Zr,jr,hn.data)}}else{ir?Ir&&_.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,0,0,0,Zr,jr,Rr[br]):_.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,0,rn,Zr,jr,Rr[br]);for(let Ur=0;Ur<Pr.length;Ur++){const nn=Pr[Ur];ir?Ir&&_.texSubImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur+1,0,0,Zr,jr,nn.image[br]):_.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+br,Ur+1,rn,Zr,jr,nn.image[br])}}}Mt(Xt)&&pt(o.TEXTURE_CUBE_MAP),pr.__version=_r.version,Xt.onUpdate&&Xt.onUpdate(Xt)}rr.__version=Xt.version}function Sr(rr,Xt,lr,yr,_r,pr){const Hr=_e.convert(lr.format,lr.colorSpace),Or=_e.convert(lr.type),Kr=$t(lr.internalFormat,Hr,Or,lr.colorSpace),qr=$.get(Xt),wr=$.get(lr);if(wr.__renderTarget=Xt,!qr.__hasExternalTextures){const Rr=Math.max(1,Xt.width>>pr),Qr=Math.max(1,Xt.height>>pr);_r===o.TEXTURE_3D||_r===o.TEXTURE_2D_ARRAY?_.texImage3D(_r,pr,Kr,Rr,Qr,Xt.depth,0,Hr,Or,null):_.texImage2D(_r,pr,Kr,Rr,Qr,0,Hr,Or,null)}_.bindFramebuffer(o.FRAMEBUFFER,rr),Cr(Xt)?rt.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,yr,_r,wr.__webglTexture,0,Wr(Xt)):(_r===o.TEXTURE_2D||_r>=o.TEXTURE_CUBE_MAP_POSITIVE_X&&_r<=o.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&o.framebufferTexture2D(o.FRAMEBUFFER,yr,_r,wr.__webglTexture,pr),_.bindFramebuffer(o.FRAMEBUFFER,null)}function gr(rr,Xt,lr){if(o.bindRenderbuffer(o.RENDERBUFFER,rr),Xt.depthBuffer){const yr=Xt.depthTexture,_r=yr&&yr.isDepthTexture?yr.type:null,pr=Ot(Xt.stencilBuffer,_r),Hr=Xt.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT,Or=Wr(Xt);Cr(Xt)?rt.renderbufferStorageMultisampleEXT(o.RENDERBUFFER,Or,pr,Xt.width,Xt.height):lr?o.renderbufferStorageMultisample(o.RENDERBUFFER,Or,pr,Xt.width,Xt.height):o.renderbufferStorage(o.RENDERBUFFER,pr,Xt.width,Xt.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,Hr,o.RENDERBUFFER,rr)}else{const yr=Xt.textures;for(let _r=0;_r<yr.length;_r++){const pr=yr[_r],Hr=_e.convert(pr.format,pr.colorSpace),Or=_e.convert(pr.type),Kr=$t(pr.internalFormat,Hr,Or,pr.colorSpace),qr=Wr(Xt);lr&&Cr(Xt)===!1?o.renderbufferStorageMultisample(o.RENDERBUFFER,qr,Kr,Xt.width,Xt.height):Cr(Xt)?rt.renderbufferStorageMultisampleEXT(o.RENDERBUFFER,qr,Kr,Xt.width,Xt.height):o.renderbufferStorage(o.RENDERBUFFER,Kr,Xt.width,Xt.height)}}o.bindRenderbuffer(o.RENDERBUFFER,null)}function xr(rr,Xt){if(Xt&&Xt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(_.bindFramebuffer(o.FRAMEBUFFER,rr),!(Xt.depthTexture&&Xt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const yr=$.get(Xt.depthTexture);yr.__renderTarget=Xt,(!yr.__webglTexture||Xt.depthTexture.image.width!==Xt.width||Xt.depthTexture.image.height!==Xt.height)&&(Xt.depthTexture.image.width=Xt.width,Xt.depthTexture.image.height=Xt.height,Xt.depthTexture.needsUpdate=!0),Kt(Xt.depthTexture,0);const _r=yr.__webglTexture,pr=Wr(Xt);if(Xt.depthTexture.format===DepthFormat)Cr(Xt)?rt.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,_r,0,pr):o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.TEXTURE_2D,_r,0);else if(Xt.depthTexture.format===DepthStencilFormat)Cr(Xt)?rt.framebufferTexture2DMultisampleEXT(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.TEXTURE_2D,_r,0,pr):o.framebufferTexture2D(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.TEXTURE_2D,_r,0);else throw new Error("Unknown depthTexture format")}function Er(rr){const Xt=$.get(rr),lr=rr.isWebGLCubeRenderTarget===!0;if(Xt.__boundDepthTexture!==rr.depthTexture){const yr=rr.depthTexture;if(Xt.__depthDisposeCallback&&Xt.__depthDisposeCallback(),yr){const _r=()=>{delete Xt.__boundDepthTexture,delete Xt.__depthDisposeCallback,yr.removeEventListener("dispose",_r)};yr.addEventListener("dispose",_r),Xt.__depthDisposeCallback=_r}Xt.__boundDepthTexture=yr}if(rr.depthTexture&&!Xt.__autoAllocateDepthBuffer){if(lr)throw new Error("target.depthTexture not supported in Cube render targets");const yr=rr.texture.mipmaps;yr&&yr.length>0?xr(Xt.__webglFramebuffer[0],rr):xr(Xt.__webglFramebuffer,rr)}else if(lr){Xt.__webglDepthbuffer=[];for(let yr=0;yr<6;yr++)if(_.bindFramebuffer(o.FRAMEBUFFER,Xt.__webglFramebuffer[yr]),Xt.__webglDepthbuffer[yr]===void 0)Xt.__webglDepthbuffer[yr]=o.createRenderbuffer(),gr(Xt.__webglDepthbuffer[yr],rr,!1);else{const _r=rr.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT,pr=Xt.__webglDepthbuffer[yr];o.bindRenderbuffer(o.RENDERBUFFER,pr),o.framebufferRenderbuffer(o.FRAMEBUFFER,_r,o.RENDERBUFFER,pr)}}else{const yr=rr.texture.mipmaps;if(yr&&yr.length>0?_.bindFramebuffer(o.FRAMEBUFFER,Xt.__webglFramebuffer[0]):_.bindFramebuffer(o.FRAMEBUFFER,Xt.__webglFramebuffer),Xt.__webglDepthbuffer===void 0)Xt.__webglDepthbuffer=o.createRenderbuffer(),gr(Xt.__webglDepthbuffer,rr,!1);else{const _r=rr.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT,pr=Xt.__webglDepthbuffer;o.bindRenderbuffer(o.RENDERBUFFER,pr),o.framebufferRenderbuffer(o.FRAMEBUFFER,_r,o.RENDERBUFFER,pr)}}_.bindFramebuffer(o.FRAMEBUFFER,null)}function dr(rr,Xt,lr){const yr=$.get(rr);Xt!==void 0&&Sr(yr.__webglFramebuffer,rr,rr.texture,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,0),lr!==void 0&&Er(rr)}function Ar(rr){const Xt=rr.texture,lr=$.get(rr),yr=$.get(Xt);rr.addEventListener("dispose",Lt);const _r=rr.textures,pr=rr.isWebGLCubeRenderTarget===!0,Hr=_r.length>1;if(Hr||(yr.__webglTexture===void 0&&(yr.__webglTexture=o.createTexture()),yr.__version=Xt.version,tt.memory.textures++),pr){lr.__webglFramebuffer=[];for(let Or=0;Or<6;Or++)if(Xt.mipmaps&&Xt.mipmaps.length>0){lr.__webglFramebuffer[Or]=[];for(let Kr=0;Kr<Xt.mipmaps.length;Kr++)lr.__webglFramebuffer[Or][Kr]=o.createFramebuffer()}else lr.__webglFramebuffer[Or]=o.createFramebuffer()}else{if(Xt.mipmaps&&Xt.mipmaps.length>0){lr.__webglFramebuffer=[];for(let Or=0;Or<Xt.mipmaps.length;Or++)lr.__webglFramebuffer[Or]=o.createFramebuffer()}else lr.__webglFramebuffer=o.createFramebuffer();if(Hr)for(let Or=0,Kr=_r.length;Or<Kr;Or++){const qr=$.get(_r[Or]);qr.__webglTexture===void 0&&(qr.__webglTexture=o.createTexture(),tt.memory.textures++)}if(rr.samples>0&&Cr(rr)===!1){lr.__webglMultisampledFramebuffer=o.createFramebuffer(),lr.__webglColorRenderbuffer=[],_.bindFramebuffer(o.FRAMEBUFFER,lr.__webglMultisampledFramebuffer);for(let Or=0;Or<_r.length;Or++){const Kr=_r[Or];lr.__webglColorRenderbuffer[Or]=o.createRenderbuffer(),o.bindRenderbuffer(o.RENDERBUFFER,lr.__webglColorRenderbuffer[Or]);const qr=_e.convert(Kr.format,Kr.colorSpace),wr=_e.convert(Kr.type),Rr=$t(Kr.internalFormat,qr,wr,Kr.colorSpace,rr.isXRRenderTarget===!0),Qr=Wr(rr);o.renderbufferStorageMultisample(o.RENDERBUFFER,Qr,Rr,rr.width,rr.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+Or,o.RENDERBUFFER,lr.__webglColorRenderbuffer[Or])}o.bindRenderbuffer(o.RENDERBUFFER,null),rr.depthBuffer&&(lr.__webglDepthRenderbuffer=o.createRenderbuffer(),gr(lr.__webglDepthRenderbuffer,rr,!0)),_.bindFramebuffer(o.FRAMEBUFFER,null)}}if(pr){_.bindTexture(o.TEXTURE_CUBE_MAP,yr.__webglTexture),nr(o.TEXTURE_CUBE_MAP,Xt);for(let Or=0;Or<6;Or++)if(Xt.mipmaps&&Xt.mipmaps.length>0)for(let Kr=0;Kr<Xt.mipmaps.length;Kr++)Sr(lr.__webglFramebuffer[Or][Kr],rr,Xt,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+Or,Kr);else Sr(lr.__webglFramebuffer[Or],rr,Xt,o.COLOR_ATTACHMENT0,o.TEXTURE_CUBE_MAP_POSITIVE_X+Or,0);Mt(Xt)&&pt(o.TEXTURE_CUBE_MAP),_.unbindTexture()}else if(Hr){for(let Or=0,Kr=_r.length;Or<Kr;Or++){const qr=_r[Or],wr=$.get(qr);let Rr=o.TEXTURE_2D;(rr.isWebGL3DRenderTarget||rr.isWebGLArrayRenderTarget)&&(Rr=rr.isWebGL3DRenderTarget?o.TEXTURE_3D:o.TEXTURE_2D_ARRAY),_.bindTexture(Rr,wr.__webglTexture),nr(Rr,qr),Sr(lr.__webglFramebuffer,rr,qr,o.COLOR_ATTACHMENT0+Or,Rr,0),Mt(qr)&&pt(Rr)}_.unbindTexture()}else{let Or=o.TEXTURE_2D;if((rr.isWebGL3DRenderTarget||rr.isWebGLArrayRenderTarget)&&(Or=rr.isWebGL3DRenderTarget?o.TEXTURE_3D:o.TEXTURE_2D_ARRAY),_.bindTexture(Or,yr.__webglTexture),nr(Or,Xt),Xt.mipmaps&&Xt.mipmaps.length>0)for(let Kr=0;Kr<Xt.mipmaps.length;Kr++)Sr(lr.__webglFramebuffer[Kr],rr,Xt,o.COLOR_ATTACHMENT0,Or,Kr);else Sr(lr.__webglFramebuffer,rr,Xt,o.COLOR_ATTACHMENT0,Or,0);Mt(Xt)&&pt(Or),_.unbindTexture()}rr.depthBuffer&&Er(rr)}function mr(rr){const Xt=rr.textures;for(let lr=0,yr=Xt.length;lr<yr;lr++){const _r=Xt[lr];if(Mt(_r)){const pr=Pt(rr),Hr=$.get(_r).__webglTexture;_.bindTexture(pr,Hr),pt(pr),_.unbindTexture()}}}const tr=[],Mr=[];function Lr(rr){if(rr.samples>0){if(Cr(rr)===!1){const Xt=rr.textures,lr=rr.width,yr=rr.height;let _r=o.COLOR_BUFFER_BIT;const pr=rr.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT,Hr=$.get(rr),Or=Xt.length>1;if(Or)for(let qr=0;qr<Xt.length;qr++)_.bindFramebuffer(o.FRAMEBUFFER,Hr.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+qr,o.RENDERBUFFER,null),_.bindFramebuffer(o.FRAMEBUFFER,Hr.__webglFramebuffer),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0+qr,o.TEXTURE_2D,null,0);_.bindFramebuffer(o.READ_FRAMEBUFFER,Hr.__webglMultisampledFramebuffer);const Kr=rr.texture.mipmaps;Kr&&Kr.length>0?_.bindFramebuffer(o.DRAW_FRAMEBUFFER,Hr.__webglFramebuffer[0]):_.bindFramebuffer(o.DRAW_FRAMEBUFFER,Hr.__webglFramebuffer);for(let qr=0;qr<Xt.length;qr++){if(rr.resolveDepthBuffer&&(rr.depthBuffer&&(_r|=o.DEPTH_BUFFER_BIT),rr.stencilBuffer&&rr.resolveStencilBuffer&&(_r|=o.STENCIL_BUFFER_BIT)),Or){o.framebufferRenderbuffer(o.READ_FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,Hr.__webglColorRenderbuffer[qr]);const wr=$.get(Xt[qr]).__webglTexture;o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,wr,0)}o.blitFramebuffer(0,0,lr,yr,0,0,lr,yr,_r,o.NEAREST),nt===!0&&(tr.length=0,Mr.length=0,tr.push(o.COLOR_ATTACHMENT0+qr),rr.depthBuffer&&rr.resolveDepthBuffer===!1&&(tr.push(pr),Mr.push(pr),o.invalidateFramebuffer(o.DRAW_FRAMEBUFFER,Mr)),o.invalidateFramebuffer(o.READ_FRAMEBUFFER,tr))}if(_.bindFramebuffer(o.READ_FRAMEBUFFER,null),_.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),Or)for(let qr=0;qr<Xt.length;qr++){_.bindFramebuffer(o.FRAMEBUFFER,Hr.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+qr,o.RENDERBUFFER,Hr.__webglColorRenderbuffer[qr]);const wr=$.get(Xt[qr]).__webglTexture;_.bindFramebuffer(o.FRAMEBUFFER,Hr.__webglFramebuffer),o.framebufferTexture2D(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0+qr,o.TEXTURE_2D,wr,0)}_.bindFramebuffer(o.DRAW_FRAMEBUFFER,Hr.__webglMultisampledFramebuffer)}else if(rr.depthBuffer&&rr.resolveDepthBuffer===!1&&nt){const Xt=rr.stencilBuffer?o.DEPTH_STENCIL_ATTACHMENT:o.DEPTH_ATTACHMENT;o.invalidateFramebuffer(o.DRAW_FRAMEBUFFER,[Xt])}}}function Wr(rr){return Math.min(j.maxSamples,rr.samples)}function Cr(rr){const Xt=$.get(rr);return rr.samples>0&&i.has("WEBGL_multisampled_render_to_texture")===!0&&Xt.__useRenderToTexture!==!1}function an(rr){const Xt=tt.render.frame;ot.get(rr)!==Xt&&(ot.set(rr,Xt),rr.update())}function Nr(rr,Xt){const lr=rr.colorSpace,yr=rr.format,_r=rr.type;return rr.isCompressedTexture===!0||rr.isVideoTexture===!0||lr!==LinearSRGBColorSpace&&lr!==NoColorSpace&&(ColorManagement.getTransfer(lr)===SRGBTransfer?(yr!==RGBAFormat||_r!==UnsignedByteType)&&warn$2("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):error("WebGLTextures: Unsupported texture color space:",lr)),Xt}function Gr(rr){return typeof HTMLImageElement<"u"&&rr instanceof HTMLImageElement?(it.width=rr.naturalWidth||rr.width,it.height=rr.naturalHeight||rr.height):typeof VideoFrame<"u"&&rr instanceof VideoFrame?(it.width=rr.displayWidth,it.height=rr.displayHeight):(it.width=rr.width,it.height=rr.height),it}this.allocateTextureUnit=Jt,this.resetTextureUnits=qt,this.setTexture2D=Kt,this.setTexture2DArray=zt,this.setTexture3D=Ht,this.setTextureCube=Ft,this.rebindTextures=dr,this.setupRenderTarget=Ar,this.updateRenderTargetMipmap=mr,this.updateMultisampleRenderTarget=Lr,this.setupDepthRenderbuffer=Er,this.setupFrameBufferTexture=Sr,this.useMultisampledRTT=Cr}function WebGLUtils(o,i){function _($,j=NoColorSpace){let _e;const tt=ColorManagement.getTransfer(j);if($===UnsignedByteType)return o.UNSIGNED_BYTE;if($===UnsignedShort4444Type)return o.UNSIGNED_SHORT_4_4_4_4;if($===UnsignedShort5551Type)return o.UNSIGNED_SHORT_5_5_5_1;if($===UnsignedInt5999Type)return o.UNSIGNED_INT_5_9_9_9_REV;if($===UnsignedInt101111Type)return o.UNSIGNED_INT_10F_11F_11F_REV;if($===ByteType)return o.BYTE;if($===ShortType)return o.SHORT;if($===UnsignedShortType)return o.UNSIGNED_SHORT;if($===IntType)return o.INT;if($===UnsignedIntType)return o.UNSIGNED_INT;if($===FloatType)return o.FLOAT;if($===HalfFloatType)return o.HALF_FLOAT;if($===AlphaFormat)return o.ALPHA;if($===RGBFormat)return o.RGB;if($===RGBAFormat)return o.RGBA;if($===DepthFormat)return o.DEPTH_COMPONENT;if($===DepthStencilFormat)return o.DEPTH_STENCIL;if($===RedFormat)return o.RED;if($===RedIntegerFormat)return o.RED_INTEGER;if($===RGFormat)return o.RG;if($===RGIntegerFormat)return o.RG_INTEGER;if($===RGBAIntegerFormat)return o.RGBA_INTEGER;if($===RGB_S3TC_DXT1_Format||$===RGBA_S3TC_DXT1_Format||$===RGBA_S3TC_DXT3_Format||$===RGBA_S3TC_DXT5_Format)if(tt===SRGBTransfer)if(_e=i.get("WEBGL_compressed_texture_s3tc_srgb"),_e!==null){if($===RGB_S3TC_DXT1_Format)return _e.COMPRESSED_SRGB_S3TC_DXT1_EXT;if($===RGBA_S3TC_DXT1_Format)return _e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if($===RGBA_S3TC_DXT3_Format)return _e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if($===RGBA_S3TC_DXT5_Format)return _e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(_e=i.get("WEBGL_compressed_texture_s3tc"),_e!==null){if($===RGB_S3TC_DXT1_Format)return _e.COMPRESSED_RGB_S3TC_DXT1_EXT;if($===RGBA_S3TC_DXT1_Format)return _e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if($===RGBA_S3TC_DXT3_Format)return _e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if($===RGBA_S3TC_DXT5_Format)return _e.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if($===RGB_PVRTC_4BPPV1_Format||$===RGB_PVRTC_2BPPV1_Format||$===RGBA_PVRTC_4BPPV1_Format||$===RGBA_PVRTC_2BPPV1_Format)if(_e=i.get("WEBGL_compressed_texture_pvrtc"),_e!==null){if($===RGB_PVRTC_4BPPV1_Format)return _e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if($===RGB_PVRTC_2BPPV1_Format)return _e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if($===RGBA_PVRTC_4BPPV1_Format)return _e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if($===RGBA_PVRTC_2BPPV1_Format)return _e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if($===RGB_ETC1_Format||$===RGB_ETC2_Format||$===RGBA_ETC2_EAC_Format)if(_e=i.get("WEBGL_compressed_texture_etc"),_e!==null){if($===RGB_ETC1_Format||$===RGB_ETC2_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ETC2:_e.COMPRESSED_RGB8_ETC2;if($===RGBA_ETC2_EAC_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:_e.COMPRESSED_RGBA8_ETC2_EAC}else return null;if($===RGBA_ASTC_4x4_Format||$===RGBA_ASTC_5x4_Format||$===RGBA_ASTC_5x5_Format||$===RGBA_ASTC_6x5_Format||$===RGBA_ASTC_6x6_Format||$===RGBA_ASTC_8x5_Format||$===RGBA_ASTC_8x6_Format||$===RGBA_ASTC_8x8_Format||$===RGBA_ASTC_10x5_Format||$===RGBA_ASTC_10x6_Format||$===RGBA_ASTC_10x8_Format||$===RGBA_ASTC_10x10_Format||$===RGBA_ASTC_12x10_Format||$===RGBA_ASTC_12x12_Format)if(_e=i.get("WEBGL_compressed_texture_astc"),_e!==null){if($===RGBA_ASTC_4x4_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:_e.COMPRESSED_RGBA_ASTC_4x4_KHR;if($===RGBA_ASTC_5x4_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:_e.COMPRESSED_RGBA_ASTC_5x4_KHR;if($===RGBA_ASTC_5x5_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:_e.COMPRESSED_RGBA_ASTC_5x5_KHR;if($===RGBA_ASTC_6x5_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:_e.COMPRESSED_RGBA_ASTC_6x5_KHR;if($===RGBA_ASTC_6x6_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:_e.COMPRESSED_RGBA_ASTC_6x6_KHR;if($===RGBA_ASTC_8x5_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:_e.COMPRESSED_RGBA_ASTC_8x5_KHR;if($===RGBA_ASTC_8x6_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:_e.COMPRESSED_RGBA_ASTC_8x6_KHR;if($===RGBA_ASTC_8x8_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:_e.COMPRESSED_RGBA_ASTC_8x8_KHR;if($===RGBA_ASTC_10x5_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:_e.COMPRESSED_RGBA_ASTC_10x5_KHR;if($===RGBA_ASTC_10x6_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:_e.COMPRESSED_RGBA_ASTC_10x6_KHR;if($===RGBA_ASTC_10x8_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:_e.COMPRESSED_RGBA_ASTC_10x8_KHR;if($===RGBA_ASTC_10x10_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:_e.COMPRESSED_RGBA_ASTC_10x10_KHR;if($===RGBA_ASTC_12x10_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:_e.COMPRESSED_RGBA_ASTC_12x10_KHR;if($===RGBA_ASTC_12x12_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:_e.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if($===RGBA_BPTC_Format||$===RGB_BPTC_SIGNED_Format||$===RGB_BPTC_UNSIGNED_Format)if(_e=i.get("EXT_texture_compression_bptc"),_e!==null){if($===RGBA_BPTC_Format)return tt===SRGBTransfer?_e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:_e.COMPRESSED_RGBA_BPTC_UNORM_EXT;if($===RGB_BPTC_SIGNED_Format)return _e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if($===RGB_BPTC_UNSIGNED_Format)return _e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if($===RED_RGTC1_Format||$===SIGNED_RED_RGTC1_Format||$===RED_GREEN_RGTC2_Format||$===SIGNED_RED_GREEN_RGTC2_Format)if(_e=i.get("EXT_texture_compression_rgtc"),_e!==null){if($===RED_RGTC1_Format)return _e.COMPRESSED_RED_RGTC1_EXT;if($===SIGNED_RED_RGTC1_Format)return _e.COMPRESSED_SIGNED_RED_RGTC1_EXT;if($===RED_GREEN_RGTC2_Format)return _e.COMPRESSED_RED_GREEN_RGTC2_EXT;if($===SIGNED_RED_GREEN_RGTC2_Format)return _e.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return $===UnsignedInt248Type?o.UNSIGNED_INT_24_8:o[$]!==void 0?o[$]:null}return{convert:_}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(i,_){if(this.texture===null){const $=new ExternalTexture(i.texture);(i.depthNear!==_.depthNear||i.depthFar!==_.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=$}}getMesh(i){if(this.texture!==null&&this.mesh===null){const _=i.cameras[0].viewport,$=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:_.z},depthHeight:{value:_.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),$)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher{constructor(i,_){super();const $=this;let j=null,_e=1,tt=null,rt="local-floor",nt=1,it=null,ot=null,lt=null,ft=null,_t=null,At=null;const Tt=typeof XRWebGLBinding<"u",Mt=new WebXRDepthSensing,pt={},Pt=_.getContextAttributes();let $t=null,Ot=null;const It=[],Dt=[],Lt=new Vector2;let Bt=null;const jt=new PerspectiveCamera;jt.viewport=new Vector4;const Ut=new PerspectiveCamera;Ut.viewport=new Vector4;const Gt=[jt,Ut],qt=new ArrayCamera;let Jt=null,er=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ar){let ur=It[ar];return ur===void 0&&(ur=new WebXRController,It[ar]=ur),ur.getTargetRaySpace()},this.getControllerGrip=function(ar){let ur=It[ar];return ur===void 0&&(ur=new WebXRController,It[ar]=ur),ur.getGripSpace()},this.getHand=function(ar){let ur=It[ar];return ur===void 0&&(ur=new WebXRController,It[ar]=ur),ur.getHandSpace()};function Kt(ar){const ur=Dt.indexOf(ar.inputSource);if(ur===-1)return;const Sr=It[ur];Sr!==void 0&&(Sr.update(ar.inputSource,ar.frame,it||tt),Sr.dispatchEvent({type:ar.type,data:ar.inputSource}))}function zt(){j.removeEventListener("select",Kt),j.removeEventListener("selectstart",Kt),j.removeEventListener("selectend",Kt),j.removeEventListener("squeeze",Kt),j.removeEventListener("squeezestart",Kt),j.removeEventListener("squeezeend",Kt),j.removeEventListener("end",zt),j.removeEventListener("inputsourceschange",Ht);for(let ar=0;ar<It.length;ar++){const ur=Dt[ar];ur!==null&&(Dt[ar]=null,It[ar].disconnect(ur))}Jt=null,er=null,Mt.reset();for(const ar in pt)delete pt[ar];i.setRenderTarget($t),_t=null,ft=null,lt=null,j=null,Ot=null,Tr.stop(),$.isPresenting=!1,i.setPixelRatio(Bt),i.setSize(Lt.width,Lt.height,!1),$.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ar){_e=ar,$.isPresenting===!0&&warn$2("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ar){rt=ar,$.isPresenting===!0&&warn$2("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return it||tt},this.setReferenceSpace=function(ar){it=ar},this.getBaseLayer=function(){return ft!==null?ft:_t},this.getBinding=function(){return lt===null&&Tt&&(lt=new XRWebGLBinding(j,_)),lt},this.getFrame=function(){return At},this.getSession=function(){return j},this.setSession=async function(ar){if(j=ar,j!==null){if($t=i.getRenderTarget(),j.addEventListener("select",Kt),j.addEventListener("selectstart",Kt),j.addEventListener("selectend",Kt),j.addEventListener("squeeze",Kt),j.addEventListener("squeezestart",Kt),j.addEventListener("squeezeend",Kt),j.addEventListener("end",zt),j.addEventListener("inputsourceschange",Ht),Pt.xrCompatible!==!0&&await _.makeXRCompatible(),Bt=i.getPixelRatio(),i.getSize(Lt),Tt&&"createProjectionLayer"in XRWebGLBinding.prototype){let Sr=null,gr=null,xr=null;Pt.depth&&(xr=Pt.stencil?_.DEPTH24_STENCIL8:_.DEPTH_COMPONENT24,Sr=Pt.stencil?DepthStencilFormat:DepthFormat,gr=Pt.stencil?UnsignedInt248Type:UnsignedIntType);const Er={colorFormat:_.RGBA8,depthFormat:xr,scaleFactor:_e};lt=this.getBinding(),ft=lt.createProjectionLayer(Er),j.updateRenderState({layers:[ft]}),i.setPixelRatio(1),i.setSize(ft.textureWidth,ft.textureHeight,!1),Ot=new WebGLRenderTarget(ft.textureWidth,ft.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ft.textureWidth,ft.textureHeight,gr,void 0,void 0,void 0,void 0,void 0,void 0,Sr),stencilBuffer:Pt.stencil,colorSpace:i.outputColorSpace,samples:Pt.antialias?4:0,resolveDepthBuffer:ft.ignoreDepthValues===!1,resolveStencilBuffer:ft.ignoreDepthValues===!1})}else{const Sr={antialias:Pt.antialias,alpha:!0,depth:Pt.depth,stencil:Pt.stencil,framebufferScaleFactor:_e};_t=new XRWebGLLayer(j,_,Sr),j.updateRenderState({baseLayer:_t}),i.setPixelRatio(1),i.setSize(_t.framebufferWidth,_t.framebufferHeight,!1),Ot=new WebGLRenderTarget(_t.framebufferWidth,_t.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:i.outputColorSpace,stencilBuffer:Pt.stencil,resolveDepthBuffer:_t.ignoreDepthValues===!1,resolveStencilBuffer:_t.ignoreDepthValues===!1})}Ot.isXRRenderTarget=!0,this.setFoveation(nt),it=null,tt=await j.requestReferenceSpace(rt),Tr.setContext(j),Tr.start(),$.isPresenting=!0,$.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(j!==null)return j.environmentBlendMode},this.getDepthTexture=function(){return Mt.getDepthTexture()};function Ht(ar){for(let ur=0;ur<ar.removed.length;ur++){const Sr=ar.removed[ur],gr=Dt.indexOf(Sr);gr>=0&&(Dt[gr]=null,It[gr].disconnect(Sr))}for(let ur=0;ur<ar.added.length;ur++){const Sr=ar.added[ur];let gr=Dt.indexOf(Sr);if(gr===-1){for(let Er=0;Er<It.length;Er++)if(Er>=Dt.length){Dt.push(Sr),gr=Er;break}else if(Dt[Er]===null){Dt[Er]=Sr,gr=Er;break}if(gr===-1)break}const xr=It[gr];xr&&xr.connect(Sr)}}const Ft=new Vector3,Vt=new Vector3;function Yt(ar,ur,Sr){Ft.setFromMatrixPosition(ur.matrixWorld),Vt.setFromMatrixPosition(Sr.matrixWorld);const gr=Ft.distanceTo(Vt),xr=ur.projectionMatrix.elements,Er=Sr.projectionMatrix.elements,dr=xr[14]/(xr[10]-1),Ar=xr[14]/(xr[10]+1),mr=(xr[9]+1)/xr[5],tr=(xr[9]-1)/xr[5],Mr=(xr[8]-1)/xr[0],Lr=(Er[8]+1)/Er[0],Wr=dr*Mr,Cr=dr*Lr,an=gr/(-Mr+Lr),Nr=an*-Mr;if(ur.matrixWorld.decompose(ar.position,ar.quaternion,ar.scale),ar.translateX(Nr),ar.translateZ(an),ar.matrixWorld.compose(ar.position,ar.quaternion,ar.scale),ar.matrixWorldInverse.copy(ar.matrixWorld).invert(),xr[10]===-1)ar.projectionMatrix.copy(ur.projectionMatrix),ar.projectionMatrixInverse.copy(ur.projectionMatrixInverse);else{const Gr=dr+an,rr=Ar+an,Xt=Wr-Nr,lr=Cr+(gr-Nr),yr=mr*Ar/rr*Gr,_r=tr*Ar/rr*Gr;ar.projectionMatrix.makePerspective(Xt,lr,yr,_r,Gr,rr),ar.projectionMatrixInverse.copy(ar.projectionMatrix).invert()}}function Zt(ar,ur){ur===null?ar.matrixWorld.copy(ar.matrix):ar.matrixWorld.multiplyMatrices(ur.matrixWorld,ar.matrix),ar.matrixWorldInverse.copy(ar.matrixWorld).invert()}this.updateCamera=function(ar){if(j===null)return;let ur=ar.near,Sr=ar.far;Mt.texture!==null&&(Mt.depthNear>0&&(ur=Mt.depthNear),Mt.depthFar>0&&(Sr=Mt.depthFar)),qt.near=Ut.near=jt.near=ur,qt.far=Ut.far=jt.far=Sr,(Jt!==qt.near||er!==qt.far)&&(j.updateRenderState({depthNear:qt.near,depthFar:qt.far}),Jt=qt.near,er=qt.far),qt.layers.mask=ar.layers.mask|6,jt.layers.mask=qt.layers.mask&3,Ut.layers.mask=qt.layers.mask&5;const gr=ar.parent,xr=qt.cameras;Zt(qt,gr);for(let Er=0;Er<xr.length;Er++)Zt(xr[Er],gr);xr.length===2?Yt(qt,jt,Ut):qt.projectionMatrix.copy(jt.projectionMatrix),nr(ar,qt,gr)};function nr(ar,ur,Sr){Sr===null?ar.matrix.copy(ur.matrixWorld):(ar.matrix.copy(Sr.matrixWorld),ar.matrix.invert(),ar.matrix.multiply(ur.matrixWorld)),ar.matrix.decompose(ar.position,ar.quaternion,ar.scale),ar.updateMatrixWorld(!0),ar.projectionMatrix.copy(ur.projectionMatrix),ar.projectionMatrixInverse.copy(ur.projectionMatrixInverse),ar.isPerspectiveCamera&&(ar.fov=RAD2DEG*2*Math.atan(1/ar.projectionMatrix.elements[5]),ar.zoom=1)}this.getCamera=function(){return qt},this.getFoveation=function(){if(!(ft===null&&_t===null))return nt},this.setFoveation=function(ar){nt=ar,ft!==null&&(ft.fixedFoveation=ar),_t!==null&&_t.fixedFoveation!==void 0&&(_t.fixedFoveation=ar)},this.hasDepthSensing=function(){return Mt.texture!==null},this.getDepthSensingMesh=function(){return Mt.getMesh(qt)},this.getCameraTexture=function(ar){return pt[ar]};let cr=null;function vr(ar,ur){if(ot=ur.getViewerPose(it||tt),At=ur,ot!==null){const Sr=ot.views;_t!==null&&(i.setRenderTargetFramebuffer(Ot,_t.framebuffer),i.setRenderTarget(Ot));let gr=!1;Sr.length!==qt.cameras.length&&(qt.cameras.length=0,gr=!0);for(let Ar=0;Ar<Sr.length;Ar++){const mr=Sr[Ar];let tr=null;if(_t!==null)tr=_t.getViewport(mr);else{const Lr=lt.getViewSubImage(ft,mr);tr=Lr.viewport,Ar===0&&(i.setRenderTargetTextures(Ot,Lr.colorTexture,Lr.depthStencilTexture),i.setRenderTarget(Ot))}let Mr=Gt[Ar];Mr===void 0&&(Mr=new PerspectiveCamera,Mr.layers.enable(Ar),Mr.viewport=new Vector4,Gt[Ar]=Mr),Mr.matrix.fromArray(mr.transform.matrix),Mr.matrix.decompose(Mr.position,Mr.quaternion,Mr.scale),Mr.projectionMatrix.fromArray(mr.projectionMatrix),Mr.projectionMatrixInverse.copy(Mr.projectionMatrix).invert(),Mr.viewport.set(tr.x,tr.y,tr.width,tr.height),Ar===0&&(qt.matrix.copy(Mr.matrix),qt.matrix.decompose(qt.position,qt.quaternion,qt.scale)),gr===!0&&qt.cameras.push(Mr)}const xr=j.enabledFeatures;if(xr&&xr.includes("depth-sensing")&&j.depthUsage=="gpu-optimized"&&Tt){lt=$.getBinding();const Ar=lt.getDepthInformation(Sr[0]);Ar&&Ar.isValid&&Ar.texture&&Mt.init(Ar,j.renderState)}if(xr&&xr.includes("camera-access")&&Tt){i.state.unbindTexture(),lt=$.getBinding();for(let Ar=0;Ar<Sr.length;Ar++){const mr=Sr[Ar].camera;if(mr){let tr=pt[mr];tr||(tr=new ExternalTexture,pt[mr]=tr);const Mr=lt.getCameraImage(mr);tr.sourceTexture=Mr}}}}for(let Sr=0;Sr<It.length;Sr++){const gr=Dt[Sr],xr=It[Sr];gr!==null&&xr!==void 0&&xr.update(gr,ur,it||tt)}cr&&cr(ar,ur),ur.detectedPlanes&&$.dispatchEvent({type:"planesdetected",data:ur}),At=null}const Tr=new WebGLAnimation;Tr.setAnimationLoop(vr),this.setAnimationLoop=function(ar){cr=ar},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(o,i){function _(Mt,pt){Mt.matrixAutoUpdate===!0&&Mt.updateMatrix(),pt.value.copy(Mt.matrix)}function $(Mt,pt){pt.color.getRGB(Mt.fogColor.value,getUnlitUniformColorSpace(o)),pt.isFog?(Mt.fogNear.value=pt.near,Mt.fogFar.value=pt.far):pt.isFogExp2&&(Mt.fogDensity.value=pt.density)}function j(Mt,pt,Pt,$t,Ot){pt.isMeshBasicMaterial||pt.isMeshLambertMaterial?_e(Mt,pt):pt.isMeshToonMaterial?(_e(Mt,pt),lt(Mt,pt)):pt.isMeshPhongMaterial?(_e(Mt,pt),ot(Mt,pt)):pt.isMeshStandardMaterial?(_e(Mt,pt),ft(Mt,pt),pt.isMeshPhysicalMaterial&&_t(Mt,pt,Ot)):pt.isMeshMatcapMaterial?(_e(Mt,pt),At(Mt,pt)):pt.isMeshDepthMaterial?_e(Mt,pt):pt.isMeshDistanceMaterial?(_e(Mt,pt),Tt(Mt,pt)):pt.isMeshNormalMaterial?_e(Mt,pt):pt.isLineBasicMaterial?(tt(Mt,pt),pt.isLineDashedMaterial&&rt(Mt,pt)):pt.isPointsMaterial?nt(Mt,pt,Pt,$t):pt.isSpriteMaterial?it(Mt,pt):pt.isShadowMaterial?(Mt.color.value.copy(pt.color),Mt.opacity.value=pt.opacity):pt.isShaderMaterial&&(pt.uniformsNeedUpdate=!1)}function _e(Mt,pt){Mt.opacity.value=pt.opacity,pt.color&&Mt.diffuse.value.copy(pt.color),pt.emissive&&Mt.emissive.value.copy(pt.emissive).multiplyScalar(pt.emissiveIntensity),pt.map&&(Mt.map.value=pt.map,_(pt.map,Mt.mapTransform)),pt.alphaMap&&(Mt.alphaMap.value=pt.alphaMap,_(pt.alphaMap,Mt.alphaMapTransform)),pt.bumpMap&&(Mt.bumpMap.value=pt.bumpMap,_(pt.bumpMap,Mt.bumpMapTransform),Mt.bumpScale.value=pt.bumpScale,pt.side===BackSide&&(Mt.bumpScale.value*=-1)),pt.normalMap&&(Mt.normalMap.value=pt.normalMap,_(pt.normalMap,Mt.normalMapTransform),Mt.normalScale.value.copy(pt.normalScale),pt.side===BackSide&&Mt.normalScale.value.negate()),pt.displacementMap&&(Mt.displacementMap.value=pt.displacementMap,_(pt.displacementMap,Mt.displacementMapTransform),Mt.displacementScale.value=pt.displacementScale,Mt.displacementBias.value=pt.displacementBias),pt.emissiveMap&&(Mt.emissiveMap.value=pt.emissiveMap,_(pt.emissiveMap,Mt.emissiveMapTransform)),pt.specularMap&&(Mt.specularMap.value=pt.specularMap,_(pt.specularMap,Mt.specularMapTransform)),pt.alphaTest>0&&(Mt.alphaTest.value=pt.alphaTest);const Pt=i.get(pt),$t=Pt.envMap,Ot=Pt.envMapRotation;$t&&(Mt.envMap.value=$t,_e1.copy(Ot),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,$t.isCubeTexture&&$t.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Mt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Mt.flipEnvMap.value=$t.isCubeTexture&&$t.isRenderTargetTexture===!1?-1:1,Mt.reflectivity.value=pt.reflectivity,Mt.ior.value=pt.ior,Mt.refractionRatio.value=pt.refractionRatio),pt.lightMap&&(Mt.lightMap.value=pt.lightMap,Mt.lightMapIntensity.value=pt.lightMapIntensity,_(pt.lightMap,Mt.lightMapTransform)),pt.aoMap&&(Mt.aoMap.value=pt.aoMap,Mt.aoMapIntensity.value=pt.aoMapIntensity,_(pt.aoMap,Mt.aoMapTransform))}function tt(Mt,pt){Mt.diffuse.value.copy(pt.color),Mt.opacity.value=pt.opacity,pt.map&&(Mt.map.value=pt.map,_(pt.map,Mt.mapTransform))}function rt(Mt,pt){Mt.dashSize.value=pt.dashSize,Mt.totalSize.value=pt.dashSize+pt.gapSize,Mt.scale.value=pt.scale}function nt(Mt,pt,Pt,$t){Mt.diffuse.value.copy(pt.color),Mt.opacity.value=pt.opacity,Mt.size.value=pt.size*Pt,Mt.scale.value=$t*.5,pt.map&&(Mt.map.value=pt.map,_(pt.map,Mt.uvTransform)),pt.alphaMap&&(Mt.alphaMap.value=pt.alphaMap,_(pt.alphaMap,Mt.alphaMapTransform)),pt.alphaTest>0&&(Mt.alphaTest.value=pt.alphaTest)}function it(Mt,pt){Mt.diffuse.value.copy(pt.color),Mt.opacity.value=pt.opacity,Mt.rotation.value=pt.rotation,pt.map&&(Mt.map.value=pt.map,_(pt.map,Mt.mapTransform)),pt.alphaMap&&(Mt.alphaMap.value=pt.alphaMap,_(pt.alphaMap,Mt.alphaMapTransform)),pt.alphaTest>0&&(Mt.alphaTest.value=pt.alphaTest)}function ot(Mt,pt){Mt.specular.value.copy(pt.specular),Mt.shininess.value=Math.max(pt.shininess,1e-4)}function lt(Mt,pt){pt.gradientMap&&(Mt.gradientMap.value=pt.gradientMap)}function ft(Mt,pt){Mt.metalness.value=pt.metalness,pt.metalnessMap&&(Mt.metalnessMap.value=pt.metalnessMap,_(pt.metalnessMap,Mt.metalnessMapTransform)),Mt.roughness.value=pt.roughness,pt.roughnessMap&&(Mt.roughnessMap.value=pt.roughnessMap,_(pt.roughnessMap,Mt.roughnessMapTransform)),pt.envMap&&(Mt.envMapIntensity.value=pt.envMapIntensity)}function _t(Mt,pt,Pt){Mt.ior.value=pt.ior,pt.sheen>0&&(Mt.sheenColor.value.copy(pt.sheenColor).multiplyScalar(pt.sheen),Mt.sheenRoughness.value=pt.sheenRoughness,pt.sheenColorMap&&(Mt.sheenColorMap.value=pt.sheenColorMap,_(pt.sheenColorMap,Mt.sheenColorMapTransform)),pt.sheenRoughnessMap&&(Mt.sheenRoughnessMap.value=pt.sheenRoughnessMap,_(pt.sheenRoughnessMap,Mt.sheenRoughnessMapTransform))),pt.clearcoat>0&&(Mt.clearcoat.value=pt.clearcoat,Mt.clearcoatRoughness.value=pt.clearcoatRoughness,pt.clearcoatMap&&(Mt.clearcoatMap.value=pt.clearcoatMap,_(pt.clearcoatMap,Mt.clearcoatMapTransform)),pt.clearcoatRoughnessMap&&(Mt.clearcoatRoughnessMap.value=pt.clearcoatRoughnessMap,_(pt.clearcoatRoughnessMap,Mt.clearcoatRoughnessMapTransform)),pt.clearcoatNormalMap&&(Mt.clearcoatNormalMap.value=pt.clearcoatNormalMap,_(pt.clearcoatNormalMap,Mt.clearcoatNormalMapTransform),Mt.clearcoatNormalScale.value.copy(pt.clearcoatNormalScale),pt.side===BackSide&&Mt.clearcoatNormalScale.value.negate())),pt.dispersion>0&&(Mt.dispersion.value=pt.dispersion),pt.iridescence>0&&(Mt.iridescence.value=pt.iridescence,Mt.iridescenceIOR.value=pt.iridescenceIOR,Mt.iridescenceThicknessMinimum.value=pt.iridescenceThicknessRange[0],Mt.iridescenceThicknessMaximum.value=pt.iridescenceThicknessRange[1],pt.iridescenceMap&&(Mt.iridescenceMap.value=pt.iridescenceMap,_(pt.iridescenceMap,Mt.iridescenceMapTransform)),pt.iridescenceThicknessMap&&(Mt.iridescenceThicknessMap.value=pt.iridescenceThicknessMap,_(pt.iridescenceThicknessMap,Mt.iridescenceThicknessMapTransform))),pt.transmission>0&&(Mt.transmission.value=pt.transmission,Mt.transmissionSamplerMap.value=Pt.texture,Mt.transmissionSamplerSize.value.set(Pt.width,Pt.height),pt.transmissionMap&&(Mt.transmissionMap.value=pt.transmissionMap,_(pt.transmissionMap,Mt.transmissionMapTransform)),Mt.thickness.value=pt.thickness,pt.thicknessMap&&(Mt.thicknessMap.value=pt.thicknessMap,_(pt.thicknessMap,Mt.thicknessMapTransform)),Mt.attenuationDistance.value=pt.attenuationDistance,Mt.attenuationColor.value.copy(pt.attenuationColor)),pt.anisotropy>0&&(Mt.anisotropyVector.value.set(pt.anisotropy*Math.cos(pt.anisotropyRotation),pt.anisotropy*Math.sin(pt.anisotropyRotation)),pt.anisotropyMap&&(Mt.anisotropyMap.value=pt.anisotropyMap,_(pt.anisotropyMap,Mt.anisotropyMapTransform))),Mt.specularIntensity.value=pt.specularIntensity,Mt.specularColor.value.copy(pt.specularColor),pt.specularColorMap&&(Mt.specularColorMap.value=pt.specularColorMap,_(pt.specularColorMap,Mt.specularColorMapTransform)),pt.specularIntensityMap&&(Mt.specularIntensityMap.value=pt.specularIntensityMap,_(pt.specularIntensityMap,Mt.specularIntensityMapTransform))}function At(Mt,pt){pt.matcap&&(Mt.matcap.value=pt.matcap)}function Tt(Mt,pt){const Pt=i.get(pt).light;Mt.referencePosition.value.setFromMatrixPosition(Pt.matrixWorld),Mt.nearDistance.value=Pt.shadow.camera.near,Mt.farDistance.value=Pt.shadow.camera.far}return{refreshFogUniforms:$,refreshMaterialUniforms:j}}function WebGLUniformsGroups(o,i,_,$){let j={},_e={},tt=[];const rt=o.getParameter(o.MAX_UNIFORM_BUFFER_BINDINGS);function nt(Pt,$t){const Ot=$t.program;$.uniformBlockBinding(Pt,Ot)}function it(Pt,$t){let Ot=j[Pt.id];Ot===void 0&&(At(Pt),Ot=ot(Pt),j[Pt.id]=Ot,Pt.addEventListener("dispose",Mt));const It=$t.program;$.updateUBOMapping(Pt,It);const Dt=i.render.frame;_e[Pt.id]!==Dt&&(ft(Pt),_e[Pt.id]=Dt)}function ot(Pt){const $t=lt();Pt.__bindingPointIndex=$t;const Ot=o.createBuffer(),It=Pt.__size,Dt=Pt.usage;return o.bindBuffer(o.UNIFORM_BUFFER,Ot),o.bufferData(o.UNIFORM_BUFFER,It,Dt),o.bindBuffer(o.UNIFORM_BUFFER,null),o.bindBufferBase(o.UNIFORM_BUFFER,$t,Ot),Ot}function lt(){for(let Pt=0;Pt<rt;Pt++)if(tt.indexOf(Pt)===-1)return tt.push(Pt),Pt;return error("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ft(Pt){const $t=j[Pt.id],Ot=Pt.uniforms,It=Pt.__cache;o.bindBuffer(o.UNIFORM_BUFFER,$t);for(let Dt=0,Lt=Ot.length;Dt<Lt;Dt++){const Bt=Array.isArray(Ot[Dt])?Ot[Dt]:[Ot[Dt]];for(let jt=0,Ut=Bt.length;jt<Ut;jt++){const Gt=Bt[jt];if(_t(Gt,Dt,jt,It)===!0){const qt=Gt.__offset,Jt=Array.isArray(Gt.value)?Gt.value:[Gt.value];let er=0;for(let Kt=0;Kt<Jt.length;Kt++){const zt=Jt[Kt],Ht=Tt(zt);typeof zt=="number"||typeof zt=="boolean"?(Gt.__data[0]=zt,o.bufferSubData(o.UNIFORM_BUFFER,qt+er,Gt.__data)):zt.isMatrix3?(Gt.__data[0]=zt.elements[0],Gt.__data[1]=zt.elements[1],Gt.__data[2]=zt.elements[2],Gt.__data[3]=0,Gt.__data[4]=zt.elements[3],Gt.__data[5]=zt.elements[4],Gt.__data[6]=zt.elements[5],Gt.__data[7]=0,Gt.__data[8]=zt.elements[6],Gt.__data[9]=zt.elements[7],Gt.__data[10]=zt.elements[8],Gt.__data[11]=0):(zt.toArray(Gt.__data,er),er+=Ht.storage/Float32Array.BYTES_PER_ELEMENT)}o.bufferSubData(o.UNIFORM_BUFFER,qt,Gt.__data)}}}o.bindBuffer(o.UNIFORM_BUFFER,null)}function _t(Pt,$t,Ot,It){const Dt=Pt.value,Lt=$t+"_"+Ot;if(It[Lt]===void 0)return typeof Dt=="number"||typeof Dt=="boolean"?It[Lt]=Dt:It[Lt]=Dt.clone(),!0;{const Bt=It[Lt];if(typeof Dt=="number"||typeof Dt=="boolean"){if(Bt!==Dt)return It[Lt]=Dt,!0}else if(Bt.equals(Dt)===!1)return Bt.copy(Dt),!0}return!1}function At(Pt){const $t=Pt.uniforms;let Ot=0;const It=16;for(let Lt=0,Bt=$t.length;Lt<Bt;Lt++){const jt=Array.isArray($t[Lt])?$t[Lt]:[$t[Lt]];for(let Ut=0,Gt=jt.length;Ut<Gt;Ut++){const qt=jt[Ut],Jt=Array.isArray(qt.value)?qt.value:[qt.value];for(let er=0,Kt=Jt.length;er<Kt;er++){const zt=Jt[er],Ht=Tt(zt),Ft=Ot%It,Vt=Ft%Ht.boundary,Yt=Ft+Vt;Ot+=Vt,Yt!==0&&It-Yt<Ht.storage&&(Ot+=It-Yt),qt.__data=new Float32Array(Ht.storage/Float32Array.BYTES_PER_ELEMENT),qt.__offset=Ot,Ot+=Ht.storage}}}const Dt=Ot%It;return Dt>0&&(Ot+=It-Dt),Pt.__size=Ot,Pt.__cache={},this}function Tt(Pt){const $t={boundary:0,storage:0};return typeof Pt=="number"||typeof Pt=="boolean"?($t.boundary=4,$t.storage=4):Pt.isVector2?($t.boundary=8,$t.storage=8):Pt.isVector3||Pt.isColor?($t.boundary=16,$t.storage=12):Pt.isVector4?($t.boundary=16,$t.storage=16):Pt.isMatrix3?($t.boundary=48,$t.storage=48):Pt.isMatrix4?($t.boundary=64,$t.storage=64):Pt.isTexture?warn$2("WebGLRenderer: Texture samplers can not be part of an uniforms group."):warn$2("WebGLRenderer: Unsupported uniform value type.",Pt),$t}function Mt(Pt){const $t=Pt.target;$t.removeEventListener("dispose",Mt);const Ot=tt.indexOf($t.__bindingPointIndex);tt.splice(Ot,1),o.deleteBuffer(j[$t.id]),delete j[$t.id],delete _e[$t.id]}function pt(){for(const Pt in j)o.deleteBuffer(j[Pt]);tt=[],j={},_e={}}return{bind:nt,update:it,dispose:pt}}const DATA=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let lut=null;function getDFGLUT(){return lut===null&&(lut=new DataTexture(DATA,32,32,RGFormat,HalfFloatType),lut.minFilter=LinearFilter,lut.magFilter=LinearFilter,lut.wrapS=ClampToEdgeWrapping,lut.wrapT=ClampToEdgeWrapping,lut.generateMipmaps=!1,lut.needsUpdate=!0),lut}class WebGLRenderer{constructor(i={}){const{canvas:_=createCanvasElement(),context:$=null,depth:j=!0,stencil:_e=!1,alpha:tt=!1,antialias:rt=!1,premultipliedAlpha:nt=!0,preserveDrawingBuffer:it=!1,powerPreference:ot="default",failIfMajorPerformanceCaveat:lt=!1,reversedDepthBuffer:ft=!1}=i;this.isWebGLRenderer=!0;let _t;if($!==null){if(typeof WebGLRenderingContext<"u"&&$ instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_t=$.getContextAttributes().alpha}else _t=tt;const At=new Set([RGBAIntegerFormat,RGIntegerFormat,RedIntegerFormat]),Tt=new Set([UnsignedByteType,UnsignedIntType,UnsignedShortType,UnsignedInt248Type,UnsignedShort4444Type,UnsignedShort5551Type]),Mt=new Uint32Array(4),pt=new Int32Array(4);let Pt=null,$t=null;const Ot=[],It=[];this.domElement=_,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Dt=this;let Lt=!1;this._outputColorSpace=SRGBColorSpace;let Bt=0,jt=0,Ut=null,Gt=-1,qt=null;const Jt=new Vector4,er=new Vector4;let Kt=null;const zt=new Color$1(0);let Ht=0,Ft=_.width,Vt=_.height,Yt=1,Zt=null,nr=null;const cr=new Vector4(0,0,Ft,Vt),vr=new Vector4(0,0,Ft,Vt);let Tr=!1;const ar=new Frustum;let ur=!1,Sr=!1;const gr=new Matrix4,xr=new Vector3,Er=new Vector4,dr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ar=!1;function mr(){return Ut===null?Yt:1}let tr=$;function Mr(Qt,or){return _.getContext(Qt,or)}try{const Qt={alpha:!0,depth:j,stencil:_e,antialias:rt,premultipliedAlpha:nt,preserveDrawingBuffer:it,powerPreference:ot,failIfMajorPerformanceCaveat:lt};if("setAttribute"in _&&_.setAttribute("data-engine",`three.js r${REVISION}`),_.addEventListener("webglcontextlost",Pr,!1),_.addEventListener("webglcontextrestored",br,!1),_.addEventListener("webglcontextcreationerror",Ur,!1),tr===null){const or="webgl2";if(tr=Mr(or,Qt),tr===null)throw Mr(or)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Qt){throw Qt("WebGLRenderer: "+Qt.message),Qt}let Lr,Wr,Cr,an,Nr,Gr,rr,Xt,lr,yr,_r,pr,Hr,Or,Kr,qr,wr,Rr,Qr,Zr,jr,rn,ir,Fr;function Ir(){Lr=new WebGLExtensions(tr),Lr.init(),rn=new WebGLUtils(tr,Lr),Wr=new WebGLCapabilities(tr,Lr,i,rn),Cr=new WebGLState(tr,Lr),Wr.reversedDepthBuffer&&ft&&Cr.buffers.depth.setReversed(!0),an=new WebGLInfo(tr),Nr=new WebGLProperties,Gr=new WebGLTextures(tr,Lr,Cr,Nr,Wr,rn,an),rr=new WebGLCubeMaps(Dt),Xt=new WebGLCubeUVMaps(Dt),lr=new WebGLAttributes(tr),ir=new WebGLBindingStates(tr,lr),yr=new WebGLGeometries(tr,lr,an,ir),_r=new WebGLObjects(tr,yr,lr,an),Qr=new WebGLMorphtargets(tr,Wr,Gr),qr=new WebGLClipping(Nr),pr=new WebGLPrograms(Dt,rr,Xt,Lr,Wr,ir,qr),Hr=new WebGLMaterials(Dt,Nr),Or=new WebGLRenderLists,Kr=new WebGLRenderStates(Lr),Rr=new WebGLBackground(Dt,rr,Xt,Cr,_r,_t,nt),wr=new WebGLShadowMap(Dt,_r,Wr),Fr=new WebGLUniformsGroups(tr,an,Wr,Cr),Zr=new WebGLBufferRenderer(tr,Lr,an),jr=new WebGLIndexedBufferRenderer(tr,Lr,an),an.programs=pr.programs,Dt.capabilities=Wr,Dt.extensions=Lr,Dt.properties=Nr,Dt.renderLists=Or,Dt.shadowMap=wr,Dt.state=Cr,Dt.info=an}Ir();const Dr=new WebXRManager(Dt,tr);this.xr=Dr,this.getContext=function(){return tr},this.getContextAttributes=function(){return tr.getContextAttributes()},this.forceContextLoss=function(){const Qt=Lr.get("WEBGL_lose_context");Qt&&Qt.loseContext()},this.forceContextRestore=function(){const Qt=Lr.get("WEBGL_lose_context");Qt&&Qt.restoreContext()},this.getPixelRatio=function(){return Yt},this.setPixelRatio=function(Qt){Qt!==void 0&&(Yt=Qt,this.setSize(Ft,Vt,!1))},this.getSize=function(Qt){return Qt.set(Ft,Vt)},this.setSize=function(Qt,or,fr=!0){if(Dr.isPresenting){warn$2("WebGLRenderer: Can't change size while VR device is presenting.");return}Ft=Qt,Vt=or,_.width=Math.floor(Qt*Yt),_.height=Math.floor(or*Yt),fr===!0&&(_.style.width=Qt+"px",_.style.height=or+"px"),this.setViewport(0,0,Qt,or)},this.getDrawingBufferSize=function(Qt){return Qt.set(Ft*Yt,Vt*Yt).floor()},this.setDrawingBufferSize=function(Qt,or,fr){Ft=Qt,Vt=or,Yt=fr,_.width=Math.floor(Qt*fr),_.height=Math.floor(or*fr),this.setViewport(0,0,Qt,or)},this.getCurrentViewport=function(Qt){return Qt.copy(Jt)},this.getViewport=function(Qt){return Qt.copy(cr)},this.setViewport=function(Qt,or,fr,hr){Qt.isVector4?cr.set(Qt.x,Qt.y,Qt.z,Qt.w):cr.set(Qt,or,fr,hr),Cr.viewport(Jt.copy(cr).multiplyScalar(Yt).round())},this.getScissor=function(Qt){return Qt.copy(vr)},this.setScissor=function(Qt,or,fr,hr){Qt.isVector4?vr.set(Qt.x,Qt.y,Qt.z,Qt.w):vr.set(Qt,or,fr,hr),Cr.scissor(er.copy(vr).multiplyScalar(Yt).round())},this.getScissorTest=function(){return Tr},this.setScissorTest=function(Qt){Cr.setScissorTest(Tr=Qt)},this.setOpaqueSort=function(Qt){Zt=Qt},this.setTransparentSort=function(Qt){nr=Qt},this.getClearColor=function(Qt){return Qt.copy(Rr.getClearColor())},this.setClearColor=function(){Rr.setClearColor(...arguments)},this.getClearAlpha=function(){return Rr.getClearAlpha()},this.setClearAlpha=function(){Rr.setClearAlpha(...arguments)},this.clear=function(Qt=!0,or=!0,fr=!0){let hr=0;if(Qt){let sr=!1;if(Ut!==null){const $r=Ut.texture.format;sr=At.has($r)}if(sr){const $r=Ut.texture.type,Br=Tt.has($r),zr=Rr.getClearColor(),Vr=Rr.getClearAlpha(),Jr=zr.r,tn=zr.g,Xr=zr.b;Br?(Mt[0]=Jr,Mt[1]=tn,Mt[2]=Xr,Mt[3]=Vr,tr.clearBufferuiv(tr.COLOR,0,Mt)):(pt[0]=Jr,pt[1]=tn,pt[2]=Xr,pt[3]=Vr,tr.clearBufferiv(tr.COLOR,0,pt))}else hr|=tr.COLOR_BUFFER_BIT}or&&(hr|=tr.DEPTH_BUFFER_BIT),fr&&(hr|=tr.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),tr.clear(hr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){_.removeEventListener("webglcontextlost",Pr,!1),_.removeEventListener("webglcontextrestored",br,!1),_.removeEventListener("webglcontextcreationerror",Ur,!1),Rr.dispose(),Or.dispose(),Kr.dispose(),Nr.dispose(),rr.dispose(),Xt.dispose(),_r.dispose(),ir.dispose(),Fr.dispose(),pr.dispose(),Dr.dispose(),Dr.removeEventListener("sessionstart",In),Dr.removeEventListener("sessionend",kn),wn.stop()};function Pr(Qt){Qt.preventDefault(),log$1("WebGLRenderer: Context Lost."),Lt=!0}function br(){log$1("WebGLRenderer: Context Restored."),Lt=!1;const Qt=an.autoReset,or=wr.enabled,fr=wr.autoUpdate,hr=wr.needsUpdate,sr=wr.type;Ir(),an.autoReset=Qt,wr.enabled=or,wr.autoUpdate=fr,wr.needsUpdate=hr,wr.type=sr}function Ur(Qt){error("WebGLRenderer: A WebGL context could not be created. Reason: ",Qt.statusMessage)}function nn(Qt){const or=Qt.target;or.removeEventListener("dispose",nn),hn(or)}function hn(Qt){cn(Qt),Nr.remove(Qt)}function cn(Qt){const or=Nr.get(Qt).programs;or!==void 0&&(or.forEach(function(fr){pr.releaseProgram(fr)}),Qt.isShaderMaterial&&pr.releaseShaderCache(Qt))}this.renderBufferDirect=function(Qt,or,fr,hr,sr,$r){or===null&&(or=dr);const Br=sr.isMesh&&sr.matrixWorld.determinant()<0,zr=Vn(Qt,or,fr,hr,sr);Cr.setMaterial(hr,Br);let Vr=fr.index,Jr=1;if(hr.wireframe===!0){if(Vr=yr.getWireframeAttribute(fr),Vr===void 0)return;Jr=2}const tn=fr.drawRange,Xr=fr.attributes.position;let on=tn.start*Jr,un=(tn.start+tn.count)*Jr;$r!==null&&(on=Math.max(on,$r.start*Jr),un=Math.min(un,($r.start+$r.count)*Jr)),Vr!==null?(on=Math.max(on,0),un=Math.min(un,Vr.count)):Xr!=null&&(on=Math.max(on,0),un=Math.min(un,Xr.count));const mn=un-on;if(mn<0||mn===1/0)return;ir.setup(sr,hr,zr,fr,Vr);let gn,fn=Zr;if(Vr!==null&&(gn=lr.get(Vr),fn=jr,fn.setIndex(gn)),sr.isMesh)hr.wireframe===!0?(Cr.setLineWidth(hr.wireframeLinewidth*mr()),fn.setMode(tr.LINES)):fn.setMode(tr.TRIANGLES);else if(sr.isLine){let Yr=hr.linewidth;Yr===void 0&&(Yr=1),Cr.setLineWidth(Yr*mr()),sr.isLineSegments?fn.setMode(tr.LINES):sr.isLineLoop?fn.setMode(tr.LINE_LOOP):fn.setMode(tr.LINE_STRIP)}else sr.isPoints?fn.setMode(tr.POINTS):sr.isSprite&&fn.setMode(tr.TRIANGLES);if(sr.isBatchedMesh)if(sr._multiDrawInstances!==null)warnOnce$1("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),fn.renderMultiDrawInstances(sr._multiDrawStarts,sr._multiDrawCounts,sr._multiDrawCount,sr._multiDrawInstances);else if(Lr.get("WEBGL_multi_draw"))fn.renderMultiDraw(sr._multiDrawStarts,sr._multiDrawCounts,sr._multiDrawCount);else{const Yr=sr._multiDrawStarts,dn=sr._multiDrawCounts,sn=sr._multiDrawCount,_n=Vr?lr.get(Vr).bytesPerElement:1,Pn=Nr.get(hr).currentProgram.getUniforms();for(let bn=0;bn<sn;bn++)Pn.setValue(tr,"_gl_DrawID",bn),fn.render(Yr[bn]/_n,dn[bn])}else if(sr.isInstancedMesh)fn.renderInstances(on,mn,sr.count);else if(fr.isInstancedBufferGeometry){const Yr=fr._maxInstanceCount!==void 0?fr._maxInstanceCount:1/0,dn=Math.min(fr.instanceCount,Yr);fn.renderInstances(on,mn,dn)}else fn.render(on,mn)};function Tn(Qt,or,fr){Qt.transparent===!0&&Qt.side===DoubleSide&&Qt.forceSinglePass===!1?(Qt.side=BackSide,Qt.needsUpdate=!0,$n(Qt,or,fr),Qt.side=FrontSide,Qt.needsUpdate=!0,$n(Qt,or,fr),Qt.side=DoubleSide):$n(Qt,or,fr)}this.compile=function(Qt,or,fr=null){fr===null&&(fr=Qt),$t=Kr.get(fr),$t.init(or),It.push($t),fr.traverseVisible(function(sr){sr.isLight&&sr.layers.test(or.layers)&&($t.pushLight(sr),sr.castShadow&&$t.pushShadow(sr))}),Qt!==fr&&Qt.traverseVisible(function(sr){sr.isLight&&sr.layers.test(or.layers)&&($t.pushLight(sr),sr.castShadow&&$t.pushShadow(sr))}),$t.setupLights();const hr=new Set;return Qt.traverse(function(sr){if(!(sr.isMesh||sr.isPoints||sr.isLine||sr.isSprite))return;const $r=sr.material;if($r)if(Array.isArray($r))for(let Br=0;Br<$r.length;Br++){const zr=$r[Br];Tn(zr,fr,sr),hr.add(zr)}else Tn($r,fr,sr),hr.add($r)}),$t=It.pop(),hr},this.compileAsync=function(Qt,or,fr=null){const hr=this.compile(Qt,or,fr);return new Promise(sr=>{function $r(){if(hr.forEach(function(Br){Nr.get(Br).currentProgram.isReady()&&hr.delete(Br)}),hr.size===0){sr(Qt);return}setTimeout($r,10)}Lr.get("KHR_parallel_shader_compile")!==null?$r():setTimeout($r,10)})};let En=null;function jn(Qt){En&&En(Qt)}function In(){wn.stop()}function kn(){wn.start()}const wn=new WebGLAnimation;wn.setAnimationLoop(jn),typeof self<"u"&&wn.setContext(self),this.setAnimationLoop=function(Qt){En=Qt,Dr.setAnimationLoop(Qt),Qt===null?wn.stop():wn.start()},Dr.addEventListener("sessionstart",In),Dr.addEventListener("sessionend",kn),this.render=function(Qt,or){if(or!==void 0&&or.isCamera!==!0){error("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Lt===!0)return;if(Qt.matrixWorldAutoUpdate===!0&&Qt.updateMatrixWorld(),or.parent===null&&or.matrixWorldAutoUpdate===!0&&or.updateMatrixWorld(),Dr.enabled===!0&&Dr.isPresenting===!0&&(Dr.cameraAutoUpdate===!0&&Dr.updateCamera(or),or=Dr.getCamera()),Qt.isScene===!0&&Qt.onBeforeRender(Dt,Qt,or,Ut),$t=Kr.get(Qt,It.length),$t.init(or),It.push($t),gr.multiplyMatrices(or.projectionMatrix,or.matrixWorldInverse),ar.setFromProjectionMatrix(gr,WebGLCoordinateSystem,or.reversedDepth),Sr=this.localClippingEnabled,ur=qr.init(this.clippingPlanes,Sr),Pt=Or.get(Qt,Ot.length),Pt.init(),Ot.push(Pt),Dr.enabled===!0&&Dr.isPresenting===!0){const $r=Dt.xr.getDepthSensingMesh();$r!==null&&Rn($r,or,-1/0,Dt.sortObjects)}Rn(Qt,or,0,Dt.sortObjects),Pt.finish(),Dt.sortObjects===!0&&Pt.sort(Zt,nr),Ar=Dr.enabled===!1||Dr.isPresenting===!1||Dr.hasDepthSensing()===!1,Ar&&Rr.addToRenderList(Pt,Qt),this.info.render.frame++,ur===!0&&qr.beginShadows();const fr=$t.state.shadowsArray;wr.render(fr,Qt,or),ur===!0&&qr.endShadows(),this.info.autoReset===!0&&this.info.reset();const hr=Pt.opaque,sr=Pt.transmissive;if($t.setupLights(),or.isArrayCamera){const $r=or.cameras;if(sr.length>0)for(let Br=0,zr=$r.length;Br<zr;Br++){const Vr=$r[Br];Ln(hr,sr,Qt,Vr)}Ar&&Rr.render(Qt);for(let Br=0,zr=$r.length;Br<zr;Br++){const Vr=$r[Br];Dn(Pt,Qt,Vr,Vr.viewport)}}else sr.length>0&&Ln(hr,sr,Qt,or),Ar&&Rr.render(Qt),Dn(Pt,Qt,or);Ut!==null&&jt===0&&(Gr.updateMultisampleRenderTarget(Ut),Gr.updateRenderTargetMipmap(Ut)),Qt.isScene===!0&&Qt.onAfterRender(Dt,Qt,or),ir.resetDefaultState(),Gt=-1,qt=null,It.pop(),It.length>0?($t=It[It.length-1],ur===!0&&qr.setGlobalState(Dt.clippingPlanes,$t.state.camera)):$t=null,Ot.pop(),Ot.length>0?Pt=Ot[Ot.length-1]:Pt=null};function Rn(Qt,or,fr,hr){if(Qt.visible===!1)return;if(Qt.layers.test(or.layers)){if(Qt.isGroup)fr=Qt.renderOrder;else if(Qt.isLOD)Qt.autoUpdate===!0&&Qt.update(or);else if(Qt.isLight)$t.pushLight(Qt),Qt.castShadow&&$t.pushShadow(Qt);else if(Qt.isSprite){if(!Qt.frustumCulled||ar.intersectsSprite(Qt)){hr&&Er.setFromMatrixPosition(Qt.matrixWorld).applyMatrix4(gr);const Br=_r.update(Qt),zr=Qt.material;zr.visible&&Pt.push(Qt,Br,zr,fr,Er.z,null)}}else if((Qt.isMesh||Qt.isLine||Qt.isPoints)&&(!Qt.frustumCulled||ar.intersectsObject(Qt))){const Br=_r.update(Qt),zr=Qt.material;if(hr&&(Qt.boundingSphere!==void 0?(Qt.boundingSphere===null&&Qt.computeBoundingSphere(),Er.copy(Qt.boundingSphere.center)):(Br.boundingSphere===null&&Br.computeBoundingSphere(),Er.copy(Br.boundingSphere.center)),Er.applyMatrix4(Qt.matrixWorld).applyMatrix4(gr)),Array.isArray(zr)){const Vr=Br.groups;for(let Jr=0,tn=Vr.length;Jr<tn;Jr++){const Xr=Vr[Jr],on=zr[Xr.materialIndex];on&&on.visible&&Pt.push(Qt,Br,on,fr,Er.z,Xr)}}else zr.visible&&Pt.push(Qt,Br,zr,fr,Er.z,null)}}const $r=Qt.children;for(let Br=0,zr=$r.length;Br<zr;Br++)Rn($r[Br],or,fr,hr)}function Dn(Qt,or,fr,hr){const{opaque:sr,transmissive:$r,transparent:Br}=Qt;$t.setupLightsView(fr),ur===!0&&qr.setGlobalState(Dt.clippingPlanes,fr),hr&&Cr.viewport(Jt.copy(hr)),sr.length>0&&Cn(sr,or,fr),$r.length>0&&Cn($r,or,fr),Br.length>0&&Cn(Br,or,fr),Cr.buffers.depth.setTest(!0),Cr.buffers.depth.setMask(!0),Cr.buffers.color.setMask(!0),Cr.setPolygonOffset(!1)}function Ln(Qt,or,fr,hr){if((fr.isScene===!0?fr.overrideMaterial:null)!==null)return;$t.state.transmissionRenderTarget[hr.id]===void 0&&($t.state.transmissionRenderTarget[hr.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Lr.has("EXT_color_buffer_half_float")||Lr.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:_e,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const $r=$t.state.transmissionRenderTarget[hr.id],Br=hr.viewport||Jt;$r.setSize(Br.z*Dt.transmissionResolutionScale,Br.w*Dt.transmissionResolutionScale);const zr=Dt.getRenderTarget(),Vr=Dt.getActiveCubeFace(),Jr=Dt.getActiveMipmapLevel();Dt.setRenderTarget($r),Dt.getClearColor(zt),Ht=Dt.getClearAlpha(),Ht<1&&Dt.setClearColor(16777215,.5),Dt.clear(),Ar&&Rr.render(fr);const tn=Dt.toneMapping;Dt.toneMapping=NoToneMapping;const Xr=hr.viewport;if(hr.viewport!==void 0&&(hr.viewport=void 0),$t.setupLightsView(hr),ur===!0&&qr.setGlobalState(Dt.clippingPlanes,hr),Cn(Qt,fr,hr),Gr.updateMultisampleRenderTarget($r),Gr.updateRenderTargetMipmap($r),Lr.has("WEBGL_multisampled_render_to_texture")===!1){let on=!1;for(let un=0,mn=or.length;un<mn;un++){const gn=or[un],{object:fn,geometry:Yr,material:dn,group:sn}=gn;if(dn.side===DoubleSide&&fn.layers.test(hr.layers)){const _n=dn.side;dn.side=BackSide,dn.needsUpdate=!0,Nn(fn,fr,hr,Yr,dn,sn),dn.side=_n,dn.needsUpdate=!0,on=!0}}on===!0&&(Gr.updateMultisampleRenderTarget($r),Gr.updateRenderTargetMipmap($r))}Dt.setRenderTarget(zr,Vr,Jr),Dt.setClearColor(zt,Ht),Xr!==void 0&&(hr.viewport=Xr),Dt.toneMapping=tn}function Cn(Qt,or,fr){const hr=or.isScene===!0?or.overrideMaterial:null;for(let sr=0,$r=Qt.length;sr<$r;sr++){const Br=Qt[sr],{object:zr,geometry:Vr,group:Jr}=Br;let tn=Br.material;tn.allowOverride===!0&&hr!==null&&(tn=hr),zr.layers.test(fr.layers)&&Nn(zr,or,fr,Vr,tn,Jr)}}function Nn(Qt,or,fr,hr,sr,$r){Qt.onBeforeRender(Dt,or,fr,hr,sr,$r),Qt.modelViewMatrix.multiplyMatrices(fr.matrixWorldInverse,Qt.matrixWorld),Qt.normalMatrix.getNormalMatrix(Qt.modelViewMatrix),sr.onBeforeRender(Dt,or,fr,hr,Qt,$r),sr.transparent===!0&&sr.side===DoubleSide&&sr.forceSinglePass===!1?(sr.side=BackSide,sr.needsUpdate=!0,Dt.renderBufferDirect(fr,or,hr,sr,Qt,$r),sr.side=FrontSide,sr.needsUpdate=!0,Dt.renderBufferDirect(fr,or,hr,sr,Qt,$r),sr.side=DoubleSide):Dt.renderBufferDirect(fr,or,hr,sr,Qt,$r),Qt.onAfterRender(Dt,or,fr,hr,sr,$r)}function $n(Qt,or,fr){or.isScene!==!0&&(or=dr);const hr=Nr.get(Qt),sr=$t.state.lights,$r=$t.state.shadowsArray,Br=sr.state.version,zr=pr.getParameters(Qt,sr.state,$r,or,fr),Vr=pr.getProgramCacheKey(zr);let Jr=hr.programs;hr.environment=Qt.isMeshStandardMaterial?or.environment:null,hr.fog=or.fog,hr.envMap=(Qt.isMeshStandardMaterial?Xt:rr).get(Qt.envMap||hr.environment),hr.envMapRotation=hr.environment!==null&&Qt.envMap===null?or.environmentRotation:Qt.envMapRotation,Jr===void 0&&(Qt.addEventListener("dispose",nn),Jr=new Map,hr.programs=Jr);let tn=Jr.get(Vr);if(tn!==void 0){if(hr.currentProgram===tn&&hr.lightsStateVersion===Br)return Bn(Qt,zr),tn}else zr.uniforms=pr.getUniforms(Qt),Qt.onBeforeCompile(zr,Dt),tn=pr.acquireProgram(zr,Vr),Jr.set(Vr,tn),hr.uniforms=zr.uniforms;const Xr=hr.uniforms;return(!Qt.isShaderMaterial&&!Qt.isRawShaderMaterial||Qt.clipping===!0)&&(Xr.clippingPlanes=qr.uniform),Bn(Qt,zr),hr.needsLights=zn(Qt),hr.lightsStateVersion=Br,hr.needsLights&&(Xr.ambientLightColor.value=sr.state.ambient,Xr.lightProbe.value=sr.state.probe,Xr.directionalLights.value=sr.state.directional,Xr.directionalLightShadows.value=sr.state.directionalShadow,Xr.spotLights.value=sr.state.spot,Xr.spotLightShadows.value=sr.state.spotShadow,Xr.rectAreaLights.value=sr.state.rectArea,Xr.ltc_1.value=sr.state.rectAreaLTC1,Xr.ltc_2.value=sr.state.rectAreaLTC2,Xr.pointLights.value=sr.state.point,Xr.pointLightShadows.value=sr.state.pointShadow,Xr.hemisphereLights.value=sr.state.hemi,Xr.directionalShadowMap.value=sr.state.directionalShadowMap,Xr.directionalShadowMatrix.value=sr.state.directionalShadowMatrix,Xr.spotShadowMap.value=sr.state.spotShadowMap,Xr.spotLightMatrix.value=sr.state.spotLightMatrix,Xr.spotLightMap.value=sr.state.spotLightMap,Xr.pointShadowMap.value=sr.state.pointShadowMap,Xr.pointShadowMatrix.value=sr.state.pointShadowMatrix),hr.currentProgram=tn,hr.uniformsList=null,tn}function Fn(Qt){if(Qt.uniformsList===null){const or=Qt.currentProgram.getUniforms();Qt.uniformsList=WebGLUniforms.seqWithValue(or.seq,Qt.uniforms)}return Qt.uniformsList}function Bn(Qt,or){const fr=Nr.get(Qt);fr.outputColorSpace=or.outputColorSpace,fr.batching=or.batching,fr.batchingColor=or.batchingColor,fr.instancing=or.instancing,fr.instancingColor=or.instancingColor,fr.instancingMorph=or.instancingMorph,fr.skinning=or.skinning,fr.morphTargets=or.morphTargets,fr.morphNormals=or.morphNormals,fr.morphColors=or.morphColors,fr.morphTargetsCount=or.morphTargetsCount,fr.numClippingPlanes=or.numClippingPlanes,fr.numIntersection=or.numClipIntersection,fr.vertexAlphas=or.vertexAlphas,fr.vertexTangents=or.vertexTangents,fr.toneMapping=or.toneMapping}function Vn(Qt,or,fr,hr,sr){or.isScene!==!0&&(or=dr),Gr.resetTextureUnits();const $r=or.fog,Br=hr.isMeshStandardMaterial?or.environment:null,zr=Ut===null?Dt.outputColorSpace:Ut.isXRRenderTarget===!0?Ut.texture.colorSpace:LinearSRGBColorSpace,Vr=(hr.isMeshStandardMaterial?Xt:rr).get(hr.envMap||Br),Jr=hr.vertexColors===!0&&!!fr.attributes.color&&fr.attributes.color.itemSize===4,tn=!!fr.attributes.tangent&&(!!hr.normalMap||hr.anisotropy>0),Xr=!!fr.morphAttributes.position,on=!!fr.morphAttributes.normal,un=!!fr.morphAttributes.color;let mn=NoToneMapping;hr.toneMapped&&(Ut===null||Ut.isXRRenderTarget===!0)&&(mn=Dt.toneMapping);const gn=fr.morphAttributes.position||fr.morphAttributes.normal||fr.morphAttributes.color,fn=gn!==void 0?gn.length:0,Yr=Nr.get(hr),dn=$t.state.lights;if(ur===!0&&(Sr===!0||Qt!==qt)){const vn=Qt===qt&&hr.id===Gt;qr.setState(hr,Qt,vn)}let sn=!1;hr.version===Yr.__version?(Yr.needsLights&&Yr.lightsStateVersion!==dn.state.version||Yr.outputColorSpace!==zr||sr.isBatchedMesh&&Yr.batching===!1||!sr.isBatchedMesh&&Yr.batching===!0||sr.isBatchedMesh&&Yr.batchingColor===!0&&sr.colorTexture===null||sr.isBatchedMesh&&Yr.batchingColor===!1&&sr.colorTexture!==null||sr.isInstancedMesh&&Yr.instancing===!1||!sr.isInstancedMesh&&Yr.instancing===!0||sr.isSkinnedMesh&&Yr.skinning===!1||!sr.isSkinnedMesh&&Yr.skinning===!0||sr.isInstancedMesh&&Yr.instancingColor===!0&&sr.instanceColor===null||sr.isInstancedMesh&&Yr.instancingColor===!1&&sr.instanceColor!==null||sr.isInstancedMesh&&Yr.instancingMorph===!0&&sr.morphTexture===null||sr.isInstancedMesh&&Yr.instancingMorph===!1&&sr.morphTexture!==null||Yr.envMap!==Vr||hr.fog===!0&&Yr.fog!==$r||Yr.numClippingPlanes!==void 0&&(Yr.numClippingPlanes!==qr.numPlanes||Yr.numIntersection!==qr.numIntersection)||Yr.vertexAlphas!==Jr||Yr.vertexTangents!==tn||Yr.morphTargets!==Xr||Yr.morphNormals!==on||Yr.morphColors!==un||Yr.toneMapping!==mn||Yr.morphTargetsCount!==fn)&&(sn=!0):(sn=!0,Yr.__version=hr.version);let _n=Yr.currentProgram;sn===!0&&(_n=$n(hr,or,sr));let Pn=!1,bn=!1,Mn=!1;const pn=_n.getUniforms(),yn=Yr.uniforms;if(Cr.useProgram(_n.program)&&(Pn=!0,bn=!0,Mn=!0),hr.id!==Gt&&(Gt=hr.id,bn=!0),Pn||qt!==Qt){Cr.buffers.depth.getReversed()&&Qt.reversedDepth!==!0&&(Qt._reversedDepth=!0,Qt.updateProjectionMatrix()),pn.setValue(tr,"projectionMatrix",Qt.projectionMatrix),pn.setValue(tr,"viewMatrix",Qt.matrixWorldInverse);const xn=pn.map.cameraPosition;xn!==void 0&&xn.setValue(tr,xr.setFromMatrixPosition(Qt.matrixWorld)),Wr.logarithmicDepthBuffer&&pn.setValue(tr,"logDepthBufFC",2/(Math.log(Qt.far+1)/Math.LN2)),(hr.isMeshPhongMaterial||hr.isMeshToonMaterial||hr.isMeshLambertMaterial||hr.isMeshBasicMaterial||hr.isMeshStandardMaterial||hr.isShaderMaterial)&&pn.setValue(tr,"isOrthographic",Qt.isOrthographicCamera===!0),qt!==Qt&&(qt=Qt,bn=!0,Mn=!0)}if(sr.isSkinnedMesh){pn.setOptional(tr,sr,"bindMatrix"),pn.setOptional(tr,sr,"bindMatrixInverse");const vn=sr.skeleton;vn&&(vn.boneTexture===null&&vn.computeBoneTexture(),pn.setValue(tr,"boneTexture",vn.boneTexture,Gr))}sr.isBatchedMesh&&(pn.setOptional(tr,sr,"batchingTexture"),pn.setValue(tr,"batchingTexture",sr._matricesTexture,Gr),pn.setOptional(tr,sr,"batchingIdTexture"),pn.setValue(tr,"batchingIdTexture",sr._indirectTexture,Gr),pn.setOptional(tr,sr,"batchingColorTexture"),sr._colorsTexture!==null&&pn.setValue(tr,"batchingColorTexture",sr._colorsTexture,Gr));const Sn=fr.morphAttributes;if((Sn.position!==void 0||Sn.normal!==void 0||Sn.color!==void 0)&&Qr.update(sr,fr,_n),(bn||Yr.receiveShadow!==sr.receiveShadow)&&(Yr.receiveShadow=sr.receiveShadow,pn.setValue(tr,"receiveShadow",sr.receiveShadow)),hr.isMeshGouraudMaterial&&hr.envMap!==null&&(yn.envMap.value=Vr,yn.flipEnvMap.value=Vr.isCubeTexture&&Vr.isRenderTargetTexture===!1?-1:1),hr.isMeshStandardMaterial&&hr.envMap===null&&or.environment!==null&&(yn.envMapIntensity.value=or.environmentIntensity),yn.dfgLUT!==void 0&&(yn.dfgLUT.value=getDFGLUT()),bn&&(pn.setValue(tr,"toneMappingExposure",Dt.toneMappingExposure),Yr.needsLights&&Un(yn,Mn),$r&&hr.fog===!0&&Hr.refreshFogUniforms(yn,$r),Hr.refreshMaterialUniforms(yn,hr,Yt,Vt,$t.state.transmissionRenderTarget[Qt.id]),WebGLUniforms.upload(tr,Fn(Yr),yn,Gr)),hr.isShaderMaterial&&hr.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(tr,Fn(Yr),yn,Gr),hr.uniformsNeedUpdate=!1),hr.isSpriteMaterial&&pn.setValue(tr,"center",sr.center),pn.setValue(tr,"modelViewMatrix",sr.modelViewMatrix),pn.setValue(tr,"normalMatrix",sr.normalMatrix),pn.setValue(tr,"modelMatrix",sr.matrixWorld),hr.isShaderMaterial||hr.isRawShaderMaterial){const vn=hr.uniformsGroups;for(let xn=0,On=vn.length;xn<On;xn++){const An=vn[xn];Fr.update(An,_n),Fr.bind(An,_n)}}return _n}function Un(Qt,or){Qt.ambientLightColor.needsUpdate=or,Qt.lightProbe.needsUpdate=or,Qt.directionalLights.needsUpdate=or,Qt.directionalLightShadows.needsUpdate=or,Qt.pointLights.needsUpdate=or,Qt.pointLightShadows.needsUpdate=or,Qt.spotLights.needsUpdate=or,Qt.spotLightShadows.needsUpdate=or,Qt.rectAreaLights.needsUpdate=or,Qt.hemisphereLights.needsUpdate=or}function zn(Qt){return Qt.isMeshLambertMaterial||Qt.isMeshToonMaterial||Qt.isMeshPhongMaterial||Qt.isMeshStandardMaterial||Qt.isShadowMaterial||Qt.isShaderMaterial&&Qt.lights===!0}this.getActiveCubeFace=function(){return Bt},this.getActiveMipmapLevel=function(){return jt},this.getRenderTarget=function(){return Ut},this.setRenderTargetTextures=function(Qt,or,fr){const hr=Nr.get(Qt);hr.__autoAllocateDepthBuffer=Qt.resolveDepthBuffer===!1,hr.__autoAllocateDepthBuffer===!1&&(hr.__useRenderToTexture=!1),Nr.get(Qt.texture).__webglTexture=or,Nr.get(Qt.depthTexture).__webglTexture=hr.__autoAllocateDepthBuffer?void 0:fr,hr.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Qt,or){const fr=Nr.get(Qt);fr.__webglFramebuffer=or,fr.__useDefaultFramebuffer=or===void 0};const Gn=tr.createFramebuffer();this.setRenderTarget=function(Qt,or=0,fr=0){Ut=Qt,Bt=or,jt=fr;let hr=!0,sr=null,$r=!1,Br=!1;if(Qt){const Vr=Nr.get(Qt);if(Vr.__useDefaultFramebuffer!==void 0)Cr.bindFramebuffer(tr.FRAMEBUFFER,null),hr=!1;else if(Vr.__webglFramebuffer===void 0)Gr.setupRenderTarget(Qt);else if(Vr.__hasExternalTextures)Gr.rebindTextures(Qt,Nr.get(Qt.texture).__webglTexture,Nr.get(Qt.depthTexture).__webglTexture);else if(Qt.depthBuffer){const Xr=Qt.depthTexture;if(Vr.__boundDepthTexture!==Xr){if(Xr!==null&&Nr.has(Xr)&&(Qt.width!==Xr.image.width||Qt.height!==Xr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Gr.setupDepthRenderbuffer(Qt)}}const Jr=Qt.texture;(Jr.isData3DTexture||Jr.isDataArrayTexture||Jr.isCompressedArrayTexture)&&(Br=!0);const tn=Nr.get(Qt).__webglFramebuffer;Qt.isWebGLCubeRenderTarget?(Array.isArray(tn[or])?sr=tn[or][fr]:sr=tn[or],$r=!0):Qt.samples>0&&Gr.useMultisampledRTT(Qt)===!1?sr=Nr.get(Qt).__webglMultisampledFramebuffer:Array.isArray(tn)?sr=tn[fr]:sr=tn,Jt.copy(Qt.viewport),er.copy(Qt.scissor),Kt=Qt.scissorTest}else Jt.copy(cr).multiplyScalar(Yt).floor(),er.copy(vr).multiplyScalar(Yt).floor(),Kt=Tr;if(fr!==0&&(sr=Gn),Cr.bindFramebuffer(tr.FRAMEBUFFER,sr)&&hr&&Cr.drawBuffers(Qt,sr),Cr.viewport(Jt),Cr.scissor(er),Cr.setScissorTest(Kt),$r){const Vr=Nr.get(Qt.texture);tr.framebufferTexture2D(tr.FRAMEBUFFER,tr.COLOR_ATTACHMENT0,tr.TEXTURE_CUBE_MAP_POSITIVE_X+or,Vr.__webglTexture,fr)}else if(Br){const Vr=or;for(let Jr=0;Jr<Qt.textures.length;Jr++){const tn=Nr.get(Qt.textures[Jr]);tr.framebufferTextureLayer(tr.FRAMEBUFFER,tr.COLOR_ATTACHMENT0+Jr,tn.__webglTexture,fr,Vr)}}else if(Qt!==null&&fr!==0){const Vr=Nr.get(Qt.texture);tr.framebufferTexture2D(tr.FRAMEBUFFER,tr.COLOR_ATTACHMENT0,tr.TEXTURE_2D,Vr.__webglTexture,fr)}Gt=-1},this.readRenderTargetPixels=function(Qt,or,fr,hr,sr,$r,Br,zr=0){if(!(Qt&&Qt.isWebGLRenderTarget)){error("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Vr=Nr.get(Qt).__webglFramebuffer;if(Qt.isWebGLCubeRenderTarget&&Br!==void 0&&(Vr=Vr[Br]),Vr){Cr.bindFramebuffer(tr.FRAMEBUFFER,Vr);try{const Jr=Qt.textures[zr],tn=Jr.format,Xr=Jr.type;if(!Wr.textureFormatReadable(tn)){error("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Wr.textureTypeReadable(Xr)){error("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}or>=0&&or<=Qt.width-hr&&fr>=0&&fr<=Qt.height-sr&&(Qt.textures.length>1&&tr.readBuffer(tr.COLOR_ATTACHMENT0+zr),tr.readPixels(or,fr,hr,sr,rn.convert(tn),rn.convert(Xr),$r))}finally{const Jr=Ut!==null?Nr.get(Ut).__webglFramebuffer:null;Cr.bindFramebuffer(tr.FRAMEBUFFER,Jr)}}},this.readRenderTargetPixelsAsync=async function(Qt,or,fr,hr,sr,$r,Br,zr=0){if(!(Qt&&Qt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Vr=Nr.get(Qt).__webglFramebuffer;if(Qt.isWebGLCubeRenderTarget&&Br!==void 0&&(Vr=Vr[Br]),Vr)if(or>=0&&or<=Qt.width-hr&&fr>=0&&fr<=Qt.height-sr){Cr.bindFramebuffer(tr.FRAMEBUFFER,Vr);const Jr=Qt.textures[zr],tn=Jr.format,Xr=Jr.type;if(!Wr.textureFormatReadable(tn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Wr.textureTypeReadable(Xr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const on=tr.createBuffer();tr.bindBuffer(tr.PIXEL_PACK_BUFFER,on),tr.bufferData(tr.PIXEL_PACK_BUFFER,$r.byteLength,tr.STREAM_READ),Qt.textures.length>1&&tr.readBuffer(tr.COLOR_ATTACHMENT0+zr),tr.readPixels(or,fr,hr,sr,rn.convert(tn),rn.convert(Xr),0);const un=Ut!==null?Nr.get(Ut).__webglFramebuffer:null;Cr.bindFramebuffer(tr.FRAMEBUFFER,un);const mn=tr.fenceSync(tr.SYNC_GPU_COMMANDS_COMPLETE,0);return tr.flush(),await probeAsync(tr,mn,4),tr.bindBuffer(tr.PIXEL_PACK_BUFFER,on),tr.getBufferSubData(tr.PIXEL_PACK_BUFFER,0,$r),tr.deleteBuffer(on),tr.deleteSync(mn),$r}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Qt,or=null,fr=0){const hr=Math.pow(2,-fr),sr=Math.floor(Qt.image.width*hr),$r=Math.floor(Qt.image.height*hr),Br=or!==null?or.x:0,zr=or!==null?or.y:0;Gr.setTexture2D(Qt,0),tr.copyTexSubImage2D(tr.TEXTURE_2D,fr,0,0,Br,zr,sr,$r),Cr.unbindTexture()};const Hn=tr.createFramebuffer(),Wn=tr.createFramebuffer();this.copyTextureToTexture=function(Qt,or,fr=null,hr=null,sr=0,$r=null){$r===null&&(sr!==0?(warnOnce$1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),$r=sr,sr=0):$r=0);let Br,zr,Vr,Jr,tn,Xr,on,un,mn;const gn=Qt.isCompressedTexture?Qt.mipmaps[$r]:Qt.image;if(fr!==null)Br=fr.max.x-fr.min.x,zr=fr.max.y-fr.min.y,Vr=fr.isBox3?fr.max.z-fr.min.z:1,Jr=fr.min.x,tn=fr.min.y,Xr=fr.isBox3?fr.min.z:0;else{const Sn=Math.pow(2,-sr);Br=Math.floor(gn.width*Sn),zr=Math.floor(gn.height*Sn),Qt.isDataArrayTexture?Vr=gn.depth:Qt.isData3DTexture?Vr=Math.floor(gn.depth*Sn):Vr=1,Jr=0,tn=0,Xr=0}hr!==null?(on=hr.x,un=hr.y,mn=hr.z):(on=0,un=0,mn=0);const fn=rn.convert(or.format),Yr=rn.convert(or.type);let dn;or.isData3DTexture?(Gr.setTexture3D(or,0),dn=tr.TEXTURE_3D):or.isDataArrayTexture||or.isCompressedArrayTexture?(Gr.setTexture2DArray(or,0),dn=tr.TEXTURE_2D_ARRAY):(Gr.setTexture2D(or,0),dn=tr.TEXTURE_2D),tr.pixelStorei(tr.UNPACK_FLIP_Y_WEBGL,or.flipY),tr.pixelStorei(tr.UNPACK_PREMULTIPLY_ALPHA_WEBGL,or.premultiplyAlpha),tr.pixelStorei(tr.UNPACK_ALIGNMENT,or.unpackAlignment);const sn=tr.getParameter(tr.UNPACK_ROW_LENGTH),_n=tr.getParameter(tr.UNPACK_IMAGE_HEIGHT),Pn=tr.getParameter(tr.UNPACK_SKIP_PIXELS),bn=tr.getParameter(tr.UNPACK_SKIP_ROWS),Mn=tr.getParameter(tr.UNPACK_SKIP_IMAGES);tr.pixelStorei(tr.UNPACK_ROW_LENGTH,gn.width),tr.pixelStorei(tr.UNPACK_IMAGE_HEIGHT,gn.height),tr.pixelStorei(tr.UNPACK_SKIP_PIXELS,Jr),tr.pixelStorei(tr.UNPACK_SKIP_ROWS,tn),tr.pixelStorei(tr.UNPACK_SKIP_IMAGES,Xr);const pn=Qt.isDataArrayTexture||Qt.isData3DTexture,yn=or.isDataArrayTexture||or.isData3DTexture;if(Qt.isDepthTexture){const Sn=Nr.get(Qt),vn=Nr.get(or),xn=Nr.get(Sn.__renderTarget),On=Nr.get(vn.__renderTarget);Cr.bindFramebuffer(tr.READ_FRAMEBUFFER,xn.__webglFramebuffer),Cr.bindFramebuffer(tr.DRAW_FRAMEBUFFER,On.__webglFramebuffer);for(let An=0;An<Vr;An++)pn&&(tr.framebufferTextureLayer(tr.READ_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,Nr.get(Qt).__webglTexture,sr,Xr+An),tr.framebufferTextureLayer(tr.DRAW_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,Nr.get(or).__webglTexture,$r,mn+An)),tr.blitFramebuffer(Jr,tn,Br,zr,on,un,Br,zr,tr.DEPTH_BUFFER_BIT,tr.NEAREST);Cr.bindFramebuffer(tr.READ_FRAMEBUFFER,null),Cr.bindFramebuffer(tr.DRAW_FRAMEBUFFER,null)}else if(sr!==0||Qt.isRenderTargetTexture||Nr.has(Qt)){const Sn=Nr.get(Qt),vn=Nr.get(or);Cr.bindFramebuffer(tr.READ_FRAMEBUFFER,Hn),Cr.bindFramebuffer(tr.DRAW_FRAMEBUFFER,Wn);for(let xn=0;xn<Vr;xn++)pn?tr.framebufferTextureLayer(tr.READ_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,Sn.__webglTexture,sr,Xr+xn):tr.framebufferTexture2D(tr.READ_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,tr.TEXTURE_2D,Sn.__webglTexture,sr),yn?tr.framebufferTextureLayer(tr.DRAW_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,vn.__webglTexture,$r,mn+xn):tr.framebufferTexture2D(tr.DRAW_FRAMEBUFFER,tr.COLOR_ATTACHMENT0,tr.TEXTURE_2D,vn.__webglTexture,$r),sr!==0?tr.blitFramebuffer(Jr,tn,Br,zr,on,un,Br,zr,tr.COLOR_BUFFER_BIT,tr.NEAREST):yn?tr.copyTexSubImage3D(dn,$r,on,un,mn+xn,Jr,tn,Br,zr):tr.copyTexSubImage2D(dn,$r,on,un,Jr,tn,Br,zr);Cr.bindFramebuffer(tr.READ_FRAMEBUFFER,null),Cr.bindFramebuffer(tr.DRAW_FRAMEBUFFER,null)}else yn?Qt.isDataTexture||Qt.isData3DTexture?tr.texSubImage3D(dn,$r,on,un,mn,Br,zr,Vr,fn,Yr,gn.data):or.isCompressedArrayTexture?tr.compressedTexSubImage3D(dn,$r,on,un,mn,Br,zr,Vr,fn,gn.data):tr.texSubImage3D(dn,$r,on,un,mn,Br,zr,Vr,fn,Yr,gn):Qt.isDataTexture?tr.texSubImage2D(tr.TEXTURE_2D,$r,on,un,Br,zr,fn,Yr,gn.data):Qt.isCompressedTexture?tr.compressedTexSubImage2D(tr.TEXTURE_2D,$r,on,un,gn.width,gn.height,fn,gn.data):tr.texSubImage2D(tr.TEXTURE_2D,$r,on,un,Br,zr,fn,Yr,gn);tr.pixelStorei(tr.UNPACK_ROW_LENGTH,sn),tr.pixelStorei(tr.UNPACK_IMAGE_HEIGHT,_n),tr.pixelStorei(tr.UNPACK_SKIP_PIXELS,Pn),tr.pixelStorei(tr.UNPACK_SKIP_ROWS,bn),tr.pixelStorei(tr.UNPACK_SKIP_IMAGES,Mn),$r===0&&or.generateMipmaps&&tr.generateMipmap(dn),Cr.unbindTexture()},this.initRenderTarget=function(Qt){Nr.get(Qt).__webglFramebuffer===void 0&&Gr.setupRenderTarget(Qt)},this.initTexture=function(Qt){Qt.isCubeTexture?Gr.setTextureCube(Qt,0):Qt.isData3DTexture?Gr.setTexture3D(Qt,0):Qt.isDataArrayTexture||Qt.isCompressedArrayTexture?Gr.setTexture2DArray(Qt,0):Gr.setTexture2D(Qt,0),Cr.unbindTexture()},this.resetState=function(){Bt=0,jt=0,Ut=null,Cr.reset(),ir.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(i){this._outputColorSpace=i;const _=this.getContext();_.drawingBufferColorSpace=ColorManagement._getDrawingBufferColorSpace(i),_.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}function GlassBackground(){const o=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!o.current)return;const i=new Scene,_=new PerspectiveCamera(60,window.innerWidth/window.innerHeight,.1,1e3);_.position.z=3;const $=new WebGLRenderer({antialias:!0,alpha:!0});$.setSize(window.innerWidth,window.innerHeight),$.setPixelRatio(Math.min(window.devicePixelRatio,2)),$.domElement.style.position="absolute",$.domElement.style.inset="0",$.domElement.style.width="100%",$.domElement.style.height="100%",o.current.appendChild($.domElement);const j=new PlaneGeometry(6,6,200,200),_e={uTime:{value:0},uColorA:{value:new Color$1("#a7f3d0")},uColorB:{value:new Color$1("#34d399")}},tt=new ShaderMaterial({transparent:!0,uniforms:_e,vertexShader:`
        varying vec2 vUv;
        uniform float uTime;
        void main(){
          vUv = uv;
          vec3 pos = position;
          float w1 = sin(pos.x*1.2 + uTime*0.6)*0.03;
          float w2 = cos(pos.y*1.5 + uTime*0.7)*0.03;
          pos.z += w1 + w2;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.0);
        }
      `,fragmentShader:`
        varying vec2 vUv;
        uniform vec3 uColorA;
        uniform vec3 uColorB;
        void main(){
          float r = smoothstep(0.0,1.0,vUv.y);
          vec3 col = mix(uColorA,uColorB,r);
          float glass = 0.25 + 0.15*abs(sin(vUv.y*6.2831));
          gl_FragColor = vec4(col, glass);
        }
      `}),rt=new Mesh(j,tt);i.add(rt);const nt=400,it=new Float32Array(nt*3);for(let Mt=0;Mt<nt;Mt++)it[Mt*3]=(Math.random()-.5)*6,it[Mt*3+1]=(Math.random()-.5)*6,it[Mt*3+2]=Math.random()*.4;const ot=new BufferGeometry;ot.setAttribute("position",new BufferAttribute(it,3));const lt=new Points(ot,new PointsMaterial({color:"#10b981",size:.02,transparent:!0,opacity:.6}));i.add(lt);let ft=!0;const _t=()=>{_.aspect=window.innerWidth/window.innerHeight,_.updateProjectionMatrix(),$.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",_t);const At=new Clock,Tt=()=>{ft&&(_e.uTime.value+=At.getDelta(),lt.rotation.z+=8e-4,$.render(i,_),requestAnimationFrame(Tt))};return Tt(),()=>{ft=!1,window.removeEventListener("resize",_t),$.dispose(),j.dispose(),ot.dispose(),tt.dispose(),$.domElement.parentNode&&$.domElement.parentNode.removeChild($.domElement)}},[]),jsx("div",{ref:o,className:"absolute inset-0 z-0 pointer-events-none"})}var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(o,i){module.exports=i()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(i){_useWebWorker=!!i},getWebWorker=function(){return _useWebWorker},setLocationHref=function(i){locationHref=i},getLocationHref=function(){return locationHref};function createTag(o){return document.createElement(o)}function extendPrototype(o,i){var _,$=o.length,j;for(_=0;_<$;_+=1){j=o[_].prototype;for(var _e in j)Object.prototype.hasOwnProperty.call(j,_e)&&(i.prototype[_e]=j[_e])}}function getDescriptor(o,i){return Object.getOwnPropertyDescriptor(o,i)}function createProxyFunction(o){function i(){}return i.prototype=o,i}var audioControllerFactory=function(){function o(i){this.audios=[],this.audioFactory=i,this._volume=1,this._isMuted=!1}return o.prototype={addAudio:function(_){this.audios.push(_)},pause:function(){var _,$=this.audios.length;for(_=0;_<$;_+=1)this.audios[_].pause()},resume:function(){var _,$=this.audios.length;for(_=0;_<$;_+=1)this.audios[_].resume()},setRate:function(_){var $,j=this.audios.length;for($=0;$<j;$+=1)this.audios[$].setRate(_)},createAudio:function(_){return this.audioFactory?this.audioFactory(_):window.Howl?new window.Howl({src:[_]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_){this.audioFactory=_},setVolume:function(_){this._volume=_,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _,$=this.audios.length;for(_=0;_<$;_+=1)this.audios[_].volume(this._volume*(this._isMuted?0:1))}},function(){return new o}}(),createTypedArray=function(){function o(_,$){var j=0,_e=[],tt;switch(_){case"int16":case"uint8c":tt=1;break;default:tt=1.1;break}for(j=0;j<$;j+=1)_e.push(tt);return _e}function i(_,$){return _==="float32"?new Float32Array($):_==="int16"?new Int16Array($):_==="uint8c"?new Uint8ClampedArray($):o(_,$)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?i:o}();function createSizedArray(o){return Array.apply(null,{length:o})}function _typeof$6(o){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$6(o)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var o=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i,_=o.length;for(i=0;i<_;i+=1)BMMath[o[i]]=Math[o[i]]})(),BMMath.random=Math.random,BMMath.abs=function(o){var i=_typeof$6(o);if(i==="object"&&o.length){var _=createSizedArray(o.length),$,j=o.length;for($=0;$<j;$+=1)_[$]=Math.abs(o[$]);return _}return Math.abs(o)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(o){o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.display="block",o.style.transformOrigin="0 0",o.style.webkitTransformOrigin="0 0",o.style.backfaceVisibility="visible",o.style.webkitBackfaceVisibility="visible",o.style.transformStyle="preserve-3d",o.style.webkitTransformStyle="preserve-3d",o.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(o,i,_,$){this.type=o,this.currentTime=i,this.totalTime=_,this.direction=$<0?-1:1}function BMCompleteEvent(o,i){this.type=o,this.direction=i<0?-1:1}function BMCompleteLoopEvent(o,i,_,$){this.type=o,this.currentLoop=_,this.totalLoops=i,this.direction=$<0?-1:1}function BMSegmentStartEvent(o,i,_){this.type=o,this.firstFrame=i,this.totalFrames=_}function BMDestroyEvent(o,i){this.type=o,this.target=i}function BMRenderFrameErrorEvent(o,i){this.type="renderFrameError",this.nativeError=o,this.currentTime=i}function BMConfigErrorEvent(o){this.type="configError",this.nativeError=o}var createElementID=function(){var o=0;return function(){return o+=1,idPrefix$1+"__lottie_element_"+o}}();function HSVtoRGB(o,i,_){var $,j,_e,tt,rt,nt,it,ot;switch(tt=Math.floor(o*6),rt=o*6-tt,nt=_*(1-i),it=_*(1-rt*i),ot=_*(1-(1-rt)*i),tt%6){case 0:$=_,j=ot,_e=nt;break;case 1:$=it,j=_,_e=nt;break;case 2:$=nt,j=_,_e=ot;break;case 3:$=nt,j=it,_e=_;break;case 4:$=ot,j=nt,_e=_;break;case 5:$=_,j=nt,_e=it;break}return[$,j,_e]}function RGBtoHSV(o,i,_){var $=Math.max(o,i,_),j=Math.min(o,i,_),_e=$-j,tt,rt=$===0?0:_e/$,nt=$/255;switch($){case j:tt=0;break;case o:tt=i-_+_e*(i<_?6:0),tt/=6*_e;break;case i:tt=_-o+_e*2,tt/=6*_e;break;case _:tt=o-i+_e*4,tt/=6*_e;break}return[tt,rt,nt]}function addSaturationToRGB(o,i){var _=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return _[1]+=i,_[1]>1?_[1]=1:_[1]<=0&&(_[1]=0),HSVtoRGB(_[0],_[1],_[2])}function addBrightnessToRGB(o,i){var _=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return _[2]+=i,_[2]>1?_[2]=1:_[2]<0&&(_[2]=0),HSVtoRGB(_[0],_[1],_[2])}function addHueToRGB(o,i){var _=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return _[0]+=i/360,_[0]>1?_[0]-=1:_[0]<0&&(_[0]+=1),HSVtoRGB(_[0],_[1],_[2])}var rgbToHex=function(){var o=[],i,_;for(i=0;i<256;i+=1)_=i.toString(16),o[i]=_.length===1?"0"+_:_;return function($,j,_e){return $<0&&($=0),j<0&&(j=0),_e<0&&(_e=0),"#"+o[$]+o[j]+o[_e]}}(),setSubframeEnabled=function(i){subframeEnabled=!!i},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(i){expressionsPlugin=i},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(i){expressionsInterfaces=i},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(i){defaultCurveSegments=i},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(i){idPrefix$1=i};function createNS(o){return document.createElementNS(svgNS,o)}function _typeof$5(o){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$5(o)}var dataManager=function(){var o=1,i=[],_,$,j={onmessage:function(){},postMessage:function(_t){_({data:_t})}},_e={postMessage:function(_t){j.onmessage({data:_t})}};function tt(ft){if(window.Worker&&window.Blob&&getWebWorker()){var _t=new Blob(["var _workerSelf = self; self.onmessage = ",ft.toString()],{type:"text/javascript"}),At=URL.createObjectURL(_t);return new Worker(At)}return _=ft,j}function rt(){$||($=tt(function(_t){function At(){function Mt(Kt,zt){var Ht,Ft,Vt=Kt.length,Yt,Zt,nr,cr;for(Ft=0;Ft<Vt;Ft+=1)if(Ht=Kt[Ft],"ks"in Ht&&!Ht.completed){if(Ht.completed=!0,Ht.hasMask){var vr=Ht.masksProperties;for(Zt=vr.length,Yt=0;Yt<Zt;Yt+=1)if(vr[Yt].pt.k.i)It(vr[Yt].pt.k);else for(cr=vr[Yt].pt.k.length,nr=0;nr<cr;nr+=1)vr[Yt].pt.k[nr].s&&It(vr[Yt].pt.k[nr].s[0]),vr[Yt].pt.k[nr].e&&It(vr[Yt].pt.k[nr].e[0])}Ht.ty===0?(Ht.layers=$t(Ht.refId,zt),Mt(Ht.layers,zt)):Ht.ty===4?Ot(Ht.shapes):Ht.ty===5&&Jt(Ht)}}function pt(Kt,zt){if(Kt){var Ht=0,Ft=Kt.length;for(Ht=0;Ht<Ft;Ht+=1)Kt[Ht].t===1&&(Kt[Ht].data.layers=$t(Kt[Ht].data.refId,zt),Mt(Kt[Ht].data.layers,zt))}}function Pt(Kt,zt){for(var Ht=0,Ft=zt.length;Ht<Ft;){if(zt[Ht].id===Kt)return zt[Ht];Ht+=1}return null}function $t(Kt,zt){var Ht=Pt(Kt,zt);return Ht?Ht.layers.__used?JSON.parse(JSON.stringify(Ht.layers)):(Ht.layers.__used=!0,Ht.layers):null}function Ot(Kt){var zt,Ht=Kt.length,Ft,Vt;for(zt=Ht-1;zt>=0;zt-=1)if(Kt[zt].ty==="sh")if(Kt[zt].ks.k.i)It(Kt[zt].ks.k);else for(Vt=Kt[zt].ks.k.length,Ft=0;Ft<Vt;Ft+=1)Kt[zt].ks.k[Ft].s&&It(Kt[zt].ks.k[Ft].s[0]),Kt[zt].ks.k[Ft].e&&It(Kt[zt].ks.k[Ft].e[0]);else Kt[zt].ty==="gr"&&Ot(Kt[zt].it)}function It(Kt){var zt,Ht=Kt.i.length;for(zt=0;zt<Ht;zt+=1)Kt.i[zt][0]+=Kt.v[zt][0],Kt.i[zt][1]+=Kt.v[zt][1],Kt.o[zt][0]+=Kt.v[zt][0],Kt.o[zt][1]+=Kt.v[zt][1]}function Dt(Kt,zt){var Ht=zt?zt.split("."):[100,100,100];return Kt[0]>Ht[0]?!0:Ht[0]>Kt[0]?!1:Kt[1]>Ht[1]?!0:Ht[1]>Kt[1]?!1:Kt[2]>Ht[2]?!0:Ht[2]>Kt[2]?!1:null}var Lt=function(){var Kt=[4,4,14];function zt(Ft){var Vt=Ft.t.d;Ft.t.d={k:[{s:Vt,t:0}]}}function Ht(Ft){var Vt,Yt=Ft.length;for(Vt=0;Vt<Yt;Vt+=1)Ft[Vt].ty===5&&zt(Ft[Vt])}return function(Ft){if(Dt(Kt,Ft.v)&&(Ht(Ft.layers),Ft.assets)){var Vt,Yt=Ft.assets.length;for(Vt=0;Vt<Yt;Vt+=1)Ft.assets[Vt].layers&&Ht(Ft.assets[Vt].layers)}}}(),Bt=function(){var Kt=[4,7,99];return function(zt){if(zt.chars&&!Dt(Kt,zt.v)){var Ht,Ft=zt.chars.length;for(Ht=0;Ht<Ft;Ht+=1){var Vt=zt.chars[Ht];Vt.data&&Vt.data.shapes&&(Ot(Vt.data.shapes),Vt.data.ip=0,Vt.data.op=99999,Vt.data.st=0,Vt.data.sr=1,Vt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},zt.chars[Ht].t||(Vt.data.shapes.push({ty:"no"}),Vt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),jt=function(){var Kt=[5,7,15];function zt(Ft){var Vt=Ft.t.p;typeof Vt.a=="number"&&(Vt.a={a:0,k:Vt.a}),typeof Vt.p=="number"&&(Vt.p={a:0,k:Vt.p}),typeof Vt.r=="number"&&(Vt.r={a:0,k:Vt.r})}function Ht(Ft){var Vt,Yt=Ft.length;for(Vt=0;Vt<Yt;Vt+=1)Ft[Vt].ty===5&&zt(Ft[Vt])}return function(Ft){if(Dt(Kt,Ft.v)&&(Ht(Ft.layers),Ft.assets)){var Vt,Yt=Ft.assets.length;for(Vt=0;Vt<Yt;Vt+=1)Ft.assets[Vt].layers&&Ht(Ft.assets[Vt].layers)}}}(),Ut=function(){var Kt=[4,1,9];function zt(Ft){var Vt,Yt=Ft.length,Zt,nr;for(Vt=0;Vt<Yt;Vt+=1)if(Ft[Vt].ty==="gr")zt(Ft[Vt].it);else if(Ft[Vt].ty==="fl"||Ft[Vt].ty==="st")if(Ft[Vt].c.k&&Ft[Vt].c.k[0].i)for(nr=Ft[Vt].c.k.length,Zt=0;Zt<nr;Zt+=1)Ft[Vt].c.k[Zt].s&&(Ft[Vt].c.k[Zt].s[0]/=255,Ft[Vt].c.k[Zt].s[1]/=255,Ft[Vt].c.k[Zt].s[2]/=255,Ft[Vt].c.k[Zt].s[3]/=255),Ft[Vt].c.k[Zt].e&&(Ft[Vt].c.k[Zt].e[0]/=255,Ft[Vt].c.k[Zt].e[1]/=255,Ft[Vt].c.k[Zt].e[2]/=255,Ft[Vt].c.k[Zt].e[3]/=255);else Ft[Vt].c.k[0]/=255,Ft[Vt].c.k[1]/=255,Ft[Vt].c.k[2]/=255,Ft[Vt].c.k[3]/=255}function Ht(Ft){var Vt,Yt=Ft.length;for(Vt=0;Vt<Yt;Vt+=1)Ft[Vt].ty===4&&zt(Ft[Vt].shapes)}return function(Ft){if(Dt(Kt,Ft.v)&&(Ht(Ft.layers),Ft.assets)){var Vt,Yt=Ft.assets.length;for(Vt=0;Vt<Yt;Vt+=1)Ft.assets[Vt].layers&&Ht(Ft.assets[Vt].layers)}}}(),Gt=function(){var Kt=[4,4,18];function zt(Ft){var Vt,Yt=Ft.length,Zt,nr;for(Vt=Yt-1;Vt>=0;Vt-=1)if(Ft[Vt].ty==="sh")if(Ft[Vt].ks.k.i)Ft[Vt].ks.k.c=Ft[Vt].closed;else for(nr=Ft[Vt].ks.k.length,Zt=0;Zt<nr;Zt+=1)Ft[Vt].ks.k[Zt].s&&(Ft[Vt].ks.k[Zt].s[0].c=Ft[Vt].closed),Ft[Vt].ks.k[Zt].e&&(Ft[Vt].ks.k[Zt].e[0].c=Ft[Vt].closed);else Ft[Vt].ty==="gr"&&zt(Ft[Vt].it)}function Ht(Ft){var Vt,Yt,Zt=Ft.length,nr,cr,vr,Tr;for(Yt=0;Yt<Zt;Yt+=1){if(Vt=Ft[Yt],Vt.hasMask){var ar=Vt.masksProperties;for(cr=ar.length,nr=0;nr<cr;nr+=1)if(ar[nr].pt.k.i)ar[nr].pt.k.c=ar[nr].cl;else for(Tr=ar[nr].pt.k.length,vr=0;vr<Tr;vr+=1)ar[nr].pt.k[vr].s&&(ar[nr].pt.k[vr].s[0].c=ar[nr].cl),ar[nr].pt.k[vr].e&&(ar[nr].pt.k[vr].e[0].c=ar[nr].cl)}Vt.ty===4&&zt(Vt.shapes)}}return function(Ft){if(Dt(Kt,Ft.v)&&(Ht(Ft.layers),Ft.assets)){var Vt,Yt=Ft.assets.length;for(Vt=0;Vt<Yt;Vt+=1)Ft.assets[Vt].layers&&Ht(Ft.assets[Vt].layers)}}}();function qt(Kt){Kt.__complete||(Ut(Kt),Lt(Kt),Bt(Kt),jt(Kt),Gt(Kt),Mt(Kt.layers,Kt.assets),pt(Kt.chars,Kt.assets),Kt.__complete=!0)}function Jt(Kt){Kt.t.a.length===0&&"m"in Kt.t.p}var er={};return er.completeData=qt,er.checkColors=Ut,er.checkChars=Bt,er.checkPathProperties=jt,er.checkShapes=Gt,er.completeLayers=Mt,er}if(_e.dataManager||(_e.dataManager=At()),_e.assetLoader||(_e.assetLoader=function(){function Mt(Pt){var $t=Pt.getResponseHeader("content-type");return $t&&Pt.responseType==="json"&&$t.indexOf("json")!==-1||Pt.response&&_typeof$5(Pt.response)==="object"?Pt.response:Pt.response&&typeof Pt.response=="string"?JSON.parse(Pt.response):Pt.responseText?JSON.parse(Pt.responseText):null}function pt(Pt,$t,Ot,It){var Dt,Lt=new XMLHttpRequest;try{Lt.responseType="json"}catch{}Lt.onreadystatechange=function(){if(Lt.readyState===4)if(Lt.status===200)Dt=Mt(Lt),Ot(Dt);else try{Dt=Mt(Lt),Ot(Dt)}catch(Bt){It&&It(Bt)}};try{Lt.open(["G","E","T"].join(""),Pt,!0)}catch{Lt.open(["G","E","T"].join(""),$t+"/"+Pt,!0)}Lt.send()}return{load:pt}}()),_t.data.type==="loadAnimation")_e.assetLoader.load(_t.data.path,_t.data.fullPath,function(Mt){_e.dataManager.completeData(Mt),_e.postMessage({id:_t.data.id,payload:Mt,status:"success"})},function(){_e.postMessage({id:_t.data.id,status:"error"})});else if(_t.data.type==="complete"){var Tt=_t.data.animation;_e.dataManager.completeData(Tt),_e.postMessage({id:_t.data.id,payload:Tt,status:"success"})}else _t.data.type==="loadData"&&_e.assetLoader.load(_t.data.path,_t.data.fullPath,function(Mt){_e.postMessage({id:_t.data.id,payload:Mt,status:"success"})},function(){_e.postMessage({id:_t.data.id,status:"error"})})}),$.onmessage=function(ft){var _t=ft.data,At=_t.id,Tt=i[At];i[At]=null,_t.status==="success"?Tt.onComplete(_t.payload):Tt.onError&&Tt.onError()})}function nt(ft,_t){o+=1;var At="processId_"+o;return i[At]={onComplete:ft,onError:_t},At}function it(ft,_t,At){rt();var Tt=nt(_t,At);$.postMessage({type:"loadAnimation",path:ft,fullPath:window.location.origin+window.location.pathname,id:Tt})}function ot(ft,_t,At){rt();var Tt=nt(_t,At);$.postMessage({type:"loadData",path:ft,fullPath:window.location.origin+window.location.pathname,id:Tt})}function lt(ft,_t,At){rt();var Tt=nt(_t,At);$.postMessage({type:"complete",animation:ft,id:Tt})}return{loadAnimation:it,loadData:ot,completeAnimation:lt}}(),ImagePreloader=function(){var o=function(){var pt=createTag("canvas");pt.width=1,pt.height=1;var Pt=pt.getContext("2d");return Pt.fillStyle="rgba(0,0,0,0)",Pt.fillRect(0,0,1,1),pt}();function i(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function $(pt,Pt,$t){var Ot="";if(pt.e)Ot=pt.p;else if(Pt){var It=pt.p;It.indexOf("images/")!==-1&&(It=It.split("/")[1]),Ot=Pt+It}else Ot=$t,Ot+=pt.u?pt.u:"",Ot+=pt.p;return Ot}function j(pt){var Pt=0,$t=setInterval((function(){var Ot=pt.getBBox();(Ot.width||Pt>500)&&(this._imageLoaded(),clearInterval($t)),Pt+=1}).bind(this),50)}function _e(pt){var Pt=$(pt,this.assetsPath,this.path),$t=createNS("image");isSafari?this.testImageLoaded($t):$t.addEventListener("load",this._imageLoaded,!1),$t.addEventListener("error",(function(){Ot.img=o,this._imageLoaded()}).bind(this),!1),$t.setAttributeNS("http://www.w3.org/1999/xlink","href",Pt),this._elementHelper.append?this._elementHelper.append($t):this._elementHelper.appendChild($t);var Ot={img:$t,assetData:pt};return Ot}function tt(pt){var Pt=$(pt,this.assetsPath,this.path),$t=createTag("img");$t.crossOrigin="anonymous",$t.addEventListener("load",this._imageLoaded,!1),$t.addEventListener("error",(function(){Ot.img=o,this._imageLoaded()}).bind(this),!1),$t.src=Pt;var Ot={img:$t,assetData:pt};return Ot}function rt(pt){var Pt={assetData:pt},$t=$(pt,this.assetsPath,this.path);return dataManager.loadData($t,(function(Ot){Pt.img=Ot,this._footageLoaded()}).bind(this),(function(){Pt.img={},this._footageLoaded()}).bind(this)),Pt}function nt(pt,Pt){this.imagesLoadedCb=Pt;var $t,Ot=pt.length;for($t=0;$t<Ot;$t+=1)pt[$t].layers||(!pt[$t].t||pt[$t].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(pt[$t]))):pt[$t].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(pt[$t]))))}function it(pt){this.path=pt||""}function ot(pt){this.assetsPath=pt||""}function lt(pt){for(var Pt=0,$t=this.images.length;Pt<$t;){if(this.images[Pt].assetData===pt)return this.images[Pt].img;Pt+=1}return null}function ft(){this.imagesLoadedCb=null,this.images.length=0}function _t(){return this.totalImages===this.loadedAssets}function At(){return this.totalFootages===this.loadedFootagesCount}function Tt(pt,Pt){pt==="svg"?(this._elementHelper=Pt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Mt(){this._imageLoaded=i.bind(this),this._footageLoaded=_.bind(this),this.testImageLoaded=j.bind(this),this.createFootageData=rt.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Mt.prototype={loadAssets:nt,setAssetsPath:ot,setPath:it,loadedImages:_t,loadedFootages:At,destroy:ft,getAsset:lt,createImgData:tt,createImageData:_e,imageLoaded:i,footageLoaded:_,setCacheType:Tt},Mt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(i,_){if(this._cbs[i])for(var $=this._cbs[i],j=0;j<$.length;j+=1)$[j](_)},addEventListener:function(i,_){return this._cbs[i]||(this._cbs[i]=[]),this._cbs[i].push(_),(function(){this.removeEventListener(i,_)}).bind(this)},removeEventListener:function(i,_){if(!_)this._cbs[i]=null;else if(this._cbs[i]){for(var $=0,j=this._cbs[i].length;$<j;)this._cbs[i][$]===_&&(this._cbs[i].splice($,1),$-=1,j-=1),$+=1;this._cbs[i].length||(this._cbs[i]=null)}}};var markerParser=function(){function o(i){for(var _=i.split(`\r
`),$={},j,_e=0,tt=0;tt<_.length;tt+=1)j=_[tt].split(":"),j.length===2&&($[j[0]]=j[1].trim(),_e+=1);if(_e===0)throw new Error;return $}return function(i){for(var _=[],$=0;$<i.length;$+=1){var j=i[$],_e={time:j.tm,duration:j.dr};try{_e.payload=JSON.parse(i[$].cm)}catch{try{_e.payload=o(i[$].cm)}catch{_e.payload={name:i[$].cm}}}_.push(_e)}return _}}(),ProjectInterface=function(){function o(i){this.compositions.push(i)}return function(){function i(_){for(var $=0,j=this.compositions.length;$<j;){if(this.compositions[$].data&&this.compositions[$].data.nm===_)return this.compositions[$].prepareFrame&&this.compositions[$].data.xt&&this.compositions[$].prepareFrame(this.currentFrame),this.compositions[$].compInterface;$+=1}return null}return i.compositions=[],i.currentFrame=0,i.registerComposition=o,i}}(),renderers={},registerRenderer=function(i,_){renderers[i]=_};function getRenderer(o){return renderers[o]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var o in renderers)if(renderers[o])return o;return""}function _typeof$4(o){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$4(o)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(o){(o.wrapper||o.container)&&(this.wrapper=o.wrapper||o.container);var i="svg";o.animType?i=o.animType:o.renderer&&(i=o.renderer);var _=getRenderer(i);this.renderer=new _(this,o.rendererSettings),this.imagePreloader.setCacheType(i,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=i,o.loop===""||o.loop===null||o.loop===void 0||o.loop===!0?this.loop=!0:o.loop===!1?this.loop=!1:this.loop=parseInt(o.loop,10),this.autoplay="autoplay"in o?o.autoplay:!0,this.name=o.name?o.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(o,"autoloadSegments")?o.autoloadSegments:!0,this.assetsPath=o.assetsPath,this.initialSegment=o.initialSegment,o.audioFactory&&this.audioController.setAudioFactory(o.audioFactory),o.animationData?this.setupAnimation(o.animationData):o.path&&(o.path.lastIndexOf("\\")!==-1?this.path=o.path.substr(0,o.path.lastIndexOf("\\")+1):this.path=o.path.substr(0,o.path.lastIndexOf("/")+1),this.fileName=o.path.substr(o.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(o.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(o){dataManager.completeAnimation(o,this.configAnimation)},AnimationItem.prototype.setData=function(o,i){i&&_typeof$4(i)!=="object"&&(i=JSON.parse(i));var _={wrapper:o,animationData:i},$=o.attributes;_.path=$.getNamedItem("data-animation-path")?$.getNamedItem("data-animation-path").value:$.getNamedItem("data-bm-path")?$.getNamedItem("data-bm-path").value:$.getNamedItem("bm-path")?$.getNamedItem("bm-path").value:"",_.animType=$.getNamedItem("data-anim-type")?$.getNamedItem("data-anim-type").value:$.getNamedItem("data-bm-type")?$.getNamedItem("data-bm-type").value:$.getNamedItem("bm-type")?$.getNamedItem("bm-type").value:$.getNamedItem("data-bm-renderer")?$.getNamedItem("data-bm-renderer").value:$.getNamedItem("bm-renderer")?$.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var j=$.getNamedItem("data-anim-loop")?$.getNamedItem("data-anim-loop").value:$.getNamedItem("data-bm-loop")?$.getNamedItem("data-bm-loop").value:$.getNamedItem("bm-loop")?$.getNamedItem("bm-loop").value:"";j==="false"?_.loop=!1:j==="true"?_.loop=!0:j!==""&&(_.loop=parseInt(j,10));var _e=$.getNamedItem("data-anim-autoplay")?$.getNamedItem("data-anim-autoplay").value:$.getNamedItem("data-bm-autoplay")?$.getNamedItem("data-bm-autoplay").value:$.getNamedItem("bm-autoplay")?$.getNamedItem("bm-autoplay").value:!0;_.autoplay=_e!=="false",_.name=$.getNamedItem("data-name")?$.getNamedItem("data-name").value:$.getNamedItem("data-bm-name")?$.getNamedItem("data-bm-name").value:$.getNamedItem("bm-name")?$.getNamedItem("bm-name").value:"";var tt=$.getNamedItem("data-anim-prerender")?$.getNamedItem("data-anim-prerender").value:$.getNamedItem("data-bm-prerender")?$.getNamedItem("data-bm-prerender").value:$.getNamedItem("bm-prerender")?$.getNamedItem("bm-prerender").value:"";tt==="false"&&(_.prerender=!1),_.path?this.setParams(_):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(o){o.op>this.animationData.op&&(this.animationData.op=o.op,this.totalFrames=Math.floor(o.op-this.animationData.ip));var i=this.animationData.layers,_,$=i.length,j=o.layers,_e,tt=j.length;for(_e=0;_e<tt;_e+=1)for(_=0;_<$;){if(i[_].id===j[_e].id){i[_]=j[_e];break}_+=1}if((o.chars||o.fonts)&&(this.renderer.globalData.fontManager.addChars(o.chars),this.renderer.globalData.fontManager.addFonts(o.fonts,this.renderer.globalData.defs)),o.assets)for($=o.assets.length,_=0;_<$;_+=1)this.animationData.assets.push(o.assets[_]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(o){this.animationData=o;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var o=this.animationData.segments;if(!o||o.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var i=o.shift();this.timeCompleted=i.time*this.frameRate;var _=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(_,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var o=this.animationData.segments;o||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(o){if(this.renderer)try{this.animationData=o,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(o),o.assets||(o.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(o.assets),this.markers=markerParser(o.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(i){this.triggerConfigError(i)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(o,i){var _=typeof o=="number"?o:void 0,$=typeof i=="number"?i:void 0;this.renderer.updateContainerSize(_,$)},AnimationItem.prototype.setSubframe=function(o){this.isSubframeEnabled=!!o},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(o){this.triggerRenderFrameError(o)}},AnimationItem.prototype.play=function(o){o&&this.name!==o||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(o){o&&this.name!==o||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(o){o&&this.name!==o||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(o){o&&this.name!==o||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(o){for(var i,_=0;_<this.markers.length;_+=1)if(i=this.markers[_],i.payload&&i.payload.name===o)return i;return null},AnimationItem.prototype.goToAndStop=function(o,i,_){if(!(_&&this.name!==_)){var $=Number(o);if(isNaN($)){var j=this.getMarkerData(o);j&&this.goToAndStop(j.time,!0)}else i?this.setCurrentRawFrameValue(o):this.setCurrentRawFrameValue(o*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(o,i,_){if(!(_&&this.name!==_)){var $=Number(o);if(isNaN($)){var j=this.getMarkerData(o);j&&(j.duration?this.playSegments([j.time,j.time+j.duration],!0):this.goToAndStop(j.time,!0))}else this.goToAndStop($,i,_);this.play()}},AnimationItem.prototype.advanceTime=function(o){if(!(this.isPaused===!0||this.isLoaded===!1)){var i=this.currentRawFrame+o*this.frameModifier,_=!1;i>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(i>this.totalFrames?i%this.totalFrames:0)||(_=!0,i=this.totalFrames-1):i>=this.totalFrames?(this.playCount+=1,this.checkSegments(i%this.totalFrames)||(this.setCurrentRawFrameValue(i%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(i):i<0?this.checkSegments(i%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+i%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(_=!0,i=0)):this.setCurrentRawFrameValue(i),_&&(this.setCurrentRawFrameValue(i),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(o,i){this.playCount=0,o[1]<o[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=o[0]-o[1],this.timeCompleted=this.totalFrames,this.firstFrame=o[1],this.setCurrentRawFrameValue(this.totalFrames-.001-i)):o[1]>o[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=o[1]-o[0],this.timeCompleted=this.totalFrames,this.firstFrame=o[0],this.setCurrentRawFrameValue(.001+i)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(o,i){var _=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<o?_=o:this.currentRawFrame+this.firstFrame>i&&(_=i-o)),this.firstFrame=o,this.totalFrames=i-o,this.timeCompleted=this.totalFrames,_!==-1&&this.goToAndStop(_,!0)},AnimationItem.prototype.playSegments=function(o,i){if(i&&(this.segments.length=0),_typeof$4(o[0])==="object"){var _,$=o.length;for(_=0;_<$;_+=1)this.segments.push(o[_])}else this.segments.push(o);this.segments.length&&i&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(o){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),o&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(o){return this.segments.length?(this.adjustSegment(this.segments.shift(),o),!0):!1},AnimationItem.prototype.destroy=function(o){o&&this.name!==o||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(o){this.currentRawFrame=o,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(o){this.playSpeed=o,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(o){this.playDirection=o<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(o){this.loop=o},AnimationItem.prototype.setVolume=function(o,i){i&&this.name!==i||this.audioController.setVolume(o)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(o){o&&this.name!==o||this.audioController.mute()},AnimationItem.prototype.unmute=function(o){o&&this.name!==o||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(o){var i="";if(o.e)i=o.p;else if(this.assetsPath){var _=o.p;_.indexOf("images/")!==-1&&(_=_.split("/")[1]),i=this.assetsPath+_}else i=this.path,i+=o.u?o.u:"",i+=o.p;return i},AnimationItem.prototype.getAssetData=function(o){for(var i=0,_=this.assets.length;i<_;){if(o===this.assets[i].id)return this.assets[i];i+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(o){return o?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(o,i,_){try{var $=this.renderer.getElementByPath(o);$.updateDocumentData(i,_)}catch{}},AnimationItem.prototype.trigger=function(o){if(this._cbs&&this._cbs[o])switch(o){case"enterFrame":this.triggerEvent(o,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(o,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(o,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(o,new BMCompleteEvent(o,this.frameMult));break;case"segmentStart":this.triggerEvent(o,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(o,new BMDestroyEvent(o,this));break;default:this.triggerEvent(o)}o==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameMult)),o==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult)),o==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(o,this.frameMult)),o==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames)),o==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(o,this))},AnimationItem.prototype.triggerRenderFrameError=function(o){var i=new BMRenderFrameErrorEvent(o,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)},AnimationItem.prototype.triggerConfigError=function(o){var i=new BMConfigErrorEvent(o,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)};var animationManager=function(){var o={},i=[],_=0,$=0,j=0,_e=!0,tt=!1;function rt(zt){for(var Ht=0,Ft=zt.target;Ht<$;)i[Ht].animation===Ft&&(i.splice(Ht,1),Ht-=1,$-=1,Ft.isPaused||lt()),Ht+=1}function nt(zt,Ht){if(!zt)return null;for(var Ft=0;Ft<$;){if(i[Ft].elem===zt&&i[Ft].elem!==null)return i[Ft].animation;Ft+=1}var Vt=new AnimationItem;return ft(Vt,zt),Vt.setData(zt,Ht),Vt}function it(){var zt,Ht=i.length,Ft=[];for(zt=0;zt<Ht;zt+=1)Ft.push(i[zt].animation);return Ft}function ot(){j+=1,Ut()}function lt(){j-=1}function ft(zt,Ht){zt.addEventListener("destroy",rt),zt.addEventListener("_active",ot),zt.addEventListener("_idle",lt),i.push({elem:Ht,animation:zt}),$+=1}function _t(zt){var Ht=new AnimationItem;return ft(Ht,null),Ht.setParams(zt),Ht}function At(zt,Ht){var Ft;for(Ft=0;Ft<$;Ft+=1)i[Ft].animation.setSpeed(zt,Ht)}function Tt(zt,Ht){var Ft;for(Ft=0;Ft<$;Ft+=1)i[Ft].animation.setDirection(zt,Ht)}function Mt(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.play(zt)}function pt(zt){var Ht=zt-_,Ft;for(Ft=0;Ft<$;Ft+=1)i[Ft].animation.advanceTime(Ht);_=zt,j&&!tt?window.requestAnimationFrame(pt):_e=!0}function Pt(zt){_=zt,window.requestAnimationFrame(pt)}function $t(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.pause(zt)}function Ot(zt,Ht,Ft){var Vt;for(Vt=0;Vt<$;Vt+=1)i[Vt].animation.goToAndStop(zt,Ht,Ft)}function It(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.stop(zt)}function Dt(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.togglePause(zt)}function Lt(zt){var Ht;for(Ht=$-1;Ht>=0;Ht-=1)i[Ht].animation.destroy(zt)}function Bt(zt,Ht,Ft){var Vt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Yt,Zt=Vt.length;for(Yt=0;Yt<Zt;Yt+=1)Ft&&Vt[Yt].setAttribute("data-bm-type",Ft),nt(Vt[Yt],zt);if(Ht&&Zt===0){Ft||(Ft="svg");var nr=document.getElementsByTagName("body")[0];nr.innerText="";var cr=createTag("div");cr.style.width="100%",cr.style.height="100%",cr.setAttribute("data-bm-type",Ft),nr.appendChild(cr),nt(cr,zt)}}function jt(){var zt;for(zt=0;zt<$;zt+=1)i[zt].animation.resize()}function Ut(){!tt&&j&&_e&&(window.requestAnimationFrame(Pt),_e=!1)}function Gt(){tt=!0}function qt(){tt=!1,Ut()}function Jt(zt,Ht){var Ft;for(Ft=0;Ft<$;Ft+=1)i[Ft].animation.setVolume(zt,Ht)}function er(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.mute(zt)}function Kt(zt){var Ht;for(Ht=0;Ht<$;Ht+=1)i[Ht].animation.unmute(zt)}return o.registerAnimation=nt,o.loadAnimation=_t,o.setSpeed=At,o.setDirection=Tt,o.play=Mt,o.pause=$t,o.stop=It,o.togglePause=Dt,o.searchAnimations=Bt,o.resize=jt,o.goToAndStop=Ot,o.destroy=Lt,o.freeze=Gt,o.unfreeze=qt,o.setVolume=Jt,o.mute=er,o.unmute=Kt,o.getRegisteredAnimations=it,o}(),BezierFactory=function(){var o={};o.getBezierEasing=_;var i={};function _(Pt,$t,Ot,It,Dt){var Lt=Dt||("bez_"+Pt+"_"+$t+"_"+Ot+"_"+It).replace(/\./g,"p");if(i[Lt])return i[Lt];var Bt=new pt([Pt,$t,Ot,It]);return i[Lt]=Bt,Bt}var $=4,j=.001,_e=1e-7,tt=10,rt=11,nt=1/(rt-1),it=typeof Float32Array=="function";function ot(Pt,$t){return 1-3*$t+3*Pt}function lt(Pt,$t){return 3*$t-6*Pt}function ft(Pt){return 3*Pt}function _t(Pt,$t,Ot){return((ot($t,Ot)*Pt+lt($t,Ot))*Pt+ft($t))*Pt}function At(Pt,$t,Ot){return 3*ot($t,Ot)*Pt*Pt+2*lt($t,Ot)*Pt+ft($t)}function Tt(Pt,$t,Ot,It,Dt){var Lt,Bt,jt=0;do Bt=$t+(Ot-$t)/2,Lt=_t(Bt,It,Dt)-Pt,Lt>0?Ot=Bt:$t=Bt;while(Math.abs(Lt)>_e&&++jt<tt);return Bt}function Mt(Pt,$t,Ot,It){for(var Dt=0;Dt<$;++Dt){var Lt=At($t,Ot,It);if(Lt===0)return $t;var Bt=_t($t,Ot,It)-Pt;$t-=Bt/Lt}return $t}function pt(Pt){this._p=Pt,this._mSampleValues=it?new Float32Array(rt):new Array(rt),this._precomputed=!1,this.get=this.get.bind(this)}return pt.prototype={get:function($t){var Ot=this._p[0],It=this._p[1],Dt=this._p[2],Lt=this._p[3];return this._precomputed||this._precompute(),Ot===It&&Dt===Lt?$t:$t===0?0:$t===1?1:_t(this._getTForX($t),It,Lt)},_precompute:function(){var $t=this._p[0],Ot=this._p[1],It=this._p[2],Dt=this._p[3];this._precomputed=!0,($t!==Ot||It!==Dt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var $t=this._p[0],Ot=this._p[2],It=0;It<rt;++It)this._mSampleValues[It]=_t(It*nt,$t,Ot)},_getTForX:function($t){for(var Ot=this._p[0],It=this._p[2],Dt=this._mSampleValues,Lt=0,Bt=1,jt=rt-1;Bt!==jt&&Dt[Bt]<=$t;++Bt)Lt+=nt;--Bt;var Ut=($t-Dt[Bt])/(Dt[Bt+1]-Dt[Bt]),Gt=Lt+Ut*nt,qt=At(Gt,Ot,It);return qt>=j?Mt($t,Gt,Ot,It):qt===0?Gt:Tt($t,Lt,Lt+nt,Ot,It)}},o}(),pooling=function(){function o(i){return i.concat(createSizedArray(i.length))}return{double:o}}(),poolFactory=function(){return function(o,i,_){var $=0,j=o,_e=createSizedArray(j),tt={newElement:rt,release:nt};function rt(){var it;return $?($-=1,it=_e[$]):it=i(),it}function nt(it){$===j&&(_e=pooling.double(_e),j*=2),_&&_(it),_e[$]=it,$+=1}return tt}}(),bezierLengthPool=function(){function o(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,o)}(),segmentsLengthPool=function(){function o(){return{lengths:[],totalLength:0}}function i(_){var $,j=_.lengths.length;for($=0;$<j;$+=1)bezierLengthPool.release(_.lengths[$]);_.lengths.length=0}return poolFactory(8,o,i)}();function bezFunction(){var o=Math;function i(ft,_t,At,Tt,Mt,pt){var Pt=ft*Tt+_t*Mt+At*pt-Mt*Tt-pt*ft-At*_t;return Pt>-.001&&Pt<.001}function _(ft,_t,At,Tt,Mt,pt,Pt,$t,Ot){if(At===0&&pt===0&&Ot===0)return i(ft,_t,Tt,Mt,Pt,$t);var It=o.sqrt(o.pow(Tt-ft,2)+o.pow(Mt-_t,2)+o.pow(pt-At,2)),Dt=o.sqrt(o.pow(Pt-ft,2)+o.pow($t-_t,2)+o.pow(Ot-At,2)),Lt=o.sqrt(o.pow(Pt-Tt,2)+o.pow($t-Mt,2)+o.pow(Ot-pt,2)),Bt;return It>Dt?It>Lt?Bt=It-Dt-Lt:Bt=Lt-Dt-It:Lt>Dt?Bt=Lt-Dt-It:Bt=Dt-It-Lt,Bt>-1e-4&&Bt<1e-4}var $=function(){return function(ft,_t,At,Tt){var Mt=getDefaultCurveSegments(),pt,Pt,$t,Ot,It,Dt=0,Lt,Bt=[],jt=[],Ut=bezierLengthPool.newElement();for($t=At.length,pt=0;pt<Mt;pt+=1){for(It=pt/(Mt-1),Lt=0,Pt=0;Pt<$t;Pt+=1)Ot=bmPow(1-It,3)*ft[Pt]+3*bmPow(1-It,2)*It*At[Pt]+3*(1-It)*bmPow(It,2)*Tt[Pt]+bmPow(It,3)*_t[Pt],Bt[Pt]=Ot,jt[Pt]!==null&&(Lt+=bmPow(Bt[Pt]-jt[Pt],2)),jt[Pt]=Bt[Pt];Lt&&(Lt=bmSqrt(Lt),Dt+=Lt),Ut.percents[pt]=It,Ut.lengths[pt]=Dt}return Ut.addedLength=Dt,Ut}}();function j(ft){var _t=segmentsLengthPool.newElement(),At=ft.c,Tt=ft.v,Mt=ft.o,pt=ft.i,Pt,$t=ft._length,Ot=_t.lengths,It=0;for(Pt=0;Pt<$t-1;Pt+=1)Ot[Pt]=$(Tt[Pt],Tt[Pt+1],Mt[Pt],pt[Pt+1]),It+=Ot[Pt].addedLength;return At&&$t&&(Ot[Pt]=$(Tt[Pt],Tt[0],Mt[Pt],pt[0]),It+=Ot[Pt].addedLength),_t.totalLength=It,_t}function _e(ft){this.segmentLength=0,this.points=new Array(ft)}function tt(ft,_t){this.partialLength=ft,this.point=_t}var rt=function(){var ft={};return function(_t,At,Tt,Mt){var pt=(_t[0]+"_"+_t[1]+"_"+At[0]+"_"+At[1]+"_"+Tt[0]+"_"+Tt[1]+"_"+Mt[0]+"_"+Mt[1]).replace(/\./g,"p");if(!ft[pt]){var Pt=getDefaultCurveSegments(),$t,Ot,It,Dt,Lt,Bt=0,jt,Ut,Gt=null;_t.length===2&&(_t[0]!==At[0]||_t[1]!==At[1])&&i(_t[0],_t[1],At[0],At[1],_t[0]+Tt[0],_t[1]+Tt[1])&&i(_t[0],_t[1],At[0],At[1],At[0]+Mt[0],At[1]+Mt[1])&&(Pt=2);var qt=new _e(Pt);for(It=Tt.length,$t=0;$t<Pt;$t+=1){for(Ut=createSizedArray(It),Lt=$t/(Pt-1),jt=0,Ot=0;Ot<It;Ot+=1)Dt=bmPow(1-Lt,3)*_t[Ot]+3*bmPow(1-Lt,2)*Lt*(_t[Ot]+Tt[Ot])+3*(1-Lt)*bmPow(Lt,2)*(At[Ot]+Mt[Ot])+bmPow(Lt,3)*At[Ot],Ut[Ot]=Dt,Gt!==null&&(jt+=bmPow(Ut[Ot]-Gt[Ot],2));jt=bmSqrt(jt),Bt+=jt,qt.points[$t]=new tt(jt,Ut),Gt=Ut}qt.segmentLength=Bt,ft[pt]=qt}return ft[pt]}}();function nt(ft,_t){var At=_t.percents,Tt=_t.lengths,Mt=At.length,pt=bmFloor((Mt-1)*ft),Pt=ft*_t.addedLength,$t=0;if(pt===Mt-1||pt===0||Pt===Tt[pt])return At[pt];for(var Ot=Tt[pt]>Pt?-1:1,It=!0;It;)if(Tt[pt]<=Pt&&Tt[pt+1]>Pt?($t=(Pt-Tt[pt])/(Tt[pt+1]-Tt[pt]),It=!1):pt+=Ot,pt<0||pt>=Mt-1){if(pt===Mt-1)return At[pt];It=!1}return At[pt]+(At[pt+1]-At[pt])*$t}function it(ft,_t,At,Tt,Mt,pt){var Pt=nt(Mt,pt),$t=1-Pt,Ot=o.round(($t*$t*$t*ft[0]+(Pt*$t*$t+$t*Pt*$t+$t*$t*Pt)*At[0]+(Pt*Pt*$t+$t*Pt*Pt+Pt*$t*Pt)*Tt[0]+Pt*Pt*Pt*_t[0])*1e3)/1e3,It=o.round(($t*$t*$t*ft[1]+(Pt*$t*$t+$t*Pt*$t+$t*$t*Pt)*At[1]+(Pt*Pt*$t+$t*Pt*Pt+Pt*$t*Pt)*Tt[1]+Pt*Pt*Pt*_t[1])*1e3)/1e3;return[Ot,It]}var ot=createTypedArray("float32",8);function lt(ft,_t,At,Tt,Mt,pt,Pt){Mt<0?Mt=0:Mt>1&&(Mt=1);var $t=nt(Mt,Pt);pt=pt>1?1:pt;var Ot=nt(pt,Pt),It,Dt=ft.length,Lt=1-$t,Bt=1-Ot,jt=Lt*Lt*Lt,Ut=$t*Lt*Lt*3,Gt=$t*$t*Lt*3,qt=$t*$t*$t,Jt=Lt*Lt*Bt,er=$t*Lt*Bt+Lt*$t*Bt+Lt*Lt*Ot,Kt=$t*$t*Bt+Lt*$t*Ot+$t*Lt*Ot,zt=$t*$t*Ot,Ht=Lt*Bt*Bt,Ft=$t*Bt*Bt+Lt*Ot*Bt+Lt*Bt*Ot,Vt=$t*Ot*Bt+Lt*Ot*Ot+$t*Bt*Ot,Yt=$t*Ot*Ot,Zt=Bt*Bt*Bt,nr=Ot*Bt*Bt+Bt*Ot*Bt+Bt*Bt*Ot,cr=Ot*Ot*Bt+Bt*Ot*Ot+Ot*Bt*Ot,vr=Ot*Ot*Ot;for(It=0;It<Dt;It+=1)ot[It*4]=o.round((jt*ft[It]+Ut*At[It]+Gt*Tt[It]+qt*_t[It])*1e3)/1e3,ot[It*4+1]=o.round((Jt*ft[It]+er*At[It]+Kt*Tt[It]+zt*_t[It])*1e3)/1e3,ot[It*4+2]=o.round((Ht*ft[It]+Ft*At[It]+Vt*Tt[It]+Yt*_t[It])*1e3)/1e3,ot[It*4+3]=o.round((Zt*ft[It]+nr*At[It]+cr*Tt[It]+vr*_t[It])*1e3)/1e3;return ot}return{getSegmentsLength:j,getNewSegment:lt,getPointInSegment:it,buildBezierData:rt,pointOnLine2D:i,pointOnLine3D:_}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(o,i){var _=this.offsetTime,$;this.propType==="multidimensional"&&($=createTypedArray("float32",this.pv.length));for(var j=i.lastIndex,_e=j,tt=this.keyframes.length-1,rt=!0,nt,it,ot;rt;){if(nt=this.keyframes[_e],it=this.keyframes[_e+1],_e===tt-1&&o>=it.t-_){nt.h&&(nt=it),j=0;break}if(it.t-_>o){j=_e;break}_e<tt-1?_e+=1:(j=0,rt=!1)}ot=this.keyframesMetadata[_e]||{};var lt,ft,_t,At,Tt,Mt,pt=it.t-_,Pt=nt.t-_,$t;if(nt.to){ot.bezierData||(ot.bezierData=bez.buildBezierData(nt.s,it.s||nt.e,nt.to,nt.ti));var Ot=ot.bezierData;if(o>=pt||o<Pt){var It=o>=pt?Ot.points.length-1:0;for(ft=Ot.points[It].point.length,lt=0;lt<ft;lt+=1)$[lt]=Ot.points[It].point[lt]}else{ot.__fnct?Mt=ot.__fnct:(Mt=BezierFactory.getBezierEasing(nt.o.x,nt.o.y,nt.i.x,nt.i.y,nt.n).get,ot.__fnct=Mt),_t=Mt((o-Pt)/(pt-Pt));var Dt=Ot.segmentLength*_t,Lt,Bt=i.lastFrame<o&&i._lastKeyframeIndex===_e?i._lastAddedLength:0;for(Tt=i.lastFrame<o&&i._lastKeyframeIndex===_e?i._lastPoint:0,rt=!0,At=Ot.points.length;rt;){if(Bt+=Ot.points[Tt].partialLength,Dt===0||_t===0||Tt===Ot.points.length-1){for(ft=Ot.points[Tt].point.length,lt=0;lt<ft;lt+=1)$[lt]=Ot.points[Tt].point[lt];break}else if(Dt>=Bt&&Dt<Bt+Ot.points[Tt+1].partialLength){for(Lt=(Dt-Bt)/Ot.points[Tt+1].partialLength,ft=Ot.points[Tt].point.length,lt=0;lt<ft;lt+=1)$[lt]=Ot.points[Tt].point[lt]+(Ot.points[Tt+1].point[lt]-Ot.points[Tt].point[lt])*Lt;break}Tt<At-1?Tt+=1:rt=!1}i._lastPoint=Tt,i._lastAddedLength=Bt-Ot.points[Tt].partialLength,i._lastKeyframeIndex=_e}}else{var jt,Ut,Gt,qt,Jt;if(tt=nt.s.length,$t=it.s||nt.e,this.sh&&nt.h!==1)if(o>=pt)$[0]=$t[0],$[1]=$t[1],$[2]=$t[2];else if(o<=Pt)$[0]=nt.s[0],$[1]=nt.s[1],$[2]=nt.s[2];else{var er=createQuaternion(nt.s),Kt=createQuaternion($t),zt=(o-Pt)/(pt-Pt);quaternionToEuler($,slerp(er,Kt,zt))}else for(_e=0;_e<tt;_e+=1)nt.h!==1&&(o>=pt?_t=1:o<Pt?_t=0:(nt.o.x.constructor===Array?(ot.__fnct||(ot.__fnct=[]),ot.__fnct[_e]?Mt=ot.__fnct[_e]:(jt=nt.o.x[_e]===void 0?nt.o.x[0]:nt.o.x[_e],Ut=nt.o.y[_e]===void 0?nt.o.y[0]:nt.o.y[_e],Gt=nt.i.x[_e]===void 0?nt.i.x[0]:nt.i.x[_e],qt=nt.i.y[_e]===void 0?nt.i.y[0]:nt.i.y[_e],Mt=BezierFactory.getBezierEasing(jt,Ut,Gt,qt).get,ot.__fnct[_e]=Mt)):ot.__fnct?Mt=ot.__fnct:(jt=nt.o.x,Ut=nt.o.y,Gt=nt.i.x,qt=nt.i.y,Mt=BezierFactory.getBezierEasing(jt,Ut,Gt,qt).get,nt.keyframeMetadata=Mt),_t=Mt((o-Pt)/(pt-Pt)))),$t=it.s||nt.e,Jt=nt.h===1?nt.s[_e]:nt.s[_e]+($t[_e]-nt.s[_e])*_t,this.propType==="multidimensional"?$[_e]=Jt:$=Jt}return i.lastIndex=j,$}function slerp(o,i,_){var $=[],j=o[0],_e=o[1],tt=o[2],rt=o[3],nt=i[0],it=i[1],ot=i[2],lt=i[3],ft,_t,At,Tt,Mt;return _t=j*nt+_e*it+tt*ot+rt*lt,_t<0&&(_t=-_t,nt=-nt,it=-it,ot=-ot,lt=-lt),1-_t>1e-6?(ft=Math.acos(_t),At=Math.sin(ft),Tt=Math.sin((1-_)*ft)/At,Mt=Math.sin(_*ft)/At):(Tt=1-_,Mt=_),$[0]=Tt*j+Mt*nt,$[1]=Tt*_e+Mt*it,$[2]=Tt*tt+Mt*ot,$[3]=Tt*rt+Mt*lt,$}function quaternionToEuler(o,i){var _=i[0],$=i[1],j=i[2],_e=i[3],tt=Math.atan2(2*$*_e-2*_*j,1-2*$*$-2*j*j),rt=Math.asin(2*_*$+2*j*_e),nt=Math.atan2(2*_*_e-2*$*j,1-2*_*_-2*j*j);o[0]=tt/degToRads,o[1]=rt/degToRads,o[2]=nt/degToRads}function createQuaternion(o){var i=o[0]*degToRads,_=o[1]*degToRads,$=o[2]*degToRads,j=Math.cos(i/2),_e=Math.cos(_/2),tt=Math.cos($/2),rt=Math.sin(i/2),nt=Math.sin(_/2),it=Math.sin($/2),ot=j*_e*tt-rt*nt*it,lt=rt*nt*tt+j*_e*it,ft=rt*_e*tt+j*nt*it,_t=j*nt*tt-rt*_e*it;return[lt,ft,_t,ot]}function getValueAtCurrentTime(){var o=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(o===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=_&&o>=_||this._caching.lastFrame<i&&o<i))){this._caching.lastFrame>=o&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var $=this.interpolateValue(o,this._caching);this.pv=$}return this._caching.lastFrame=o,this.pv}function setVValue(o){var i;if(this.propType==="unidimensional")i=o*this.mult,mathAbs(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var _=0,$=this.v.length;_<$;)i=o[_]*this.mult,mathAbs(this.v[_]-i)>1e-5&&(this.v[_]=i,this._mdf=!0),_+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var o,i=this.effectsSequence.length,_=this.kf?this.pv:this.data.k;for(o=0;o<i;o+=1)_=this.effectsSequence[o](_);this.setVValue(_),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(o){this.effectsSequence.push(o),this.container.addDynamicProperty(this)}function ValueProperty(o,i,_,$){this.propType="unidimensional",this.mult=_||1,this.data=i,this.v=_?i.k*_:i.k,this.pv=i.k,this._mdf=!1,this.elem=o,this.container=$,this.comp=o.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(o,i,_,$){this.propType="multidimensional",this.mult=_||1,this.data=i,this._mdf=!1,this.elem=o,this.container=$,this.comp=o.comp,this.k=!1,this.kf=!1,this.frameId=-1;var j,_e=i.k.length;for(this.v=createTypedArray("float32",_e),this.pv=createTypedArray("float32",_e),this.vel=createTypedArray("float32",_e),j=0;j<_e;j+=1)this.v[j]=i.k[j]*this.mult,this.pv[j]=i.k[j];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(o,i,_,$){this.propType="unidimensional",this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=_||1,this.elem=o,this.container=$,this.comp=o.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(o,i,_,$){this.propType="multidimensional";var j,_e=i.k.length,tt,rt,nt,it;for(j=0;j<_e-1;j+=1)i.k[j].to&&i.k[j].s&&i.k[j+1]&&i.k[j+1].s&&(tt=i.k[j].s,rt=i.k[j+1].s,nt=i.k[j].to,it=i.k[j].ti,(tt.length===2&&!(tt[0]===rt[0]&&tt[1]===rt[1])&&bez.pointOnLine2D(tt[0],tt[1],rt[0],rt[1],tt[0]+nt[0],tt[1]+nt[1])&&bez.pointOnLine2D(tt[0],tt[1],rt[0],rt[1],rt[0]+it[0],rt[1]+it[1])||tt.length===3&&!(tt[0]===rt[0]&&tt[1]===rt[1]&&tt[2]===rt[2])&&bez.pointOnLine3D(tt[0],tt[1],tt[2],rt[0],rt[1],rt[2],tt[0]+nt[0],tt[1]+nt[1],tt[2]+nt[2])&&bez.pointOnLine3D(tt[0],tt[1],tt[2],rt[0],rt[1],rt[2],rt[0]+it[0],rt[1]+it[1],rt[2]+it[2]))&&(i.k[j].to=null,i.k[j].ti=null),tt[0]===rt[0]&&tt[1]===rt[1]&&nt[0]===0&&nt[1]===0&&it[0]===0&&it[1]===0&&(tt.length===2||tt[2]===rt[2]&&nt[2]===0&&it[2]===0)&&(i.k[j].to=null,i.k[j].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=i,this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=_||1,this.elem=o,this.container=$,this.comp=o.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ot=i.k[0].s.length;for(this.v=createTypedArray("float32",ot),this.pv=createTypedArray("float32",ot),j=0;j<ot;j+=1)this.v[j]=initFrame,this.pv[j]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ot)},this.addEffect=addEffect}var PropertyFactory=function(){function o(_,$,j,_e,tt){$.sid&&($=_.globalData.slotManager.getProp($));var rt;if(!$.k.length)rt=new ValueProperty(_,$,_e,tt);else if(typeof $.k[0]=="number")rt=new MultiDimensionalProperty(_,$,_e,tt);else switch(j){case 0:rt=new KeyframedValueProperty(_,$,_e,tt);break;case 1:rt=new KeyframedMultidimensionalProperty(_,$,_e,tt);break}return rt.effectsSequence.length&&tt.addDynamicProperty(rt),rt}var i={getProp:o};return i}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&(this.dynamicProperties.push(i),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var i,_=this.dynamicProperties.length;for(i=0;i<_;i+=1)this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(i){this.container=i,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function o(){return createTypedArray("float32",2)}return poolFactory(8,o)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(o,i){this.c=o,this.setLength(i);for(var _=0;_<i;)this.v[_]=pointPool.newElement(),this.o[_]=pointPool.newElement(),this.i[_]=pointPool.newElement(),_+=1},ShapePath.prototype.setLength=function(o){for(;this._maxLength<o;)this.doubleArrayLength();this._length=o},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(o,i,_,$,j){var _e;switch(this._length=Math.max(this._length,$+1),this._length>=this._maxLength&&this.doubleArrayLength(),_){case"v":_e=this.v;break;case"i":_e=this.i;break;case"o":_e=this.o;break;default:_e=[];break}(!_e[$]||_e[$]&&!j)&&(_e[$]=pointPool.newElement()),_e[$][0]=o,_e[$][1]=i},ShapePath.prototype.setTripleAt=function(o,i,_,$,j,_e,tt,rt){this.setXYAt(o,i,"v",tt,rt),this.setXYAt(_,$,"o",tt,rt),this.setXYAt(j,_e,"i",tt,rt)},ShapePath.prototype.reverse=function(){var o=new ShapePath;o.setPathData(this.c,this._length);var i=this.v,_=this.o,$=this.i,j=0;this.c&&(o.setTripleAt(i[0][0],i[0][1],$[0][0],$[0][1],_[0][0],_[0][1],0,!1),j=1);var _e=this._length-1,tt=this._length,rt;for(rt=j;rt<tt;rt+=1)o.setTripleAt(i[_e][0],i[_e][1],$[_e][0],$[_e][1],_[_e][0],_[_e][1],rt,!1),_e-=1;return o},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function o(){return new ShapePath}function i(j){var _e=j._length,tt;for(tt=0;tt<_e;tt+=1)pointPool.release(j.v[tt]),pointPool.release(j.i[tt]),pointPool.release(j.o[tt]),j.v[tt]=null,j.i[tt]=null,j.o[tt]=null;j._length=0,j.c=!1}function _(j){var _e=$.newElement(),tt,rt=j._length===void 0?j.v.length:j._length;for(_e.setLength(rt),_e.c=j.c,tt=0;tt<rt;tt+=1)_e.setTripleAt(j.v[tt][0],j.v[tt][1],j.o[tt][0],j.o[tt][1],j.i[tt][0],j.i[tt][1],tt);return _e}var $=poolFactory(4,o,i);return $.clone=_,$}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(o){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=o,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var o;for(o=0;o<this._length;o+=1)shapePool.release(this.shapes[o]);this._length=0};var shapeCollectionPool=function(){var o={newShapeCollection:j,release:_e},i=0,_=4,$=createSizedArray(_);function j(){var tt;return i?(i-=1,tt=$[i]):tt=new ShapeCollection,tt}function _e(tt){var rt,nt=tt._length;for(rt=0;rt<nt;rt+=1)shapePool.release(tt.shapes[rt]);tt._length=0,i===_&&($=pooling.double($),_*=2),$[i]=tt,i+=1}return o}(),ShapePropertyFactory=function(){var o=-999999;function i(pt,Pt,$t){var Ot=$t.lastIndex,It,Dt,Lt,Bt,jt,Ut,Gt,qt,Jt,er=this.keyframes;if(pt<er[0].t-this.offsetTime)It=er[0].s[0],Lt=!0,Ot=0;else if(pt>=er[er.length-1].t-this.offsetTime)It=er[er.length-1].s?er[er.length-1].s[0]:er[er.length-2].e[0],Lt=!0;else{for(var Kt=Ot,zt=er.length-1,Ht=!0,Ft,Vt,Yt;Ht&&(Ft=er[Kt],Vt=er[Kt+1],!(Vt.t-this.offsetTime>pt));)Kt<zt-1?Kt+=1:Ht=!1;if(Yt=this.keyframesMetadata[Kt]||{},Lt=Ft.h===1,Ot=Kt,!Lt){if(pt>=Vt.t-this.offsetTime)qt=1;else if(pt<Ft.t-this.offsetTime)qt=0;else{var Zt;Yt.__fnct?Zt=Yt.__fnct:(Zt=BezierFactory.getBezierEasing(Ft.o.x,Ft.o.y,Ft.i.x,Ft.i.y).get,Yt.__fnct=Zt),qt=Zt((pt-(Ft.t-this.offsetTime))/(Vt.t-this.offsetTime-(Ft.t-this.offsetTime)))}Dt=Vt.s?Vt.s[0]:Ft.e[0]}It=Ft.s[0]}for(Ut=Pt._length,Gt=It.i[0].length,$t.lastIndex=Ot,Bt=0;Bt<Ut;Bt+=1)for(jt=0;jt<Gt;jt+=1)Jt=Lt?It.i[Bt][jt]:It.i[Bt][jt]+(Dt.i[Bt][jt]-It.i[Bt][jt])*qt,Pt.i[Bt][jt]=Jt,Jt=Lt?It.o[Bt][jt]:It.o[Bt][jt]+(Dt.o[Bt][jt]-It.o[Bt][jt])*qt,Pt.o[Bt][jt]=Jt,Jt=Lt?It.v[Bt][jt]:It.v[Bt][jt]+(Dt.v[Bt][jt]-It.v[Bt][jt])*qt,Pt.v[Bt][jt]=Jt}function _(){var pt=this.comp.renderedFrame-this.offsetTime,Pt=this.keyframes[0].t-this.offsetTime,$t=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ot=this._caching.lastFrame;return Ot!==o&&(Ot<Pt&&pt<Pt||Ot>$t&&pt>$t)||(this._caching.lastIndex=Ot<pt?this._caching.lastIndex:0,this.interpolateShape(pt,this.pv,this._caching)),this._caching.lastFrame=pt,this.pv}function $(){this.paths=this.localShapeCollection}function j(pt,Pt){if(pt._length!==Pt._length||pt.c!==Pt.c)return!1;var $t,Ot=pt._length;for($t=0;$t<Ot;$t+=1)if(pt.v[$t][0]!==Pt.v[$t][0]||pt.v[$t][1]!==Pt.v[$t][1]||pt.o[$t][0]!==Pt.o[$t][0]||pt.o[$t][1]!==Pt.o[$t][1]||pt.i[$t][0]!==Pt.i[$t][0]||pt.i[$t][1]!==Pt.i[$t][1])return!1;return!0}function _e(pt){j(this.v,pt)||(this.v=shapePool.clone(pt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function tt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var pt;this.kf?pt=this.pv:this.data.ks?pt=this.data.ks.k:pt=this.data.pt.k;var Pt,$t=this.effectsSequence.length;for(Pt=0;Pt<$t;Pt+=1)pt=this.effectsSequence[Pt](pt);this.setVValue(pt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function rt(pt,Pt,$t){this.propType="shape",this.comp=pt.comp,this.container=pt,this.elem=pt,this.data=Pt,this.k=!1,this.kf=!1,this._mdf=!1;var Ot=$t===3?Pt.pt.k:Pt.ks.k;this.v=shapePool.clone(Ot),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=$,this.effectsSequence=[]}function nt(pt){this.effectsSequence.push(pt),this.container.addDynamicProperty(this)}rt.prototype.interpolateShape=i,rt.prototype.getValue=tt,rt.prototype.setVValue=_e,rt.prototype.addEffect=nt;function it(pt,Pt,$t){this.propType="shape",this.comp=pt.comp,this.elem=pt,this.container=pt,this.offsetTime=pt.data.st,this.keyframes=$t===3?Pt.pt.k:Pt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ot=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ot),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=o,this.reset=$,this._caching={lastFrame:o,lastIndex:0},this.effectsSequence=[_.bind(this)]}it.prototype.getValue=tt,it.prototype.interpolateShape=i,it.prototype.setVValue=_e,it.prototype.addEffect=nt;var ot=function(){var pt=roundCorner;function Pt($t,Ot){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ot.d,this.elem=$t,this.comp=$t.comp,this.frameId=-1,this.initDynamicPropertyContainer($t),this.p=PropertyFactory.getProp($t,Ot.p,1,0,this),this.s=PropertyFactory.getProp($t,Ot.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Pt.prototype={reset:$,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ot=this.p.v[0],It=this.p.v[1],Dt=this.s.v[0]/2,Lt=this.s.v[1]/2,Bt=this.d!==3,jt=this.v;jt.v[0][0]=Ot,jt.v[0][1]=It-Lt,jt.v[1][0]=Bt?Ot+Dt:Ot-Dt,jt.v[1][1]=It,jt.v[2][0]=Ot,jt.v[2][1]=It+Lt,jt.v[3][0]=Bt?Ot-Dt:Ot+Dt,jt.v[3][1]=It,jt.i[0][0]=Bt?Ot-Dt*pt:Ot+Dt*pt,jt.i[0][1]=It-Lt,jt.i[1][0]=Bt?Ot+Dt:Ot-Dt,jt.i[1][1]=It-Lt*pt,jt.i[2][0]=Bt?Ot+Dt*pt:Ot-Dt*pt,jt.i[2][1]=It+Lt,jt.i[3][0]=Bt?Ot-Dt:Ot+Dt,jt.i[3][1]=It+Lt*pt,jt.o[0][0]=Bt?Ot+Dt*pt:Ot-Dt*pt,jt.o[0][1]=It-Lt,jt.o[1][0]=Bt?Ot+Dt:Ot-Dt,jt.o[1][1]=It+Lt*pt,jt.o[2][0]=Bt?Ot-Dt*pt:Ot+Dt*pt,jt.o[2][1]=It+Lt,jt.o[3][0]=Bt?Ot-Dt:Ot+Dt,jt.o[3][1]=It-Lt*pt}},extendPrototype([DynamicPropertyContainer],Pt),Pt}(),lt=function(){function pt(Pt,$t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Pt,this.comp=Pt.comp,this.data=$t,this.frameId=-1,this.d=$t.d,this.initDynamicPropertyContainer(Pt),$t.sy===1?(this.ir=PropertyFactory.getProp(Pt,$t.ir,0,0,this),this.is=PropertyFactory.getProp(Pt,$t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Pt,$t.pt,0,0,this),this.p=PropertyFactory.getProp(Pt,$t.p,1,0,this),this.r=PropertyFactory.getProp(Pt,$t.r,0,degToRads,this),this.or=PropertyFactory.getProp(Pt,$t.or,0,0,this),this.os=PropertyFactory.getProp(Pt,$t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return pt.prototype={reset:$,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var $t=Math.floor(this.pt.v)*2,Ot=Math.PI*2/$t,It=!0,Dt=this.or.v,Lt=this.ir.v,Bt=this.os.v,jt=this.is.v,Ut=2*Math.PI*Dt/($t*2),Gt=2*Math.PI*Lt/($t*2),qt,Jt,er,Kt,zt=-Math.PI/2;zt+=this.r.v;var Ht=this.data.d===3?-1:1;for(this.v._length=0,qt=0;qt<$t;qt+=1){Jt=It?Dt:Lt,er=It?Bt:jt,Kt=It?Ut:Gt;var Ft=Jt*Math.cos(zt),Vt=Jt*Math.sin(zt),Yt=Ft===0&&Vt===0?0:Vt/Math.sqrt(Ft*Ft+Vt*Vt),Zt=Ft===0&&Vt===0?0:-Ft/Math.sqrt(Ft*Ft+Vt*Vt);Ft+=+this.p.v[0],Vt+=+this.p.v[1],this.v.setTripleAt(Ft,Vt,Ft-Yt*Kt*er*Ht,Vt-Zt*Kt*er*Ht,Ft+Yt*Kt*er*Ht,Vt+Zt*Kt*er*Ht,qt,!0),It=!It,zt+=Ot*Ht}},convertPolygonToPath:function(){var $t=Math.floor(this.pt.v),Ot=Math.PI*2/$t,It=this.or.v,Dt=this.os.v,Lt=2*Math.PI*It/($t*4),Bt,jt=-Math.PI*.5,Ut=this.data.d===3?-1:1;for(jt+=this.r.v,this.v._length=0,Bt=0;Bt<$t;Bt+=1){var Gt=It*Math.cos(jt),qt=It*Math.sin(jt),Jt=Gt===0&&qt===0?0:qt/Math.sqrt(Gt*Gt+qt*qt),er=Gt===0&&qt===0?0:-Gt/Math.sqrt(Gt*Gt+qt*qt);Gt+=+this.p.v[0],qt+=+this.p.v[1],this.v.setTripleAt(Gt,qt,Gt-Jt*Lt*Dt*Ut,qt-er*Lt*Dt*Ut,Gt+Jt*Lt*Dt*Ut,qt+er*Lt*Dt*Ut,Bt,!0),jt+=Ot*Ut}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],pt),pt}(),ft=function(){function pt(Pt,$t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Pt,this.comp=Pt.comp,this.frameId=-1,this.d=$t.d,this.initDynamicPropertyContainer(Pt),this.p=PropertyFactory.getProp(Pt,$t.p,1,0,this),this.s=PropertyFactory.getProp(Pt,$t.s,1,0,this),this.r=PropertyFactory.getProp(Pt,$t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return pt.prototype={convertRectToPath:function(){var $t=this.p.v[0],Ot=this.p.v[1],It=this.s.v[0]/2,Dt=this.s.v[1]/2,Lt=bmMin(It,Dt,this.r.v),Bt=Lt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt($t+It,Ot-Dt+Lt,$t+It,Ot-Dt+Lt,$t+It,Ot-Dt+Bt,0,!0),this.v.setTripleAt($t+It,Ot+Dt-Lt,$t+It,Ot+Dt-Bt,$t+It,Ot+Dt-Lt,1,!0),Lt!==0?(this.v.setTripleAt($t+It-Lt,Ot+Dt,$t+It-Lt,Ot+Dt,$t+It-Bt,Ot+Dt,2,!0),this.v.setTripleAt($t-It+Lt,Ot+Dt,$t-It+Bt,Ot+Dt,$t-It+Lt,Ot+Dt,3,!0),this.v.setTripleAt($t-It,Ot+Dt-Lt,$t-It,Ot+Dt-Lt,$t-It,Ot+Dt-Bt,4,!0),this.v.setTripleAt($t-It,Ot-Dt+Lt,$t-It,Ot-Dt+Bt,$t-It,Ot-Dt+Lt,5,!0),this.v.setTripleAt($t-It+Lt,Ot-Dt,$t-It+Lt,Ot-Dt,$t-It+Bt,Ot-Dt,6,!0),this.v.setTripleAt($t+It-Lt,Ot-Dt,$t+It-Bt,Ot-Dt,$t+It-Lt,Ot-Dt,7,!0)):(this.v.setTripleAt($t-It,Ot+Dt,$t-It+Bt,Ot+Dt,$t-It,Ot+Dt,2),this.v.setTripleAt($t-It,Ot-Dt,$t-It,Ot-Dt+Bt,$t-It,Ot-Dt,3))):(this.v.setTripleAt($t+It,Ot-Dt+Lt,$t+It,Ot-Dt+Bt,$t+It,Ot-Dt+Lt,0,!0),Lt!==0?(this.v.setTripleAt($t+It-Lt,Ot-Dt,$t+It-Lt,Ot-Dt,$t+It-Bt,Ot-Dt,1,!0),this.v.setTripleAt($t-It+Lt,Ot-Dt,$t-It+Bt,Ot-Dt,$t-It+Lt,Ot-Dt,2,!0),this.v.setTripleAt($t-It,Ot-Dt+Lt,$t-It,Ot-Dt+Lt,$t-It,Ot-Dt+Bt,3,!0),this.v.setTripleAt($t-It,Ot+Dt-Lt,$t-It,Ot+Dt-Bt,$t-It,Ot+Dt-Lt,4,!0),this.v.setTripleAt($t-It+Lt,Ot+Dt,$t-It+Lt,Ot+Dt,$t-It+Bt,Ot+Dt,5,!0),this.v.setTripleAt($t+It-Lt,Ot+Dt,$t+It-Bt,Ot+Dt,$t+It-Lt,Ot+Dt,6,!0),this.v.setTripleAt($t+It,Ot+Dt-Lt,$t+It,Ot+Dt-Lt,$t+It,Ot+Dt-Bt,7,!0)):(this.v.setTripleAt($t-It,Ot-Dt,$t-It+Bt,Ot-Dt,$t-It,Ot-Dt,1,!0),this.v.setTripleAt($t-It,Ot+Dt,$t-It,Ot+Dt-Bt,$t-It,Ot+Dt,2,!0),this.v.setTripleAt($t+It,Ot+Dt,$t+It-Bt,Ot+Dt,$t+It,Ot+Dt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:$},extendPrototype([DynamicPropertyContainer],pt),pt}();function _t(pt,Pt,$t){var Ot;if($t===3||$t===4){var It=$t===3?Pt.pt:Pt.ks,Dt=It.k;Dt.length?Ot=new it(pt,Pt,$t):Ot=new rt(pt,Pt,$t)}else $t===5?Ot=new ft(pt,Pt):$t===6?Ot=new ot(pt,Pt):$t===7&&(Ot=new lt(pt,Pt));return Ot.k&&pt.addDynamicProperty(Ot),Ot}function At(){return rt}function Tt(){return it}var Mt={};return Mt.getShapeProp=_t,Mt.getConstructorFunction=At,Mt.getKeyframedConstructorFunction=Tt,Mt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var o=Math.cos,i=Math.sin,_=Math.tan,$=Math.round;function j(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function _e(Ft){if(Ft===0)return this;var Vt=o(Ft),Yt=i(Ft);return this._t(Vt,-Yt,0,0,Yt,Vt,0,0,0,0,1,0,0,0,0,1)}function tt(Ft){if(Ft===0)return this;var Vt=o(Ft),Yt=i(Ft);return this._t(1,0,0,0,0,Vt,-Yt,0,0,Yt,Vt,0,0,0,0,1)}function rt(Ft){if(Ft===0)return this;var Vt=o(Ft),Yt=i(Ft);return this._t(Vt,0,Yt,0,0,1,0,0,-Yt,0,Vt,0,0,0,0,1)}function nt(Ft){if(Ft===0)return this;var Vt=o(Ft),Yt=i(Ft);return this._t(Vt,-Yt,0,0,Yt,Vt,0,0,0,0,1,0,0,0,0,1)}function it(Ft,Vt){return this._t(1,Vt,Ft,1,0,0)}function ot(Ft,Vt){return this.shear(_(Ft),_(Vt))}function lt(Ft,Vt){var Yt=o(Vt),Zt=i(Vt);return this._t(Yt,Zt,0,0,-Zt,Yt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_(Ft),1,0,0,0,0,1,0,0,0,0,1)._t(Yt,-Zt,0,0,Zt,Yt,0,0,0,0,1,0,0,0,0,1)}function ft(Ft,Vt,Yt){return!Yt&&Yt!==0&&(Yt=1),Ft===1&&Vt===1&&Yt===1?this:this._t(Ft,0,0,0,0,Vt,0,0,0,0,Yt,0,0,0,0,1)}function _t(Ft,Vt,Yt,Zt,nr,cr,vr,Tr,ar,ur,Sr,gr,xr,Er,dr,Ar){return this.props[0]=Ft,this.props[1]=Vt,this.props[2]=Yt,this.props[3]=Zt,this.props[4]=nr,this.props[5]=cr,this.props[6]=vr,this.props[7]=Tr,this.props[8]=ar,this.props[9]=ur,this.props[10]=Sr,this.props[11]=gr,this.props[12]=xr,this.props[13]=Er,this.props[14]=dr,this.props[15]=Ar,this}function At(Ft,Vt,Yt){return Yt=Yt||0,Ft!==0||Vt!==0||Yt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Ft,Vt,Yt,1):this}function Tt(Ft,Vt,Yt,Zt,nr,cr,vr,Tr,ar,ur,Sr,gr,xr,Er,dr,Ar){var mr=this.props;if(Ft===1&&Vt===0&&Yt===0&&Zt===0&&nr===0&&cr===1&&vr===0&&Tr===0&&ar===0&&ur===0&&Sr===1&&gr===0)return mr[12]=mr[12]*Ft+mr[15]*xr,mr[13]=mr[13]*cr+mr[15]*Er,mr[14]=mr[14]*Sr+mr[15]*dr,mr[15]*=Ar,this._identityCalculated=!1,this;var tr=mr[0],Mr=mr[1],Lr=mr[2],Wr=mr[3],Cr=mr[4],an=mr[5],Nr=mr[6],Gr=mr[7],rr=mr[8],Xt=mr[9],lr=mr[10],yr=mr[11],_r=mr[12],pr=mr[13],Hr=mr[14],Or=mr[15];return mr[0]=tr*Ft+Mr*nr+Lr*ar+Wr*xr,mr[1]=tr*Vt+Mr*cr+Lr*ur+Wr*Er,mr[2]=tr*Yt+Mr*vr+Lr*Sr+Wr*dr,mr[3]=tr*Zt+Mr*Tr+Lr*gr+Wr*Ar,mr[4]=Cr*Ft+an*nr+Nr*ar+Gr*xr,mr[5]=Cr*Vt+an*cr+Nr*ur+Gr*Er,mr[6]=Cr*Yt+an*vr+Nr*Sr+Gr*dr,mr[7]=Cr*Zt+an*Tr+Nr*gr+Gr*Ar,mr[8]=rr*Ft+Xt*nr+lr*ar+yr*xr,mr[9]=rr*Vt+Xt*cr+lr*ur+yr*Er,mr[10]=rr*Yt+Xt*vr+lr*Sr+yr*dr,mr[11]=rr*Zt+Xt*Tr+lr*gr+yr*Ar,mr[12]=_r*Ft+pr*nr+Hr*ar+Or*xr,mr[13]=_r*Vt+pr*cr+Hr*ur+Or*Er,mr[14]=_r*Yt+pr*vr+Hr*Sr+Or*dr,mr[15]=_r*Zt+pr*Tr+Hr*gr+Or*Ar,this._identityCalculated=!1,this}function Mt(Ft){var Vt=Ft.props;return this.transform(Vt[0],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5],Vt[6],Vt[7],Vt[8],Vt[9],Vt[10],Vt[11],Vt[12],Vt[13],Vt[14],Vt[15])}function pt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Pt(Ft){for(var Vt=0;Vt<16;){if(Ft.props[Vt]!==this.props[Vt])return!1;Vt+=1}return!0}function $t(Ft){var Vt;for(Vt=0;Vt<16;Vt+=1)Ft.props[Vt]=this.props[Vt];return Ft}function Ot(Ft){var Vt;for(Vt=0;Vt<16;Vt+=1)this.props[Vt]=Ft[Vt]}function It(Ft,Vt,Yt){return{x:Ft*this.props[0]+Vt*this.props[4]+Yt*this.props[8]+this.props[12],y:Ft*this.props[1]+Vt*this.props[5]+Yt*this.props[9]+this.props[13],z:Ft*this.props[2]+Vt*this.props[6]+Yt*this.props[10]+this.props[14]}}function Dt(Ft,Vt,Yt){return Ft*this.props[0]+Vt*this.props[4]+Yt*this.props[8]+this.props[12]}function Lt(Ft,Vt,Yt){return Ft*this.props[1]+Vt*this.props[5]+Yt*this.props[9]+this.props[13]}function Bt(Ft,Vt,Yt){return Ft*this.props[2]+Vt*this.props[6]+Yt*this.props[10]+this.props[14]}function jt(){var Ft=this.props[0]*this.props[5]-this.props[1]*this.props[4],Vt=this.props[5]/Ft,Yt=-this.props[1]/Ft,Zt=-this.props[4]/Ft,nr=this.props[0]/Ft,cr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Ft,vr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Ft,Tr=new Matrix;return Tr.props[0]=Vt,Tr.props[1]=Yt,Tr.props[4]=Zt,Tr.props[5]=nr,Tr.props[12]=cr,Tr.props[13]=vr,Tr}function Ut(Ft){var Vt=this.getInverseMatrix();return Vt.applyToPointArray(Ft[0],Ft[1],Ft[2]||0)}function Gt(Ft){var Vt,Yt=Ft.length,Zt=[];for(Vt=0;Vt<Yt;Vt+=1)Zt[Vt]=Ut(Ft[Vt]);return Zt}function qt(Ft,Vt,Yt){var Zt=createTypedArray("float32",6);if(this.isIdentity())Zt[0]=Ft[0],Zt[1]=Ft[1],Zt[2]=Vt[0],Zt[3]=Vt[1],Zt[4]=Yt[0],Zt[5]=Yt[1];else{var nr=this.props[0],cr=this.props[1],vr=this.props[4],Tr=this.props[5],ar=this.props[12],ur=this.props[13];Zt[0]=Ft[0]*nr+Ft[1]*vr+ar,Zt[1]=Ft[0]*cr+Ft[1]*Tr+ur,Zt[2]=Vt[0]*nr+Vt[1]*vr+ar,Zt[3]=Vt[0]*cr+Vt[1]*Tr+ur,Zt[4]=Yt[0]*nr+Yt[1]*vr+ar,Zt[5]=Yt[0]*cr+Yt[1]*Tr+ur}return Zt}function Jt(Ft,Vt,Yt){var Zt;return this.isIdentity()?Zt=[Ft,Vt,Yt]:Zt=[Ft*this.props[0]+Vt*this.props[4]+Yt*this.props[8]+this.props[12],Ft*this.props[1]+Vt*this.props[5]+Yt*this.props[9]+this.props[13],Ft*this.props[2]+Vt*this.props[6]+Yt*this.props[10]+this.props[14]],Zt}function er(Ft,Vt){if(this.isIdentity())return Ft+","+Vt;var Yt=this.props;return Math.round((Ft*Yt[0]+Vt*Yt[4]+Yt[12])*100)/100+","+Math.round((Ft*Yt[1]+Vt*Yt[5]+Yt[13])*100)/100}function Kt(){for(var Ft=0,Vt=this.props,Yt="matrix3d(",Zt=1e4;Ft<16;)Yt+=$(Vt[Ft]*Zt)/Zt,Yt+=Ft===15?")":",",Ft+=1;return Yt}function zt(Ft){var Vt=1e4;return Ft<1e-6&&Ft>0||Ft>-1e-6&&Ft<0?$(Ft*Vt)/Vt:Ft}function Ht(){var Ft=this.props,Vt=zt(Ft[0]),Yt=zt(Ft[1]),Zt=zt(Ft[4]),nr=zt(Ft[5]),cr=zt(Ft[12]),vr=zt(Ft[13]);return"matrix("+Vt+","+Yt+","+Zt+","+nr+","+cr+","+vr+")"}return function(){this.reset=j,this.rotate=_e,this.rotateX=tt,this.rotateY=rt,this.rotateZ=nt,this.skew=ot,this.skewFromAxis=lt,this.shear=it,this.scale=ft,this.setTransform=_t,this.translate=At,this.transform=Tt,this.multiply=Mt,this.applyToPoint=It,this.applyToX=Dt,this.applyToY=Lt,this.applyToZ=Bt,this.applyToPointArray=Jt,this.applyToTriplePoints=qt,this.applyToPointStringified=er,this.toCSS=Kt,this.to2dCSS=Ht,this.clone=$t,this.cloneFromProps=Ot,this.equals=Pt,this.inversePoints=Gt,this.inversePoint=Ut,this.getInverseMatrix=jt,this._t=this.transform,this.isIdentity=pt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(o){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$3(o)}var lottie={};function setLocation(o){setLocationHref(o)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(o){setSubframeEnabled(o)}function setPrefix(o){setIdPrefix(o)}function loadAnimation(o){return animationManager.loadAnimation(o)}function setQuality(o){if(typeof o=="string")switch(o){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(o)&&o>1&&setDefaultCurveSegments(o)}function inBrowser(){return typeof navigator<"u"}function installPlugin(o,i){o==="expressions"&&setExpressionsPlugin(i)}function getFactory(o){switch(o){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(o){for(var i=queryString.split("&"),_=0;_<i.length;_+=1){var $=i[_].split("=");if(decodeURIComponent($[0])==o)return decodeURIComponent($[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(o){}var ShapeModifiers=function(){var o={},i={};o.registerModifier=_,o.getModifier=$;function _(j,_e){i[j]||(i[j]=_e)}function $(j,_e,tt){return new i[j](_e,tt)}return o}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(o){if(!this.closed){o.sh.container.addDynamicProperty(o.sh);var i={shape:o.sh,data:o,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(i),this.addShapeToModifier(i),this._isAnimated&&o.setAsAnimated()}},ShapeModifier.prototype.init=function(o,i){this.shapes=[],this.elem=o,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,i),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(o,i){this.s=PropertyFactory.getProp(o,i.s,0,.01,this),this.e=PropertyFactory.getProp(o,i.e,0,.01,this),this.o=PropertyFactory.getProp(o,i.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=i.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(o){o.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(o,i,_,$,j){var _e=[];i<=1?_e.push({s:o,e:i}):o>=1?_e.push({s:o-1,e:i-1}):(_e.push({s:o,e:1}),_e.push({s:0,e:i-1}));var tt=[],rt,nt=_e.length,it;for(rt=0;rt<nt;rt+=1)if(it=_e[rt],!(it.e*j<$||it.s*j>$+_)){var ot,lt;it.s*j<=$?ot=0:ot=(it.s*j-$)/_,it.e*j>=$+_?lt=1:lt=(it.e*j-$)/_,tt.push([ot,lt])}return tt.length||tt.push([0,0]),tt},TrimModifier.prototype.releasePathsData=function(o){var i,_=o.length;for(i=0;i<_;i+=1)segmentsLengthPool.release(o[i]);return o.length=0,o},TrimModifier.prototype.processShapes=function(o){var i,_;if(this._mdf||o){var $=this.o.v%360/360;if($<0&&($+=1),this.s.v>1?i=1+$:this.s.v<0?i=0+$:i=this.s.v+$,this.e.v>1?_=1+$:this.e.v<0?_=0+$:_=this.e.v+$,i>_){var j=i;i=_,_=j}i=Math.round(i*1e4)*1e-4,_=Math.round(_*1e4)*1e-4,this.sValue=i,this.eValue=_}else i=this.sValue,_=this.eValue;var _e,tt,rt=this.shapes.length,nt,it,ot,lt,ft,_t=0;if(_===i)for(tt=0;tt<rt;tt+=1)this.shapes[tt].localShapeCollection.releaseShapes(),this.shapes[tt].shape._mdf=!0,this.shapes[tt].shape.paths=this.shapes[tt].localShapeCollection,this._mdf&&(this.shapes[tt].pathsData.length=0);else if(_===1&&i===0||_===0&&i===1){if(this._mdf)for(tt=0;tt<rt;tt+=1)this.shapes[tt].pathsData.length=0,this.shapes[tt].shape._mdf=!0}else{var At=[],Tt,Mt;for(tt=0;tt<rt;tt+=1)if(Tt=this.shapes[tt],!Tt.shape._mdf&&!this._mdf&&!o&&this.m!==2)Tt.shape.paths=Tt.localShapeCollection;else{if(_e=Tt.shape.paths,it=_e._length,ft=0,!Tt.shape._mdf&&Tt.pathsData.length)ft=Tt.totalShapeLength;else{for(ot=this.releasePathsData(Tt.pathsData),nt=0;nt<it;nt+=1)lt=bez.getSegmentsLength(_e.shapes[nt]),ot.push(lt),ft+=lt.totalLength;Tt.totalShapeLength=ft,Tt.pathsData=ot}_t+=ft,Tt.shape._mdf=!0}var pt=i,Pt=_,$t=0,Ot;for(tt=rt-1;tt>=0;tt-=1)if(Tt=this.shapes[tt],Tt.shape._mdf){for(Mt=Tt.localShapeCollection,Mt.releaseShapes(),this.m===2&&rt>1?(Ot=this.calculateShapeEdges(i,_,Tt.totalShapeLength,$t,_t),$t+=Tt.totalShapeLength):Ot=[[pt,Pt]],it=Ot.length,nt=0;nt<it;nt+=1){pt=Ot[nt][0],Pt=Ot[nt][1],At.length=0,Pt<=1?At.push({s:Tt.totalShapeLength*pt,e:Tt.totalShapeLength*Pt}):pt>=1?At.push({s:Tt.totalShapeLength*(pt-1),e:Tt.totalShapeLength*(Pt-1)}):(At.push({s:Tt.totalShapeLength*pt,e:Tt.totalShapeLength}),At.push({s:0,e:Tt.totalShapeLength*(Pt-1)}));var It=this.addShapes(Tt,At[0]);if(At[0].s!==At[0].e){if(At.length>1){var Dt=Tt.shape.paths.shapes[Tt.shape.paths._length-1];if(Dt.c){var Lt=It.pop();this.addPaths(It,Mt),It=this.addShapes(Tt,At[1],Lt)}else this.addPaths(It,Mt),It=this.addShapes(Tt,At[1])}this.addPaths(It,Mt)}}Tt.shape.paths=Mt}}},TrimModifier.prototype.addPaths=function(o,i){var _,$=o.length;for(_=0;_<$;_+=1)i.addShape(o[_])},TrimModifier.prototype.addSegment=function(o,i,_,$,j,_e,tt){j.setXYAt(i[0],i[1],"o",_e),j.setXYAt(_[0],_[1],"i",_e+1),tt&&j.setXYAt(o[0],o[1],"v",_e),j.setXYAt($[0],$[1],"v",_e+1)},TrimModifier.prototype.addSegmentFromArray=function(o,i,_,$){i.setXYAt(o[1],o[5],"o",_),i.setXYAt(o[2],o[6],"i",_+1),$&&i.setXYAt(o[0],o[4],"v",_),i.setXYAt(o[3],o[7],"v",_+1)},TrimModifier.prototype.addShapes=function(o,i,_){var $=o.pathsData,j=o.shape.paths.shapes,_e,tt=o.shape.paths._length,rt,nt,it=0,ot,lt,ft,_t,At=[],Tt,Mt=!0;for(_?(lt=_._length,Tt=_._length):(_=shapePool.newElement(),lt=0,Tt=0),At.push(_),_e=0;_e<tt;_e+=1){for(ft=$[_e].lengths,_.c=j[_e].c,nt=j[_e].c?ft.length:ft.length+1,rt=1;rt<nt;rt+=1)if(ot=ft[rt-1],it+ot.addedLength<i.s)it+=ot.addedLength,_.c=!1;else if(it>i.e){_.c=!1;break}else i.s<=it&&i.e>=it+ot.addedLength?(this.addSegment(j[_e].v[rt-1],j[_e].o[rt-1],j[_e].i[rt],j[_e].v[rt],_,lt,Mt),Mt=!1):(_t=bez.getNewSegment(j[_e].v[rt-1],j[_e].v[rt],j[_e].o[rt-1],j[_e].i[rt],(i.s-it)/ot.addedLength,(i.e-it)/ot.addedLength,ft[rt-1]),this.addSegmentFromArray(_t,_,lt,Mt),Mt=!1,_.c=!1),it+=ot.addedLength,lt+=1;if(j[_e].c&&ft.length){if(ot=ft[rt-1],it<=i.e){var pt=ft[rt-1].addedLength;i.s<=it&&i.e>=it+pt?(this.addSegment(j[_e].v[rt-1],j[_e].o[rt-1],j[_e].i[0],j[_e].v[0],_,lt,Mt),Mt=!1):(_t=bez.getNewSegment(j[_e].v[rt-1],j[_e].v[0],j[_e].o[rt-1],j[_e].i[0],(i.s-it)/pt,(i.e-it)/pt,ft[rt-1]),this.addSegmentFromArray(_t,_,lt,Mt),Mt=!1,_.c=!1)}else _.c=!1;it+=ot.addedLength,lt+=1}if(_._length&&(_.setXYAt(_.v[Tt][0],_.v[Tt][1],"i",Tt),_.setXYAt(_.v[_._length-1][0],_.v[_._length-1][1],"o",_._length-1)),it>i.e)break;_e<tt-1&&(_=shapePool.newElement(),Mt=!0,At.push(_),lt=0)}return At};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,i.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(o,i){var _=i/100,$=[0,0],j=o._length,_e=0;for(_e=0;_e<j;_e+=1)$[0]+=o.v[_e][0],$[1]+=o.v[_e][1];$[0]/=j,$[1]/=j;var tt=shapePool.newElement();tt.c=o.c;var rt,nt,it,ot,lt,ft;for(_e=0;_e<j;_e+=1)rt=o.v[_e][0]+($[0]-o.v[_e][0])*_,nt=o.v[_e][1]+($[1]-o.v[_e][1])*_,it=o.o[_e][0]+($[0]-o.o[_e][0])*-_,ot=o.o[_e][1]+($[1]-o.o[_e][1])*-_,lt=o.i[_e][0]+($[0]-o.i[_e][0])*-_,ft=o.i[_e][1]+($[1]-o.i[_e][1])*-_,tt.setTripleAt(rt,nt,it,ot,lt,ft,_e);return tt},PuckerAndBloatModifier.prototype.processShapes=function(o){var i,_,$=this.shapes.length,j,_e,tt=this.amount.v;if(tt!==0){var rt,nt;for(_=0;_<$;_+=1){if(rt=this.shapes[_],nt=rt.localShapeCollection,!(!rt.shape._mdf&&!this._mdf&&!o))for(nt.releaseShapes(),rt.shape._mdf=!0,i=rt.shape.paths.shapes,_e=rt.shape.paths._length,j=0;j<_e;j+=1)nt.addShape(this.processPath(i[j],tt));rt.shape.paths=rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var o=[0,0];function i(nt){var it=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||it,this.a&&nt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&nt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&nt.skewFromAxis(-this.sk.v,this.sa.v),this.r?nt.rotate(-this.r.v):nt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?nt.translate(this.px.v,this.py.v,-this.pz.v):nt.translate(this.px.v,this.py.v,0):nt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function _(nt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||nt){var it;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ot,lt;if(it=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ot=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/it,0),lt=this.p.getValueAtTime(this.p.keyframes[0].t/it,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ot=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/it,0),lt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/it,0)):(ot=this.p.pv,lt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/it,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ot=[],lt=[];var ft=this.px,_t=this.py;ft._caching.lastFrame+ft.offsetTime<=ft.keyframes[0].t?(ot[0]=ft.getValueAtTime((ft.keyframes[0].t+.01)/it,0),ot[1]=_t.getValueAtTime((_t.keyframes[0].t+.01)/it,0),lt[0]=ft.getValueAtTime(ft.keyframes[0].t/it,0),lt[1]=_t.getValueAtTime(_t.keyframes[0].t/it,0)):ft._caching.lastFrame+ft.offsetTime>=ft.keyframes[ft.keyframes.length-1].t?(ot[0]=ft.getValueAtTime(ft.keyframes[ft.keyframes.length-1].t/it,0),ot[1]=_t.getValueAtTime(_t.keyframes[_t.keyframes.length-1].t/it,0),lt[0]=ft.getValueAtTime((ft.keyframes[ft.keyframes.length-1].t-.01)/it,0),lt[1]=_t.getValueAtTime((_t.keyframes[_t.keyframes.length-1].t-.01)/it,0)):(ot=[ft.pv,_t.pv],lt[0]=ft.getValueAtTime((ft._caching.lastFrame+ft.offsetTime-.01)/it,ft.offsetTime),lt[1]=_t.getValueAtTime((_t._caching.lastFrame+_t.offsetTime-.01)/it,_t.offsetTime))}else lt=o,ot=lt;this.v.rotate(-Math.atan2(ot[1]-lt[1],ot[0]-lt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function $(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function j(){}function _e(nt){this._addDynamicProperty(nt),this.elem.addDynamicProperty(nt),this._isDirty=!0}function tt(nt,it,ot){if(this.elem=nt,this.frameId=-1,this.propType="transform",this.data=it,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ot||nt),it.p&&it.p.s?(this.px=PropertyFactory.getProp(nt,it.p.x,0,0,this),this.py=PropertyFactory.getProp(nt,it.p.y,0,0,this),it.p.z&&(this.pz=PropertyFactory.getProp(nt,it.p.z,0,0,this))):this.p=PropertyFactory.getProp(nt,it.p||{k:[0,0,0]},1,0,this),it.rx){if(this.rx=PropertyFactory.getProp(nt,it.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(nt,it.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(nt,it.rz,0,degToRads,this),it.or.k[0].ti){var lt,ft=it.or.k.length;for(lt=0;lt<ft;lt+=1)it.or.k[lt].to=null,it.or.k[lt].ti=null}this.or=PropertyFactory.getProp(nt,it.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(nt,it.r||{k:0},0,degToRads,this);it.sk&&(this.sk=PropertyFactory.getProp(nt,it.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(nt,it.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(nt,it.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(nt,it.s||{k:[100,100,100]},1,.01,this),it.o?this.o=PropertyFactory.getProp(nt,it.o,0,.01,nt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}tt.prototype={applyToMatrix:i,getValue:_,precalculateMatrix:$,autoOrient:j},extendPrototype([DynamicPropertyContainer],tt),tt.prototype.addDynamicProperty=_e,tt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function rt(nt,it,ot){return new tt(nt,it,ot)}return{getTransformProperty:rt}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(o,i.c,0,null,this),this.o=PropertyFactory.getProp(o,i.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(o,i.tr,this),this.so=PropertyFactory.getProp(o,i.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(o,i.tr.eo,0,.01,this),this.data=i,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(o,i,_,$,j,_e){var tt=_e?-1:1,rt=$.s.v[0]+(1-$.s.v[0])*(1-j),nt=$.s.v[1]+(1-$.s.v[1])*(1-j);o.translate($.p.v[0]*tt*j,$.p.v[1]*tt*j,$.p.v[2]),i.translate(-$.a.v[0],-$.a.v[1],$.a.v[2]),i.rotate(-$.r.v*tt*j),i.translate($.a.v[0],$.a.v[1],$.a.v[2]),_.translate(-$.a.v[0],-$.a.v[1],$.a.v[2]),_.scale(_e?1/rt:rt,_e?1/nt:nt),_.translate($.a.v[0],$.a.v[1],$.a.v[2])},RepeaterModifier.prototype.init=function(o,i,_,$){for(this.elem=o,this.arr=i,this.pos=_,this.elemsData=$,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,i[_]);_>0;)_-=1,this._elements.unshift(i[_]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(o){var i,_=o.length;for(i=0;i<_;i+=1)o[i]._processed=!1,o[i].ty==="gr"&&this.resetElements(o[i].it)},RepeaterModifier.prototype.cloneElements=function(o){var i=JSON.parse(JSON.stringify(o));return this.resetElements(i),i},RepeaterModifier.prototype.changeGroupRender=function(o,i){var _,$=o.length;for(_=0;_<$;_+=1)o[_]._render=i,o[_].ty==="gr"&&this.changeGroupRender(o[_].it,i)},RepeaterModifier.prototype.processShapes=function(o){var i,_,$,j,_e,tt=!1;if(this._mdf||o){var rt=Math.ceil(this.c.v);if(this._groups.length<rt){for(;this._groups.length<rt;){var nt={it:this.cloneElements(this._elements),ty:"gr"};nt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,nt),this._groups.splice(0,0,nt),this._currentCopies+=1}this.elem.reloadShapes(),tt=!0}_e=0;var it;for($=0;$<=this._groups.length-1;$+=1){if(it=_e<rt,this._groups[$]._render=it,this.changeGroupRender(this._groups[$].it,it),!it){var ot=this.elemsData[$].it,lt=ot[ot.length-1];lt.transform.op.v!==0?(lt.transform.op._mdf=!0,lt.transform.op.v=0):lt.transform.op._mdf=!1}_e+=1}this._currentCopies=rt;var ft=this.o.v,_t=ft%1,At=ft>0?Math.floor(ft):Math.ceil(ft),Tt=this.pMatrix.props,Mt=this.rMatrix.props,pt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Pt=0;if(ft>0){for(;Pt<At;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Pt+=1;_t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,_t,!1),Pt+=_t)}else if(ft<0){for(;Pt>At;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Pt-=1;_t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-_t,!0),Pt-=_t)}$=this.data.m===1?0:this._currentCopies-1,j=this.data.m===1?1:-1,_e=this._currentCopies;for(var $t,Ot;_e;){if(i=this.elemsData[$].it,_=i[i.length-1].transform.mProps.v.props,Ot=_.length,i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*($/(this._currentCopies-1)),Pt!==0){for(($!==0&&j===1||$!==this._currentCopies-1&&j===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Mt[5],Mt[6],Mt[7],Mt[8],Mt[9],Mt[10],Mt[11],Mt[12],Mt[13],Mt[14],Mt[15]),this.matrix.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15]),this.matrix.transform(Tt[0],Tt[1],Tt[2],Tt[3],Tt[4],Tt[5],Tt[6],Tt[7],Tt[8],Tt[9],Tt[10],Tt[11],Tt[12],Tt[13],Tt[14],Tt[15]),$t=0;$t<Ot;$t+=1)_[$t]=this.matrix.props[$t];this.matrix.reset()}else for(this.matrix.reset(),$t=0;$t<Ot;$t+=1)_[$t]=this.matrix.props[$t];Pt+=1,_e-=1,$+=j}}else for(_e=this._currentCopies,$=0,j=1;_e;)i=this.elemsData[$].it,_=i[i.length-1].transform.mProps.v.props,i[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,_e-=1,$+=j;return tt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(o,i.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(o,i){var _=shapePool.newElement();_.c=o.c;var $,j=o._length,_e,tt,rt,nt,it,ot,lt=0,ft,_t,At,Tt,Mt,pt;for($=0;$<j;$+=1)_e=o.v[$],rt=o.o[$],tt=o.i[$],_e[0]===rt[0]&&_e[1]===rt[1]&&_e[0]===tt[0]&&_e[1]===tt[1]?($===0||$===j-1)&&!o.c?(_.setTripleAt(_e[0],_e[1],rt[0],rt[1],tt[0],tt[1],lt),lt+=1):($===0?nt=o.v[j-1]:nt=o.v[$-1],it=Math.sqrt(Math.pow(_e[0]-nt[0],2)+Math.pow(_e[1]-nt[1],2)),ot=it?Math.min(it/2,i)/it:0,Mt=_e[0]+(nt[0]-_e[0])*ot,ft=Mt,pt=_e[1]-(_e[1]-nt[1])*ot,_t=pt,At=ft-(ft-_e[0])*roundCorner,Tt=_t-(_t-_e[1])*roundCorner,_.setTripleAt(ft,_t,At,Tt,Mt,pt,lt),lt+=1,$===j-1?nt=o.v[0]:nt=o.v[$+1],it=Math.sqrt(Math.pow(_e[0]-nt[0],2)+Math.pow(_e[1]-nt[1],2)),ot=it?Math.min(it/2,i)/it:0,At=_e[0]+(nt[0]-_e[0])*ot,ft=At,Tt=_e[1]+(nt[1]-_e[1])*ot,_t=Tt,Mt=ft-(ft-_e[0])*roundCorner,pt=_t-(_t-_e[1])*roundCorner,_.setTripleAt(ft,_t,At,Tt,Mt,pt,lt),lt+=1):(_.setTripleAt(o.v[$][0],o.v[$][1],o.o[$][0],o.o[$][1],o.i[$][0],o.i[$][1],lt),lt+=1);return _},RoundCornersModifier.prototype.processShapes=function(o){var i,_,$=this.shapes.length,j,_e,tt=this.rd.v;if(tt!==0){var rt,nt;for(_=0;_<$;_+=1){if(rt=this.shapes[_],nt=rt.localShapeCollection,!(!rt.shape._mdf&&!this._mdf&&!o))for(nt.releaseShapes(),rt.shape._mdf=!0,i=rt.shape.paths.shapes,_e=rt.shape.paths._length,j=0;j<_e;j+=1)nt.addShape(this.processPath(i[j],tt));rt.shape.paths=rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(o,i){return Math.abs(o-i)*1e5<=Math.min(Math.abs(o),Math.abs(i))}function floatZero(o){return Math.abs(o)<=1e-5}function lerp(o,i,_){return o*(1-_)+i*_}function lerpPoint(o,i,_){return[lerp(o[0],i[0],_),lerp(o[1],i[1],_)]}function quadRoots(o,i,_){if(o===0)return[];var $=i*i-4*o*_;if($<0)return[];var j=-i/(2*o);if($===0)return[j];var _e=Math.sqrt($)/(2*o);return[j-_e,j+_e]}function polynomialCoefficients(o,i,_,$){return[-o+3*i-3*_+$,3*o-6*i+3*_,-3*o+3*i,o]}function singlePoint(o){return new PolynomialBezier(o,o,o,o,!1)}function PolynomialBezier(o,i,_,$,j){j&&pointEqual(o,i)&&(i=lerpPoint(o,$,1/3)),j&&pointEqual(_,$)&&(_=lerpPoint(o,$,2/3));var _e=polynomialCoefficients(o[0],i[0],_[0],$[0]),tt=polynomialCoefficients(o[1],i[1],_[1],$[1]);this.a=[_e[0],tt[0]],this.b=[_e[1],tt[1]],this.c=[_e[2],tt[2]],this.d=[_e[3],tt[3]],this.points=[o,i,_,$]}PolynomialBezier.prototype.point=function(o){return[((this.a[0]*o+this.b[0])*o+this.c[0])*o+this.d[0],((this.a[1]*o+this.b[1])*o+this.c[1])*o+this.d[1]]},PolynomialBezier.prototype.derivative=function(o){return[(3*o*this.a[0]+2*this.b[0])*o+this.c[0],(3*o*this.a[1]+2*this.b[1])*o+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(o){var i=this.derivative(o);return Math.atan2(i[1],i[0])},PolynomialBezier.prototype.normalAngle=function(o){var i=this.derivative(o);return Math.atan2(i[0],i[1])},PolynomialBezier.prototype.inflectionPoints=function(){var o=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(o))return[];var i=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/o,_=i*i-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/o;if(_<0)return[];var $=Math.sqrt(_);return floatZero($)?$>0&&$<1?[i]:[]:[i-$,i+$].filter(function(j){return j>0&&j<1})},PolynomialBezier.prototype.split=function(o){if(o<=0)return[singlePoint(this.points[0]),this];if(o>=1)return[this,singlePoint(this.points[this.points.length-1])];var i=lerpPoint(this.points[0],this.points[1],o),_=lerpPoint(this.points[1],this.points[2],o),$=lerpPoint(this.points[2],this.points[3],o),j=lerpPoint(i,_,o),_e=lerpPoint(_,$,o),tt=lerpPoint(j,_e,o);return[new PolynomialBezier(this.points[0],i,j,tt,!0),new PolynomialBezier(tt,_e,$,this.points[3],!0)]};function extrema(o,i){var _=o.points[0][i],$=o.points[o.points.length-1][i];if(_>$){var j=$;$=_,_=j}for(var _e=quadRoots(3*o.a[i],2*o.b[i],o.c[i]),tt=0;tt<_e.length;tt+=1)if(_e[tt]>0&&_e[tt]<1){var rt=o.point(_e[tt])[i];rt<_?_=rt:rt>$&&($=rt)}return{min:_,max:$}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var o=this.bounds();return{left:o.x.min,right:o.x.max,top:o.y.min,bottom:o.y.max,width:o.x.max-o.x.min,height:o.y.max-o.y.min,cx:(o.x.max+o.x.min)/2,cy:(o.y.max+o.y.min)/2}};function intersectData(o,i,_){var $=o.boundingBox();return{cx:$.cx,cy:$.cy,width:$.width,height:$.height,bez:o,t:(i+_)/2,t1:i,t2:_}}function splitData(o){var i=o.bez.split(.5);return[intersectData(i[0],o.t1,o.t),intersectData(i[1],o.t,o.t2)]}function boxIntersect(o,i){return Math.abs(o.cx-i.cx)*2<o.width+i.width&&Math.abs(o.cy-i.cy)*2<o.height+i.height}function intersectsImpl(o,i,_,$,j,_e){if(boxIntersect(o,i)){if(_>=_e||o.width<=$&&o.height<=$&&i.width<=$&&i.height<=$){j.push([o.t,i.t]);return}var tt=splitData(o),rt=splitData(i);intersectsImpl(tt[0],rt[0],_+1,$,j,_e),intersectsImpl(tt[0],rt[1],_+1,$,j,_e),intersectsImpl(tt[1],rt[0],_+1,$,j,_e),intersectsImpl(tt[1],rt[1],_+1,$,j,_e)}}PolynomialBezier.prototype.intersections=function(o,i,_){i===void 0&&(i=2),_===void 0&&(_=7);var $=[];return intersectsImpl(intersectData(this,0,1),intersectData(o,0,1),0,i,$,_),$},PolynomialBezier.shapeSegment=function(o,i){var _=(i+1)%o.length();return new PolynomialBezier(o.v[i],o.o[i],o.i[_],o.v[_],!0)},PolynomialBezier.shapeSegmentInverted=function(o,i){var _=(i+1)%o.length();return new PolynomialBezier(o.v[_],o.i[_],o.o[i],o.v[i],!0)};function crossProduct(o,i){return[o[1]*i[2]-o[2]*i[1],o[2]*i[0]-o[0]*i[2],o[0]*i[1]-o[1]*i[0]]}function lineIntersection(o,i,_,$){var j=[o[0],o[1],1],_e=[i[0],i[1],1],tt=[_[0],_[1],1],rt=[$[0],$[1],1],nt=crossProduct(crossProduct(j,_e),crossProduct(tt,rt));return floatZero(nt[2])?null:[nt[0]/nt[2],nt[1]/nt[2]]}function polarOffset(o,i,_){return[o[0]+Math.cos(i)*_,o[1]-Math.sin(i)*_]}function pointDistance(o,i){return Math.hypot(o[0]-i[0],o[1]-i[1])}function pointEqual(o,i){return floatEqual(o[0],i[0])&&floatEqual(o[1],i[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(o,i.s,0,null,this),this.frequency=PropertyFactory.getProp(o,i.r,0,null,this),this.pointsType=PropertyFactory.getProp(o,i.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(o,i,_,$,j,_e,tt){var rt=_-Math.PI/2,nt=_+Math.PI/2,it=i[0]+Math.cos(_)*$*j,ot=i[1]-Math.sin(_)*$*j;o.setTripleAt(it,ot,it+Math.cos(rt)*_e,ot-Math.sin(rt)*_e,it+Math.cos(nt)*tt,ot-Math.sin(nt)*tt,o.length())}function getPerpendicularVector(o,i){var _=[i[0]-o[0],i[1]-o[1]],$=-Math.PI*.5,j=[Math.cos($)*_[0]-Math.sin($)*_[1],Math.sin($)*_[0]+Math.cos($)*_[1]];return j}function getProjectingAngle(o,i){var _=i===0?o.length()-1:i-1,$=(i+1)%o.length(),j=o.v[_],_e=o.v[$],tt=getPerpendicularVector(j,_e);return Math.atan2(0,1)-Math.atan2(tt[1],tt[0])}function zigZagCorner(o,i,_,$,j,_e,tt){var rt=getProjectingAngle(i,_),nt=i.v[_%i._length],it=i.v[_===0?i._length-1:_-1],ot=i.v[(_+1)%i._length],lt=_e===2?Math.sqrt(Math.pow(nt[0]-it[0],2)+Math.pow(nt[1]-it[1],2)):0,ft=_e===2?Math.sqrt(Math.pow(nt[0]-ot[0],2)+Math.pow(nt[1]-ot[1],2)):0;setPoint(o,i.v[_%i._length],rt,tt,$,ft/((j+1)*2),lt/((j+1)*2))}function zigZagSegment(o,i,_,$,j,_e){for(var tt=0;tt<$;tt+=1){var rt=(tt+1)/($+1),nt=j===2?Math.sqrt(Math.pow(i.points[3][0]-i.points[0][0],2)+Math.pow(i.points[3][1]-i.points[0][1],2)):0,it=i.normalAngle(rt),ot=i.point(rt);setPoint(o,ot,it,_e,_,nt/(($+1)*2),nt/(($+1)*2)),_e=-_e}return _e}ZigZagModifier.prototype.processPath=function(o,i,_,$){var j=o._length,_e=shapePool.newElement();if(_e.c=o.c,o.c||(j-=1),j===0)return _e;var tt=-1,rt=PolynomialBezier.shapeSegment(o,0);zigZagCorner(_e,o,0,i,_,$,tt);for(var nt=0;nt<j;nt+=1)tt=zigZagSegment(_e,rt,i,_,$,-tt),nt===j-1&&!o.c?rt=null:rt=PolynomialBezier.shapeSegment(o,(nt+1)%j),zigZagCorner(_e,o,nt+1,i,_,$,tt);return _e},ZigZagModifier.prototype.processShapes=function(o){var i,_,$=this.shapes.length,j,_e,tt=this.amplitude.v,rt=Math.max(0,Math.round(this.frequency.v)),nt=this.pointsType.v;if(tt!==0){var it,ot;for(_=0;_<$;_+=1){if(it=this.shapes[_],ot=it.localShapeCollection,!(!it.shape._mdf&&!this._mdf&&!o))for(ot.releaseShapes(),it.shape._mdf=!0,i=it.shape.paths.shapes,_e=it.shape.paths._length,j=0;j<_e;j+=1)ot.addShape(this.processPath(i[j],tt,rt,nt));it.shape.paths=it.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(o,i,_){var $=Math.atan2(i[0]-o[0],i[1]-o[1]);return[polarOffset(o,$,_),polarOffset(i,$,_)]}function offsetSegment(o,i){var _,$,j,_e,tt,rt,nt;nt=linearOffset(o.points[0],o.points[1],i),_=nt[0],$=nt[1],nt=linearOffset(o.points[1],o.points[2],i),j=nt[0],_e=nt[1],nt=linearOffset(o.points[2],o.points[3],i),tt=nt[0],rt=nt[1];var it=lineIntersection(_,$,j,_e);it===null&&(it=$);var ot=lineIntersection(tt,rt,j,_e);return ot===null&&(ot=tt),new PolynomialBezier(_,it,ot,rt)}function joinLines(o,i,_,$,j){var _e=i.points[3],tt=_.points[0];if($===3||pointEqual(_e,tt))return _e;if($===2){var rt=-i.tangentAngle(1),nt=-_.tangentAngle(0)+Math.PI,it=lineIntersection(_e,polarOffset(_e,rt+Math.PI/2,100),tt,polarOffset(tt,rt+Math.PI/2,100)),ot=it?pointDistance(it,_e):pointDistance(_e,tt)/2,lt=polarOffset(_e,rt,2*ot*roundCorner);return o.setXYAt(lt[0],lt[1],"o",o.length()-1),lt=polarOffset(tt,nt,2*ot*roundCorner),o.setTripleAt(tt[0],tt[1],tt[0],tt[1],lt[0],lt[1],o.length()),tt}var ft=pointEqual(_e,i.points[2])?i.points[0]:i.points[2],_t=pointEqual(tt,_.points[1])?_.points[3]:_.points[1],At=lineIntersection(ft,_e,tt,_t);return At&&pointDistance(At,_e)<j?(o.setTripleAt(At[0],At[1],At[0],At[1],At[0],At[1],o.length()),At):_e}function getIntersection(o,i){var _=o.intersections(i);return _.length&&floatEqual(_[0][0],1)&&_.shift(),_.length?_[0]:null}function pruneSegmentIntersection(o,i){var _=o.slice(),$=i.slice(),j=getIntersection(o[o.length-1],i[0]);return j&&(_[o.length-1]=o[o.length-1].split(j[0])[0],$[0]=i[0].split(j[1])[1]),o.length>1&&i.length>1&&(j=getIntersection(o[0],i[i.length-1]),j)?[[o[0].split(j[0])[0]],[i[i.length-1].split(j[1])[1]]]:[_,$]}function pruneIntersections(o){for(var i,_=1;_<o.length;_+=1)i=pruneSegmentIntersection(o[_-1],o[_]),o[_-1]=i[0],o[_]=i[1];return o.length>1&&(i=pruneSegmentIntersection(o[o.length-1],o[0]),o[o.length-1]=i[0],o[0]=i[1]),o}function offsetSegmentSplit(o,i){var _=o.inflectionPoints(),$,j,_e,tt;if(_.length===0)return[offsetSegment(o,i)];if(_.length===1||floatEqual(_[1],1))return _e=o.split(_[0]),$=_e[0],j=_e[1],[offsetSegment($,i),offsetSegment(j,i)];_e=o.split(_[0]),$=_e[0];var rt=(_[1]-_[0])/(1-_[0]);return _e=_e[1].split(rt),tt=_e[0],j=_e[1],[offsetSegment($,i),offsetSegment(tt,i),offsetSegment(j,i)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,i.a,0,null,this),this.miterLimit=PropertyFactory.getProp(o,i.ml,0,null,this),this.lineJoin=i.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(o,i,_,$){var j=shapePool.newElement();j.c=o.c;var _e=o.length();o.c||(_e-=1);var tt,rt,nt,it=[];for(tt=0;tt<_e;tt+=1)nt=PolynomialBezier.shapeSegment(o,tt),it.push(offsetSegmentSplit(nt,i));if(!o.c)for(tt=_e-1;tt>=0;tt-=1)nt=PolynomialBezier.shapeSegmentInverted(o,tt),it.push(offsetSegmentSplit(nt,i));it=pruneIntersections(it);var ot=null,lt=null;for(tt=0;tt<it.length;tt+=1){var ft=it[tt];for(lt&&(ot=joinLines(j,lt,ft[0],_,$)),lt=ft[ft.length-1],rt=0;rt<ft.length;rt+=1)nt=ft[rt],ot&&pointEqual(nt.points[0],ot)?j.setXYAt(nt.points[1][0],nt.points[1][1],"o",j.length()-1):j.setTripleAt(nt.points[0][0],nt.points[0][1],nt.points[1][0],nt.points[1][1],nt.points[0][0],nt.points[0][1],j.length()),j.setTripleAt(nt.points[3][0],nt.points[3][1],nt.points[3][0],nt.points[3][1],nt.points[2][0],nt.points[2][1],j.length()),ot=nt.points[3]}return it.length&&joinLines(j,lt,it[0][0],_,$),j},OffsetPathModifier.prototype.processShapes=function(o){var i,_,$=this.shapes.length,j,_e,tt=this.amount.v,rt=this.miterLimit.v,nt=this.lineJoin;if(tt!==0){var it,ot;for(_=0;_<$;_+=1){if(it=this.shapes[_],ot=it.localShapeCollection,!(!it.shape._mdf&&!this._mdf&&!o))for(ot.releaseShapes(),it.shape._mdf=!0,i=it.shape.paths.shapes,_e=it.shape.paths._length,j=0;j<_e;j+=1)ot.addShape(this.processPath(i[j],tt,nt,rt));it.shape.paths=it.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(o){for(var i=o.fStyle?o.fStyle.split(" "):[],_="normal",$="normal",j=i.length,_e,tt=0;tt<j;tt+=1)switch(_e=i[tt].toLowerCase(),_e){case"italic":$="italic";break;case"bold":_="700";break;case"black":_="900";break;case"medium":_="500";break;case"regular":case"normal":_="400";break;case"light":case"thin":_="200";break}return{style:$,weight:o.fWeight||_}}var FontManager=function(){var o=5e3,i={w:0,size:0,shapes:[],data:{shapes:[]}},_=[];_=_.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var $=127988,j=917631,_e=917601,tt=917626,rt=65039,nt=8205,it=127462,ot=127487,lt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ft(zt){var Ht=zt.split(","),Ft,Vt=Ht.length,Yt=[];for(Ft=0;Ft<Vt;Ft+=1)Ht[Ft]!=="sans-serif"&&Ht[Ft]!=="monospace"&&Yt.push(Ht[Ft]);return Yt.join(",")}function _t(zt,Ht){var Ft=createTag("span");Ft.setAttribute("aria-hidden",!0),Ft.style.fontFamily=Ht;var Vt=createTag("span");Vt.innerText="giItT1WQy@!-/#",Ft.style.position="absolute",Ft.style.left="-10000px",Ft.style.top="-10000px",Ft.style.fontSize="300px",Ft.style.fontVariant="normal",Ft.style.fontStyle="normal",Ft.style.fontWeight="normal",Ft.style.letterSpacing="0",Ft.appendChild(Vt),document.body.appendChild(Ft);var Yt=Vt.offsetWidth;return Vt.style.fontFamily=ft(zt)+", "+Ht,{node:Vt,w:Yt,parent:Ft}}function At(){var zt,Ht=this.fonts.length,Ft,Vt,Yt=Ht;for(zt=0;zt<Ht;zt+=1)this.fonts[zt].loaded?Yt-=1:this.fonts[zt].fOrigin==="n"||this.fonts[zt].origin===0?this.fonts[zt].loaded=!0:(Ft=this.fonts[zt].monoCase.node,Vt=this.fonts[zt].monoCase.w,Ft.offsetWidth!==Vt?(Yt-=1,this.fonts[zt].loaded=!0):(Ft=this.fonts[zt].sansCase.node,Vt=this.fonts[zt].sansCase.w,Ft.offsetWidth!==Vt&&(Yt-=1,this.fonts[zt].loaded=!0)),this.fonts[zt].loaded&&(this.fonts[zt].sansCase.parent.parentNode.removeChild(this.fonts[zt].sansCase.parent),this.fonts[zt].monoCase.parent.parentNode.removeChild(this.fonts[zt].monoCase.parent)));Yt!==0&&Date.now()-this.initTime<o?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Tt(zt,Ht){var Ft=document.body&&Ht?"svg":"canvas",Vt,Yt=getFontProperties(zt);if(Ft==="svg"){var Zt=createNS("text");Zt.style.fontSize="100px",Zt.setAttribute("font-family",zt.fFamily),Zt.setAttribute("font-style",Yt.style),Zt.setAttribute("font-weight",Yt.weight),Zt.textContent="1",zt.fClass?(Zt.style.fontFamily="inherit",Zt.setAttribute("class",zt.fClass)):Zt.style.fontFamily=zt.fFamily,Ht.appendChild(Zt),Vt=Zt}else{var nr=new OffscreenCanvas(500,500).getContext("2d");nr.font=Yt.style+" "+Yt.weight+" 100px "+zt.fFamily,Vt=nr}function cr(vr){return Ft==="svg"?(Vt.textContent=vr,Vt.getComputedTextLength()):Vt.measureText(vr).width}return{measureText:cr}}function Mt(zt,Ht){if(!zt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=zt.list;return}if(!document.body){this.isLoaded=!0,zt.list.forEach(function(Sr){Sr.helper=Tt(Sr),Sr.cache={}}),this.fonts=zt.list;return}var Ft=zt.list,Vt,Yt=Ft.length,Zt=Yt;for(Vt=0;Vt<Yt;Vt+=1){var nr=!0,cr,vr;if(Ft[Vt].loaded=!1,Ft[Vt].monoCase=_t(Ft[Vt].fFamily,"monospace"),Ft[Vt].sansCase=_t(Ft[Vt].fFamily,"sans-serif"),!Ft[Vt].fPath)Ft[Vt].loaded=!0,Zt-=1;else if(Ft[Vt].fOrigin==="p"||Ft[Vt].origin===3){if(cr=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ft[Vt].fFamily+'"], style[f-origin="3"][f-family="'+Ft[Vt].fFamily+'"]'),cr.length>0&&(nr=!1),nr){var Tr=createTag("style");Tr.setAttribute("f-forigin",Ft[Vt].fOrigin),Tr.setAttribute("f-origin",Ft[Vt].origin),Tr.setAttribute("f-family",Ft[Vt].fFamily),Tr.type="text/css",Tr.innerText="@font-face {font-family: "+Ft[Vt].fFamily+"; font-style: normal; src: url('"+Ft[Vt].fPath+"');}",Ht.appendChild(Tr)}}else if(Ft[Vt].fOrigin==="g"||Ft[Vt].origin===1){for(cr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),vr=0;vr<cr.length;vr+=1)cr[vr].href.indexOf(Ft[Vt].fPath)!==-1&&(nr=!1);if(nr){var ar=createTag("link");ar.setAttribute("f-forigin",Ft[Vt].fOrigin),ar.setAttribute("f-origin",Ft[Vt].origin),ar.type="text/css",ar.rel="stylesheet",ar.href=Ft[Vt].fPath,document.body.appendChild(ar)}}else if(Ft[Vt].fOrigin==="t"||Ft[Vt].origin===2){for(cr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),vr=0;vr<cr.length;vr+=1)Ft[Vt].fPath===cr[vr].src&&(nr=!1);if(nr){var ur=createTag("link");ur.setAttribute("f-forigin",Ft[Vt].fOrigin),ur.setAttribute("f-origin",Ft[Vt].origin),ur.setAttribute("rel","stylesheet"),ur.setAttribute("href",Ft[Vt].fPath),Ht.appendChild(ur)}}Ft[Vt].helper=Tt(Ft[Vt],Ht),Ft[Vt].cache={},this.fonts.push(Ft[Vt])}Zt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function pt(zt){if(zt){this.chars||(this.chars=[]);var Ht,Ft=zt.length,Vt,Yt=this.chars.length,Zt;for(Ht=0;Ht<Ft;Ht+=1){for(Vt=0,Zt=!1;Vt<Yt;)this.chars[Vt].style===zt[Ht].style&&this.chars[Vt].fFamily===zt[Ht].fFamily&&this.chars[Vt].ch===zt[Ht].ch&&(Zt=!0),Vt+=1;Zt||(this.chars.push(zt[Ht]),Yt+=1)}}}function Pt(zt,Ht,Ft){for(var Vt=0,Yt=this.chars.length;Vt<Yt;){if(this.chars[Vt].ch===zt&&this.chars[Vt].style===Ht&&this.chars[Vt].fFamily===Ft)return this.chars[Vt];Vt+=1}return(typeof zt=="string"&&zt.charCodeAt(0)!==13||!zt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",zt,Ht,Ft)),i}function $t(zt,Ht,Ft){var Vt=this.getFontByName(Ht),Yt=zt;if(!Vt.cache[Yt]){var Zt=Vt.helper;if(zt===" "){var nr=Zt.measureText("|"+zt+"|"),cr=Zt.measureText("||");Vt.cache[Yt]=(nr-cr)/100}else Vt.cache[Yt]=Zt.measureText(zt)/100}return Vt.cache[Yt]*Ft}function Ot(zt){for(var Ht=0,Ft=this.fonts.length;Ht<Ft;){if(this.fonts[Ht].fName===zt)return this.fonts[Ht];Ht+=1}return this.fonts[0]}function It(zt){var Ht=0,Ft=zt.charCodeAt(0);if(Ft>=55296&&Ft<=56319){var Vt=zt.charCodeAt(1);Vt>=56320&&Vt<=57343&&(Ht=(Ft-55296)*1024+Vt-56320+65536)}return Ht}function Dt(zt,Ht){var Ft=zt.toString(16)+Ht.toString(16);return lt.indexOf(Ft)!==-1}function Lt(zt){return zt===nt}function Bt(zt){return zt===rt}function jt(zt){var Ht=It(zt);return Ht>=it&&Ht<=ot}function Ut(zt){return jt(zt.substr(0,2))&&jt(zt.substr(2,2))}function Gt(zt){return _.indexOf(zt)!==-1}function qt(zt,Ht){var Ft=It(zt.substr(Ht,2));if(Ft!==$)return!1;var Vt=0;for(Ht+=2;Vt<5;){if(Ft=It(zt.substr(Ht,2)),Ft<_e||Ft>tt)return!1;Vt+=1,Ht+=2}return It(zt.substr(Ht,2))===j}function Jt(){this.isLoaded=!0}var er=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};er.isModifier=Dt,er.isZeroWidthJoiner=Lt,er.isFlagEmoji=Ut,er.isRegionalCode=jt,er.isCombinedCharacter=Gt,er.isRegionalFlag=qt,er.isVariationSelector=Bt,er.BLACK_FLAG_CODE_POINT=$;var Kt={addChars:pt,addFonts:Mt,getCharData:Pt,getFontByName:Ot,measureText:$t,checkLoadedFonts:At,setIsLoaded:Jt};return er.prototype=Kt,er}();function SlotManager(o){this.animationData=o}SlotManager.prototype.getProp=function(o){return this.animationData.slots&&this.animationData.slots[o.sid]?Object.assign(o,this.animationData.slots[o.sid].p):o};function slotFactory(o){return new SlotManager(o)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(i){this.renderableComponents.indexOf(i)===-1&&this.renderableComponents.push(i)},removeRenderableComponent:function(i){this.renderableComponents.indexOf(i)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(i),1)},prepareRenderableFrame:function(i){this.checkLayerLimits(i)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(i){this.data.ip-this.data.st<=i&&this.data.op-this.data.st>i?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var i,_=this.renderableComponents.length;for(i=0;i<_;i+=1)this.renderableComponents[i].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var o={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(i){return o[i]||""}}();function SliderEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,0,0,_)}function AngleEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,0,0,_)}function ColorEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,1,0,_)}function PointEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,1,0,_)}function LayerIndexEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,0,0,_)}function MaskIndexEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,0,0,_)}function CheckboxEffect(o,i,_){this.p=PropertyFactory.getProp(i,o.v,0,0,_)}function NoValueEffect(){this.p={}}function EffectsManager(o,i){var _=o.ef||[];this.effectElements=[];var $,j=_.length,_e;for($=0;$<j;$+=1)_e=new GroupEffect(_[$],i),this.effectElements.push(_e)}function GroupEffect(o,i){this.init(o,i)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(o,i){this.data=o,this.effectElements=[],this.initDynamicPropertyContainer(i);var _,$=this.data.ef.length,j,_e=this.data.ef;for(_=0;_<$;_+=1){switch(j=null,_e[_].ty){case 0:j=new SliderEffect(_e[_],i,this);break;case 1:j=new AngleEffect(_e[_],i,this);break;case 2:j=new ColorEffect(_e[_],i,this);break;case 3:j=new PointEffect(_e[_],i,this);break;case 4:case 7:j=new CheckboxEffect(_e[_],i,this);break;case 10:j=new LayerIndexEffect(_e[_],i,this);break;case 11:j=new MaskIndexEffect(_e[_],i,this);break;case 5:j=new EffectsManager(_e[_],i);break;default:j=new NoValueEffect(_e[_]);break}j&&this.effectElements.push(j)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var i=0,_=this.data.masksProperties.length;i<_;){if(this.data.masksProperties[i].mode!=="n"&&this.data.masksProperties[i].cl!==!1)return!0;i+=1}return!1},initExpressions:function(){var i=getExpressionInterfaces();if(i){var _=i("layer"),$=i("effects"),j=i("shape"),_e=i("text"),tt=i("comp");this.layerInterface=_(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var rt=$.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(rt),this.data.ty===0||this.data.xt?this.compInterface=tt(this):this.data.ty===4?(this.layerInterface.shapeInterface=j(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=_e(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var i=getBlendMode(this.data.bm),_=this.baseElement||this.layerElement;_.style["mix-blend-mode"]=i},initBaseData:function(i,_,$){this.globalData=_,this.comp=$,this.data=i,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(i,_){var $,j=this.dynamicProperties.length;for($=0;$<j;$+=1)(_||this._isParent&&this.dynamicProperties[$].propType==="transform")&&(this.dynamicProperties[$].getValue(),this.dynamicProperties[$]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&this.dynamicProperties.push(i)}};function FootageElement(o,i,_){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(o.refId),this.footageData=i.imageLoader.getAsset(this.assetData),this.initBaseData(o,i,_)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var o=getExpressionInterfaces();if(o){var i=o("footage");this.layerInterface=i(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(o,i,_){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(o.refId),this.initBaseData(o,i,_),this._isPlaying=!1,this._canPlay=!1;var $=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio($),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,o.au&&o.au.lv?o.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(o){if(this.prepareRenderableFrame(o,!0),this.prepareProperties(o,!0),this.tm._placeholder)this._currentTime=o/this.data.sr;else{var i=this.tm.v;this._currentTime=i}this._volume=this.lv.v[0];var _=this._volume*this._volumeMultiplier;this._previousVolume!==_&&(this._previousVolume=_,this.audio.volume(_))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(o){this.audio.rate(o)},AudioElement.prototype.volume=function(o){this._volumeMultiplier=o,this._previousVolume=o*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(o){var i,_=this.layers.length,$;for(this.completeLayers=!0,i=_-1;i>=0;i-=1)this.elements[i]||($=this.layers[i],$.ip-$.st<=o-this.layers[i].st&&$.op-$.st>o-this.layers[i].st&&this.buildItem(i)),this.completeLayers=this.elements[i]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(o){switch(o.ty){case 2:return this.createImage(o);case 0:return this.createComp(o);case 1:return this.createSolid(o);case 3:return this.createNull(o);case 4:return this.createShape(o);case 5:return this.createText(o);case 6:return this.createAudio(o);case 13:return this.createCamera(o);case 15:return this.createFootage(o);default:return this.createNull(o)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(o){return new AudioElement(o,this.globalData,this)},BaseRenderer.prototype.createFootage=function(o){return new FootageElement(o,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)this.buildItem(o);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(o){this.completeLayers=!1;var i,_=o.length,$,j=this.layers.length;for(i=0;i<_;i+=1)for($=0;$<j;){if(this.layers[$].id===o[i].id){this.layers[$]=o[i];break}$+=1}},BaseRenderer.prototype.setProjectInterface=function(o){this.globalData.projectInterface=o},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(o,i,_){for(var $=this.elements,j=this.layers,_e=0,tt=j.length;_e<tt;)j[_e].ind==i&&(!$[_e]||$[_e]===!0?(this.buildItem(_e),this.addPendingElement(o)):(_.push($[_e]),$[_e].setAsParent(),j[_e].parent!==void 0?this.buildElementParenting(o,j[_e].parent,_):o.setHierarchy(_))),_e+=1},BaseRenderer.prototype.addPendingElement=function(o){this.pendingElements.push(o)},BaseRenderer.prototype.searchExtraCompositions=function(o){var i,_=o.length;for(i=0;i<_;i+=1)if(o[i].xt){var $=this.createComp(o[i]);$.initExpressions(),this.globalData.projectInterface.registerComposition($)}},BaseRenderer.prototype.getElementById=function(o){var i,_=this.elements.length;for(i=0;i<_;i+=1)if(this.elements[i].data.ind===o)return this.elements[i];return null},BaseRenderer.prototype.getElementByPath=function(o){var i=o.shift(),_;if(typeof i=="number")_=this.elements[i];else{var $,j=this.elements.length;for($=0;$<j;$+=1)if(this.elements[$].data.nm===i){_=this.elements[$];break}}return o.length===0?_:_.getElementByPath(o)},BaseRenderer.prototype.setupGlobalData=function(o,i){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(o),this.globalData.fontManager.addChars(o.chars),this.globalData.fontManager.addFonts(o.fonts,i),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=o.fr,this.globalData.nm=o.nm,this.globalData.compSize={w:o.w,h:o.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var i=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:i,localMat:i,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var i,_=this.finalTransform.mat,$=0,j=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;$<j;){if(this.hierarchy[$].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}$+=1}if(this.finalTransform._matMdf)for(i=this.finalTransform.mProp.v.props,_.cloneFromProps(i),$=0;$<j;$+=1)_.multiply(this.hierarchy[$].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var i=0,_=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;i<_;)this.localTransforms[i]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[i]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),i+=1;if(this.finalTransform._localMatMdf){var $=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone($),i=1;i<_;i+=1){var j=this.localTransforms[i].matrix;$.multiply(j)}$.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var _e=this.finalTransform.localOpacity;for(i=0;i<_;i+=1)_e*=this.localTransforms[i].opacity*.01;this.finalTransform.localOpacity=_e}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var i=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(i.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var _=0,$=i.length;for(_=0;_<$;_+=1)this.localTransforms.push(i[_])}}},globalToLocal:function(i){var _=[];_.push(this.finalTransform);for(var $=!0,j=this.comp;$;)j.finalTransform?(j.data.hasMask&&_.splice(0,0,j.finalTransform),j=j.comp):$=!1;var _e,tt=_.length,rt;for(_e=0;_e<tt;_e+=1)rt=_[_e].mat.applyToPointArray(0,0,0),i=[i[0]-rt[0],i[1]-rt[1],0];return i},mHelper:new Matrix};function MaskElement(o,i,_){this.data=o,this.element=i,this.globalData=_,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var $=this.globalData.defs,j,_e=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(_e),this.solidPath="";var tt,rt=this.masksProperties,nt=0,it=[],ot,lt,ft=createElementID(),_t,At,Tt,Mt,pt="clipPath",Pt="clip-path";for(j=0;j<_e;j+=1)if((rt[j].mode!=="a"&&rt[j].mode!=="n"||rt[j].inv||rt[j].o.k!==100||rt[j].o.x)&&(pt="mask",Pt="mask"),(rt[j].mode==="s"||rt[j].mode==="i")&&nt===0?(_t=createNS("rect"),_t.setAttribute("fill","#ffffff"),_t.setAttribute("width",this.element.comp.data.w||0),_t.setAttribute("height",this.element.comp.data.h||0),it.push(_t)):_t=null,tt=createNS("path"),rt[j].mode==="n")this.viewData[j]={op:PropertyFactory.getProp(this.element,rt[j].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,rt[j],3),elem:tt,lastPath:""},$.appendChild(tt);else{nt+=1,tt.setAttribute("fill",rt[j].mode==="s"?"#000000":"#ffffff"),tt.setAttribute("clip-rule","nonzero");var $t;if(rt[j].x.k!==0?(pt="mask",Pt="mask",Mt=PropertyFactory.getProp(this.element,rt[j].x,0,null,this.element),$t=createElementID(),At=createNS("filter"),At.setAttribute("id",$t),Tt=createNS("feMorphology"),Tt.setAttribute("operator","erode"),Tt.setAttribute("in","SourceGraphic"),Tt.setAttribute("radius","0"),At.appendChild(Tt),$.appendChild(At),tt.setAttribute("stroke",rt[j].mode==="s"?"#000000":"#ffffff")):(Tt=null,Mt=null),this.storedData[j]={elem:tt,x:Mt,expan:Tt,lastPath:"",lastOperator:"",filterId:$t,lastRadius:0},rt[j].mode==="i"){lt=it.length;var Ot=createNS("g");for(ot=0;ot<lt;ot+=1)Ot.appendChild(it[ot]);var It=createNS("mask");It.setAttribute("mask-type","alpha"),It.setAttribute("id",ft+"_"+nt),It.appendChild(tt),$.appendChild(It),Ot.setAttribute("mask","url("+getLocationHref()+"#"+ft+"_"+nt+")"),it.length=0,it.push(Ot)}else it.push(tt);rt[j].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[j]={elem:tt,lastPath:"",op:PropertyFactory.getProp(this.element,rt[j].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,rt[j],3),invRect:_t},this.viewData[j].prop.k||this.drawPath(rt[j],this.viewData[j].prop.v,this.viewData[j])}for(this.maskElement=createNS(pt),_e=it.length,j=0;j<_e;j+=1)this.maskElement.appendChild(it[j]);nt>0&&(this.maskElement.setAttribute("id",ft),this.element.maskedElement.setAttribute(Pt,"url("+getLocationHref()+"#"+ft+")"),$.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(o){return this.viewData[o].prop},MaskElement.prototype.renderFrame=function(o){var i=this.element.finalTransform.mat,_,$=this.masksProperties.length;for(_=0;_<$;_+=1)if((this.viewData[_].prop._mdf||o)&&this.drawPath(this.masksProperties[_],this.viewData[_].prop.v,this.viewData[_]),(this.viewData[_].op._mdf||o)&&this.viewData[_].elem.setAttribute("fill-opacity",this.viewData[_].op.v),this.masksProperties[_].mode!=="n"&&(this.viewData[_].invRect&&(this.element.finalTransform.mProp._mdf||o)&&this.viewData[_].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[_].x&&(this.storedData[_].x._mdf||o))){var j=this.storedData[_].expan;this.storedData[_].x.v<0?(this.storedData[_].lastOperator!=="erode"&&(this.storedData[_].lastOperator="erode",this.storedData[_].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_].filterId+")")),j.setAttribute("radius",-this.storedData[_].x.v)):(this.storedData[_].lastOperator!=="dilate"&&(this.storedData[_].lastOperator="dilate",this.storedData[_].elem.setAttribute("filter",null)),this.storedData[_].elem.setAttribute("stroke-width",this.storedData[_].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var o="M0,0 ";return o+=" h"+this.globalData.compSize.w,o+=" v"+this.globalData.compSize.h,o+=" h-"+this.globalData.compSize.w,o+=" v-"+this.globalData.compSize.h+" ",o},MaskElement.prototype.drawPath=function(o,i,_){var $=" M"+i.v[0][0]+","+i.v[0][1],j,_e;for(_e=i._length,j=1;j<_e;j+=1)$+=" C"+i.o[j-1][0]+","+i.o[j-1][1]+" "+i.i[j][0]+","+i.i[j][1]+" "+i.v[j][0]+","+i.v[j][1];if(i.c&&_e>1&&($+=" C"+i.o[j-1][0]+","+i.o[j-1][1]+" "+i.i[0][0]+","+i.i[0][1]+" "+i.v[0][0]+","+i.v[0][1]),_.lastPath!==$){var tt="";_.elem&&(i.c&&(tt=o.inv?this.solidPath+$:$),_.elem.setAttribute("d",tt)),_.lastPath=$}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var o={};o.createFilter=i,o.createAlphaToLuminanceFilter=_;function i($,j){var _e=createNS("filter");return _e.setAttribute("id",$),j!==!0&&(_e.setAttribute("filterUnits","objectBoundingBox"),_e.setAttribute("x","0%"),_e.setAttribute("y","0%"),_e.setAttribute("width","100%"),_e.setAttribute("height","100%")),_e}function _(){var $=createNS("feColorMatrix");return $.setAttribute("type","matrix"),$.setAttribute("color-interpolation-filters","sRGB"),$.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),$}return o}(),featureSupport=function(){var o={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(o.maskType=!1),/firefox/i.test(navigator.userAgent)&&(o.svgLumaHidden=!1),o}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(o){var i,_="SourceGraphic",$=o.data.ef?o.data.ef.length:0,j=createElementID(),_e=filtersFactory.createFilter(j,!0),tt=0;this.filters=[];var rt;for(i=0;i<$;i+=1){rt=null;var nt=o.data.ef[i].ty;if(registeredEffects$1[nt]){var it=registeredEffects$1[nt].effect;rt=new it(_e,o.effectsManager.effectElements[i],o,idPrefix+tt,_),_=idPrefix+tt,registeredEffects$1[nt].countsAsEffect&&(tt+=1)}rt&&this.filters.push(rt)}tt&&(o.globalData.defs.appendChild(_e),o.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+j+")")),this.filters.length&&o.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(o){var i,_=this.filters.length;for(i=0;i<_;i+=1)this.filters[i].renderFrame(o)},SVGEffects.prototype.getEffects=function(o){var i,_=this.filters.length,$=[];for(i=0;i<_;i+=1)this.filters[i].type===o&&$.push(this.filters[i]);return $};function registerEffect$1(o,i,_){registeredEffects$1[o]={effect:i,countsAsEffect:_}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var i=null;if(this.data.td){this.matteMasks={};var _=createNS("g");_.setAttribute("id",this.layerId),_.appendChild(this.layerElement),i=_,this.globalData.defs.appendChild(_)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var $=createNS("clipPath"),j=createNS("path");j.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _e=createElementID();if($.setAttribute("id",_e),$.appendChild(j),this.globalData.defs.appendChild($),this.checkMasks()){var tt=createNS("g");tt.setAttribute("clip-path","url("+getLocationHref()+"#"+_e+")"),tt.appendChild(this.layerElement),this.transformedElement=tt,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_e+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(i){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[i]){var _=this.layerId+"_"+i,$,j,_e,tt;if(i===1||i===3){var rt=createNS("mask");rt.setAttribute("id",_),rt.setAttribute("mask-type",i===3?"luminance":"alpha"),_e=createNS("use"),_e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),rt.appendChild(_e),this.globalData.defs.appendChild(rt),!featureSupport.maskType&&i===1&&(rt.setAttribute("mask-type","luminance"),$=createElementID(),j=filtersFactory.createFilter($),this.globalData.defs.appendChild(j),j.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),tt.appendChild(_e),rt.appendChild(tt),tt.setAttribute("filter","url("+getLocationHref()+"#"+$+")"))}else if(i===2){var nt=createNS("mask");nt.setAttribute("id",_),nt.setAttribute("mask-type","alpha");var it=createNS("g");nt.appendChild(it),$=createElementID(),j=filtersFactory.createFilter($);var ot=createNS("feComponentTransfer");ot.setAttribute("in","SourceGraphic"),j.appendChild(ot);var lt=createNS("feFuncA");lt.setAttribute("type","table"),lt.setAttribute("tableValues","1.0 0.0"),ot.appendChild(lt),this.globalData.defs.appendChild(j);var ft=createNS("rect");ft.setAttribute("width",this.comp.data.w),ft.setAttribute("height",this.comp.data.h),ft.setAttribute("x","0"),ft.setAttribute("y","0"),ft.setAttribute("fill","#ffffff"),ft.setAttribute("opacity","0"),it.setAttribute("filter","url("+getLocationHref()+"#"+$+")"),it.appendChild(ft),_e=createNS("use"),_e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),it.appendChild(_e),featureSupport.maskType||(nt.setAttribute("mask-type","luminance"),j.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),it.appendChild(ft),tt.appendChild(this.layerElement),it.appendChild(tt)),this.globalData.defs.appendChild(nt)}this.matteMasks[i]=_}return this.matteMasks[i]},setMatte:function(i){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+i+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(i){this.hierarchy=i},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var o={initElement:function(_,$,j){this.initFrame(),this.initBaseData(_,$,j),this.initTransform(_,$,j),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var _=this.baseElement||this.layerElement;_.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var _=this.baseElement||this.layerElement;_.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_){this._mdf=!1,this.prepareRenderableFrame(_),this.prepareProperties(_,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(o)],RenderableDOMElement)})();function IImageElement(o,i,_){this.assetData=i.getAssetData(o.refId),this.assetData&&this.assetData.sid&&(this.assetData=i.slotManager.getProp(this.assetData)),this.initElement(o,i,_),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(o,i){this.elem=o,this.pos=i}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(i){var _,$=this.shapeModifiers.length;for(_=0;_<$;_+=1)this.shapeModifiers[_].addShape(i)},isShapeInAnimatedModifiers:function(i){for(var _=0,$=this.shapeModifiers.length;_<$;)if(this.shapeModifiers[_].isAnimatedWithShape(i))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var i,_=this.shapes.length;for(i=0;i<_;i+=1)this.shapes[i].sh.reset();_=this.shapeModifiers.length;var $;for(i=_-1;i>=0&&($=this.shapeModifiers[i].processShapes(this._isFirstFrame),!$);i-=1);}},searchProcessedElement:function(i){for(var _=this.processedElements,$=0,j=_.length;$<j;){if(_[$].elem===i)return _[$].pos;$+=1}return 0},addProcessedElement:function(i,_){for(var $=this.processedElements,j=$.length;j;)if(j-=1,$[j].elem===i){$[j].pos=_;return}$.push(new ProcessedElement(i,_))},prepareFrame:function(i){this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(o,i,_){this.caches=[],this.styles=[],this.transformers=o,this.lStr="",this.sh=_,this.lvl=i,this._isAnimated=!!_.k;for(var $=0,j=o.length;$<j;){if(o[$].mProps.dynamicProperties.length){this._isAnimated=!0;break}$+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(o,i){this.data=o,this.type=o.ty,this.d="",this.lvl=i,this._mdf=!1,this.closed=o.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(o,i,_,$){this.elem=o,this.frameId=-1,this.dataProps=createSizedArray(i.length),this.renderer=_,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",i.length?i.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer($);var j,_e=i.length||0,tt;for(j=0;j<_e;j+=1)tt=PropertyFactory.getProp(o,i[j].v,0,0,this),this.k=tt.k||this.k,this.dataProps[j]={n:i[j].n,p:tt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(o){if(!(this.elem.globalData.frameId===this.frameId&&!o)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||o,this._mdf)){var i=0,_=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),i=0;i<_;i+=1)this.dataProps[i].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[i].p.v:this.dashArray[i]=this.dataProps[i].p.v:this.dashoffset[0]=this.dataProps[i].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(o,i,_){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.w=PropertyFactory.getProp(o,i.w,0,null,this),this.d=new DashProperty(o,i.d||{},"svg",this),this.c=PropertyFactory.getProp(o,i.c,1,255,this),this.style=_,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(o,i,_){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.c=PropertyFactory.getProp(o,i.c,1,255,this),this.style=_}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(o,i,_){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.style=_}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(o,i,_){this.data=i,this.c=createTypedArray("uint8c",i.p*4);var $=i.k.k[0].s?i.k.k[0].s.length-i.p*4:i.k.k.length-i.p*4;this.o=createTypedArray("float32",$),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=$,this.initDynamicPropertyContainer(_),this.prop=PropertyFactory.getProp(o,i.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(o,i){for(var _=0,$=this.o.length/2,j;_<$;){if(j=Math.abs(o[_*4]-o[i*4+_*2]),j>.01)return!1;_+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var o=0,i=this.data.k.k.length;o<i;){if(!this.comparePoints(this.data.k.k[o].s,this.data.p))return!1;o+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(o){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||o){var i,_=this.data.p*4,$,j;for(i=0;i<_;i+=1)$=i%4===0?100:255,j=Math.round(this.prop.v[i]*$),this.c[i]!==j&&(this.c[i]=j,this._cmdf=!o);if(this.o.length)for(_=this.prop.v.length,i=this.data.p*4;i<_;i+=1)$=i%2===0?100:1,j=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i],this.o[i-this.data.p*4]!==j&&(this.o[i-this.data.p*4]=j,this._omdf=!o);this._mdf=!o}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(o,i,_){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.initGradientData(o,i,_)}SVGGradientFillStyleData.prototype.initGradientData=function(o,i,_){this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.s=PropertyFactory.getProp(o,i.s,1,null,this),this.e=PropertyFactory.getProp(o,i.e,1,null,this),this.h=PropertyFactory.getProp(o,i.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(o,i.a||{k:0},0,degToRads,this),this.g=new GradientProperty(o,i.g,this),this.style=_,this.stops=[],this.setGradientData(_.pElem,i),this.setGradientOpacity(i,_),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(o,i){var _=createElementID(),$=createNS(i.t===1?"linearGradient":"radialGradient");$.setAttribute("id",_),$.setAttribute("spreadMethod","pad"),$.setAttribute("gradientUnits","userSpaceOnUse");var j=[],_e,tt,rt;for(rt=i.g.p*4,tt=0;tt<rt;tt+=4)_e=createNS("stop"),$.appendChild(_e),j.push(_e);o.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+_+")"),this.gf=$,this.cst=j},SVGGradientFillStyleData.prototype.setGradientOpacity=function(o,i){if(this.g._hasOpacity&&!this.g._collapsable){var _,$,j,_e=createNS("mask"),tt=createNS("path");_e.appendChild(tt);var rt=createElementID(),nt=createElementID();_e.setAttribute("id",nt);var it=createNS(o.t===1?"linearGradient":"radialGradient");it.setAttribute("id",rt),it.setAttribute("spreadMethod","pad"),it.setAttribute("gradientUnits","userSpaceOnUse"),j=o.g.k.k[0].s?o.g.k.k[0].s.length:o.g.k.k.length;var ot=this.stops;for($=o.g.p*4;$<j;$+=2)_=createNS("stop"),_.setAttribute("stop-color","rgb(255,255,255)"),it.appendChild(_),ot.push(_);tt.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+rt+")"),o.ty==="gs"&&(tt.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),tt.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),o.lj===1&&tt.setAttribute("stroke-miterlimit",o.ml)),this.of=it,this.ms=_e,this.ost=ot,this.maskId=nt,i.msElem=tt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(o,i,_){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(o,i.w,0,null,this),this.d=new DashProperty(o,i.d||{},"svg",this),this.initGradientData(o,i,_),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(o,i,_){this.transform={mProps:o,op:i,container:_},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(i,_,$,j){if(_===0)return"";var _e=i.o,tt=i.i,rt=i.v,nt,it=" M"+j.applyToPointStringified(rt[0][0],rt[0][1]);for(nt=1;nt<_;nt+=1)it+=" C"+j.applyToPointStringified(_e[nt-1][0],_e[nt-1][1])+" "+j.applyToPointStringified(tt[nt][0],tt[nt][1])+" "+j.applyToPointStringified(rt[nt][0],rt[nt][1]);return $&&_&&(it+=" C"+j.applyToPointStringified(_e[nt-1][0],_e[nt-1][1])+" "+j.applyToPointStringified(tt[0][0],tt[0][1])+" "+j.applyToPointStringified(rt[0][0],rt[0][1]),it+="z"),it},SVGElementsRenderer=function(){var o=new Matrix,i=new Matrix,_={createRenderFunction:$};function $(lt){switch(lt.ty){case"fl":return rt;case"gf":return it;case"gs":return nt;case"st":return ot;case"sh":case"el":case"rc":case"sr":return tt;case"tr":return j;case"no":return _e;default:return null}}function j(lt,ft,_t){(_t||ft.transform.op._mdf)&&ft.transform.container.setAttribute("opacity",ft.transform.op.v),(_t||ft.transform.mProps._mdf)&&ft.transform.container.setAttribute("transform",ft.transform.mProps.v.to2dCSS())}function _e(){}function tt(lt,ft,_t){var At,Tt,Mt,pt,Pt,$t,Ot=ft.styles.length,It=ft.lvl,Dt,Lt,Bt,jt;for($t=0;$t<Ot;$t+=1){if(pt=ft.sh._mdf||_t,ft.styles[$t].lvl<It){for(Lt=i.reset(),Bt=It-ft.styles[$t].lvl,jt=ft.transformers.length-1;!pt&&Bt>0;)pt=ft.transformers[jt].mProps._mdf||pt,Bt-=1,jt-=1;if(pt)for(Bt=It-ft.styles[$t].lvl,jt=ft.transformers.length-1;Bt>0;)Lt.multiply(ft.transformers[jt].mProps.v),Bt-=1,jt-=1}else Lt=o;if(Dt=ft.sh.paths,Tt=Dt._length,pt){for(Mt="",At=0;At<Tt;At+=1)Pt=Dt.shapes[At],Pt&&Pt._length&&(Mt+=buildShapeString(Pt,Pt._length,Pt.c,Lt));ft.caches[$t]=Mt}else Mt=ft.caches[$t];ft.styles[$t].d+=lt.hd===!0?"":Mt,ft.styles[$t]._mdf=pt||ft.styles[$t]._mdf}}function rt(lt,ft,_t){var At=ft.style;(ft.c._mdf||_t)&&At.pElem.setAttribute("fill","rgb("+bmFloor(ft.c.v[0])+","+bmFloor(ft.c.v[1])+","+bmFloor(ft.c.v[2])+")"),(ft.o._mdf||_t)&&At.pElem.setAttribute("fill-opacity",ft.o.v)}function nt(lt,ft,_t){it(lt,ft,_t),ot(lt,ft,_t)}function it(lt,ft,_t){var At=ft.gf,Tt=ft.g._hasOpacity,Mt=ft.s.v,pt=ft.e.v;if(ft.o._mdf||_t){var Pt=lt.ty==="gf"?"fill-opacity":"stroke-opacity";ft.style.pElem.setAttribute(Pt,ft.o.v)}if(ft.s._mdf||_t){var $t=lt.t===1?"x1":"cx",Ot=$t==="x1"?"y1":"cy";At.setAttribute($t,Mt[0]),At.setAttribute(Ot,Mt[1]),Tt&&!ft.g._collapsable&&(ft.of.setAttribute($t,Mt[0]),ft.of.setAttribute(Ot,Mt[1]))}var It,Dt,Lt,Bt;if(ft.g._cmdf||_t){It=ft.cst;var jt=ft.g.c;for(Lt=It.length,Dt=0;Dt<Lt;Dt+=1)Bt=It[Dt],Bt.setAttribute("offset",jt[Dt*4]+"%"),Bt.setAttribute("stop-color","rgb("+jt[Dt*4+1]+","+jt[Dt*4+2]+","+jt[Dt*4+3]+")")}if(Tt&&(ft.g._omdf||_t)){var Ut=ft.g.o;for(ft.g._collapsable?It=ft.cst:It=ft.ost,Lt=It.length,Dt=0;Dt<Lt;Dt+=1)Bt=It[Dt],ft.g._collapsable||Bt.setAttribute("offset",Ut[Dt*2]+"%"),Bt.setAttribute("stop-opacity",Ut[Dt*2+1])}if(lt.t===1)(ft.e._mdf||_t)&&(At.setAttribute("x2",pt[0]),At.setAttribute("y2",pt[1]),Tt&&!ft.g._collapsable&&(ft.of.setAttribute("x2",pt[0]),ft.of.setAttribute("y2",pt[1])));else{var Gt;if((ft.s._mdf||ft.e._mdf||_t)&&(Gt=Math.sqrt(Math.pow(Mt[0]-pt[0],2)+Math.pow(Mt[1]-pt[1],2)),At.setAttribute("r",Gt),Tt&&!ft.g._collapsable&&ft.of.setAttribute("r",Gt)),ft.s._mdf||ft.e._mdf||ft.h._mdf||ft.a._mdf||_t){Gt||(Gt=Math.sqrt(Math.pow(Mt[0]-pt[0],2)+Math.pow(Mt[1]-pt[1],2)));var qt=Math.atan2(pt[1]-Mt[1],pt[0]-Mt[0]),Jt=ft.h.v;Jt>=1?Jt=.99:Jt<=-1&&(Jt=-.99);var er=Gt*Jt,Kt=Math.cos(qt+ft.a.v)*er+Mt[0],zt=Math.sin(qt+ft.a.v)*er+Mt[1];At.setAttribute("fx",Kt),At.setAttribute("fy",zt),Tt&&!ft.g._collapsable&&(ft.of.setAttribute("fx",Kt),ft.of.setAttribute("fy",zt))}}}function ot(lt,ft,_t){var At=ft.style,Tt=ft.d;Tt&&(Tt._mdf||_t)&&Tt.dashStr&&(At.pElem.setAttribute("stroke-dasharray",Tt.dashStr),At.pElem.setAttribute("stroke-dashoffset",Tt.dashoffset[0])),ft.c&&(ft.c._mdf||_t)&&At.pElem.setAttribute("stroke","rgb("+bmFloor(ft.c.v[0])+","+bmFloor(ft.c.v[1])+","+bmFloor(ft.c.v[2])+")"),(ft.o._mdf||_t)&&At.pElem.setAttribute("stroke-opacity",ft.o.v),(ft.w._mdf||_t)&&(At.pElem.setAttribute("stroke-width",ft.w.v),At.msElem&&At.msElem.setAttribute("stroke-width",ft.w.v))}return _}();function SVGShapeElement(o,i,_){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(o,i,_),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var o,i=this.shapes.length,_,$,j=this.stylesList.length,_e,tt=[],rt=!1;for($=0;$<j;$+=1){for(_e=this.stylesList[$],rt=!1,tt.length=0,o=0;o<i;o+=1)_=this.shapes[o],_.styles.indexOf(_e)!==-1&&(tt.push(_),rt=_._isAnimated||rt);tt.length>1&&rt&&this.setShapesAsAnimated(tt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(o){var i,_=o.length;for(i=0;i<_;i+=1)o[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(o,i){var _,$=new SVGStyleData(o,i),j=$.pElem;if(o.ty==="st")_=new SVGStrokeStyleData(this,o,$);else if(o.ty==="fl")_=new SVGFillStyleData(this,o,$);else if(o.ty==="gf"||o.ty==="gs"){var _e=o.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;_=new _e(this,o,$),this.globalData.defs.appendChild(_.gf),_.maskId&&(this.globalData.defs.appendChild(_.ms),this.globalData.defs.appendChild(_.of),j.setAttribute("mask","url("+getLocationHref()+"#"+_.maskId+")"))}else o.ty==="no"&&(_=new SVGNoStyleData(this,o,$));return(o.ty==="st"||o.ty==="gs")&&(j.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),j.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),j.setAttribute("fill-opacity","0"),o.lj===1&&j.setAttribute("stroke-miterlimit",o.ml)),o.r===2&&j.setAttribute("fill-rule","evenodd"),o.ln&&j.setAttribute("id",o.ln),o.cl&&j.setAttribute("class",o.cl),o.bm&&(j.style["mix-blend-mode"]=getBlendMode(o.bm)),this.stylesList.push($),this.addToAnimatedContents(o,_),_},SVGShapeElement.prototype.createGroupElement=function(o){var i=new ShapeGroupData;return o.ln&&i.gr.setAttribute("id",o.ln),o.cl&&i.gr.setAttribute("class",o.cl),o.bm&&(i.gr.style["mix-blend-mode"]=getBlendMode(o.bm)),i},SVGShapeElement.prototype.createTransformElement=function(o,i){var _=TransformPropertyFactory.getTransformProperty(this,o,this),$=new SVGTransformData(_,_.o,i);return this.addToAnimatedContents(o,$),$},SVGShapeElement.prototype.createShapeElement=function(o,i,_){var $=4;o.ty==="rc"?$=5:o.ty==="el"?$=6:o.ty==="sr"&&($=7);var j=ShapePropertyFactory.getShapeProp(this,o,$,this),_e=new SVGShapeData(i,_,j);return this.shapes.push(_e),this.addShapeToModifiers(_e),this.addToAnimatedContents(o,_e),_e},SVGShapeElement.prototype.addToAnimatedContents=function(o,i){for(var _=0,$=this.animatedContents.length;_<$;){if(this.animatedContents[_].element===i)return;_+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(o),element:i,data:o})},SVGShapeElement.prototype.setElementStyles=function(o){var i=o.styles,_,$=this.stylesList.length;for(_=0;_<$;_+=1)i.indexOf(this.stylesList[_])===-1&&!this.stylesList[_].closed&&i.push(this.stylesList[_])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,i=this.itemsData.length;for(o=0;o<i;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),i=this.dynamicProperties.length,o=0;o<i;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(o,i,_,$,j,_e,tt){var rt=[].concat(_e),nt,it=o.length-1,ot,lt,ft=[],_t=[],At,Tt,Mt;for(nt=it;nt>=0;nt-=1){if(Mt=this.searchProcessedElement(o[nt]),Mt?i[nt]=_[Mt-1]:o[nt]._render=tt,o[nt].ty==="fl"||o[nt].ty==="st"||o[nt].ty==="gf"||o[nt].ty==="gs"||o[nt].ty==="no")Mt?i[nt].style.closed=o[nt].hd:i[nt]=this.createStyleElement(o[nt],j),o[nt]._render&&i[nt].style.pElem.parentNode!==$&&$.appendChild(i[nt].style.pElem),ft.push(i[nt].style);else if(o[nt].ty==="gr"){if(!Mt)i[nt]=this.createGroupElement(o[nt]);else for(lt=i[nt].it.length,ot=0;ot<lt;ot+=1)i[nt].prevViewData[ot]=i[nt].it[ot];this.searchShapes(o[nt].it,i[nt].it,i[nt].prevViewData,i[nt].gr,j+1,rt,tt),o[nt]._render&&i[nt].gr.parentNode!==$&&$.appendChild(i[nt].gr)}else o[nt].ty==="tr"?(Mt||(i[nt]=this.createTransformElement(o[nt],$)),At=i[nt].transform,rt.push(At)):o[nt].ty==="sh"||o[nt].ty==="rc"||o[nt].ty==="el"||o[nt].ty==="sr"?(Mt||(i[nt]=this.createShapeElement(o[nt],rt,j)),this.setElementStyles(i[nt])):o[nt].ty==="tm"||o[nt].ty==="rd"||o[nt].ty==="ms"||o[nt].ty==="pb"||o[nt].ty==="zz"||o[nt].ty==="op"?(Mt?(Tt=i[nt],Tt.closed=!1):(Tt=ShapeModifiers.getModifier(o[nt].ty),Tt.init(this,o[nt]),i[nt]=Tt,this.shapeModifiers.push(Tt)),_t.push(Tt)):o[nt].ty==="rp"&&(Mt?(Tt=i[nt],Tt.closed=!0):(Tt=ShapeModifiers.getModifier(o[nt].ty),i[nt]=Tt,Tt.init(this,o,nt,i),this.shapeModifiers.push(Tt),tt=!1),_t.push(Tt));this.addProcessedElement(o[nt],nt+1)}for(it=ft.length,nt=0;nt<it;nt+=1)ft[nt].closed=!0;for(it=_t.length,nt=0;nt<it;nt+=1)_t[nt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var o,i=this.stylesList.length;for(o=0;o<i;o+=1)this.stylesList[o].reset();for(this.renderShape(),o=0;o<i;o+=1)(this.stylesList[o]._mdf||this._isFirstFrame)&&(this.stylesList[o].msElem&&(this.stylesList[o].msElem.setAttribute("d",this.stylesList[o].d),this.stylesList[o].d="M0 0"+this.stylesList[o].d),this.stylesList[o].pElem.setAttribute("d",this.stylesList[o].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var o,i=this.animatedContents.length,_;for(o=0;o<i;o+=1)_=this.animatedContents[o],(this._isFirstFrame||_.element._isAnimated)&&_.data!==!0&&_.fn(_.data,_.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(o,i,_,$,j,_e){this.o=o,this.sw=i,this.sc=_,this.fc=$,this.m=j,this.p=_e,this._mdf={o:!0,sw:!!i,sc:!!_,fc:!!$,m:!0,p:!0}}LetterProps.prototype.update=function(o,i,_,$,j,_e){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var tt=!1;return this.o!==o&&(this.o=o,this._mdf.o=!0,tt=!0),this.sw!==i&&(this.sw=i,this._mdf.sw=!0,tt=!0),this.sc!==_&&(this.sc=_,this._mdf.sc=!0,tt=!0),this.fc!==$&&(this.fc=$,this._mdf.fc=!0,tt=!0),this.m!==j&&(this.m=j,this._mdf.m=!0,tt=!0),_e.length&&(this.p[0]!==_e[0]||this.p[1]!==_e[1]||this.p[4]!==_e[4]||this.p[5]!==_e[5]||this.p[12]!==_e[12]||this.p[13]!==_e[13])&&(this.p=_e,this._mdf.p=!0,tt=!0),tt};function TextProperty(o,i){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,i.d&&i.d.sid&&(i.d=o.globalData.slotManager.getProp(i.d)),this.data=i,this.elem=o,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(o,i){for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(o[_]=i[_]);return o},TextProperty.prototype.setCurrentData=function(o){o.__complete||this.completeTextData(o),this.currentData=o,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(o){this.effectsSequence.push(o),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(o){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!o)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var i=this.currentData,_=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var $,j=this.effectsSequence.length,_e=o||this.data.d.k[this.keysIndex].s;for($=0;$<j;$+=1)_!==this.keysIndex?_e=this.effectsSequence[$](_e,_e.t):_e=this.effectsSequence[$](this.currentData,_e.t);i!==_e&&this.setCurrentData(_e),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var o=this.data.d.k,i=this.elem.comp.renderedFrame,_=0,$=o.length;_<=$-1&&!(_===$-1||o[_+1].t>i);)_+=1;return this.keysIndex!==_&&(this.keysIndex=_),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(o){for(var i=[],_=0,$=o.length,j,_e,tt=!1,rt=!1,nt="";_<$;)tt=rt,rt=!1,j=o.charCodeAt(_),nt=o.charAt(_),FontManager.isCombinedCharacter(j)?tt=!0:j>=55296&&j<=56319?FontManager.isRegionalFlag(o,_)?nt=o.substr(_,14):(_e=o.charCodeAt(_+1),_e>=56320&&_e<=57343&&(FontManager.isModifier(j,_e)?(nt=o.substr(_,2),tt=!0):FontManager.isFlagEmoji(o.substr(_,4))?nt=o.substr(_,4):nt=o.substr(_,2))):j>56319?(_e=o.charCodeAt(_+1),FontManager.isVariationSelector(j)&&(tt=!0)):FontManager.isZeroWidthJoiner(j)&&(tt=!0,rt=!0),tt?(i[i.length-1]+=nt,tt=!1):i.push(nt),_+=nt.length;return i},TextProperty.prototype.completeTextData=function(o){o.__complete=!0;var i=this.elem.globalData.fontManager,_=this.data,$=[],j,_e,tt,rt=0,nt,it=_.m.g,ot=0,lt=0,ft=0,_t=[],At=0,Tt=0,Mt,pt,Pt=i.getFontByName(o.f),$t,Ot=0,It=getFontProperties(Pt);o.fWeight=It.weight,o.fStyle=It.style,o.finalSize=o.s,o.finalText=this.buildFinalText(o.t),_e=o.finalText.length,o.finalLineHeight=o.lh;var Dt=o.tr/1e3*o.finalSize,Lt;if(o.sz)for(var Bt=!0,jt=o.sz[0],Ut=o.sz[1],Gt,qt;Bt;){qt=this.buildFinalText(o.t),Gt=0,At=0,_e=qt.length,Dt=o.tr/1e3*o.finalSize;var Jt=-1;for(j=0;j<_e;j+=1)Lt=qt[j].charCodeAt(0),tt=!1,qt[j]===" "?Jt=j:(Lt===13||Lt===3)&&(At=0,tt=!0,Gt+=o.finalLineHeight||o.finalSize*1.2),i.chars?($t=i.getCharData(qt[j],Pt.fStyle,Pt.fFamily),Ot=tt?0:$t.w*o.finalSize/100):Ot=i.measureText(qt[j],o.f,o.finalSize),At+Ot>jt&&qt[j]!==" "?(Jt===-1?_e+=1:j=Jt,Gt+=o.finalLineHeight||o.finalSize*1.2,qt.splice(j,Jt===j?1:0,"\r"),Jt=-1,At=0):(At+=Ot,At+=Dt);Gt+=Pt.ascent*o.finalSize/100,this.canResize&&o.finalSize>this.minimumFontSize&&Ut<Gt?(o.finalSize-=1,o.finalLineHeight=o.finalSize*o.lh/o.s):(o.finalText=qt,_e=o.finalText.length,Bt=!1)}At=-Dt,Ot=0;var er=0,Kt;for(j=0;j<_e;j+=1)if(tt=!1,Kt=o.finalText[j],Lt=Kt.charCodeAt(0),Lt===13||Lt===3?(er=0,_t.push(At),Tt=At>Tt?At:Tt,At=-2*Dt,nt="",tt=!0,ft+=1):nt=Kt,i.chars?($t=i.getCharData(Kt,Pt.fStyle,i.getFontByName(o.f).fFamily),Ot=tt?0:$t.w*o.finalSize/100):Ot=i.measureText(nt,o.f,o.finalSize),Kt===" "?er+=Ot+Dt:(At+=Ot+Dt+er,er=0),$.push({l:Ot,an:Ot,add:ot,n:tt,anIndexes:[],val:nt,line:ft,animatorJustifyOffset:0}),it==2){if(ot+=Ot,nt===""||nt===" "||j===_e-1){for((nt===""||nt===" ")&&(ot-=Ot);lt<=j;)$[lt].an=ot,$[lt].ind=rt,$[lt].extra=Ot,lt+=1;rt+=1,ot=0}}else if(it==3){if(ot+=Ot,nt===""||j===_e-1){for(nt===""&&(ot-=Ot);lt<=j;)$[lt].an=ot,$[lt].ind=rt,$[lt].extra=Ot,lt+=1;ot=0,rt+=1}}else $[rt].ind=rt,$[rt].extra=0,rt+=1;if(o.l=$,Tt=At>Tt?At:Tt,_t.push(At),o.sz)o.boxWidth=o.sz[0],o.justifyOffset=0;else switch(o.boxWidth=Tt,o.j){case 1:o.justifyOffset=-o.boxWidth;break;case 2:o.justifyOffset=-o.boxWidth/2;break;default:o.justifyOffset=0}o.lineWidths=_t;var zt=_.a,Ht,Ft;pt=zt.length;var Vt,Yt,Zt=[];for(Mt=0;Mt<pt;Mt+=1){for(Ht=zt[Mt],Ht.a.sc&&(o.strokeColorAnim=!0),Ht.a.sw&&(o.strokeWidthAnim=!0),(Ht.a.fc||Ht.a.fh||Ht.a.fs||Ht.a.fb)&&(o.fillColorAnim=!0),Yt=0,Vt=Ht.s.b,j=0;j<_e;j+=1)Ft=$[j],Ft.anIndexes[Mt]=Yt,(Vt==1&&Ft.val!==""||Vt==2&&Ft.val!==""&&Ft.val!==" "||Vt==3&&(Ft.n||Ft.val==" "||j==_e-1)||Vt==4&&(Ft.n||j==_e-1))&&(Ht.s.rn===1&&Zt.push(Yt),Yt+=1);_.a[Mt].s.totalChars=Yt;var nr=-1,cr;if(Ht.s.rn===1)for(j=0;j<_e;j+=1)Ft=$[j],nr!=Ft.anIndexes[Mt]&&(nr=Ft.anIndexes[Mt],cr=Zt.splice(Math.floor(Math.random()*Zt.length),1)[0]),Ft.anIndexes[Mt]=cr}o.yOffset=o.finalLineHeight||o.finalSize*1.2,o.ls=o.ls||0,o.ascent=Pt.ascent*o.finalSize/100},TextProperty.prototype.updateDocumentData=function(o,i){i=i===void 0?this.keysIndex:i;var _=this.copyData({},this.data.d.k[i].s);_=this.copyData(_,o),this.data.d.k[i].s=_,this.recalculate(i),this.setCurrentData(_),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(o){var i=this.data.d.k[o].s;i.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(i)},TextProperty.prototype.canResizeFont=function(o){this.canResize=o,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(o){this.minimumFontSize=Math.floor(o)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var o=Math.max,i=Math.min,_=Math.floor;function $(_e,tt){this._currentTextLength=-1,this.k=!1,this.data=tt,this.elem=_e,this.comp=_e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_e),this.s=PropertyFactory.getProp(_e,tt.s||{k:0},0,0,this),"e"in tt?this.e=PropertyFactory.getProp(_e,tt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(_e,tt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_e,tt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_e,tt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_e,tt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_e,tt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}$.prototype={getMult:function(tt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var rt=0,nt=0,it=1,ot=1;this.ne.v>0?rt=this.ne.v/100:nt=-this.ne.v/100,this.xe.v>0?it=1-this.xe.v/100:ot=1+this.xe.v/100;var lt=BezierFactory.getBezierEasing(rt,nt,it,ot).get,ft=0,_t=this.finalS,At=this.finalE,Tt=this.data.sh;if(Tt===2)At===_t?ft=tt>=At?1:0:ft=o(0,i(.5/(At-_t)+(tt-_t)/(At-_t),1)),ft=lt(ft);else if(Tt===3)At===_t?ft=tt>=At?0:1:ft=1-o(0,i(.5/(At-_t)+(tt-_t)/(At-_t),1)),ft=lt(ft);else if(Tt===4)At===_t?ft=0:(ft=o(0,i(.5/(At-_t)+(tt-_t)/(At-_t),1)),ft<.5?ft*=2:ft=1-2*(ft-.5)),ft=lt(ft);else if(Tt===5){if(At===_t)ft=0;else{var Mt=At-_t;tt=i(o(0,tt+.5-_t),At-_t);var pt=-Mt/2+tt,Pt=Mt/2;ft=Math.sqrt(1-pt*pt/(Pt*Pt))}ft=lt(ft)}else Tt===6?(At===_t?ft=0:(tt=i(o(0,tt+.5-_t),At-_t),ft=(1+Math.cos(Math.PI+Math.PI*2*tt/(At-_t)))/2),ft=lt(ft)):(tt>=_(_t)&&(tt-_t<0?ft=o(0,i(i(At,1)-(_t-tt),1)):ft=o(0,i(At-tt,1))),ft=lt(ft));if(this.sm.v!==100){var $t=this.sm.v*.01;$t===0&&($t=1e-8);var Ot=.5-$t*.5;ft<Ot?ft=0:(ft=(ft-Ot)/$t,ft>1&&(ft=1))}return ft*this.a.v},getValue:function(tt){this.iterateDynamicProperties(),this._mdf=tt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,tt&&this.data.r===2&&(this.e.v=this._currentTextLength);var rt=this.data.r===2?1:100/this.data.totalChars,nt=this.o.v/rt,it=this.s.v/rt+nt,ot=this.e.v/rt+nt;if(it>ot){var lt=it;it=ot,ot=lt}this.finalS=it,this.finalE=ot}},extendPrototype([DynamicPropertyContainer],$);function j(_e,tt,rt){return new $(_e,tt)}return{getTextSelectorProp:j}}();function TextAnimatorDataProperty(o,i,_){var $={propType:!1},j=PropertyFactory.getProp,_e=i.a;this.a={r:_e.r?j(o,_e.r,0,degToRads,_):$,rx:_e.rx?j(o,_e.rx,0,degToRads,_):$,ry:_e.ry?j(o,_e.ry,0,degToRads,_):$,sk:_e.sk?j(o,_e.sk,0,degToRads,_):$,sa:_e.sa?j(o,_e.sa,0,degToRads,_):$,s:_e.s?j(o,_e.s,1,.01,_):$,a:_e.a?j(o,_e.a,1,0,_):$,o:_e.o?j(o,_e.o,0,.01,_):$,p:_e.p?j(o,_e.p,1,0,_):$,sw:_e.sw?j(o,_e.sw,0,0,_):$,sc:_e.sc?j(o,_e.sc,1,0,_):$,fc:_e.fc?j(o,_e.fc,1,0,_):$,fh:_e.fh?j(o,_e.fh,0,0,_):$,fs:_e.fs?j(o,_e.fs,0,.01,_):$,fb:_e.fb?j(o,_e.fb,0,.01,_):$,t:_e.t?j(o,_e.t,0,0,_):$},this.s=TextSelectorProp.getTextSelectorProp(o,i.s,_),this.s.t=i.s.t}function TextAnimatorProperty(o,i,_){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=o,this._renderType=i,this._elem=_,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_)}TextAnimatorProperty.prototype.searchProperties=function(){var o,i=this._textData.a.length,_,$=PropertyFactory.getProp;for(o=0;o<i;o+=1)_=this._textData.a[o],this._animatorsData[o]=new TextAnimatorDataProperty(this._elem,_,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:$(this._elem,this._textData.p.a,0,0,this),f:$(this._elem,this._textData.p.f,0,0,this),l:$(this._elem,this._textData.p.l,0,0,this),r:$(this._elem,this._textData.p.r,0,0,this),p:$(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=$(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(o,i){if(this.lettersChangedFlag=i,!(!this._mdf&&!this._isFirstFrame&&!i&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var _=this._moreOptions.alignment.v,$=this._animatorsData,j=this._textData,_e=this.mHelper,tt=this._renderType,rt=this.renderedLetters.length,nt,it,ot,lt,ft=o.l,_t,At,Tt,Mt,pt,Pt,$t,Ot,It,Dt,Lt,Bt,jt,Ut,Gt;if(this._hasMaskedPath){if(Gt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var qt=Gt.v;this._pathData.r.v&&(qt=qt.reverse()),_t={tLength:0,segments:[]},lt=qt._length-1;var Jt;for(Bt=0,ot=0;ot<lt;ot+=1)Jt=bez.buildBezierData(qt.v[ot],qt.v[ot+1],[qt.o[ot][0]-qt.v[ot][0],qt.o[ot][1]-qt.v[ot][1]],[qt.i[ot+1][0]-qt.v[ot+1][0],qt.i[ot+1][1]-qt.v[ot+1][1]]),_t.tLength+=Jt.segmentLength,_t.segments.push(Jt),Bt+=Jt.segmentLength;ot=lt,Gt.v.c&&(Jt=bez.buildBezierData(qt.v[ot],qt.v[0],[qt.o[ot][0]-qt.v[ot][0],qt.o[ot][1]-qt.v[ot][1]],[qt.i[0][0]-qt.v[0][0],qt.i[0][1]-qt.v[0][1]]),_t.tLength+=Jt.segmentLength,_t.segments.push(Jt),Bt+=Jt.segmentLength),this._pathData.pi=_t}if(_t=this._pathData.pi,At=this._pathData.f.v,$t=0,Pt=1,Mt=0,pt=!0,Dt=_t.segments,At<0&&Gt.v.c)for(_t.tLength<Math.abs(At)&&(At=-Math.abs(At)%_t.tLength),$t=Dt.length-1,It=Dt[$t].points,Pt=It.length-1;At<0;)At+=It[Pt].partialLength,Pt-=1,Pt<0&&($t-=1,It=Dt[$t].points,Pt=It.length-1);It=Dt[$t].points,Ot=It[Pt-1],Tt=It[Pt],Lt=Tt.partialLength}lt=ft.length,nt=0,it=0;var er=o.finalSize*1.2*.714,Kt=!0,zt,Ht,Ft,Vt,Yt;Vt=$.length;var Zt,nr=-1,cr,vr,Tr,ar=At,ur=$t,Sr=Pt,gr=-1,xr,Er,dr,Ar,mr,tr,Mr,Lr,Wr="",Cr=this.defaultPropsArray,an;if(o.j===2||o.j===1){var Nr=0,Gr=0,rr=o.j===2?-.5:-1,Xt=0,lr=!0;for(ot=0;ot<lt;ot+=1)if(ft[ot].n){for(Nr&&(Nr+=Gr);Xt<ot;)ft[Xt].animatorJustifyOffset=Nr,Xt+=1;Nr=0,lr=!0}else{for(Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.t.propType&&(lr&&o.j===2&&(Gr+=zt.t.v*rr),Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),Zt.length?Nr+=zt.t.v*Zt[0]*rr:Nr+=zt.t.v*Zt*rr);lr=!1}for(Nr&&(Nr+=Gr);Xt<ot;)ft[Xt].animatorJustifyOffset=Nr,Xt+=1}for(ot=0;ot<lt;ot+=1){if(_e.reset(),xr=1,ft[ot].n)nt=0,it+=o.yOffset,it+=Kt?1:0,At=ar,Kt=!1,this._hasMaskedPath&&($t=ur,Pt=Sr,It=Dt[$t].points,Ot=It[Pt-1],Tt=It[Pt],Lt=Tt.partialLength,Mt=0),Wr="",Lr="",tr="",an="",Cr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(gr!==ft[ot].line){switch(o.j){case 1:At+=Bt-o.lineWidths[ft[ot].line];break;case 2:At+=(Bt-o.lineWidths[ft[ot].line])/2;break}gr=ft[ot].line}nr!==ft[ot].ind&&(ft[nr]&&(At+=ft[nr].extra),At+=ft[ot].an/2,nr=ft[ot].ind),At+=_[0]*ft[ot].an*.005;var yr=0;for(Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.p.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),Zt.length?yr+=zt.p.v[0]*Zt[0]:yr+=zt.p.v[0]*Zt),zt.a.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),Zt.length?yr+=zt.a.v[0]*Zt[0]:yr+=zt.a.v[0]*Zt);for(pt=!0,this._pathData.a.v&&(At=ft[0].an*.5+(Bt-this._pathData.f.v-ft[0].an*.5-ft[ft.length-1].an*.5)*nr/(lt-1),At+=this._pathData.f.v);pt;)Mt+Lt>=At+yr||!It?(jt=(At+yr-Mt)/Tt.partialLength,vr=Ot.point[0]+(Tt.point[0]-Ot.point[0])*jt,Tr=Ot.point[1]+(Tt.point[1]-Ot.point[1])*jt,_e.translate(-_[0]*ft[ot].an*.005,-(_[1]*er)*.01),pt=!1):It&&(Mt+=Tt.partialLength,Pt+=1,Pt>=It.length&&(Pt=0,$t+=1,Dt[$t]?It=Dt[$t].points:Gt.v.c?(Pt=0,$t=0,It=Dt[$t].points):(Mt-=Tt.partialLength,It=null)),It&&(Ot=Tt,Tt=It[Pt],Lt=Tt.partialLength));cr=ft[ot].an/2-ft[ot].add,_e.translate(-cr,0,0)}else cr=ft[ot].an/2-ft[ot].add,_e.translate(-cr,0,0),_e.translate(-_[0]*ft[ot].an*.005,-_[1]*er*.01,0);for(Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.t.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),(nt!==0||o.j!==0)&&(this._hasMaskedPath?Zt.length?At+=zt.t.v*Zt[0]:At+=zt.t.v*Zt:Zt.length?nt+=zt.t.v*Zt[0]:nt+=zt.t.v*Zt));for(o.strokeWidthAnim&&(dr=o.sw||0),o.strokeColorAnim&&(o.sc?Er=[o.sc[0],o.sc[1],o.sc[2]]:Er=[0,0,0]),o.fillColorAnim&&o.fc&&(Ar=[o.fc[0],o.fc[1],o.fc[2]]),Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.a.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),Zt.length?_e.translate(-zt.a.v[0]*Zt[0],-zt.a.v[1]*Zt[1],zt.a.v[2]*Zt[2]):_e.translate(-zt.a.v[0]*Zt,-zt.a.v[1]*Zt,zt.a.v[2]*Zt));for(Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.s.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),Zt.length?_e.scale(1+(zt.s.v[0]-1)*Zt[0],1+(zt.s.v[1]-1)*Zt[1],1):_e.scale(1+(zt.s.v[0]-1)*Zt,1+(zt.s.v[1]-1)*Zt,1));for(Ft=0;Ft<Vt;Ft+=1){if(zt=$[Ft].a,Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),zt.sk.propType&&(Zt.length?_e.skewFromAxis(-zt.sk.v*Zt[0],zt.sa.v*Zt[1]):_e.skewFromAxis(-zt.sk.v*Zt,zt.sa.v*Zt)),zt.r.propType&&(Zt.length?_e.rotateZ(-zt.r.v*Zt[2]):_e.rotateZ(-zt.r.v*Zt)),zt.ry.propType&&(Zt.length?_e.rotateY(zt.ry.v*Zt[1]):_e.rotateY(zt.ry.v*Zt)),zt.rx.propType&&(Zt.length?_e.rotateX(zt.rx.v*Zt[0]):_e.rotateX(zt.rx.v*Zt)),zt.o.propType&&(Zt.length?xr+=(zt.o.v*Zt[0]-xr)*Zt[0]:xr+=(zt.o.v*Zt-xr)*Zt),o.strokeWidthAnim&&zt.sw.propType&&(Zt.length?dr+=zt.sw.v*Zt[0]:dr+=zt.sw.v*Zt),o.strokeColorAnim&&zt.sc.propType)for(mr=0;mr<3;mr+=1)Zt.length?Er[mr]+=(zt.sc.v[mr]-Er[mr])*Zt[0]:Er[mr]+=(zt.sc.v[mr]-Er[mr])*Zt;if(o.fillColorAnim&&o.fc){if(zt.fc.propType)for(mr=0;mr<3;mr+=1)Zt.length?Ar[mr]+=(zt.fc.v[mr]-Ar[mr])*Zt[0]:Ar[mr]+=(zt.fc.v[mr]-Ar[mr])*Zt;zt.fh.propType&&(Zt.length?Ar=addHueToRGB(Ar,zt.fh.v*Zt[0]):Ar=addHueToRGB(Ar,zt.fh.v*Zt)),zt.fs.propType&&(Zt.length?Ar=addSaturationToRGB(Ar,zt.fs.v*Zt[0]):Ar=addSaturationToRGB(Ar,zt.fs.v*Zt)),zt.fb.propType&&(Zt.length?Ar=addBrightnessToRGB(Ar,zt.fb.v*Zt[0]):Ar=addBrightnessToRGB(Ar,zt.fb.v*Zt))}}for(Ft=0;Ft<Vt;Ft+=1)zt=$[Ft].a,zt.p.propType&&(Ht=$[Ft].s,Zt=Ht.getMult(ft[ot].anIndexes[Ft],j.a[Ft].s.totalChars),this._hasMaskedPath?Zt.length?_e.translate(0,zt.p.v[1]*Zt[0],-zt.p.v[2]*Zt[1]):_e.translate(0,zt.p.v[1]*Zt,-zt.p.v[2]*Zt):Zt.length?_e.translate(zt.p.v[0]*Zt[0],zt.p.v[1]*Zt[1],-zt.p.v[2]*Zt[2]):_e.translate(zt.p.v[0]*Zt,zt.p.v[1]*Zt,-zt.p.v[2]*Zt));if(o.strokeWidthAnim&&(tr=dr<0?0:dr),o.strokeColorAnim&&(Mr="rgb("+Math.round(Er[0]*255)+","+Math.round(Er[1]*255)+","+Math.round(Er[2]*255)+")"),o.fillColorAnim&&o.fc&&(Lr="rgb("+Math.round(Ar[0]*255)+","+Math.round(Ar[1]*255)+","+Math.round(Ar[2]*255)+")"),this._hasMaskedPath){if(_e.translate(0,-o.ls),_e.translate(0,_[1]*er*.01+it,0),this._pathData.p.v){Ut=(Tt.point[1]-Ot.point[1])/(Tt.point[0]-Ot.point[0]);var _r=Math.atan(Ut)*180/Math.PI;Tt.point[0]<Ot.point[0]&&(_r+=180),_e.rotate(-_r*Math.PI/180)}_e.translate(vr,Tr,0),At-=_[0]*ft[ot].an*.005,ft[ot+1]&&nr!==ft[ot+1].ind&&(At+=ft[ot].an/2,At+=o.tr*.001*o.finalSize)}else{switch(_e.translate(nt,it,0),o.ps&&_e.translate(o.ps[0],o.ps[1]+o.ascent,0),o.j){case 1:_e.translate(ft[ot].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[ft[ot].line]),0,0);break;case 2:_e.translate(ft[ot].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[ft[ot].line])/2,0,0);break}_e.translate(0,-o.ls),_e.translate(cr,0,0),_e.translate(_[0]*ft[ot].an*.005,_[1]*er*.01,0),nt+=ft[ot].l+o.tr*.001*o.finalSize}tt==="html"?Wr=_e.toCSS():tt==="svg"?Wr=_e.to2dCSS():Cr=[_e.props[0],_e.props[1],_e.props[2],_e.props[3],_e.props[4],_e.props[5],_e.props[6],_e.props[7],_e.props[8],_e.props[9],_e.props[10],_e.props[11],_e.props[12],_e.props[13],_e.props[14],_e.props[15]],an=xr}rt<=ot?(Yt=new LetterProps(an,tr,Mr,Lr,Wr,Cr),this.renderedLetters.push(Yt),rt+=1,this.lettersChangedFlag=!0):(Yt=this.renderedLetters[ot],this.lettersChangedFlag=Yt.update(an,tr,Mr,Lr,Wr,Cr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(o,i,_){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(o,i,_),this.textProperty=new TextProperty(this,o.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(o.t,this.renderType,this),this.initTransform(o,i,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(o){this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange)},ITextElement.prototype.createPathShape=function(o,i){var _,$=i.length,j,_e="";for(_=0;_<$;_+=1)i[_].ty==="sh"&&(j=i[_].ks.k,_e+=buildShapeString(j,j.i.length,!0,o));return _e},ITextElement.prototype.updateDocumentData=function(o,i){this.textProperty.updateDocumentData(o,i)},ITextElement.prototype.canResizeFont=function(o){this.textProperty.canResizeFont(o)},ITextElement.prototype.setMinimumFontSize=function(o){this.textProperty.setMinimumFontSize(o)},ITextElement.prototype.applyTextPropertiesToMatrix=function(o,i,_,$,j){switch(o.ps&&i.translate(o.ps[0],o.ps[1]+o.ascent,0),i.translate(0,-o.ls,0),o.j){case 1:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[_]),0,0);break;case 2:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[_])/2,0,0);break}i.translate($,j,0)},ITextElement.prototype.buildColor=function(o){return"rgb("+Math.round(o[0]*255)+","+Math.round(o[1]*255)+","+Math.round(o[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(o,i,_){this.textSpans=[],this.renderType="svg",this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(o){for(var i=0,_=o.length,$=[],j="";i<_;)o[i]===String.fromCharCode(13)||o[i]===String.fromCharCode(3)?($.push(j),j=""):j+=o[i],i+=1;return $.push(j),$},SVGTextLottieElement.prototype.buildShapeData=function(o,i){if(o.shapes&&o.shapes.length){var _=o.shapes[0];if(_.it){var $=_.it[_.it.length-1];$.s&&($.s.k[0]=i,$.s.k[1]=i)}}return o},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var o,i,_=this.textProperty.currentData;this.renderedLetters=createSizedArray(_?_.l.length:0),_.fc?this.layerElement.setAttribute("fill",this.buildColor(_.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),_.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_.sc)),this.layerElement.setAttribute("stroke-width",_.sw)),this.layerElement.setAttribute("font-size",_.finalSize);var $=this.globalData.fontManager.getFontByName(_.f);if($.fClass)this.layerElement.setAttribute("class",$.fClass);else{this.layerElement.setAttribute("font-family",$.fFamily);var j=_.fWeight,_e=_.fStyle;this.layerElement.setAttribute("font-style",_e),this.layerElement.setAttribute("font-weight",j)}this.layerElement.setAttribute("aria-label",_.t);var tt=_.l||[],rt=!!this.globalData.fontManager.chars;i=tt.length;var nt,it=this.mHelper,ot="",lt=this.data.singleShape,ft=0,_t=0,At=!0,Tt=_.tr*.001*_.finalSize;if(lt&&!rt&&!_.sz){var Mt=this.textContainer,pt="start";switch(_.j){case 1:pt="end";break;case 2:pt="middle";break;default:pt="start";break}Mt.setAttribute("text-anchor",pt),Mt.setAttribute("letter-spacing",Tt);var Pt=this.buildTextContents(_.finalText);for(i=Pt.length,_t=_.ps?_.ps[1]+_.ascent:0,o=0;o<i;o+=1)nt=this.textSpans[o].span||createNS("tspan"),nt.textContent=Pt[o],nt.setAttribute("x",0),nt.setAttribute("y",_t),nt.style.display="inherit",Mt.appendChild(nt),this.textSpans[o]||(this.textSpans[o]={span:null,glyph:null}),this.textSpans[o].span=nt,_t+=_.finalLineHeight;this.layerElement.appendChild(Mt)}else{var $t=this.textSpans.length,Ot;for(o=0;o<i;o+=1){if(this.textSpans[o]||(this.textSpans[o]={span:null,childSpan:null,glyph:null}),!rt||!lt||o===0){if(nt=$t>o?this.textSpans[o].span:createNS(rt?"g":"text"),$t<=o){if(nt.setAttribute("stroke-linecap","butt"),nt.setAttribute("stroke-linejoin","round"),nt.setAttribute("stroke-miterlimit","4"),this.textSpans[o].span=nt,rt){var It=createNS("g");nt.appendChild(It),this.textSpans[o].childSpan=It}this.textSpans[o].span=nt,this.layerElement.appendChild(nt)}nt.style.display="inherit"}if(it.reset(),lt&&(tt[o].n&&(ft=-Tt,_t+=_.yOffset,_t+=At?1:0,At=!1),this.applyTextPropertiesToMatrix(_,it,tt[o].line,ft,_t),ft+=tt[o].l||0,ft+=Tt),rt){Ot=this.globalData.fontManager.getCharData(_.finalText[o],$.fStyle,this.globalData.fontManager.getFontByName(_.f).fFamily);var Dt;if(Ot.t===1)Dt=new SVGCompElement(Ot.data,this.globalData,this);else{var Lt=emptyShapeData;Ot.data&&Ot.data.shapes&&(Lt=this.buildShapeData(Ot.data,_.finalSize)),Dt=new SVGShapeElement(Lt,this.globalData,this)}if(this.textSpans[o].glyph){var Bt=this.textSpans[o].glyph;this.textSpans[o].childSpan.removeChild(Bt.layerElement),Bt.destroy()}this.textSpans[o].glyph=Dt,Dt._debug=!0,Dt.prepareFrame(0),Dt.renderFrame(),this.textSpans[o].childSpan.appendChild(Dt.layerElement),Ot.t===1&&this.textSpans[o].childSpan.setAttribute("transform","scale("+_.finalSize/100+","+_.finalSize/100+")")}else lt&&nt.setAttribute("transform","translate("+it.props[12]+","+it.props[13]+")"),nt.textContent=tt[o].val,nt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}lt&&nt&&nt.setAttribute("d",ot)}for(;o<this.textSpans.length;)this.textSpans[o].span.style.display="none",o+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var o=this.layerElement.getBBox();this.bbox={top:o.y,left:o.x,width:o.width,height:o.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var o,i=this.textSpans.length,_;for(this.renderedFrame=this.comp.renderedFrame,o=0;o<i;o+=1)_=this.textSpans[o].glyph,_&&(_.prepareFrame(this.comp.renderedFrame-this.data.st),_._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var o,i,_=this.textAnimator.renderedLetters,$=this.textProperty.currentData.l;i=$.length;var j,_e,tt;for(o=0;o<i;o+=1)$[o].n||(j=_[o],_e=this.textSpans[o].span,tt=this.textSpans[o].glyph,tt&&tt.renderFrame(),j._mdf.m&&_e.setAttribute("transform",j.m),j._mdf.o&&_e.setAttribute("opacity",j.o),j._mdf.sw&&_e.setAttribute("stroke-width",j.sw),j._mdf.sc&&_e.setAttribute("stroke",j.sc),j._mdf.fc&&_e.setAttribute("fill",j.fc))}};function ISolidElement(o,i,_){this.initElement(o,i,_)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var o=createNS("rect");o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.layerElement.appendChild(o)};function NullElement(o,i,_){this.initFrame(),this.initBaseData(o,i,_),this.initFrame(),this.initTransform(o,i,_),this.initHierarchy()}NullElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(o){return new NullElement(o,this.globalData,this)},SVGRendererBase.prototype.createShape=function(o){return new SVGShapeElement(o,this.globalData,this)},SVGRendererBase.prototype.createText=function(o){return new SVGTextLottieElement(o,this.globalData,this)},SVGRendererBase.prototype.createImage=function(o){return new IImageElement(o,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(o){return new ISolidElement(o,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(o){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+o.w+" "+o.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",o.w),this.svgElement.setAttribute("height",o.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var i=this.globalData.defs;this.setupGlobalData(o,i),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=o;var _=createNS("clipPath"),$=createNS("rect");$.setAttribute("width",o.w),$.setAttribute("height",o.h),$.setAttribute("x",0),$.setAttribute("y",0);var j=createElementID();_.setAttribute("id",j),_.appendChild($),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+j+")"),i.appendChild(_),this.layers=o.layers,this.elements=createSizedArray(o.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var o,i=this.layers?this.layers.length:0;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(o){var i=0,_=this.layers.length;for(i=0;i<_;i+=1)if(this.layers[i].ind===o)return i;return-1},SVGRendererBase.prototype.buildItem=function(o){var i=this.elements;if(!(i[o]||this.layers[o].ty===99)){i[o]=!0;var _=this.createItem(this.layers[o]);if(i[o]=_,getExpressionsPlugin()&&(this.layers[o].ty===0&&this.globalData.projectInterface.registerComposition(_),_.initExpressions()),this.appendElementInPos(_,o),this.layers[o].tt){var $="tp"in this.layers[o]?this.findIndexByInd(this.layers[o].tp):o-1;if($===-1)return;if(!this.elements[$]||this.elements[$]===!0)this.buildItem($),this.addPendingElement(_);else{var j=i[$],_e=j.getMatte(this.layers[o].tt);_.setMatte(_e)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();if(o.checkParenting(),o.data.tt)for(var i=0,_=this.elements.length;i<_;){if(this.elements[i]===o){var $="tp"in o.data?this.findIndexByInd(o.data.tp):i-1,j=this.elements[$],_e=j.getMatte(this.layers[i].tt);o.setMatte(_e);break}i+=1}}},SVGRendererBase.prototype.renderFrame=function(o){if(!(this.renderedFrame===o||this.destroyed)){o===null?o=this.renderedFrame:this.renderedFrame=o,this.globalData.frameNum=o,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=o,this.globalData._mdf=!1;var i,_=this.layers.length;for(this.completeLayers||this.checkLayers(o),i=_-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(o-this.layers[i].st);if(this.globalData._mdf)for(i=0;i<_;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(o,i){var _=o.getBaseElement();if(_){for(var $=0,j;$<i;)this.elements[$]&&this.elements[$]!==!0&&this.elements[$].getBaseElement()&&(j=this.elements[$].getBaseElement()),$+=1;j?this.layerElement.insertBefore(_,j):this.layerElement.appendChild(_)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(o,i,_){this.initFrame(),this.initBaseData(o,i,_),this.initTransform(o,i,_),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(o){if(this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=o/this.data.sr;else{var i=this.tm.v;i===this.data.op&&(i=this.data.op-1),this.renderedFrame=i}var _,$=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_=$-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&(this.elements[_].prepareFrame(this.renderedFrame-this.layers[_].st),this.elements[_]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},ICompElement.prototype.setElements=function(o){this.elements=o},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(o,i,_){this.layers=o.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,i,_),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function SVGRenderer(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var _="";if(i&&i.title){var $=createNS("title"),j=createElementID();$.setAttribute("id",j),$.textContent=i.title,this.svgElement.appendChild($),_+=j}if(i&&i.description){var _e=createNS("desc"),tt=createElementID();_e.setAttribute("id",tt),_e.textContent=i.description,this.svgElement.appendChild(_e),_+=" "+tt}_&&this.svgElement.setAttribute("aria-labelledby",_);var rt=createNS("defs");this.svgElement.appendChild(rt);var nt=createNS("g");this.svgElement.appendChild(nt),this.layerElement=nt,this.renderConfig={preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",progressiveLoad:i&&i.progressiveLoad||!1,hideOnTransparent:!(i&&i.hideOnTransparent===!1),viewBoxOnly:i&&i.viewBoxOnly||!1,viewBoxSize:i&&i.viewBoxSize||!1,className:i&&i.className||"",id:i&&i.id||"",focusable:i&&i.focusable,filterSize:{width:i&&i.filterSize&&i.filterSize.width||"100%",height:i&&i.filterSize&&i.filterSize.height||"100%",x:i&&i.filterSize&&i.filterSize.x||"0%",y:i&&i.filterSize&&i.filterSize.y||"0%"},width:i&&i.width,height:i&&i.height,runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:rt,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(i){var _,$=i.length,j="_";for(_=0;_<$;_+=1)j+=i[_].transform.key+"_";var _e=this.sequences[j];return _e||(_e={transforms:[].concat(i),finalTransform:new Matrix,_mdf:!1},this.sequences[j]=_e,this.sequenceList.push(_e)),_e},processSequence:function(i,_){for(var $=0,j=i.transforms.length,_e=_;$<j&&!_;){if(i.transforms[$].transform.mProps._mdf){_e=!0;break}$+=1}if(_e)for(i.finalTransform.reset(),$=j-1;$>=0;$-=1)i.finalTransform.multiply(i.transforms[$].transform.mProps.v);i._mdf=_e},processSequences:function(i){var _,$=this.sequenceList.length;for(_=0;_<$;_+=1)this.processSequence(this.sequenceList[_],i)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var i="__lottie_element_luma_buffer",_=null,$=null,j=null;function _e(){var nt=createNS("svg"),it=createNS("filter"),ot=createNS("feColorMatrix");return it.setAttribute("id",i),ot.setAttribute("type","matrix"),ot.setAttribute("color-interpolation-filters","sRGB"),ot.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),it.appendChild(ot),nt.appendChild(it),nt.setAttribute("id",i+"_svg"),featureSupport.svgLumaHidden&&(nt.style.display="none"),nt}function tt(){_||(j=_e(),document.body.appendChild(j),_=createTag("canvas"),$=_.getContext("2d"),$.filter="url(#"+i+")",$.fillStyle="rgba(0,0,0,0)",$.fillRect(0,0,1,1))}function rt(nt){return _||tt(),_.width=nt.width,_.height=nt.height,$.filter="url(#"+i+")",_}return{load:tt,get:rt}};function createCanvas(o,i){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(o,i);var _=createTag("canvas");return _.width=o,_.height=i,_}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(o){var i,_=o.data.ef?o.data.ef.length:0;this.filters=[];var $;for(i=0;i<_;i+=1){$=null;var j=o.data.ef[i].ty;if(registeredEffects[j]){var _e=registeredEffects[j].effect;$=new _e(o.effectsManager.effectElements[i],o)}$&&this.filters.push($)}this.filters.length&&o.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(o){var i,_=this.filters.length;for(i=0;i<_;i+=1)this.filters[i].renderFrame(o)},CVEffects.prototype.getEffects=function(o){var i,_=this.filters.length,$=[];for(i=0;i<_;i+=1)this.filters[i].type===o&&$.push(this.filters[i]);return $};function registerEffect(o,i){registeredEffects[o]={effect:i}}function CVMaskElement(o,i){this.data=o,this.element=i,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _,$=this.masksProperties.length,j=!1;for(_=0;_<$;_+=1)this.masksProperties[_].mode!=="n"&&(j=!0),this.viewData[_]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[_],3);this.hasMasks=j,j&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var o=this.element.finalTransform.mat,i=this.element.canvasContext,_,$=this.masksProperties.length,j,_e,tt;for(i.beginPath(),_=0;_<$;_+=1)if(this.masksProperties[_].mode!=="n"){this.masksProperties[_].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),tt=this.viewData[_].v,j=o.applyToPointArray(tt.v[0][0],tt.v[0][1],0),i.moveTo(j[0],j[1]);var rt,nt=tt._length;for(rt=1;rt<nt;rt+=1)_e=o.applyToTriplePoints(tt.o[rt-1],tt.i[rt],tt.v[rt]),i.bezierCurveTo(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);_e=o.applyToTriplePoints(tt.o[rt-1],tt.i[0],tt.v[0]),i.bezierCurveTo(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var i=this.globalData.canvasContext,_=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push(_);var $=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push($),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var i=this.globalData;if(i.blendMode!==this.data.bm){i.blendMode=this.data.bm;var _=getBlendMode(this.data.bm);i.canvasContext.globalCompositeOperation=_}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(i){i.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var i=this.buffers[0],_=i.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var i=this.buffers[1],_=i.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var $=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if($.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var j=assetLoader.getLumaCanvas(this.canvasContext.canvas),_e=j.getContext("2d");_e.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(j,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(i,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(i){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!i)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var _=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(_),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(_),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(o,i,_,$){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var j=4;i.ty==="rc"?j=5:i.ty==="el"?j=6:i.ty==="sr"&&(j=7),this.sh=ShapePropertyFactory.getShapeProp(o,i,j,o);var _e,tt=_.length,rt;for(_e=0;_e<tt;_e+=1)_[_e].closed||(rt={transforms:$.addTransformSequence(_[_e].transforms),trNodes:[]},this.styledShapes.push(rt),_[_e].elements.push(rt))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(o,i,_){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(o,i){var _={data:o,type:o.ty,preTransforms:this.transformsManager.addTransformSequence(i),transforms:[],elements:[],closed:o.hd===!0},$={};if(o.ty==="fl"||o.ty==="st"?($.c=PropertyFactory.getProp(this,o.c,1,255,this),$.c.k||(_.co="rgb("+bmFloor($.c.v[0])+","+bmFloor($.c.v[1])+","+bmFloor($.c.v[2])+")")):(o.ty==="gf"||o.ty==="gs")&&($.s=PropertyFactory.getProp(this,o.s,1,null,this),$.e=PropertyFactory.getProp(this,o.e,1,null,this),$.h=PropertyFactory.getProp(this,o.h||{k:0},0,.01,this),$.a=PropertyFactory.getProp(this,o.a||{k:0},0,degToRads,this),$.g=new GradientProperty(this,o.g,this)),$.o=PropertyFactory.getProp(this,o.o,0,.01,this),o.ty==="st"||o.ty==="gs"){if(_.lc=lineCapEnum[o.lc||2],_.lj=lineJoinEnum[o.lj||2],o.lj==1&&(_.ml=o.ml),$.w=PropertyFactory.getProp(this,o.w,0,null,this),$.w.k||(_.wi=$.w.v),o.d){var j=new DashProperty(this,o.d,"canvas",this);$.d=j,$.d.k||(_.da=$.d.dashArray,_.do=$.d.dashoffset[0])}}else _.r=o.r===2?"evenodd":"nonzero";return this.stylesList.push(_),$.style=_,$},CVShapeElement.prototype.createGroupElement=function(){var o={it:[],prevViewData:[]};return o},CVShapeElement.prototype.createTransformElement=function(o){var i={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,o.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,o,this)}};return i},CVShapeElement.prototype.createShapeElement=function(o){var i=new CVShapeData(this,o,this.stylesList,this.transformsManager);return this.shapes.push(i),this.addShapeToModifiers(i),i},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,i=this.itemsData.length;for(o=0;o<i;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),i=this.dynamicProperties.length,o=0;o<i;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(o){var i,_=this.stylesList.length;for(i=0;i<_;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(o)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var o,i=this.stylesList.length;for(o=0;o<i;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.pop()},CVShapeElement.prototype.closeStyles=function(o){var i,_=o.length;for(i=0;i<_;i+=1)o[i].closed=!0},CVShapeElement.prototype.searchShapes=function(o,i,_,$,j){var _e,tt=o.length-1,rt,nt,it=[],ot=[],lt,ft,_t,At=[].concat(j);for(_e=tt;_e>=0;_e-=1){if(lt=this.searchProcessedElement(o[_e]),lt?i[_e]=_[lt-1]:o[_e]._shouldRender=$,o[_e].ty==="fl"||o[_e].ty==="st"||o[_e].ty==="gf"||o[_e].ty==="gs")lt?i[_e].style.closed=!1:i[_e]=this.createStyleElement(o[_e],At),it.push(i[_e].style);else if(o[_e].ty==="gr"){if(!lt)i[_e]=this.createGroupElement(o[_e]);else for(nt=i[_e].it.length,rt=0;rt<nt;rt+=1)i[_e].prevViewData[rt]=i[_e].it[rt];this.searchShapes(o[_e].it,i[_e].it,i[_e].prevViewData,$,At)}else o[_e].ty==="tr"?(lt||(_t=this.createTransformElement(o[_e]),i[_e]=_t),At.push(i[_e]),this.addTransformToStyleList(i[_e])):o[_e].ty==="sh"||o[_e].ty==="rc"||o[_e].ty==="el"||o[_e].ty==="sr"?lt||(i[_e]=this.createShapeElement(o[_e])):o[_e].ty==="tm"||o[_e].ty==="rd"||o[_e].ty==="pb"||o[_e].ty==="zz"||o[_e].ty==="op"?(lt?(ft=i[_e],ft.closed=!1):(ft=ShapeModifiers.getModifier(o[_e].ty),ft.init(this,o[_e]),i[_e]=ft,this.shapeModifiers.push(ft)),ot.push(ft)):o[_e].ty==="rp"&&(lt?(ft=i[_e],ft.closed=!0):(ft=ShapeModifiers.getModifier(o[_e].ty),i[_e]=ft,ft.init(this,o,_e,i),this.shapeModifiers.push(ft),$=!1),ot.push(ft));this.addProcessedElement(o[_e],_e+1)}for(this.removeTransformFromStyleList(),this.closeStyles(it),tt=ot.length,_e=0;_e<tt;_e+=1)ot[_e].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(o,i){(o._opMdf||i.op._mdf||this._isFirstFrame)&&(i.opacity=o.opacity,i.opacity*=i.op.v,i._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var o,i=this.stylesList.length,_,$,j,_e,tt,rt,nt=this.globalData.renderer,it=this.globalData.canvasContext,ot,lt;for(o=0;o<i;o+=1)if(lt=this.stylesList[o],ot=lt.type,!((ot==="st"||ot==="gs")&&lt.wi===0||!lt.data._shouldRender||lt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(nt.save(),tt=lt.elements,ot==="st"||ot==="gs"?(nt.ctxStrokeStyle(ot==="st"?lt.co:lt.grd),nt.ctxLineWidth(lt.wi),nt.ctxLineCap(lt.lc),nt.ctxLineJoin(lt.lj),nt.ctxMiterLimit(lt.ml||0)):nt.ctxFillStyle(ot==="fl"?lt.co:lt.grd),nt.ctxOpacity(lt.coOp),ot!=="st"&&ot!=="gs"&&it.beginPath(),nt.ctxTransform(lt.preTransforms.finalTransform.props),$=tt.length,_=0;_<$;_+=1){for((ot==="st"||ot==="gs")&&(it.beginPath(),lt.da&&(it.setLineDash(lt.da),it.lineDashOffset=lt.do)),rt=tt[_].trNodes,_e=rt.length,j=0;j<_e;j+=1)rt[j].t==="m"?it.moveTo(rt[j].p[0],rt[j].p[1]):rt[j].t==="c"?it.bezierCurveTo(rt[j].pts[0],rt[j].pts[1],rt[j].pts[2],rt[j].pts[3],rt[j].pts[4],rt[j].pts[5]):it.closePath();(ot==="st"||ot==="gs")&&(nt.ctxStroke(),lt.da&&it.setLineDash(this.dashResetter))}ot!=="st"&&ot!=="gs"&&this.globalData.renderer.ctxFill(lt.r),nt.restore()}},CVShapeElement.prototype.renderShape=function(o,i,_,$){var j,_e=i.length-1,tt;for(tt=o,j=_e;j>=0;j-=1)i[j].ty==="tr"?(tt=_[j].transform,this.renderShapeTransform(o,tt)):i[j].ty==="sh"||i[j].ty==="el"||i[j].ty==="rc"||i[j].ty==="sr"?this.renderPath(i[j],_[j]):i[j].ty==="fl"?this.renderFill(i[j],_[j],tt):i[j].ty==="st"?this.renderStroke(i[j],_[j],tt):i[j].ty==="gf"||i[j].ty==="gs"?this.renderGradientFill(i[j],_[j],tt):i[j].ty==="gr"?this.renderShape(tt,i[j].it,_[j].it):i[j].ty;$&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(o,i){if(this._isFirstFrame||i._mdf||o.transforms._mdf){var _=o.trNodes,$=i.paths,j,_e,tt,rt=$._length;_.length=0;var nt=o.transforms.finalTransform;for(tt=0;tt<rt;tt+=1){var it=$.shapes[tt];if(it&&it.v){for(_e=it._length,j=1;j<_e;j+=1)j===1&&_.push({t:"m",p:nt.applyToPointArray(it.v[0][0],it.v[0][1],0)}),_.push({t:"c",pts:nt.applyToTriplePoints(it.o[j-1],it.i[j],it.v[j])});_e===1&&_.push({t:"m",p:nt.applyToPointArray(it.v[0][0],it.v[0][1],0)}),it.c&&_e&&(_.push({t:"c",pts:nt.applyToTriplePoints(it.o[j-1],it.i[0],it.v[0])}),_.push({t:"z"}))}}o.trNodes=_}},CVShapeElement.prototype.renderPath=function(o,i){if(o.hd!==!0&&o._shouldRender){var _,$=i.styledShapes.length;for(_=0;_<$;_+=1)this.renderStyledShape(i.styledShapes[_],i.sh)}},CVShapeElement.prototype.renderFill=function(o,i,_){var $=i.style;(i.c._mdf||this._isFirstFrame)&&($.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||_._opMdf||this._isFirstFrame)&&($.coOp=i.o.v*_.opacity)},CVShapeElement.prototype.renderGradientFill=function(o,i,_){var $=i.style,j;if(!$.grd||i.g._mdf||i.s._mdf||i.e._mdf||o.t!==1&&(i.h._mdf||i.a._mdf)){var _e=this.globalData.canvasContext,tt=i.s.v,rt=i.e.v;if(o.t===1)j=_e.createLinearGradient(tt[0],tt[1],rt[0],rt[1]);else{var nt=Math.sqrt(Math.pow(tt[0]-rt[0],2)+Math.pow(tt[1]-rt[1],2)),it=Math.atan2(rt[1]-tt[1],rt[0]-tt[0]),ot=i.h.v;ot>=1?ot=.99:ot<=-1&&(ot=-.99);var lt=nt*ot,ft=Math.cos(it+i.a.v)*lt+tt[0],_t=Math.sin(it+i.a.v)*lt+tt[1];j=_e.createRadialGradient(ft,_t,0,tt[0],tt[1],nt)}var At,Tt=o.g.p,Mt=i.g.c,pt=1;for(At=0;At<Tt;At+=1)i.g._hasOpacity&&i.g._collapsable&&(pt=i.g.o[At*2+1]),j.addColorStop(Mt[At*4]/100,"rgba("+Mt[At*4+1]+","+Mt[At*4+2]+","+Mt[At*4+3]+","+pt+")");$.grd=j}$.coOp=i.o.v*_.opacity},CVShapeElement.prototype.renderStroke=function(o,i,_){var $=i.style,j=i.d;j&&(j._mdf||this._isFirstFrame)&&($.da=j.dashArray,$.do=j.dashoffset[0]),(i.c._mdf||this._isFirstFrame)&&($.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||_._opMdf||this._isFirstFrame)&&($.coOp=i.o.v*_.opacity),(i.w._mdf||this._isFirstFrame)&&($.wi=i.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(o,i,_){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var i=!1;o.fc?(i=!0,this.values.fill=this.buildColor(o.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=i;var _=!1;o.sc&&(_=!0,this.values.stroke=this.buildColor(o.sc),this.values.sWidth=o.sw);var $=this.globalData.fontManager.getFontByName(o.f),j,_e,tt=o.l,rt=this.mHelper;this.stroke=_,this.values.fValue=o.finalSize+"px "+this.globalData.fontManager.getFontByName(o.f).fFamily,_e=o.finalText.length;var nt,it,ot,lt,ft,_t,At,Tt,Mt,pt,Pt=this.data.singleShape,$t=o.tr*.001*o.finalSize,Ot=0,It=0,Dt=!0,Lt=0;for(j=0;j<_e;j+=1){nt=this.globalData.fontManager.getCharData(o.finalText[j],$.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),it=nt&&nt.data||{},rt.reset(),Pt&&tt[j].n&&(Ot=-$t,It+=o.yOffset,It+=Dt?1:0,Dt=!1),ft=it.shapes?it.shapes[0].it:[],At=ft.length,rt.scale(o.finalSize/100,o.finalSize/100),Pt&&this.applyTextPropertiesToMatrix(o,rt,tt[j].line,Ot,It),Mt=createSizedArray(At-1);var Bt=0;for(_t=0;_t<At;_t+=1)if(ft[_t].ty==="sh"){for(lt=ft[_t].ks.k.i.length,Tt=ft[_t].ks.k,pt=[],ot=1;ot<lt;ot+=1)ot===1&&pt.push(rt.applyToX(Tt.v[0][0],Tt.v[0][1],0),rt.applyToY(Tt.v[0][0],Tt.v[0][1],0)),pt.push(rt.applyToX(Tt.o[ot-1][0],Tt.o[ot-1][1],0),rt.applyToY(Tt.o[ot-1][0],Tt.o[ot-1][1],0),rt.applyToX(Tt.i[ot][0],Tt.i[ot][1],0),rt.applyToY(Tt.i[ot][0],Tt.i[ot][1],0),rt.applyToX(Tt.v[ot][0],Tt.v[ot][1],0),rt.applyToY(Tt.v[ot][0],Tt.v[ot][1],0));pt.push(rt.applyToX(Tt.o[ot-1][0],Tt.o[ot-1][1],0),rt.applyToY(Tt.o[ot-1][0],Tt.o[ot-1][1],0),rt.applyToX(Tt.i[0][0],Tt.i[0][1],0),rt.applyToY(Tt.i[0][0],Tt.i[0][1],0),rt.applyToX(Tt.v[0][0],Tt.v[0][1],0),rt.applyToY(Tt.v[0][0],Tt.v[0][1],0)),Mt[Bt]=pt,Bt+=1}Pt&&(Ot+=tt[j].l,Ot+=$t),this.textSpans[Lt]?this.textSpans[Lt].elem=Mt:this.textSpans[Lt]={elem:Mt},Lt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var o=this.canvasContext;o.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,_,$,j,_e,tt,rt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;_=nt.length;var it,ot=null,lt=null,ft=null,_t,At,Tt=this.globalData.renderer;for(i=0;i<_;i+=1)if(!nt[i].n){if(it=rt[i],it&&(Tt.save(),Tt.ctxTransform(it.p),Tt.ctxOpacity(it.o)),this.fill){for(it&&it.fc?ot!==it.fc&&(Tt.ctxFillStyle(it.fc),ot=it.fc):ot!==this.values.fill&&(ot=this.values.fill,Tt.ctxFillStyle(this.values.fill)),_t=this.textSpans[i].elem,j=_t.length,this.globalData.canvasContext.beginPath(),$=0;$<j;$+=1)for(At=_t[$],tt=At.length,this.globalData.canvasContext.moveTo(At[0],At[1]),_e=2;_e<tt;_e+=6)this.globalData.canvasContext.bezierCurveTo(At[_e],At[_e+1],At[_e+2],At[_e+3],At[_e+4],At[_e+5]);this.globalData.canvasContext.closePath(),Tt.ctxFill()}if(this.stroke){for(it&&it.sw?ft!==it.sw&&(ft=it.sw,Tt.ctxLineWidth(it.sw)):ft!==this.values.sWidth&&(ft=this.values.sWidth,Tt.ctxLineWidth(this.values.sWidth)),it&&it.sc?lt!==it.sc&&(lt=it.sc,Tt.ctxStrokeStyle(it.sc)):lt!==this.values.stroke&&(lt=this.values.stroke,Tt.ctxStrokeStyle(this.values.stroke)),_t=this.textSpans[i].elem,j=_t.length,this.globalData.canvasContext.beginPath(),$=0;$<j;$+=1)for(At=_t[$],tt=At.length,this.globalData.canvasContext.moveTo(At[0],At[1]),_e=2;_e<tt;_e+=6)this.globalData.canvasContext.bezierCurveTo(At[_e],At[_e+1],At[_e+2],At[_e+3],At[_e+4],At[_e+5]);this.globalData.canvasContext.closePath(),Tt.ctxStroke()}it&&this.globalData.renderer.restore()}};function CVImageElement(o,i,_){this.assetData=i.getAssetData(o.refId),this.img=i.imageLoader.getAsset(this.assetData),this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var o=createTag("canvas");o.width=this.assetData.w,o.height=this.assetData.h;var i=o.getContext("2d"),_=this.img.width,$=this.img.height,j=_/$,_e=this.assetData.w/this.assetData.h,tt,rt,nt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;j>_e&&nt==="xMidYMid slice"||j<_e&&nt!=="xMidYMid slice"?(rt=$,tt=rt*_e):(tt=_,rt=tt/_e),i.drawImage(this.img,(_-tt)/2,($-rt)/2,tt,rt,0,0,this.assetData.w,this.assetData.h),this.img=o}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(o,i,_){this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(o){return new CVShapeElement(o,this.globalData,this)},CanvasRendererBase.prototype.createText=function(o){return new CVTextElement(o,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(o){return new CVImageElement(o,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(o){return new CVSolidElement(o,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(o){o[0]===1&&o[1]===0&&o[4]===0&&o[5]===1&&o[12]===0&&o[13]===0||this.canvasContext.transform(o[0],o[1],o[4],o[5],o[12],o[13])},CanvasRendererBase.prototype.ctxOpacity=function(o){this.canvasContext.globalAlpha*=o<0?0:o},CanvasRendererBase.prototype.ctxFillStyle=function(o){this.canvasContext.fillStyle=o},CanvasRendererBase.prototype.ctxStrokeStyle=function(o){this.canvasContext.strokeStyle=o},CanvasRendererBase.prototype.ctxLineWidth=function(o){this.canvasContext.lineWidth=o},CanvasRendererBase.prototype.ctxLineCap=function(o){this.canvasContext.lineCap=o},CanvasRendererBase.prototype.ctxLineJoin=function(o){this.canvasContext.lineJoin=o},CanvasRendererBase.prototype.ctxMiterLimit=function(o){this.canvasContext.miterLimit=o},CanvasRendererBase.prototype.ctxFill=function(o){this.canvasContext.fill(o)},CanvasRendererBase.prototype.ctxFillRect=function(o,i,_,$){this.canvasContext.fillRect(o,i,_,$)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}o&&(this.globalData.blendMode="source-over"),this.contextData.restore(o)},CanvasRendererBase.prototype.configAnimation=function(o){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var i=this.animationItem.container.style;i.width="100%",i.height="100%";var _="0px 0px 0px";i.transformOrigin=_,i.mozTransformOrigin=_,i.webkitTransformOrigin=_,i["-webkit-transform"]=_,i.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=o,this.layers=o.layers,this.transformCanvas={w:o.w,h:o.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(o,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(o.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(o,i){this.reset();var _,$;o?(_=o,$=i,this.canvasContext.canvas.width=_,this.canvasContext.canvas.height=$):(this.animationItem.wrapper&&this.animationItem.container?(_=this.animationItem.wrapper.offsetWidth,$=this.animationItem.wrapper.offsetHeight):(_=this.canvasContext.canvas.width,$=this.canvasContext.canvas.height),this.canvasContext.canvas.width=_*this.renderConfig.dpr,this.canvasContext.canvas.height=$*this.renderConfig.dpr);var j,_e;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var tt=this.renderConfig.preserveAspectRatio.split(" "),rt=tt[1]||"meet",nt=tt[0]||"xMidYMid",it=nt.substr(0,4),ot=nt.substr(4);j=_/$,_e=this.transformCanvas.w/this.transformCanvas.h,_e>j&&rt==="meet"||_e<j&&rt==="slice"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=$/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=$/(this.transformCanvas.h/this.renderConfig.dpr)),it==="xMid"&&(_e<j&&rt==="meet"||_e>j&&rt==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*($/this.transformCanvas.h))/2*this.renderConfig.dpr:it==="xMax"&&(_e<j&&rt==="meet"||_e>j&&rt==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*($/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ot==="YMid"&&(_e>j&&rt==="meet"||_e<j&&rt==="slice")?this.transformCanvas.ty=($-this.transformCanvas.h*(_/this.transformCanvas.w))/2*this.renderConfig.dpr:ot==="YMax"&&(_e>j&&rt==="meet"||_e<j&&rt==="slice")?this.transformCanvas.ty=($-this.transformCanvas.h*(_/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=$/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var o,i=this.layers?this.layers.length:0;for(o=i-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(o,i){if(!(this.renderedFrame===o&&this.renderConfig.clearCanvas===!0&&!i||this.destroyed||o===-1)){this.renderedFrame=o,this.globalData.frameNum=o-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||i,this.globalData.projectInterface.currentFrame=o;var _,$=this.layers.length;for(this.completeLayers||this.checkLayers(o),_=$-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame(o-this.layers[_].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),_=$-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(o){var i=this.elements;if(!(i[o]||this.layers[o].ty===99)){var _=this.createItem(this.layers[o],this,this.globalData);i[o]=_,_.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var o,i=15;for(o=0;o<i;o+=1){var _=new CanvasContext;this.stack[o]=_}this._length=i,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var o=this._length*2,i=0;for(i=this._length;i<o;i+=1)this.stack[i]=new CanvasContext;this._length=o},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(o){this.cArrPos-=1;var i=this.stack[this.cArrPos],_=i.transform,$,j=this.cTr.props;for($=0;$<16;$+=1)j[$]=_[$];if(o){this.nativeContext.restore();var _e=this.stack[this.cArrPos+1];this.appliedFillStyle=_e.fillStyle,this.appliedStrokeStyle=_e.strokeStyle,this.appliedLineWidth=_e.lineWidth,this.appliedLineCap=_e.lineCap,this.appliedLineJoin=_e.lineJoin,this.appliedMiterLimit=_e.miterLimit}this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13]),(o||i.opacity!==-1&&this.currentOpacity!==i.opacity)&&(this.nativeContext.globalAlpha=i.opacity,this.currentOpacity=i.opacity),this.currentFillStyle=i.fillStyle,this.currentStrokeStyle=i.strokeStyle,this.currentLineWidth=i.lineWidth,this.currentLineCap=i.lineCap,this.currentLineJoin=i.lineJoin,this.currentMiterLimit=i.miterLimit},CVContextData.prototype.save=function(o){o&&this.nativeContext.save();var i=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var _=this.stack[this.cArrPos],$;for($=0;$<16;$+=1)_.transform[$]=i[$];this.cArrPos+=1;var j=this.stack[this.cArrPos];j.opacity=_.opacity,j.fillStyle=_.fillStyle,j.strokeStyle=_.strokeStyle,j.lineWidth=_.lineWidth,j.lineCap=_.lineCap,j.lineJoin=_.lineJoin,j.miterLimit=_.miterLimit},CVContextData.prototype.setOpacity=function(o){this.stack[this.cArrPos].opacity=o},CVContextData.prototype.setContext=function(o){this.nativeContext=o},CVContextData.prototype.fillStyle=function(o){this.stack[this.cArrPos].fillStyle!==o&&(this.currentFillStyle=o,this.stack[this.cArrPos].fillStyle=o)},CVContextData.prototype.strokeStyle=function(o){this.stack[this.cArrPos].strokeStyle!==o&&(this.currentStrokeStyle=o,this.stack[this.cArrPos].strokeStyle=o)},CVContextData.prototype.lineWidth=function(o){this.stack[this.cArrPos].lineWidth!==o&&(this.currentLineWidth=o,this.stack[this.cArrPos].lineWidth=o)},CVContextData.prototype.lineCap=function(o){this.stack[this.cArrPos].lineCap!==o&&(this.currentLineCap=o,this.stack[this.cArrPos].lineCap=o)},CVContextData.prototype.lineJoin=function(o){this.stack[this.cArrPos].lineJoin!==o&&(this.currentLineJoin=o,this.stack[this.cArrPos].lineJoin=o)},CVContextData.prototype.miterLimit=function(o){this.stack[this.cArrPos].miterLimit!==o&&(this.currentMiterLimit=o,this.stack[this.cArrPos].miterLimit=o)},CVContextData.prototype.transform=function(o){this.transformMat.cloneFromProps(o);var i=this.cTr;this.transformMat.multiply(i),i.cloneFromProps(this.transformMat.props);var _=i.props;this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13])},CVContextData.prototype.opacity=function(o){var i=this.stack[this.cArrPos].opacity;i*=o<0?0:o,this.stack[this.cArrPos].opacity!==i&&(this.currentOpacity!==o&&(this.nativeContext.globalAlpha=o,this.currentOpacity=o),this.stack[this.cArrPos].opacity=i)},CVContextData.prototype.fill=function(o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(o)},CVContextData.prototype.fillRect=function(o,i,_,$){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(o,i,_,$)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(o,i,_){this.completeLayers=!1,this.layers=o.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(o,i,_),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.beginPath(),o.moveTo(0,0),o.lineTo(this.data.w,0),o.lineTo(this.data.w,this.data.h),o.lineTo(0,this.data.h),o.lineTo(0,0),o.clip();var i,_=this.layers.length;for(i=_-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},CVCompElement.prototype.destroy=function(){var o,i=this.layers.length;for(o=i-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function CanvasRenderer(o,i){this.animationItem=o,this.renderConfig={clearCanvas:i&&i.clearCanvas!==void 0?i.clearCanvas:!0,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||"",runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var i=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _=this.finalTransform.mat.toCSS();i.transform=_,i.webkitTransform=_}this.finalTransform._opMdf&&(i.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(o,i,_){this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var o;this.data.hasMask?(o=createNS("rect"),o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(o=createTag("div"),o.style.width=this.data.sw+"px",o.style.height=this.data.sh+"px",o.style.backgroundColor=this.data.sc),this.layerElement.appendChild(o)};function HShapeElement(o,i,_){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(o,i,_),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var o;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),o=this.svgElement;else{o=createNS("svg");var i=this.comp.data?this.comp.data:this.globalData.compSize;o.setAttribute("width",i.w),o.setAttribute("height",i.h),o.appendChild(this.shapesContainer),this.layerElement.appendChild(o)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=o},HShapeElement.prototype.getTransformedPoint=function(o,i){var _,$=o.length;for(_=0;_<$;_+=1)i=o[_].mProps.v.applyToPointArray(i[0],i[1],0);return i},HShapeElement.prototype.calculateShapeBoundingBox=function(o,i){var _=o.sh.v,$=o.transformers,j,_e=_._length,tt,rt,nt,it;if(!(_e<=1)){for(j=0;j<_e-1;j+=1)tt=this.getTransformedPoint($,_.v[j]),rt=this.getTransformedPoint($,_.o[j]),nt=this.getTransformedPoint($,_.i[j+1]),it=this.getTransformedPoint($,_.v[j+1]),this.checkBounds(tt,rt,nt,it,i);_.c&&(tt=this.getTransformedPoint($,_.v[j]),rt=this.getTransformedPoint($,_.o[j]),nt=this.getTransformedPoint($,_.i[0]),it=this.getTransformedPoint($,_.v[0]),this.checkBounds(tt,rt,nt,it,i))}},HShapeElement.prototype.checkBounds=function(o,i,_,$,j){this.getBoundsOfCurve(o,i,_,$);var _e=this.shapeBoundingBox;j.x=bmMin(_e.left,j.x),j.xMax=bmMax(_e.right,j.xMax),j.y=bmMin(_e.top,j.y),j.yMax=bmMax(_e.bottom,j.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(o,i,_,$){for(var j=[[o[0],$[0]],[o[1],$[1]]],_e,tt,rt,nt,it,ot,lt,ft=0;ft<2;++ft)tt=6*o[ft]-12*i[ft]+6*_[ft],_e=-3*o[ft]+9*i[ft]-9*_[ft]+3*$[ft],rt=3*i[ft]-3*o[ft],tt|=0,_e|=0,rt|=0,_e===0&&tt===0||(_e===0?(nt=-rt/tt,nt>0&&nt<1&&j[ft].push(this.calculateF(nt,o,i,_,$,ft))):(it=tt*tt-4*rt*_e,it>=0&&(ot=(-tt+bmSqrt(it))/(2*_e),ot>0&&ot<1&&j[ft].push(this.calculateF(ot,o,i,_,$,ft)),lt=(-tt-bmSqrt(it))/(2*_e),lt>0&&lt<1&&j[ft].push(this.calculateF(lt,o,i,_,$,ft)))));this.shapeBoundingBox.left=bmMin.apply(null,j[0]),this.shapeBoundingBox.top=bmMin.apply(null,j[1]),this.shapeBoundingBox.right=bmMax.apply(null,j[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,j[1])},HShapeElement.prototype.calculateF=function(o,i,_,$,j,_e){return bmPow(1-o,3)*i[_e]+3*bmPow(1-o,2)*o*_[_e]+3*(1-o)*bmPow(o,2)*$[_e]+bmPow(o,3)*j[_e]},HShapeElement.prototype.calculateBoundingBox=function(o,i){var _,$=o.length;for(_=0;_<$;_+=1)o[_]&&o[_].sh?this.calculateShapeBoundingBox(o[_],i):o[_]&&o[_].it?this.calculateBoundingBox(o[_].it,i):o[_]&&o[_].style&&o[_].w&&this.expandStrokeBoundingBox(o[_].w,i)},HShapeElement.prototype.expandStrokeBoundingBox=function(o,i){var _=0;if(o.keyframes){for(var $=0;$<o.keyframes.length;$+=1){var j=o.keyframes[$].s;j>_&&(_=j)}_*=o.mult}else _=o.v*o.mult;i.x-=_,i.xMax+=_,i.y-=_,i.yMax+=_},HShapeElement.prototype.currentBoxContains=function(o){return this.currentBBox.x<=o.x&&this.currentBBox.y<=o.y&&this.currentBBox.width+this.currentBBox.x>=o.x+o.width&&this.currentBBox.height+this.currentBBox.y>=o.y+o.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var o=this.tempBoundingBox,i=999999;if(o.x=i,o.xMax=-i,o.y=i,o.yMax=-i,this.calculateBoundingBox(this.itemsData,o),o.width=o.xMax<o.x?0:o.xMax-o.x,o.height=o.yMax<o.y?0:o.yMax-o.y,this.currentBoxContains(o))return;var _=!1;if(this.currentBBox.w!==o.width&&(this.currentBBox.w=o.width,this.shapeCont.setAttribute("width",o.width),_=!0),this.currentBBox.h!==o.height&&(this.currentBBox.h=o.height,this.shapeCont.setAttribute("height",o.height),_=!0),_||this.currentBBox.x!==o.x||this.currentBBox.y!==o.y){this.currentBBox.w=o.width,this.currentBBox.h=o.height,this.currentBBox.x=o.x,this.currentBBox.y=o.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var $=this.shapeCont.style,j="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";$.transform=j,$.webkitTransform=j}}};function HTextElement(o,i,_){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var o=createNS("g");this.maskedElement.appendChild(o),this.innerElem=o}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var i=this.innerElem.style,_=o.fc?this.buildColor(o.fc):"rgba(0,0,0,0)";i.fill=_,i.color=_,o.sc&&(i.stroke=this.buildColor(o.sc),i.strokeWidth=o.sw+"px");var $=this.globalData.fontManager.getFontByName(o.f);if(!this.globalData.fontManager.chars)if(i.fontSize=o.finalSize+"px",i.lineHeight=o.finalSize+"px",$.fClass)this.innerElem.className=$.fClass;else{i.fontFamily=$.fFamily;var j=o.fWeight,_e=o.fStyle;i.fontStyle=_e,i.fontWeight=j}var tt,rt,nt=o.l;rt=nt.length;var it,ot,lt,ft=this.mHelper,_t,At="",Tt=0;for(tt=0;tt<rt;tt+=1){if(this.globalData.fontManager.chars?(this.textPaths[Tt]?it=this.textPaths[Tt]:(it=createNS("path"),it.setAttribute("stroke-linecap",lineCapEnum[1]),it.setAttribute("stroke-linejoin",lineJoinEnum[2]),it.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Tt]?(ot=this.textSpans[Tt],lt=ot.children[0]):(ot=createTag("div"),ot.style.lineHeight=0,lt=createNS("svg"),lt.appendChild(it),styleDiv(ot)))):this.isMasked?it=this.textPaths[Tt]?this.textPaths[Tt]:createNS("text"):this.textSpans[Tt]?(ot=this.textSpans[Tt],it=this.textPaths[Tt]):(ot=createTag("span"),styleDiv(ot),it=createTag("span"),styleDiv(it),ot.appendChild(it)),this.globalData.fontManager.chars){var Mt=this.globalData.fontManager.getCharData(o.finalText[tt],$.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),pt;if(Mt?pt=Mt.data:pt=null,ft.reset(),pt&&pt.shapes&&pt.shapes.length&&(_t=pt.shapes[0].it,ft.scale(o.finalSize/100,o.finalSize/100),At=this.createPathShape(ft,_t),it.setAttribute("d",At)),this.isMasked)this.innerElem.appendChild(it);else{if(this.innerElem.appendChild(ot),pt&&pt.shapes){document.body.appendChild(lt);var Pt=lt.getBBox();lt.setAttribute("width",Pt.width+2),lt.setAttribute("height",Pt.height+2),lt.setAttribute("viewBox",Pt.x-1+" "+(Pt.y-1)+" "+(Pt.width+2)+" "+(Pt.height+2));var $t=lt.style,Ot="translate("+(Pt.x-1)+"px,"+(Pt.y-1)+"px)";$t.transform=Ot,$t.webkitTransform=Ot,nt[tt].yOffset=Pt.y-1}else lt.setAttribute("width",1),lt.setAttribute("height",1);ot.appendChild(lt)}}else if(it.textContent=nt[tt].val,it.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(it);else{this.innerElem.appendChild(ot);var It=it.style,Dt="translate3d(0,"+-o.finalSize/1.2+"px,0)";It.transform=Dt,It.webkitTransform=Dt}this.isMasked?this.textSpans[Tt]=it:this.textSpans[Tt]=ot,this.textSpans[Tt].style.display="block",this.textPaths[Tt]=it,Tt+=1}for(;Tt<this.textSpans.length;)this.textSpans[Tt].style.display="none",Tt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var o;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),o=this.svgElement.style;var i="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";o.transform=i,o.webkitTransform=i}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var _,$,j=0,_e=this.textAnimator.renderedLetters,tt=this.textProperty.currentData.l;$=tt.length;var rt,nt,it;for(_=0;_<$;_+=1)tt[_].n?j+=1:(nt=this.textSpans[_],it=this.textPaths[_],rt=_e[j],j+=1,rt._mdf.m&&(this.isMasked?nt.setAttribute("transform",rt.m):(nt.style.webkitTransform=rt.m,nt.style.transform=rt.m)),nt.style.opacity=rt.o,rt.sw&&rt._mdf.sw&&it.setAttribute("stroke-width",rt.sw),rt.sc&&rt._mdf.sc&&it.setAttribute("stroke",rt.sc),rt.fc&&rt._mdf.fc&&(it.setAttribute("fill",rt.fc),it.style.color=rt.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ot=this.innerElem.getBBox();this.currentBBox.w!==ot.width&&(this.currentBBox.w=ot.width,this.svgElement.setAttribute("width",ot.width)),this.currentBBox.h!==ot.height&&(this.currentBBox.h=ot.height,this.svgElement.setAttribute("height",ot.height));var lt=1;if(this.currentBBox.w!==ot.width+lt*2||this.currentBBox.h!==ot.height+lt*2||this.currentBBox.x!==ot.x-lt||this.currentBBox.y!==ot.y-lt){this.currentBBox.w=ot.width+lt*2,this.currentBBox.h=ot.height+lt*2,this.currentBBox.x=ot.x-lt,this.currentBBox.y=ot.y-lt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),o=this.svgElement.style;var ft="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=ft,o.webkitTransform=ft}}}};function HCameraElement(o,i,_){this.initFrame(),this.initBaseData(o,i,_),this.initHierarchy();var $=PropertyFactory.getProp;if(this.pe=$(this,o.pe,0,0,this),o.ks.p.s?(this.px=$(this,o.ks.p.x,1,0,this),this.py=$(this,o.ks.p.y,1,0,this),this.pz=$(this,o.ks.p.z,1,0,this)):this.p=$(this,o.ks.p,1,0,this),o.ks.a&&(this.a=$(this,o.ks.a,1,0,this)),o.ks.or.k.length&&o.ks.or.k[0].to){var j,_e=o.ks.or.k.length;for(j=0;j<_e;j+=1)o.ks.or.k[j].to=null,o.ks.or.k[j].ti=null}this.or=$(this,o.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=$(this,o.ks.rx,0,degToRads,this),this.ry=$(this,o.ks.ry,0,degToRads,this),this.rz=$(this,o.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var o,i=this.comp.threeDElements.length,_,$,j;for(o=0;o<i;o+=1)if(_=this.comp.threeDElements[o],_.type==="3d"){$=_.perspectiveElem.style,j=_.container.style;var _e=this.pe.v+"px",tt="0px 0px 0px",rt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";$.perspective=_e,$.webkitPerspective=_e,j.transformOrigin=tt,j.mozTransformOrigin=tt,j.webkitTransformOrigin=tt,$.transform=rt,$.webkitTransform=rt}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var o=this._isFirstFrame,i,_;if(this.hierarchy)for(_=this.hierarchy.length,i=0;i<_;i+=1)o=this.hierarchy[i].finalTransform.mProp._mdf||o;if(o||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(_=this.hierarchy.length-1,i=_;i>=0;i-=1){var $=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-$.p.v[0],-$.p.v[1],$.p.v[2]),this.mat.rotateX(-$.or.v[0]).rotateY(-$.or.v[1]).rotateZ($.or.v[2]),this.mat.rotateX(-$.rx.v).rotateY(-$.ry.v).rotateZ($.rz.v),this.mat.scale(1/$.s.v[0],1/$.s.v[1],1/$.s.v[2]),this.mat.translate($.a.v[0],$.a.v[1],$.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var j;this.p?j=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:j=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var _e=Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)),tt=[j[0]/_e,j[1]/_e,j[2]/_e],rt=Math.sqrt(tt[2]*tt[2]+tt[0]*tt[0]),nt=Math.atan2(tt[1],rt),it=Math.atan2(tt[0],-tt[2]);this.mat.rotateY(it).rotateX(-nt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ot=!this._prevMat.equals(this.mat);if((ot||this.pe._mdf)&&this.comp.threeDElements){_=this.comp.threeDElements.length;var lt,ft,_t;for(i=0;i<_;i+=1)if(lt=this.comp.threeDElements[i],lt.type==="3d"){if(ot){var At=this.mat.toCSS();_t=lt.container.style,_t.transform=At,_t.webkitTransform=At}this.pe._mdf&&(ft=lt.perspectiveElem.style,ft.perspective=this.pe.v+"px",ft.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(o,i,_){this.assetData=i.getAssetData(o.refId),this.initElement(o,i,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData),i=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(i),i.crossOrigin="anonymous",i.src=o,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(o,i){var _=o.getBaseElement();if(_){var $=this.layers[i];if(!$.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(_,i);else{for(var j=0,_e,tt,rt;j<i;)this.elements[j]&&this.elements[j]!==!0&&this.elements[j].getBaseElement&&(tt=this.elements[j],rt=this.layers[j].ddd?this.getThreeDContainerByPos(j):tt.getBaseElement(),_e=rt||_e),j+=1;_e?(!$.ddd||!this.supports3d)&&this.layerElement.insertBefore(_,_e):(!$.ddd||!this.supports3d)&&this.layerElement.appendChild(_)}else this.addTo3dContainer(_,i)}},HybridRendererBase.prototype.createShape=function(o){return this.supports3d?new HShapeElement(o,this.globalData,this):new SVGShapeElement(o,this.globalData,this)},HybridRendererBase.prototype.createText=function(o){return this.supports3d?new HTextElement(o,this.globalData,this):new SVGTextLottieElement(o,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(o){return this.camera=new HCameraElement(o,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(o){return this.supports3d?new HImageElement(o,this.globalData,this):new IImageElement(o,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(o){return this.supports3d?new HSolidElement(o,this.globalData,this):new ISolidElement(o,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(o){for(var i=0,_=this.threeDElements.length;i<_;){if(this.threeDElements[i].startPos<=o&&this.threeDElements[i].endPos>=o)return this.threeDElements[i].perspectiveElem;i+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(o,i){var _=createTag("div"),$,j;styleDiv(_);var _e=createTag("div");if(styleDiv(_e),i==="3d"){$=_.style,$.width=this.globalData.compSize.w+"px",$.height=this.globalData.compSize.h+"px";var tt="50% 50%";$.webkitTransformOrigin=tt,$.mozTransformOrigin=tt,$.transformOrigin=tt,j=_e.style;var rt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";j.transform=rt,j.webkitTransform=rt}_.appendChild(_e);var nt={container:_e,perspectiveElem:_,startPos:o,endPos:o,type:i};return this.threeDElements.push(nt),nt},HybridRendererBase.prototype.build3dContainers=function(){var o,i=this.layers.length,_,$="";for(o=0;o<i;o+=1)this.layers[o].ddd&&this.layers[o].ty!==3?($!=="3d"&&($="3d",_=this.createThreeDContainer(o,"3d")),_.endPos=Math.max(_.endPos,o)):($!=="2d"&&($="2d",_=this.createThreeDContainer(o,"2d")),_.endPos=Math.max(_.endPos,o));for(i=this.threeDElements.length,o=i-1;o>=0;o-=1)this.resizerElem.appendChild(this.threeDElements[o].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(o,i){for(var _=0,$=this.threeDElements.length;_<$;){if(i<=this.threeDElements[_].endPos){for(var j=this.threeDElements[_].startPos,_e;j<i;)this.elements[j]&&this.elements[j].getBaseElement&&(_e=this.elements[j].getBaseElement()),j+=1;_e?this.threeDElements[_].container.insertBefore(o,_e):this.threeDElements[_].container.appendChild(o);break}_+=1}},HybridRendererBase.prototype.configAnimation=function(o){var i=createTag("div"),_=this.animationItem.wrapper,$=i.style;$.width=o.w+"px",$.height=o.h+"px",this.resizerElem=i,styleDiv(i),$.transformStyle="flat",$.mozTransformStyle="flat",$.webkitTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),_.appendChild(i),$.overflow="hidden";var j=createNS("svg");j.setAttribute("width","1"),j.setAttribute("height","1"),styleDiv(j),this.resizerElem.appendChild(j);var _e=createNS("defs");j.appendChild(_e),this.data=o,this.setupGlobalData(o,j),this.globalData.defs=_e,this.layers=o.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var o,i=this.layers?this.layers.length:0;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,_=o/i,$=this.globalData.compSize.w/this.globalData.compSize.h,j,_e,tt,rt;$>_?(j=o/this.globalData.compSize.w,_e=o/this.globalData.compSize.w,tt=0,rt=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(j=i/this.globalData.compSize.h,_e=i/this.globalData.compSize.h,tt=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,rt=0);var nt=this.resizerElem.style;nt.webkitTransform="matrix3d("+j+",0,0,0,0,"+_e+",0,0,0,0,1,0,"+tt+","+rt+",0,1)",nt.transform=nt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var o=this.globalData.compSize.w,i=this.globalData.compSize.h,_,$=this.threeDElements.length;for(_=0;_<$;_+=1){var j=this.threeDElements[_].perspectiveElem.style;j.webkitPerspective=Math.sqrt(Math.pow(o,2)+Math.pow(i,2))+"px",j.perspective=j.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(o){var i,_=o.length,$=createTag("div");for(i=0;i<_;i+=1)if(o[i].xt){var j=this.createComp(o[i],$,this.globalData.comp,null);j.initExpressions(),this.globalData.projectInterface.registerComposition(j)}};function HCompElement(o,i,_){this.layers=o.layers,this.supports3d=!o.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,i,_),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(o,i){for(var _=0,$;_<i;)this.elements[_]&&this.elements[_].getBaseElement&&($=this.elements[_].getBaseElement()),_+=1;$?this.layerElement.insertBefore(o,$):this.layerElement.appendChild(o)},HCompElement.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};function HybridRenderer(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"},runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};var CompExpressionInterface=function(){return function(o){function i(_){for(var $=0,j=o.layers.length;$<j;){if(o.layers[$].nm===_||o.layers[$].ind===_)return o.elements[$].layerInterface;$+=1}return null}return Object.defineProperty(i,"_name",{value:o.data.nm}),i.layer=i,i.pixelAspect=1,i.height=o.data.h||o.globalData.compSize.h,i.width=o.data.w||o.globalData.compSize.w,i.pixelAspect=1,i.frameDuration=1/o.globalData.frameRate,i.displayStartTime=0,i.numLayers=o.layers.length,i}}();function _typeof$2(o){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$2(o)}function seedRandom(o,i){var _=this,$=256,j=6,_e=52,tt="random",rt=i.pow($,j),nt=i.pow(2,_e),it=nt*2,ot=$-1,lt;function ft($t,Ot,It){var Dt=[];Ot=Ot===!0?{entropy:!0}:Ot||{};var Lt=Mt(Tt(Ot.entropy?[$t,Pt(o)]:$t===null?pt():$t,3),Dt),Bt=new _t(Dt),jt=function(){for(var Gt=Bt.g(j),qt=rt,Jt=0;Gt<nt;)Gt=(Gt+Jt)*$,qt*=$,Jt=Bt.g(1);for(;Gt>=it;)Gt/=2,qt/=2,Jt>>>=1;return(Gt+Jt)/qt};return jt.int32=function(){return Bt.g(4)|0},jt.quick=function(){return Bt.g(4)/4294967296},jt.double=jt,Mt(Pt(Bt.S),o),(Ot.pass||It||function(Ut,Gt,qt,Jt){return Jt&&(Jt.S&&At(Jt,Bt),Ut.state=function(){return At(Bt,{})}),qt?(i[tt]=Ut,Gt):Ut})(jt,Lt,"global"in Ot?Ot.global:this==i,Ot.state)}i["seed"+tt]=ft;function _t($t){var Ot,It=$t.length,Dt=this,Lt=0,Bt=Dt.i=Dt.j=0,jt=Dt.S=[];for(It||($t=[It++]);Lt<$;)jt[Lt]=Lt++;for(Lt=0;Lt<$;Lt++)jt[Lt]=jt[Bt=ot&Bt+$t[Lt%It]+(Ot=jt[Lt])],jt[Bt]=Ot;Dt.g=function(Ut){for(var Gt,qt=0,Jt=Dt.i,er=Dt.j,Kt=Dt.S;Ut--;)Gt=Kt[Jt=ot&Jt+1],qt=qt*$+Kt[ot&(Kt[Jt]=Kt[er=ot&er+Gt])+(Kt[er]=Gt)];return Dt.i=Jt,Dt.j=er,qt}}function At($t,Ot){return Ot.i=$t.i,Ot.j=$t.j,Ot.S=$t.S.slice(),Ot}function Tt($t,Ot){var It=[],Dt=_typeof$2($t),Lt;if(Ot&&Dt=="object")for(Lt in $t)try{It.push(Tt($t[Lt],Ot-1))}catch{}return It.length?It:Dt=="string"?$t:$t+"\0"}function Mt($t,Ot){for(var It=$t+"",Dt,Lt=0;Lt<It.length;)Ot[ot&Lt]=ot&(Dt^=Ot[ot&Lt]*19)+It.charCodeAt(Lt++);return Pt(Ot)}function pt(){try{var $t=new Uint8Array($);return(_.crypto||_.msCrypto).getRandomValues($t),Pt($t)}catch{var Ot=_.navigator,It=Ot&&Ot.plugins;return[+new Date,_,It,_.screen,Pt(o)]}}function Pt($t){return String.fromCharCode.apply(0,$t)}Mt(i.random(),o)}function initialize$2(o){seedRandom([],o)}var propTypes={SHAPE:"shape"};function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(o)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(o){return o.constructor===Array||o.constructor===Float32Array}function isNumerable(o,i){return o==="number"||i instanceof Number||o==="boolean"||o==="string"}function $bm_neg(o){var i=_typeof$1(o);if(i==="number"||o instanceof Number||i==="boolean")return-o;if($bm_isInstanceOfArray(o)){var _,$=o.length,j=[];for(_=0;_<$;_+=1)j[_]=-o[_];return j}return o.propType?o.v:-o}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(o,i){var _=_typeof$1(o),$=_typeof$1(i);if(isNumerable(_,o)&&isNumerable($,i)||_==="string"||$==="string")return o+i;if($bm_isInstanceOfArray(o)&&isNumerable($,i))return o=o.slice(0),o[0]+=i,o;if(isNumerable(_,o)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=o+i[0],i;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(i)){for(var j=0,_e=o.length,tt=i.length,rt=[];j<_e||j<tt;)(typeof o[j]=="number"||o[j]instanceof Number)&&(typeof i[j]=="number"||i[j]instanceof Number)?rt[j]=o[j]+i[j]:rt[j]=i[j]===void 0?o[j]:o[j]||i[j],j+=1;return rt}return 0}var add=sum;function sub(o,i){var _=_typeof$1(o),$=_typeof$1(i);if(isNumerable(_,o)&&isNumerable($,i))return _==="string"&&(o=parseInt(o,10)),$==="string"&&(i=parseInt(i,10)),o-i;if($bm_isInstanceOfArray(o)&&isNumerable($,i))return o=o.slice(0),o[0]-=i,o;if(isNumerable(_,o)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=o-i[0],i;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(i)){for(var j=0,_e=o.length,tt=i.length,rt=[];j<_e||j<tt;)(typeof o[j]=="number"||o[j]instanceof Number)&&(typeof i[j]=="number"||i[j]instanceof Number)?rt[j]=o[j]-i[j]:rt[j]=i[j]===void 0?o[j]:o[j]||i[j],j+=1;return rt}return 0}function mul(o,i){var _=_typeof$1(o),$=_typeof$1(i),j;if(isNumerable(_,o)&&isNumerable($,i))return o*i;var _e,tt;if($bm_isInstanceOfArray(o)&&isNumerable($,i)){for(tt=o.length,j=createTypedArray("float32",tt),_e=0;_e<tt;_e+=1)j[_e]=o[_e]*i;return j}if(isNumerable(_,o)&&$bm_isInstanceOfArray(i)){for(tt=i.length,j=createTypedArray("float32",tt),_e=0;_e<tt;_e+=1)j[_e]=o*i[_e];return j}return 0}function div(o,i){var _=_typeof$1(o),$=_typeof$1(i),j;if(isNumerable(_,o)&&isNumerable($,i))return o/i;var _e,tt;if($bm_isInstanceOfArray(o)&&isNumerable($,i)){for(tt=o.length,j=createTypedArray("float32",tt),_e=0;_e<tt;_e+=1)j[_e]=o[_e]/i;return j}if(isNumerable(_,o)&&$bm_isInstanceOfArray(i)){for(tt=i.length,j=createTypedArray("float32",tt),_e=0;_e<tt;_e+=1)j[_e]=o/i[_e];return j}return 0}function mod(o,i){return typeof o=="string"&&(o=parseInt(o,10)),typeof i=="string"&&(i=parseInt(i,10)),o%i}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(o,i,_){if(i>_){var $=_;_=i,i=$}return Math.min(Math.max(o,i),_)}function radiansToDegrees(o){return o/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(o){return o*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(o,i){if(typeof o=="number"||o instanceof Number)return i=i||0,Math.abs(o-i);i||(i=helperLengthArray);var _,$=Math.min(o.length,i.length),j=0;for(_=0;_<$;_+=1)j+=Math.pow(i[_]-o[_],2);return Math.sqrt(j)}function normalize(o){return div(o,length(o))}function rgbToHsl(o){var i=o[0],_=o[1],$=o[2],j=Math.max(i,_,$),_e=Math.min(i,_,$),tt,rt,nt=(j+_e)/2;if(j===_e)tt=0,rt=0;else{var it=j-_e;switch(rt=nt>.5?it/(2-j-_e):it/(j+_e),j){case i:tt=(_-$)/it+(_<$?6:0);break;case _:tt=($-i)/it+2;break;case $:tt=(i-_)/it+4;break}tt/=6}return[tt,rt,nt,o[3]]}function hue2rgb(o,i,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?o+(i-o)*6*_:_<1/2?i:_<2/3?o+(i-o)*(2/3-_)*6:o}function hslToRgb(o){var i=o[0],_=o[1],$=o[2],j,_e,tt;if(_===0)j=$,tt=$,_e=$;else{var rt=$<.5?$*(1+_):$+_-$*_,nt=2*$-rt;j=hue2rgb(nt,rt,i+1/3),_e=hue2rgb(nt,rt,i),tt=hue2rgb(nt,rt,i-1/3)}return[j,_e,tt,o[3]]}function linear(o,i,_,$,j){if(($===void 0||j===void 0)&&($=i,j=_,i=0,_=1),_<i){var _e=_;_=i,i=_e}if(o<=i)return $;if(o>=_)return j;var tt=_===i?0:(o-i)/(_-i);if(!$.length)return $+(j-$)*tt;var rt,nt=$.length,it=createTypedArray("float32",nt);for(rt=0;rt<nt;rt+=1)it[rt]=$[rt]+(j[rt]-$[rt])*tt;return it}function random(o,i){if(i===void 0&&(o===void 0?(o=0,i=1):(i=o,o=void 0)),i.length){var _,$=i.length;o||(o=createTypedArray("float32",$));var j=createTypedArray("float32",$),_e=BMMath.random();for(_=0;_<$;_+=1)j[_]=o[_]+_e*(i[_]-o[_]);return j}o===void 0&&(o=0);var tt=BMMath.random();return o+tt*(i-o)}function createPath(o,i,_,$){var j,_e=o.length,tt=shapePool.newElement();tt.setPathData(!!$,_e);var rt=[0,0],nt,it;for(j=0;j<_e;j+=1)nt=i&&i[j]?i[j]:rt,it=_&&_[j]?_[j]:rt,tt.setTripleAt(o[j][0],o[j][1],it[0]+o[j][0],it[1]+o[j][1],nt[0]+o[j][0],nt[1]+o[j][1],j,!0);return tt}function initiateExpression(elem,data,property){function noOp(o){return o}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function o(i,_){var $,j,_e=this.pv.length?this.pv.length:1,tt=createTypedArray("float32",_e);i=5;var rt=Math.floor(time*i);for($=0,j=0;$<rt;){for(j=0;j<_e;j+=1)tt[j]+=-_+_*2*BMMath.random();$+=1}var nt=time*i,it=nt-Math.floor(nt),ot=createTypedArray("float32",_e);if(_e>1){for(j=0;j<_e;j+=1)ot[j]=this.pv[j]+tt[j]+(-_+_*2*BMMath.random())*it;return ot}return this.pv+tt[0]+(-_+_*2*BMMath.random())*it}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(o,i){return loopIn(o,i,!0)}function loopOutDuration(o,i){return loopOut(o,i,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(o,i){var _=[i[0]-o[0],i[1]-o[1],i[2]-o[2]],$=Math.atan2(_[0],Math.sqrt(_[1]*_[1]+_[2]*_[2]))/degToRads,j=-Math.atan2(_[1],_[2])/degToRads;return[j,$,0]}function easeOut(o,i,_,$,j){return applyEase(easeOutBez,o,i,_,$,j)}function easeIn(o,i,_,$,j){return applyEase(easeInBez,o,i,_,$,j)}function ease(o,i,_,$,j){return applyEase(easeInOutBez,o,i,_,$,j)}function applyEase(o,i,_,$,j,_e){j===void 0?(j=_,_e=$):i=(i-_)/($-_),i>1?i=1:i<0&&(i=0);var tt=o(i);if($bm_isInstanceOfArray(j)){var rt,nt=j.length,it=createTypedArray("float32",nt);for(rt=0;rt<nt;rt+=1)it[rt]=(_e[rt]-j[rt])*tt+j[rt];return it}return(_e-j)*tt+j}function nearestKey(o){var i,_=data.k.length,$,j;if(!data.k.length||typeof data.k[0]=="number")$=0,j=0;else if($=-1,o*=elem.comp.globalData.frameRate,o<data.k[0].t)$=1,j=data.k[0].t;else{for(i=0;i<_-1;i+=1)if(o===data.k[i].t){$=i+1,j=data.k[i].t;break}else if(o>data.k[i].t&&o<data.k[i+1].t){o-data.k[i].t>data.k[i+1].t-o?($=i+2,j=data.k[i+1].t):($=i+1,j=data.k[i].t);break}$===-1&&($=i+1,j=data.k[i].t)}var _e={};return _e.index=$,_e.time=j/elem.comp.globalData.frameRate,_e}function key(o){var i,_,$;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+o);o-=1,i={time:data.k[o].t/elem.comp.globalData.frameRate,value:[]};var j=Object.prototype.hasOwnProperty.call(data.k[o],"s")?data.k[o].s:data.k[o-1].e;for($=j.length,_=0;_<$;_+=1)i[_]=j[_],i.value[_]=j[_];return i}function framesToTime(o,i){return i||(i=elem.comp.globalData.frameRate),o/i}function timeToFrames(o,i){return!o&&o!==0&&(o=time),i||(i=elem.comp.globalData.frameRate),o*i}function seedRandom(o){BMMath.seedrandom(randSeed+o)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(o,i){return typeof value=="string"?i===void 0?value.substring(o):value.substring(o,i):""}function substr(o,i){return typeof value=="string"?i===void 0?value.substr(o):value.substr(o,i):""}function posterizeTime(o){time=o===0?0:Math.floor(time*o)/o,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(o){return value=o,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var o={};o.initExpressions=i,o.resetFrame=ExpressionManager.resetFrame;function i(_){var $=0,j=[];function _e(){$+=1}function tt(){$-=1,$===0&&nt()}function rt(it){j.indexOf(it)===-1&&j.push(it)}function nt(){var it,ot=j.length;for(it=0;it<ot;it+=1)j[it].release();j.length=0}_.renderer.compInterface=CompExpressionInterface(_.renderer),_.renderer.globalData.projectInterface.registerComposition(_.renderer),_.renderer.globalData.pushExpression=_e,_.renderer.globalData.popExpression=tt,_.renderer.globalData.registerExpressionProperty=rt}return o}(),MaskManagerInterface=function(){function o(_,$){this._mask=_,this._data=$}Object.defineProperty(o.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(o.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var i=function($){var j=createSizedArray($.viewData.length),_e,tt=$.viewData.length;for(_e=0;_e<tt;_e+=1)j[_e]=new o($.viewData[_e],$.masksProperties[_e]);var rt=function(it){for(_e=0;_e<tt;){if($.masksProperties[_e].nm===it)return j[_e];_e+=1}return null};return rt};return i}(),ExpressionPropertyInterface=function(){var o={pv:0,v:0,mult:1},i={pv:[0,0,0],v:[0,0,0],mult:1};function _(tt,rt,nt){Object.defineProperty(tt,"velocity",{get:function(){return rt.getVelocityAtTime(rt.comp.currentFrame)}}),tt.numKeys=rt.keyframes?rt.keyframes.length:0,tt.key=function(it){if(!tt.numKeys)return 0;var ot="";"s"in rt.keyframes[it-1]?ot=rt.keyframes[it-1].s:"e"in rt.keyframes[it-2]?ot=rt.keyframes[it-2].e:ot=rt.keyframes[it-2].s;var lt=nt==="unidimensional"?new Number(ot):Object.assign({},ot);return lt.time=rt.keyframes[it-1].t/rt.elem.comp.globalData.frameRate,lt.value=nt==="unidimensional"?ot[0]:ot,lt},tt.valueAtTime=rt.getValueAtTime,tt.speedAtTime=rt.getSpeedAtTime,tt.velocityAtTime=rt.getVelocityAtTime,tt.propertyGroup=rt.propertyGroup}function $(tt){(!tt||!("pv"in tt))&&(tt=o);var rt=1/tt.mult,nt=tt.pv*rt,it=new Number(nt);return it.value=nt,_(it,tt,"unidimensional"),function(){return tt.k&&tt.getValue(),nt=tt.v*rt,it.value!==nt&&(it=new Number(nt),it.value=nt,it[0]=nt,_(it,tt,"unidimensional")),it}}function j(tt){(!tt||!("pv"in tt))&&(tt=i);var rt=1/tt.mult,nt=tt.data&&tt.data.l||tt.pv.length,it=createTypedArray("float32",nt),ot=createTypedArray("float32",nt);return it.value=ot,_(it,tt,"multidimensional"),function(){tt.k&&tt.getValue();for(var lt=0;lt<nt;lt+=1)ot[lt]=tt.v[lt]*rt,it[lt]=ot[lt];return it}}function _e(){return o}return function(tt){return tt?tt.propType==="unidimensional"?$(tt):j(tt):_e}}(),TransformExpressionInterface=function(){return function(o){function i(tt){switch(tt){case"scale":case"Scale":case"ADBE Scale":case 6:return i.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return i.rotation;case"ADBE Rotate X":return i.xRotation;case"ADBE Rotate Y":return i.yRotation;case"position":case"Position":case"ADBE Position":case 2:return i.position;case"ADBE Position_0":return i.xPosition;case"ADBE Position_1":return i.yPosition;case"ADBE Position_2":return i.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return i.anchorPoint;case"opacity":case"Opacity":case 11:return i.opacity;default:return null}}Object.defineProperty(i,"rotation",{get:ExpressionPropertyInterface(o.r||o.rz)}),Object.defineProperty(i,"zRotation",{get:ExpressionPropertyInterface(o.rz||o.r)}),Object.defineProperty(i,"xRotation",{get:ExpressionPropertyInterface(o.rx)}),Object.defineProperty(i,"yRotation",{get:ExpressionPropertyInterface(o.ry)}),Object.defineProperty(i,"scale",{get:ExpressionPropertyInterface(o.s)});var _,$,j,_e;return o.p?_e=ExpressionPropertyInterface(o.p):(_=ExpressionPropertyInterface(o.px),$=ExpressionPropertyInterface(o.py),o.pz&&(j=ExpressionPropertyInterface(o.pz))),Object.defineProperty(i,"position",{get:function(){return o.p?_e():[_(),$(),j?j():0]}}),Object.defineProperty(i,"xPosition",{get:ExpressionPropertyInterface(o.px)}),Object.defineProperty(i,"yPosition",{get:ExpressionPropertyInterface(o.py)}),Object.defineProperty(i,"zPosition",{get:ExpressionPropertyInterface(o.pz)}),Object.defineProperty(i,"anchorPoint",{get:ExpressionPropertyInterface(o.a)}),Object.defineProperty(i,"opacity",{get:ExpressionPropertyInterface(o.o)}),Object.defineProperty(i,"skew",{get:ExpressionPropertyInterface(o.sk)}),Object.defineProperty(i,"skewAxis",{get:ExpressionPropertyInterface(o.sa)}),Object.defineProperty(i,"orientation",{get:ExpressionPropertyInterface(o.or)}),i}}(),LayerExpressionInterface=function(){function o(it){var ot=new Matrix;if(it!==void 0){var lt=this._elem.finalTransform.mProp.getValueAtTime(it);lt.clone(ot)}else{var ft=this._elem.finalTransform.mProp;ft.applyToMatrix(ot)}return ot}function i(it,ot){var lt=this.getMatrix(ot);return lt.props[12]=0,lt.props[13]=0,lt.props[14]=0,this.applyPoint(lt,it)}function _(it,ot){var lt=this.getMatrix(ot);return this.applyPoint(lt,it)}function $(it,ot){var lt=this.getMatrix(ot);return lt.props[12]=0,lt.props[13]=0,lt.props[14]=0,this.invertPoint(lt,it)}function j(it,ot){var lt=this.getMatrix(ot);return this.invertPoint(lt,it)}function _e(it,ot){if(this._elem.hierarchy&&this._elem.hierarchy.length){var lt,ft=this._elem.hierarchy.length;for(lt=0;lt<ft;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(it)}return it.applyToPointArray(ot[0],ot[1],ot[2]||0)}function tt(it,ot){if(this._elem.hierarchy&&this._elem.hierarchy.length){var lt,ft=this._elem.hierarchy.length;for(lt=0;lt<ft;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(it)}return it.inversePoint(ot)}function rt(it){var ot=new Matrix;if(ot.reset(),this._elem.finalTransform.mProp.applyToMatrix(ot),this._elem.hierarchy&&this._elem.hierarchy.length){var lt,ft=this._elem.hierarchy.length;for(lt=0;lt<ft;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(ot);return ot.inversePoint(it)}return ot.inversePoint(it)}function nt(){return[1,1,1,1]}return function(it){var ot;function lt(Tt){_t.mask=new MaskManagerInterface(Tt,it)}function ft(Tt){_t.effect=Tt}function _t(Tt){switch(Tt){case"ADBE Root Vectors Group":case"Contents":case 2:return _t.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ot;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return _t.effect;case"ADBE Text Properties":return _t.textInterface;default:return null}}_t.getMatrix=o,_t.invertPoint=tt,_t.applyPoint=_e,_t.toWorld=_,_t.toWorldVec=i,_t.fromWorld=j,_t.fromWorldVec=$,_t.toComp=_,_t.fromComp=rt,_t.sampleImage=nt,_t.sourceRectAtTime=it.sourceRectAtTime.bind(it),_t._elem=it,ot=TransformExpressionInterface(it.finalTransform.mProp);var At=getDescriptor(ot,"anchorPoint");return Object.defineProperties(_t,{hasParent:{get:function(){return it.hierarchy.length}},parent:{get:function(){return it.hierarchy[0].layerInterface}},rotation:getDescriptor(ot,"rotation"),scale:getDescriptor(ot,"scale"),position:getDescriptor(ot,"position"),opacity:getDescriptor(ot,"opacity"),anchorPoint:At,anchor_point:At,transform:{get:function(){return ot}},active:{get:function(){return it.isInRange}}}),_t.startTime=it.data.st,_t.index=it.data.ind,_t.source=it.data.refId,_t.height=it.data.ty===0?it.data.h:100,_t.width=it.data.ty===0?it.data.w:100,_t.inPoint=it.data.ip/it.comp.globalData.frameRate,_t.outPoint=it.data.op/it.comp.globalData.frameRate,_t._name=it.data.nm,_t.registerMaskInterface=lt,_t.registerEffectsInterface=ft,_t}}(),propertyGroupFactory=function(){return function(o,i){return function(_){return _=_===void 0?1:_,_<=0?o:i(_-1)}}}(),PropertyInterface=function(){return function(o,i){var _={_name:o};function $(j){return j=j===void 0?1:j,j<=0?_:i(j-1)}return $}}(),EffectsExpressionInterface=function(){var o={createEffectsInterface:i};function i(j,_e){if(j.effectsManager){var tt=[],rt=j.data.ef,nt,it=j.effectsManager.effectElements.length;for(nt=0;nt<it;nt+=1)tt.push(_(rt[nt],j.effectsManager.effectElements[nt],_e,j));var ot=j.data.ef||[],lt=function(_t){for(nt=0,it=ot.length;nt<it;){if(_t===ot[nt].nm||_t===ot[nt].mn||_t===ot[nt].ix)return tt[nt];nt+=1}return null};return Object.defineProperty(lt,"numProperties",{get:function(){return ot.length}}),lt}return null}function _(j,_e,tt,rt){function nt(_t){for(var At=j.ef,Tt=0,Mt=At.length;Tt<Mt;){if(_t===At[Tt].nm||_t===At[Tt].mn||_t===At[Tt].ix)return At[Tt].ty===5?ot[Tt]:ot[Tt]();Tt+=1}throw new Error}var it=propertyGroupFactory(nt,tt),ot=[],lt,ft=j.ef.length;for(lt=0;lt<ft;lt+=1)j.ef[lt].ty===5?ot.push(_(j.ef[lt],_e.effectElements[lt],_e.effectElements[lt].propertyGroup,rt)):ot.push($(_e.effectElements[lt],j.ef[lt].ty,rt,it));return j.mn==="ADBE Color Control"&&Object.defineProperty(nt,"color",{get:function(){return ot[0]()}}),Object.defineProperties(nt,{numProperties:{get:function(){return j.np}},_name:{value:j.nm},propertyGroup:{value:it}}),nt.enabled=j.en!==0,nt.active=nt.enabled,nt}function $(j,_e,tt,rt){var nt=ExpressionPropertyInterface(j.p);function it(){return _e===10?tt.comp.compInterface(j.p.v):nt()}return j.p.setGroupProperty&&j.p.setGroupProperty(PropertyInterface("",rt)),it}return o}(),ShapePathInterface=function(){return function(i,_,$){var j=_.sh;function _e(rt){return rt==="Shape"||rt==="shape"||rt==="Path"||rt==="path"||rt==="ADBE Vector Shape"||rt===2?_e.path:null}var tt=propertyGroupFactory(_e,$);return j.setGroupProperty(PropertyInterface("Path",tt)),Object.defineProperties(_e,{path:{get:function(){return j.k&&j.getValue(),j}},shape:{get:function(){return j.k&&j.getValue(),j}},_name:{value:i.nm},ix:{value:i.ix},propertyIndex:{value:i.ix},mn:{value:i.mn},propertyGroup:{value:$}}),_e}}(),ShapeExpressionInterface=function(){function o(At,Tt,Mt){var pt=[],Pt,$t=At?At.length:0;for(Pt=0;Pt<$t;Pt+=1)At[Pt].ty==="gr"?pt.push(_(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="fl"?pt.push($(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="st"?pt.push(tt(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="tm"?pt.push(rt(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="tr"||(At[Pt].ty==="el"?pt.push(it(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="sr"?pt.push(ot(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="sh"?pt.push(ShapePathInterface(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="rc"?pt.push(lt(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="rd"?pt.push(ft(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="rp"?pt.push(_t(At[Pt],Tt[Pt],Mt)):At[Pt].ty==="gf"?pt.push(j(At[Pt],Tt[Pt],Mt)):pt.push(_e(At[Pt],Tt[Pt])));return pt}function i(At,Tt,Mt){var pt,Pt=function(It){for(var Dt=0,Lt=pt.length;Dt<Lt;){if(pt[Dt]._name===It||pt[Dt].mn===It||pt[Dt].propertyIndex===It||pt[Dt].ix===It||pt[Dt].ind===It)return pt[Dt];Dt+=1}return typeof It=="number"?pt[It-1]:null};Pt.propertyGroup=propertyGroupFactory(Pt,Mt),pt=o(At.it,Tt.it,Pt.propertyGroup),Pt.numProperties=pt.length;var $t=nt(At.it[At.it.length-1],Tt.it[Tt.it.length-1],Pt.propertyGroup);return Pt.transform=$t,Pt.propertyIndex=At.cix,Pt._name=At.nm,Pt}function _(At,Tt,Mt){var pt=function(It){switch(It){case"ADBE Vectors Group":case"Contents":case 2:return pt.content;default:return pt.transform}};pt.propertyGroup=propertyGroupFactory(pt,Mt);var Pt=i(At,Tt,pt.propertyGroup),$t=nt(At.it[At.it.length-1],Tt.it[Tt.it.length-1],pt.propertyGroup);return pt.content=Pt,pt.transform=$t,Object.defineProperty(pt,"_name",{get:function(){return At.nm}}),pt.numProperties=At.np,pt.propertyIndex=At.ix,pt.nm=At.nm,pt.mn=At.mn,pt}function $(At,Tt,Mt){function pt(Pt){return Pt==="Color"||Pt==="color"?pt.color:Pt==="Opacity"||Pt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{color:{get:ExpressionPropertyInterface(Tt.c)},opacity:{get:ExpressionPropertyInterface(Tt.o)},_name:{value:At.nm},mn:{value:At.mn}}),Tt.c.setGroupProperty(PropertyInterface("Color",Mt)),Tt.o.setGroupProperty(PropertyInterface("Opacity",Mt)),pt}function j(At,Tt,Mt){function pt(Pt){return Pt==="Start Point"||Pt==="start point"?pt.startPoint:Pt==="End Point"||Pt==="end point"?pt.endPoint:Pt==="Opacity"||Pt==="opacity"?pt.opacity:null}return Object.defineProperties(pt,{startPoint:{get:ExpressionPropertyInterface(Tt.s)},endPoint:{get:ExpressionPropertyInterface(Tt.e)},opacity:{get:ExpressionPropertyInterface(Tt.o)},type:{get:function(){return"a"}},_name:{value:At.nm},mn:{value:At.mn}}),Tt.s.setGroupProperty(PropertyInterface("Start Point",Mt)),Tt.e.setGroupProperty(PropertyInterface("End Point",Mt)),Tt.o.setGroupProperty(PropertyInterface("Opacity",Mt)),pt}function _e(){function At(){return null}return At}function tt(At,Tt,Mt){var pt=propertyGroupFactory(Lt,Mt),Pt=propertyGroupFactory(Dt,pt);function $t(Bt){Object.defineProperty(Dt,At.d[Bt].nm,{get:ExpressionPropertyInterface(Tt.d.dataProps[Bt].p)})}var Ot,It=At.d?At.d.length:0,Dt={};for(Ot=0;Ot<It;Ot+=1)$t(Ot),Tt.d.dataProps[Ot].p.setGroupProperty(Pt);function Lt(Bt){return Bt==="Color"||Bt==="color"?Lt.color:Bt==="Opacity"||Bt==="opacity"?Lt.opacity:Bt==="Stroke Width"||Bt==="stroke width"?Lt.strokeWidth:null}return Object.defineProperties(Lt,{color:{get:ExpressionPropertyInterface(Tt.c)},opacity:{get:ExpressionPropertyInterface(Tt.o)},strokeWidth:{get:ExpressionPropertyInterface(Tt.w)},dash:{get:function(){return Dt}},_name:{value:At.nm},mn:{value:At.mn}}),Tt.c.setGroupProperty(PropertyInterface("Color",pt)),Tt.o.setGroupProperty(PropertyInterface("Opacity",pt)),Tt.w.setGroupProperty(PropertyInterface("Stroke Width",pt)),Lt}function rt(At,Tt,Mt){function pt($t){return $t===At.e.ix||$t==="End"||$t==="end"?pt.end:$t===At.s.ix?pt.start:$t===At.o.ix?pt.offset:null}var Pt=propertyGroupFactory(pt,Mt);return pt.propertyIndex=At.ix,Tt.s.setGroupProperty(PropertyInterface("Start",Pt)),Tt.e.setGroupProperty(PropertyInterface("End",Pt)),Tt.o.setGroupProperty(PropertyInterface("Offset",Pt)),pt.propertyIndex=At.ix,pt.propertyGroup=Mt,Object.defineProperties(pt,{start:{get:ExpressionPropertyInterface(Tt.s)},end:{get:ExpressionPropertyInterface(Tt.e)},offset:{get:ExpressionPropertyInterface(Tt.o)},_name:{value:At.nm}}),pt.mn=At.mn,pt}function nt(At,Tt,Mt){function pt($t){return At.a.ix===$t||$t==="Anchor Point"?pt.anchorPoint:At.o.ix===$t||$t==="Opacity"?pt.opacity:At.p.ix===$t||$t==="Position"?pt.position:At.r.ix===$t||$t==="Rotation"||$t==="ADBE Vector Rotation"?pt.rotation:At.s.ix===$t||$t==="Scale"?pt.scale:At.sk&&At.sk.ix===$t||$t==="Skew"?pt.skew:At.sa&&At.sa.ix===$t||$t==="Skew Axis"?pt.skewAxis:null}var Pt=propertyGroupFactory(pt,Mt);return Tt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Pt)),Tt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Pt)),Tt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Pt)),Tt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Pt)),Tt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Pt)),Tt.transform.mProps.sk&&(Tt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Pt)),Tt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Pt))),Tt.transform.op.setGroupProperty(PropertyInterface("Opacity",Pt)),Object.defineProperties(pt,{opacity:{get:ExpressionPropertyInterface(Tt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Tt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Tt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Tt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Tt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Tt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Tt.transform.mProps.sa)},_name:{value:At.nm}}),pt.ty="tr",pt.mn=At.mn,pt.propertyGroup=Mt,pt}function it(At,Tt,Mt){function pt(Ot){return At.p.ix===Ot?pt.position:At.s.ix===Ot?pt.size:null}var Pt=propertyGroupFactory(pt,Mt);pt.propertyIndex=At.ix;var $t=Tt.sh.ty==="tm"?Tt.sh.prop:Tt.sh;return $t.s.setGroupProperty(PropertyInterface("Size",Pt)),$t.p.setGroupProperty(PropertyInterface("Position",Pt)),Object.defineProperties(pt,{size:{get:ExpressionPropertyInterface($t.s)},position:{get:ExpressionPropertyInterface($t.p)},_name:{value:At.nm}}),pt.mn=At.mn,pt}function ot(At,Tt,Mt){function pt(Ot){return At.p.ix===Ot?pt.position:At.r.ix===Ot?pt.rotation:At.pt.ix===Ot?pt.points:At.or.ix===Ot||Ot==="ADBE Vector Star Outer Radius"?pt.outerRadius:At.os.ix===Ot?pt.outerRoundness:At.ir&&(At.ir.ix===Ot||Ot==="ADBE Vector Star Inner Radius")?pt.innerRadius:At.is&&At.is.ix===Ot?pt.innerRoundness:null}var Pt=propertyGroupFactory(pt,Mt),$t=Tt.sh.ty==="tm"?Tt.sh.prop:Tt.sh;return pt.propertyIndex=At.ix,$t.or.setGroupProperty(PropertyInterface("Outer Radius",Pt)),$t.os.setGroupProperty(PropertyInterface("Outer Roundness",Pt)),$t.pt.setGroupProperty(PropertyInterface("Points",Pt)),$t.p.setGroupProperty(PropertyInterface("Position",Pt)),$t.r.setGroupProperty(PropertyInterface("Rotation",Pt)),At.ir&&($t.ir.setGroupProperty(PropertyInterface("Inner Radius",Pt)),$t.is.setGroupProperty(PropertyInterface("Inner Roundness",Pt))),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface($t.p)},rotation:{get:ExpressionPropertyInterface($t.r)},points:{get:ExpressionPropertyInterface($t.pt)},outerRadius:{get:ExpressionPropertyInterface($t.or)},outerRoundness:{get:ExpressionPropertyInterface($t.os)},innerRadius:{get:ExpressionPropertyInterface($t.ir)},innerRoundness:{get:ExpressionPropertyInterface($t.is)},_name:{value:At.nm}}),pt.mn=At.mn,pt}function lt(At,Tt,Mt){function pt(Ot){return At.p.ix===Ot?pt.position:At.r.ix===Ot?pt.roundness:At.s.ix===Ot||Ot==="Size"||Ot==="ADBE Vector Rect Size"?pt.size:null}var Pt=propertyGroupFactory(pt,Mt),$t=Tt.sh.ty==="tm"?Tt.sh.prop:Tt.sh;return pt.propertyIndex=At.ix,$t.p.setGroupProperty(PropertyInterface("Position",Pt)),$t.s.setGroupProperty(PropertyInterface("Size",Pt)),$t.r.setGroupProperty(PropertyInterface("Rotation",Pt)),Object.defineProperties(pt,{position:{get:ExpressionPropertyInterface($t.p)},roundness:{get:ExpressionPropertyInterface($t.r)},size:{get:ExpressionPropertyInterface($t.s)},_name:{value:At.nm}}),pt.mn=At.mn,pt}function ft(At,Tt,Mt){function pt(Ot){return At.r.ix===Ot||Ot==="Round Corners 1"?pt.radius:null}var Pt=propertyGroupFactory(pt,Mt),$t=Tt;return pt.propertyIndex=At.ix,$t.rd.setGroupProperty(PropertyInterface("Radius",Pt)),Object.defineProperties(pt,{radius:{get:ExpressionPropertyInterface($t.rd)},_name:{value:At.nm}}),pt.mn=At.mn,pt}function _t(At,Tt,Mt){function pt(Ot){return At.c.ix===Ot||Ot==="Copies"?pt.copies:At.o.ix===Ot||Ot==="Offset"?pt.offset:null}var Pt=propertyGroupFactory(pt,Mt),$t=Tt;return pt.propertyIndex=At.ix,$t.c.setGroupProperty(PropertyInterface("Copies",Pt)),$t.o.setGroupProperty(PropertyInterface("Offset",Pt)),Object.defineProperties(pt,{copies:{get:ExpressionPropertyInterface($t.c)},offset:{get:ExpressionPropertyInterface($t.o)},_name:{value:At.nm}}),pt.mn=At.mn,pt}return function(At,Tt,Mt){var pt;function Pt(Ot){if(typeof Ot=="number")return Ot=Ot===void 0?1:Ot,Ot===0?Mt:pt[Ot-1];for(var It=0,Dt=pt.length;It<Dt;){if(pt[It]._name===Ot)return pt[It];It+=1}return null}function $t(){return Mt}return Pt.propertyGroup=propertyGroupFactory(Pt,$t),pt=o(At,Tt,Pt.propertyGroup),Pt.numProperties=pt.length,Pt._name="Contents",Pt}}(),TextExpressionInterface=function(){return function(o){var i;function _($){switch($){case"ADBE Text Document":return _.sourceText;default:return null}}return Object.defineProperty(_,"sourceText",{get:function(){o.textProperty.getValue();var j=o.textProperty.currentData.t;return(!i||j!==i.value)&&(i=new String(j),i.value=j||new String(j),Object.defineProperty(i,"style",{get:function(){return{fillColor:o.textProperty.currentData.fc}}})),i}}),_}}();function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}var FootageInterface=function(){var o=function($){var j="",_e=$.getFootageData();function tt(){return j="",_e=$.getFootageData(),rt}function rt(nt){if(_e[nt])return j=nt,_e=_e[nt],_typeof(_e)==="object"?rt:_e;var it=nt.indexOf(j);if(it!==-1){var ot=parseInt(nt.substr(it+j.length),10);return _e=_e[ot],_typeof(_e)==="object"?rt:_e}return""}return tt},i=function($){function j(_e){return _e==="Outline"?j.outlineInterface():null}return j._name="Outline",j.outlineInterface=o($),j};return function(_){function $(j){return j==="Data"?$.dataInterface:null}return $._name="Data",$.dataInterface=i(_),$}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(o){return interfaces[o]||null}var expressionHelpers=function(){function o(tt,rt,nt){rt.x&&(nt.k=!0,nt.x=!0,nt.initiateExpression=ExpressionManager.initiateExpression,nt.effectsSequence.push(nt.initiateExpression(tt,rt,nt).bind(nt)))}function i(tt){return tt*=this.elem.globalData.frameRate,tt-=this.offsetTime,tt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<tt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(tt,this._cachingAtTime),this._cachingAtTime.lastFrame=tt),this._cachingAtTime.value}function _(tt){var rt=-.01,nt=this.getValueAtTime(tt),it=this.getValueAtTime(tt+rt),ot=0;if(nt.length){var lt;for(lt=0;lt<nt.length;lt+=1)ot+=Math.pow(it[lt]-nt[lt],2);ot=Math.sqrt(ot)*100}else ot=0;return ot}function $(tt){if(this.vel!==void 0)return this.vel;var rt=-.001,nt=this.getValueAtTime(tt),it=this.getValueAtTime(tt+rt),ot;if(nt.length){ot=createTypedArray("float32",nt.length);var lt;for(lt=0;lt<nt.length;lt+=1)ot[lt]=(it[lt]-nt[lt])/rt}else ot=(it-nt)/rt;return ot}function j(){return this.pv}function _e(tt){this.propertyGroup=tt}return{searchExpressions:o,getSpeedAtTime:_,getVelocityAtTime:$,getValueAtTime:i,getStaticValueAtTime:j,setGroupProperty:_e}}();function addPropertyDecorator(){function o(ft,_t,At){if(!this.k||!this.keyframes)return this.pv;ft=ft?ft.toLowerCase():"";var Tt=this.comp.renderedFrame,Mt=this.keyframes,pt=Mt[Mt.length-1].t;if(Tt<=pt)return this.pv;var Pt,$t;At?(_t?Pt=Math.abs(pt-this.elem.comp.globalData.frameRate*_t):Pt=Math.max(0,pt-this.elem.data.ip),$t=pt-Pt):((!_t||_t>Mt.length-1)&&(_t=Mt.length-1),$t=Mt[Mt.length-1-_t].t,Pt=pt-$t);var Ot,It,Dt;if(ft==="pingpong"){var Lt=Math.floor((Tt-$t)/Pt);if(Lt%2!==0)return this.getValueAtTime((Pt-(Tt-$t)%Pt+$t)/this.comp.globalData.frameRate,0)}else if(ft==="offset"){var Bt=this.getValueAtTime($t/this.comp.globalData.frameRate,0),jt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime(((Tt-$t)%Pt+$t)/this.comp.globalData.frameRate,0),Gt=Math.floor((Tt-$t)/Pt);if(this.pv.length){for(Dt=new Array(Bt.length),It=Dt.length,Ot=0;Ot<It;Ot+=1)Dt[Ot]=(jt[Ot]-Bt[Ot])*Gt+Ut[Ot];return Dt}return(jt-Bt)*Gt+Ut}else if(ft==="continue"){var qt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Jt=this.getValueAtTime((pt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Dt=new Array(qt.length),It=Dt.length,Ot=0;Ot<It;Ot+=1)Dt[Ot]=qt[Ot]+(qt[Ot]-Jt[Ot])*((Tt-pt)/this.comp.globalData.frameRate)/5e-4;return Dt}return qt+(qt-Jt)*((Tt-pt)/.001)}return this.getValueAtTime(((Tt-$t)%Pt+$t)/this.comp.globalData.frameRate,0)}function i(ft,_t,At){if(!this.k)return this.pv;ft=ft?ft.toLowerCase():"";var Tt=this.comp.renderedFrame,Mt=this.keyframes,pt=Mt[0].t;if(Tt>=pt)return this.pv;var Pt,$t;At?(_t?Pt=Math.abs(this.elem.comp.globalData.frameRate*_t):Pt=Math.max(0,this.elem.data.op-pt),$t=pt+Pt):((!_t||_t>Mt.length-1)&&(_t=Mt.length-1),$t=Mt[_t].t,Pt=$t-pt);var Ot,It,Dt;if(ft==="pingpong"){var Lt=Math.floor((pt-Tt)/Pt);if(Lt%2===0)return this.getValueAtTime(((pt-Tt)%Pt+pt)/this.comp.globalData.frameRate,0)}else if(ft==="offset"){var Bt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),jt=this.getValueAtTime($t/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime((Pt-(pt-Tt)%Pt+pt)/this.comp.globalData.frameRate,0),Gt=Math.floor((pt-Tt)/Pt)+1;if(this.pv.length){for(Dt=new Array(Bt.length),It=Dt.length,Ot=0;Ot<It;Ot+=1)Dt[Ot]=Ut[Ot]-(jt[Ot]-Bt[Ot])*Gt;return Dt}return Ut-(jt-Bt)*Gt}else if(ft==="continue"){var qt=this.getValueAtTime(pt/this.comp.globalData.frameRate,0),Jt=this.getValueAtTime((pt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Dt=new Array(qt.length),It=Dt.length,Ot=0;Ot<It;Ot+=1)Dt[Ot]=qt[Ot]+(qt[Ot]-Jt[Ot])*(pt-Tt)/.001;return Dt}return qt+(qt-Jt)*(pt-Tt)/.001}return this.getValueAtTime((Pt-((pt-Tt)%Pt+pt))/this.comp.globalData.frameRate,0)}function _(ft,_t){if(!this.k)return this.pv;if(ft=(ft||.4)*.5,_t=Math.floor(_t||5),_t<=1)return this.pv;var At=this.comp.renderedFrame/this.comp.globalData.frameRate,Tt=At-ft,Mt=At+ft,pt=_t>1?(Mt-Tt)/(_t-1):1,Pt=0,$t=0,Ot;this.pv.length?Ot=createTypedArray("float32",this.pv.length):Ot=0;for(var It;Pt<_t;){if(It=this.getValueAtTime(Tt+Pt*pt),this.pv.length)for($t=0;$t<this.pv.length;$t+=1)Ot[$t]+=It[$t];else Ot+=It;Pt+=1}if(this.pv.length)for($t=0;$t<this.pv.length;$t+=1)Ot[$t]/=_t;else Ot/=_t;return Ot}function $(ft){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var _t=this._transformCachingAtTime.v;if(_t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var At=this.a.getValueAtTime(ft);_t.translate(-At[0]*this.a.mult,-At[1]*this.a.mult,At[2]*this.a.mult)}if(this.appliedTransformations<2){var Tt=this.s.getValueAtTime(ft);_t.scale(Tt[0]*this.s.mult,Tt[1]*this.s.mult,Tt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Mt=this.sk.getValueAtTime(ft),pt=this.sa.getValueAtTime(ft);_t.skewFromAxis(-Mt*this.sk.mult,pt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Pt=this.r.getValueAtTime(ft);_t.rotate(-Pt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var $t=this.rz.getValueAtTime(ft),Ot=this.ry.getValueAtTime(ft),It=this.rx.getValueAtTime(ft),Dt=this.or.getValueAtTime(ft);_t.rotateZ(-$t*this.rz.mult).rotateY(Ot*this.ry.mult).rotateX(It*this.rx.mult).rotateZ(-Dt[2]*this.or.mult).rotateY(Dt[1]*this.or.mult).rotateX(Dt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Lt=this.px.getValueAtTime(ft),Bt=this.py.getValueAtTime(ft);if(this.data.p.z){var jt=this.pz.getValueAtTime(ft);_t.translate(Lt*this.px.mult,Bt*this.py.mult,-jt*this.pz.mult)}else _t.translate(Lt*this.px.mult,Bt*this.py.mult,0)}else{var Ut=this.p.getValueAtTime(ft);_t.translate(Ut[0]*this.p.mult,Ut[1]*this.p.mult,-Ut[2]*this.p.mult)}return _t}function j(){return this.v.clone(new Matrix)}var _e=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ft,_t,At){var Tt=_e(ft,_t,At);return Tt.dynamicProperties.length?Tt.getValueAtTime=$.bind(Tt):Tt.getValueAtTime=j.bind(Tt),Tt.setGroupProperty=expressionHelpers.setGroupProperty,Tt};var tt=PropertyFactory.getProp;PropertyFactory.getProp=function(ft,_t,At,Tt,Mt){var pt=tt(ft,_t,At,Tt,Mt);pt.kf?pt.getValueAtTime=expressionHelpers.getValueAtTime.bind(pt):pt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(pt),pt.setGroupProperty=expressionHelpers.setGroupProperty,pt.loopOut=o,pt.loopIn=i,pt.smooth=_,pt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(pt),pt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(pt),pt.numKeys=_t.a===1?_t.k.length:0,pt.propertyIndex=_t.ix;var Pt=0;return At!==0&&(Pt=createTypedArray("float32",_t.a===1?_t.k[0].s.length:_t.k.length)),pt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Pt},expressionHelpers.searchExpressions(ft,_t,pt),pt.k&&Mt.addDynamicProperty(pt),pt};function rt(ft){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ft*=this.elem.globalData.frameRate,ft-=this.offsetTime,ft!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ft?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ft,this.interpolateShape(ft,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var nt=ShapePropertyFactory.getConstructorFunction(),it=ShapePropertyFactory.getKeyframedConstructorFunction();function ot(){}ot.prototype={vertices:function(_t,At){this.k&&this.getValue();var Tt=this.v;At!==void 0&&(Tt=this.getValueAtTime(At,0));var Mt,pt=Tt._length,Pt=Tt[_t],$t=Tt.v,Ot=createSizedArray(pt);for(Mt=0;Mt<pt;Mt+=1)_t==="i"||_t==="o"?Ot[Mt]=[Pt[Mt][0]-$t[Mt][0],Pt[Mt][1]-$t[Mt][1]]:Ot[Mt]=[Pt[Mt][0],Pt[Mt][1]];return Ot},points:function(_t){return this.vertices("v",_t)},inTangents:function(_t){return this.vertices("i",_t)},outTangents:function(_t){return this.vertices("o",_t)},isClosed:function(){return this.v.c},pointOnPath:function(_t,At){var Tt=this.v;At!==void 0&&(Tt=this.getValueAtTime(At,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Tt));for(var Mt=this._segmentsLength,pt=Mt.lengths,Pt=Mt.totalLength*_t,$t=0,Ot=pt.length,It=0,Dt;$t<Ot;){if(It+pt[$t].addedLength>Pt){var Lt=$t,Bt=Tt.c&&$t===Ot-1?0:$t+1,jt=(Pt-It)/pt[$t].addedLength;Dt=bez.getPointInSegment(Tt.v[Lt],Tt.v[Bt],Tt.o[Lt],Tt.i[Bt],jt,pt[$t]);break}else It+=pt[$t].addedLength;$t+=1}return Dt||(Dt=Tt.c?[Tt.v[0][0],Tt.v[0][1]]:[Tt.v[Tt._length-1][0],Tt.v[Tt._length-1][1]]),Dt},vectorOnPath:function(_t,At,Tt){_t==1?_t=this.v.c:_t==0&&(_t=.999);var Mt=this.pointOnPath(_t,At),pt=this.pointOnPath(_t+.001,At),Pt=pt[0]-Mt[0],$t=pt[1]-Mt[1],Ot=Math.sqrt(Math.pow(Pt,2)+Math.pow($t,2));if(Ot===0)return[0,0];var It=Tt==="tangent"?[Pt/Ot,$t/Ot]:[-$t/Ot,Pt/Ot];return It},tangentOnPath:function(_t,At){return this.vectorOnPath(_t,At,"tangent")},normalOnPath:function(_t,At){return this.vectorOnPath(_t,At,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ot],nt),extendPrototype([ot],it),it.prototype.getValueAtTime=rt,it.prototype.initiateExpression=ExpressionManager.initiateExpression;var lt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ft,_t,At,Tt,Mt){var pt=lt(ft,_t,At,Tt,Mt);return pt.propertyIndex=_t.ix,pt.lock=!1,At===3?expressionHelpers.searchExpressions(ft,_t.pt,pt):At===4&&expressionHelpers.searchExpressions(ft,_t.ks,pt),pt.k&&ft.addDynamicProperty(pt),pt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function o(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(i,_){var $=this.calculateExpression(_);if(i.t!==$){var j={};return this.copyData(j,i),j.t=$.toString(),j.__complete=!1,j}return i},TextProperty.prototype.searchProperty=function(){var i=this.searchKeyframes(),_=this.searchExpressions();return this.kf=i||_,this.kf},TextProperty.prototype.searchExpressions=o}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function o(i,_){var $=createNS("feMerge");$.setAttribute("result",i);var j,_e;for(_e=0;_e<_.length;_e+=1)j=createNS("feMergeNode"),j.setAttribute("in",_[_e]),$.appendChild(j),$.appendChild(j);return $}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(o,i,_,$,j){this.filterManager=i;var _e=createNS("feColorMatrix");_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","linearRGB"),_e.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=_e,_e.setAttribute("result",$+"_tint_1"),o.appendChild(_e),_e=createNS("feColorMatrix"),_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_e.setAttribute("result",$+"_tint_2"),o.appendChild(_e),this.matrixFilter=_e;var tt=this.createMergeNode($,[j,$+"_tint_1",$+"_tint_2"]);o.appendChild(tt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,$=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+$+" 0"),this.matrixFilter.setAttribute("values",_[0]-i[0]+" 0 0 0 "+i[0]+" "+(_[1]-i[1])+" 0 0 0 "+i[1]+" "+(_[2]-i[2])+" 0 0 0 "+i[2]+" 0 0 0 1 0")}};function SVGFillFilter(o,i,_,$){this.filterManager=i;var j=createNS("feColorMatrix");j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","sRGB"),j.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),j.setAttribute("result",$),o.appendChild(j),this.matrixFilter=j}SVGFillFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[2].p.v,_=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+i[0]+" 0 0 0 0 "+i[1]+" 0 0 0 0 "+i[2]+" 0 0 0 "+_+" 0")}};function SVGStrokeEffect(o,i,_){this.initialized=!1,this.filterManager=i,this.elem=_,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var o=this.elem.layerElement.children||this.elem.layerElement.childNodes,i,_,$,j;for(this.filterManager.effectElements[1].p.v===1?(j=this.elem.maskManager.masksProperties.length,$=0):($=this.filterManager.effectElements[0].p.v-1,j=$+1),_=createNS("g"),_.setAttribute("fill","none"),_.setAttribute("stroke-linecap","round"),_.setAttribute("stroke-dashoffset",1),$;$<j;$+=1)i=createNS("path"),_.appendChild(i),this.paths.push({p:i,m:$});if(this.filterManager.effectElements[10].p.v===3){var _e=createNS("mask"),tt=createElementID();_e.setAttribute("id",tt),_e.setAttribute("mask-type","alpha"),_e.appendChild(_),this.elem.globalData.defs.appendChild(_e);var rt=createNS("g");for(rt.setAttribute("mask","url("+getLocationHref()+"#"+tt+")");o[0];)rt.appendChild(o[0]);this.elem.layerElement.appendChild(rt),this.masker=_e,_.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(_),this.elem.layerElement.removeAttribute("mask"),_.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_},SVGStrokeEffect.prototype.renderFrame=function(o){this.initialized||this.initialize();var i,_=this.paths.length,$,j;for(i=0;i<_;i+=1)if(this.paths[i].m!==-1&&($=this.elem.maskManager.viewData[this.paths[i].m],j=this.paths[i].p,(o||this.filterManager._mdf||$.prop._mdf)&&j.setAttribute("d",$.lastPath),o||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||$.prop._mdf)){var _e;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var tt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,rt=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,nt=j.getTotalLength();_e="0 0 0 "+nt*tt+" ";var it=nt*(rt-tt),ot=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,lt=Math.floor(it/ot),ft;for(ft=0;ft<lt;ft+=1)_e+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";_e+="0 "+nt*10+" 0 0"}else _e="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;j.setAttribute("stroke-dasharray",_e)}if((o||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(o||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(o||this.filterManager.effectElements[3].p._mdf)){var _t=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(_t[0]*255)+","+bmFloor(_t[1]*255)+","+bmFloor(_t[2]*255)+")")}};function SVGTritoneFilter(o,i,_,$){this.filterManager=i;var j=createNS("feColorMatrix");j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","linearRGB"),j.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),o.appendChild(j);var _e=createNS("feComponentTransfer");_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("result",$),this.matrixFilter=_e;var tt=createNS("feFuncR");tt.setAttribute("type","table"),_e.appendChild(tt),this.feFuncR=tt;var rt=createNS("feFuncG");rt.setAttribute("type","table"),_e.appendChild(rt),this.feFuncG=rt;var nt=createNS("feFuncB");nt.setAttribute("type","table"),_e.appendChild(nt),this.feFuncB=nt,o.appendChild(_e)}SVGTritoneFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,$=this.filterManager.effectElements[2].p.v,j=$[0]+" "+_[0]+" "+i[0],_e=$[1]+" "+_[1]+" "+i[1],tt=$[2]+" "+_[2]+" "+i[2];this.feFuncR.setAttribute("tableValues",j),this.feFuncG.setAttribute("tableValues",_e),this.feFuncB.setAttribute("tableValues",tt)}};function SVGProLevelsFilter(o,i,_,$){this.filterManager=i;var j=this.filterManager.effectElements,_e=createNS("feComponentTransfer");(j[10].p.k||j[10].p.v!==0||j[11].p.k||j[11].p.v!==1||j[12].p.k||j[12].p.v!==1||j[13].p.k||j[13].p.v!==0||j[14].p.k||j[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",_e)),(j[17].p.k||j[17].p.v!==0||j[18].p.k||j[18].p.v!==1||j[19].p.k||j[19].p.v!==1||j[20].p.k||j[20].p.v!==0||j[21].p.k||j[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",_e)),(j[24].p.k||j[24].p.v!==0||j[25].p.k||j[25].p.v!==1||j[26].p.k||j[26].p.v!==1||j[27].p.k||j[27].p.v!==0||j[28].p.k||j[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",_e)),(j[31].p.k||j[31].p.v!==0||j[32].p.k||j[32].p.v!==1||j[33].p.k||j[33].p.v!==1||j[34].p.k||j[34].p.v!==0||j[35].p.k||j[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",_e)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(_e.setAttribute("color-interpolation-filters","sRGB"),o.appendChild(_e)),(j[3].p.k||j[3].p.v!==0||j[4].p.k||j[4].p.v!==1||j[5].p.k||j[5].p.v!==1||j[6].p.k||j[6].p.v!==0||j[7].p.k||j[7].p.v!==1)&&(_e=createNS("feComponentTransfer"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("result",$),o.appendChild(_e),this.feFuncRComposed=this.createFeFunc("feFuncR",_e),this.feFuncGComposed=this.createFeFunc("feFuncG",_e),this.feFuncBComposed=this.createFeFunc("feFuncB",_e))}SVGProLevelsFilter.prototype.createFeFunc=function(o,i){var _=createNS(o);return _.setAttribute("type","table"),i.appendChild(_),_},SVGProLevelsFilter.prototype.getTableValue=function(o,i,_,$,j){for(var _e=0,tt=256,rt,nt=Math.min(o,i),it=Math.max(o,i),ot=Array.call(null,{length:tt}),lt,ft=0,_t=j-$,At=i-o;_e<=256;)rt=_e/256,rt<=nt?lt=At<0?j:$:rt>=it?lt=At<0?$:j:lt=$+_t*Math.pow((rt-o)/At,1/_),ot[ft]=lt,ft+=1,_e+=256/(tt-1);return ot.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i,_=this.filterManager.effectElements;this.feFuncRComposed&&(o||_[3].p._mdf||_[4].p._mdf||_[5].p._mdf||_[6].p._mdf||_[7].p._mdf)&&(i=this.getTableValue(_[3].p.v,_[4].p.v,_[5].p.v,_[6].p.v,_[7].p.v),this.feFuncRComposed.setAttribute("tableValues",i),this.feFuncGComposed.setAttribute("tableValues",i),this.feFuncBComposed.setAttribute("tableValues",i)),this.feFuncR&&(o||_[10].p._mdf||_[11].p._mdf||_[12].p._mdf||_[13].p._mdf||_[14].p._mdf)&&(i=this.getTableValue(_[10].p.v,_[11].p.v,_[12].p.v,_[13].p.v,_[14].p.v),this.feFuncR.setAttribute("tableValues",i)),this.feFuncG&&(o||_[17].p._mdf||_[18].p._mdf||_[19].p._mdf||_[20].p._mdf||_[21].p._mdf)&&(i=this.getTableValue(_[17].p.v,_[18].p.v,_[19].p.v,_[20].p.v,_[21].p.v),this.feFuncG.setAttribute("tableValues",i)),this.feFuncB&&(o||_[24].p._mdf||_[25].p._mdf||_[26].p._mdf||_[27].p._mdf||_[28].p._mdf)&&(i=this.getTableValue(_[24].p.v,_[25].p.v,_[26].p.v,_[27].p.v,_[28].p.v),this.feFuncB.setAttribute("tableValues",i)),this.feFuncA&&(o||_[31].p._mdf||_[32].p._mdf||_[33].p._mdf||_[34].p._mdf||_[35].p._mdf)&&(i=this.getTableValue(_[31].p.v,_[32].p.v,_[33].p.v,_[34].p.v,_[35].p.v),this.feFuncA.setAttribute("tableValues",i))}};function SVGDropShadowEffect(o,i,_,$,j){var _e=i.container.globalData.renderConfig.filterSize,tt=i.data.fs||_e;o.setAttribute("x",tt.x||_e.x),o.setAttribute("y",tt.y||_e.y),o.setAttribute("width",tt.width||_e.width),o.setAttribute("height",tt.height||_e.height),this.filterManager=i;var rt=createNS("feGaussianBlur");rt.setAttribute("in","SourceAlpha"),rt.setAttribute("result",$+"_drop_shadow_1"),rt.setAttribute("stdDeviation","0"),this.feGaussianBlur=rt,o.appendChild(rt);var nt=createNS("feOffset");nt.setAttribute("dx","25"),nt.setAttribute("dy","0"),nt.setAttribute("in",$+"_drop_shadow_1"),nt.setAttribute("result",$+"_drop_shadow_2"),this.feOffset=nt,o.appendChild(nt);var it=createNS("feFlood");it.setAttribute("flood-color","#00ff00"),it.setAttribute("flood-opacity","1"),it.setAttribute("result",$+"_drop_shadow_3"),this.feFlood=it,o.appendChild(it);var ot=createNS("feComposite");ot.setAttribute("in",$+"_drop_shadow_3"),ot.setAttribute("in2",$+"_drop_shadow_2"),ot.setAttribute("operator","in"),ot.setAttribute("result",$+"_drop_shadow_4"),o.appendChild(ot);var lt=this.createMergeNode($,[$+"_drop_shadow_4",j]);o.appendChild(lt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){if((o||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),o||this.filterManager.effectElements[0].p._mdf){var i=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)))}if((o||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),o||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var _=this.filterManager.effectElements[3].p.v,$=(this.filterManager.effectElements[2].p.v-90)*degToRads,j=_*Math.cos($),_e=_*Math.sin($);this.feOffset.setAttribute("dx",j),this.feOffset.setAttribute("dy",_e)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(o,i,_){this.initialized=!1,this.filterManager=i,this.filterElem=o,this.elem=_,_.matteElement=createNS("g"),_.matteElement.appendChild(_.layerElement),_.matteElement.appendChild(_.transformedElement),_.baseElement=_.matteElement}SVGMatte3Effect.prototype.findSymbol=function(o){for(var i=0,_=_svgMatteSymbols.length;i<_;){if(_svgMatteSymbols[i]===o)return _svgMatteSymbols[i];i+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(o,i){var _=o.layerElement.parentNode;if(_){for(var $=_.children,j=0,_e=$.length;j<_e&&$[j]!==o.layerElement;)j+=1;var tt;j<=_e-2&&(tt=$[j+1]);var rt=createNS("use");rt.setAttribute("href","#"+i),tt?_.insertBefore(rt,tt):_.appendChild(rt)}},SVGMatte3Effect.prototype.setElementAsMask=function(o,i){if(!this.findSymbol(i)){var _=createElementID(),$=createNS("mask");$.setAttribute("id",i.layerId),$.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(i);var j=o.globalData.defs;j.appendChild($);var _e=createNS("symbol");_e.setAttribute("id",_),this.replaceInParent(i,_),_e.appendChild(i.layerElement),j.appendChild(_e);var tt=createNS("use");tt.setAttribute("href","#"+_),$.appendChild(tt),i.data.hd=!1,i.show()}o.setMatte(i.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var o=this.filterManager.effectElements[0].p.v,i=this.elem.comp.elements,_=0,$=i.length;_<$;)i[_]&&i[_].data.ind===o&&this.setElementAsMask(this.elem,i[_]),_+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(o,i,_,$){o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width","300%"),o.setAttribute("height","300%"),this.filterManager=i;var j=createNS("feGaussianBlur");j.setAttribute("result",$),o.appendChild(j),this.feGaussianBlur=j}SVGGaussianBlurEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=.3,_=this.filterManager.effectElements[0].p.v*i,$=this.filterManager.effectElements[1].p.v,j=$==3?0:_,_e=$==2?0:_;this.feGaussianBlur.setAttribute("stdDeviation",j+" "+_e);var tt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",tt)}};function TransformEffect(){}TransformEffect.prototype.init=function(o){this.effectsManager=o,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(o){if(this._opMdf=!1,this._mdf=!1,o||this.effectsManager._mdf){var i=this.effectsManager.effectElements,_=i[0].p.v,$=i[1].p.v,j=i[2].p.v===1,_e=i[3].p.v,tt=j?_e:i[4].p.v,rt=i[5].p.v,nt=i[6].p.v,it=i[7].p.v;this.matrix.reset(),this.matrix.translate(-_[0],-_[1],_[2]),this.matrix.scale(tt*.01,_e*.01,1),this.matrix.rotate(-it*degToRads),this.matrix.skewFromAxis(-rt*degToRads,(nt+90)*degToRads),this.matrix.translate($[0],$[1],0),this._mdf=!0,this.opacity!==i[8].p.v&&(this.opacity=i[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(o,i){this.init(i)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(o){this.init(o)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function LottieBadge(){const o=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!o.current)return;const i={v:"5.7.6",fr:60,ip:0,op:240,w:120,h:120,nm:"pulse",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"circle",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[60,60,0]},a:{a:0,k:[0,0,0]},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[80,80,100]},{t:120,s:[100,100,100]}]}},ao:0,shapes:[{ty:"el",p:{a:0,k:[0,0]},s:{a:0,k:[80,80]},d:1},{ty:"fl",c:{a:0,k:[.2039,.8274,.6313,.4]},o:{a:0,k:100},r:1}],ip:0,op:240,st:0,bm:0}]},_=lottie.loadAnimation({container:o.current,renderer:"svg",loop:!0,autoplay:!0,animationData:i});return()=>{_.destroy()}},[]),jsx("div",{ref:o,className:"w-10 h-10"})}function _typeof$K(o){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$K(o)}function toPrimitive(o,i){if(_typeof$K(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$K($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function toPropertyKey(o){var i=toPrimitive(o,"string");return _typeof$K(i)=="symbol"?i:i+""}function _defineProperty$I(o,i,_){return(i=toPropertyKey(i))in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function warn$1(){if(console&&console.warn){for(var o,i=arguments.length,_=new Array(i),$=0;$<i;$++)_[$]=arguments[$];typeof _[0]=="string"&&(_[0]="react-i18next:: ".concat(_[0])),(o=console).warn.apply(o,_)}}var alreadyWarned={};function warnOnce(){for(var o=arguments.length,i=new Array(o),_=0;_<o;_++)i[_]=arguments[_];typeof i[0]=="string"&&alreadyWarned[i[0]]||(typeof i[0]=="string"&&(alreadyWarned[i[0]]=new Date),warn$1.apply(void 0,i))}var loadedClb=function o(i,_){return function(){if(i.isInitialized)_();else{var $=function j(){setTimeout(function(){i.off("initialized",j)},0),_()};i.on("initialized",$)}}};function loadNamespaces(o,i,_){o.loadNamespaces(i,loadedClb(o,_))}function loadLanguages(o,i,_,$){typeof _=="string"&&(_=[_]),_.forEach(function(j){o.options.ns.indexOf(j)<0&&o.options.ns.push(j)}),o.loadLanguages(i,loadedClb(o,$))}function oldI18nextHasLoadedNamespace(o,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=i.languages[0],j=i.options?i.options.fallbackLng:!1,_e=i.languages[i.languages.length-1];if($.toLowerCase()==="cimode")return!0;var tt=function(nt,it){var ot=i.services.backendConnector.state["".concat(nt,"|").concat(it)];return ot===-1||ot===2};return _.bindI18n&&_.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!tt(i.isLanguageChangingTo,o)?!1:!!(i.hasResourceBundle($,o)||!i.services.backendConnector.backend||i.options.resources&&!i.options.partialBundledLanguages||tt($,o)&&(!j||tt(_e,o)))}function hasLoadedNamespace(o,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!i.languages||!i.languages.length)return warnOnce("i18n.languages were undefined or empty",i.languages),!0;var $=i.options.ignoreJSONStructure!==void 0;return $?i.hasLoadedNamespace(o,{lng:_.lng,precheck:function(_e,tt){if(_.bindI18n&&_.bindI18n.indexOf("languageChanging")>-1&&_e.services.backendConnector.backend&&_e.isLanguageChangingTo&&!tt(_e.isLanguageChangingTo,o))return!1}}):oldI18nextHasLoadedNamespace(o,i,_)}var matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=function o(i){return htmlEntities[i]},unescape=function o(i){return i.replace(matchHtmlEntity,unescapeHtmlEntity)};function ownKeys$K(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$K(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$K(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$K(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}var defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};function setDefaults(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions=_objectSpread$K(_objectSpread$K({},defaultOptions),o)}function getDefaults$1(){return defaultOptions}var i18nInstance;function setI18n(o){i18nInstance=o}function getI18n(){return i18nInstance}function _classCallCheck$l(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,toPropertyKey($.key),$)}}function _createClass$l(o,i,_){return i&&_defineProperties$l(o.prototype,i),_&&_defineProperties$l(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}var initReactI18next={type:"3rdParty",init:function o(i){setDefaults(i.options.react),setI18n(i)}},I18nContext=reactExports.createContext(),ReportNamespaces=function(){function o(){_classCallCheck$l(this,o),this.usedNamespaces={}}return _createClass$l(o,[{key:"addUsedNamespaces",value:function(_){var $=this;_.forEach(function(j){$.usedNamespaces[j]||($.usedNamespaces[j]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),o}();function _arrayWithHoles$e(o){if(Array.isArray(o))return o}function _iterableToArrayLimit$d(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayLikeToArray$l(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=Array(i);_<i;_++)$[_]=o[_];return $}function _unsupportedIterableToArray$l(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$l(o,i);var _={}.toString.call(o).slice(8,-1);return _==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set"?Array.from(o):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray$l(o,i):void 0}}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$d(o,i){return _arrayWithHoles$e(o)||_iterableToArrayLimit$d(o,i)||_unsupportedIterableToArray$l(o,i)||_nonIterableRest$e()}function ownKeys$J(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$J(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$J(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$J(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}var usePrevious=function o(i,_){var $=reactExports.useRef();return reactExports.useEffect(function(){$.current=_?$.current:i},[i,_]),$.current};function useTranslation(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=i.i18n,$=reactExports.useContext(I18nContext)||{},j=$.i18n,_e=$.defaultNS,tt=_||j||getI18n();if(tt&&!tt.reportNamespaces&&(tt.reportNamespaces=new ReportNamespaces),!tt){warnOnce("You will need to pass in an i18next instance by using initReactI18next");var rt=function(jt,Ut){return typeof Ut=="string"?Ut:Ut&&_typeof$K(Ut)==="object"&&typeof Ut.defaultValue=="string"?Ut.defaultValue:Array.isArray(jt)?jt[jt.length-1]:jt},nt=[rt,{},!1];return nt.t=rt,nt.i18n={},nt.ready=!1,nt}tt.options.react&&tt.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var it=_objectSpread$J(_objectSpread$J(_objectSpread$J({},getDefaults$1()),tt.options.react),i),ot=it.useSuspense,lt=it.keyPrefix,ft=o||_e||tt.options&&tt.options.defaultNS;ft=typeof ft=="string"?[ft]:ft||["translation"],tt.reportNamespaces.addUsedNamespaces&&tt.reportNamespaces.addUsedNamespaces(ft);var _t=(tt.isInitialized||tt.initializedStoreOnce)&&ft.every(function(Bt){return hasLoadedNamespace(Bt,tt,it)});function At(){return tt.getFixedT(i.lng||null,it.nsMode==="fallback"?ft:ft[0],lt)}var Tt=reactExports.useState(At),Mt=_slicedToArray$d(Tt,2),pt=Mt[0],Pt=Mt[1],$t=ft.join();i.lng&&($t="".concat(i.lng).concat($t));var Ot=usePrevious($t),It=reactExports.useRef(!0);reactExports.useEffect(function(){var Bt=it.bindI18n,jt=it.bindI18nStore;It.current=!0,!_t&&!ot&&(i.lng?loadLanguages(tt,i.lng,ft,function(){It.current&&Pt(At)}):loadNamespaces(tt,ft,function(){It.current&&Pt(At)})),_t&&Ot&&Ot!==$t&&It.current&&Pt(At);function Ut(){It.current&&Pt(At)}return Bt&&tt&&tt.on(Bt,Ut),jt&&tt&&tt.store.on(jt,Ut),function(){It.current=!1,Bt&&tt&&Bt.split(" ").forEach(function(Gt){return tt.off(Gt,Ut)}),jt&&tt&&jt.split(" ").forEach(function(Gt){return tt.store.off(Gt,Ut)})}},[tt,$t]);var Dt=reactExports.useRef(!0);reactExports.useEffect(function(){It.current&&!Dt.current&&Pt(At),Dt.current=!1},[tt,lt]);var Lt=[pt,tt,_t];if(Lt.t=pt,Lt.i18n=tt,Lt.ready=_t,_t||!_t&&!ot)return Lt;throw new Promise(function(Bt){i.lng?loadLanguages(tt,i.lng,ft,function(){return Bt()}):loadNamespaces(tt,ft,function(){return Bt()})})}function HomePage(){const{t:o,i18n:i}=useTranslation(),_=useNavigate(),{preferences:$,setPreferences:j,currentMemberId:_e,setCurrentMemberId:tt}=useAppStore(),[rt,nt]=reactExports.useState(_e),[it,ot]=reactExports.useState(!1),[lt,ft]=reactExports.useState(!1),[_t,At]=reactExports.useState("");rt&&wayvMembers.find(Mt=>Mt.id===rt);const Tt=Mt=>{var pt;window.dispatchEvent(new Event("resetTimer")),nt(Mt),tt(Mt),ot(!1),vt.success(` ${(pt=wayvMembers.find(Pt=>Pt.id===Mt))==null?void 0:pt.name} `,{icon:"",duration:3e3}),_(`/study/${Mt}`)};return reactExports.useEffect(()=>{const Mt=localStorage.getItem("wayvBackgroundSettings");if(Mt){const pt=JSON.parse(Mt);pt.blur&&document.documentElement.style.setProperty("--bg-blur",`${pt.blur}px`),pt.image&&document.documentElement.style.setProperty("--bg-image",`url(${pt.image})`)}},[]),reactExports.useEffect(()=>{const Mt="Study With WayV";let pt=Mt.length,Pt=!0,$t;const Ot=()=>{if(Pt){if(pt=Math.max(0,pt-1),At(Mt.slice(0,pt)),pt===0){Pt=!1,$t=window.setTimeout(Ot,600);return}$t=window.setTimeout(Ot,60)}else{if(pt=Math.min(Mt.length,pt+1),At(Mt.slice(0,pt)),pt===Mt.length){Pt=!0,$t=window.setTimeout(Ot,1200);return}$t=window.setTimeout(Ot,100)}};return Ot(),()=>{$t&&clearTimeout($t)}},[]),jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 transition-colors duration-300 relative overflow-hidden",children:[jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"var(--bg-image, none)",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(var(--bg-blur, 0px))",opacity:"var(--bg-opacity, 0.1)"}}),jsx(GlassBackground,{}),jsxs("div",{className:"relative z-10",children:[jsxs("header",{className:"flex justify-between items-center p-6 animate-slide-up",children:[jsxs("div",{className:"relative flex items-center space-x-2",children:[jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",className:"w-8 h-8 animate-pulse",children:[jsx("defs",{children:jsxs("linearGradient",{id:"heartGrad",x1:"0",x2:"1",y1:"0",y2:"1",children:[jsx("stop",{offset:"0%",stopColor:"#ffffff"}),jsx("stop",{offset:"100%",stopColor:"#00FF87"})]})}),jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",fill:"none",stroke:"url(#heartGrad)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsx("div",{className:"absolute left-10 top-1/2 -translate-y-1/2 w-[52vw] h-16 bg-white/10 blur-xl rounded-2xl -z-10"}),jsx("h1",{className:"text-5xl md:text-6xl font-bold font-display tracking-wide bg-gradient-to-r from-white to-wayv-green-dark bg-clip-text text-transparent drop-shadow-2xl text-glow-strong mega-drop-shadow",children:_t})]}),jsxs("div",{className:"flex items-center space-x-4",children:[jsx("div",{className:"hidden md:block",children:jsx(LottieBadge,{})}),jsx("button",{onClick:()=>i.changeLanguage(i.language==="en"?"zh":"en"),className:"p-2 rounded-full bg-white dark:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 hover:bg-wayv-green/10",title:o("language"),children:jsx(Languages,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})}),jsx("button",{onClick:()=>ft(!0),className:"p-2 rounded-full bg-white dark:bg-slate-700 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 hover:bg-wayv-green/10",children:jsx(Settings,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"})})]})]}),jsxs("div",{className:"text-center mb-12 animate-slide-up",style:{animationDelay:"0.2s"},children:[jsx("h2",{className:"text-4xl md:text-5xl font-display font-semibold text-white mb-4 text-glow drop-shadow-xl",children:o("welcome_title")}),jsx("p",{className:"text-slate-300 text-xl md:text-2xl text-glow drop-shadow-lg",children:o("welcome_subtitle")})]}),jsxs("div",{className:"max-w-7xl mx-auto px-6 mb-12",children:[jsx("div",{className:"flex items-center justify-between mb-6",children:jsx("h3",{className:"text-xl font-semibold text-white text-glow drop-shadow-lg",children:o("select_member_title")})}),jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-10 animate-slide-up",children:wayvMembers.map((Mt,pt)=>jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-2xl hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 ${rt===Mt.id?`border-${Mt.color} shadow-${Mt.color}/20`:"border-transparent hover:border-slate-200 dark:hover:border-slate-600"} animate-slide-up`,style:{animationDelay:`${pt*.1}s`},onClick:()=>Tt(Mt.id),onMouseMove:Pt=>{const $t=Pt.currentTarget,Ot=$t.getBoundingClientRect(),It=Pt.clientX-Ot.left,Lt=-((Pt.clientY-Ot.top)/Ot.height-.5)*6,Bt=(It/Ot.width-.5)*6;$t.style.transform=`perspective(600px) rotateX(${Lt}deg) rotateY(${Bt}deg) scale(1.03)`},onMouseLeave:Pt=>{Pt.currentTarget.style.transform="perspective(600px) scale(1)"},children:jsxs("div",{className:"text-center",children:[jsxs("div",{className:`w-28 h-28 mx-auto mb-4 rounded-full overflow-hidden border-2 border-${Mt.color} shadow-xl`,children:[jsx("img",{src:Mt.avatar,alt:Mt.name,className:"w-full h-full object-cover",onError:Pt=>{var Ot;const $t=Pt.target;$t.style.display="none",(Ot=$t.nextElementSibling)==null||Ot.classList.remove("hidden")}}),jsx("div",{className:"w-full h-full flex items-center justify-center hidden",style:{background:`linear-gradient(135deg, var(--${Mt.color}) 0%, var(--${Mt.color}-dark) 100%)`},children:jsx("span",{className:"text-2xl font-bold text-white",children:Mt.nameEn[0]})})]}),jsx("h4",{className:"font-semibold text-white mb-2 text-lg",children:o(`member_${Mt.id}`)}),jsx("p",{className:"text-sm text-slate-400",children:o(`member_personality_${Mt.id}`)})]})},Mt.id))})]}),jsx("section",{className:"max-w-4xl mx-auto px-6 mt-16",children:jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-10",children:[jsx("h3",{className:"text-3xl font-display font-semibold text-slate-900 dark:text-white mb-6 text-glow drop-shadow-lg",children:o("author_note_title")}),jsx("p",{className:"text-slate-800 dark:text-slate-200 leading-relaxed text-xl text-glow drop-shadow",children:o("author_note_content")}),jsx("div",{className:"mt-6 text-right text-slate-700 dark:text-slate-300 font-semibold text-lg text-glow drop-shadow",children:" "})]})}),jsx("section",{className:"max-w-4xl mx-auto px-6 mt-10",children:jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-10",children:[jsx("h3",{className:"text-3xl font-display font-semibold text-slate-900 dark:text-white mb-4 text-glow drop-shadow-lg",children:o("donate_title")}),jsx("p",{className:"text-slate-800 dark:text-slate-200 leading-relaxed text-lg text-glow drop-shadow mb-6",children:o("donate_content")}),jsx("div",{className:"flex items-center justify-center",children:jsx("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 shadow-xl",children:jsx("img",{src:"images/Wechat.jpg",alt:"Wechat QR",className:"w-56 h-56 object-cover rounded-xl"})})})]})}),jsx("footer",{className:"text-center mt-20 pb-10 text-slate-400",children:jsx("p",{className:"text-base md:text-lg",children:o("footer_copyright")})}),lt&&jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>ft(!1),children:jsxs("div",{className:"bg-slate-800 rounded-3xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:Mt=>Mt.stopPropagation(),children:[jsx("div",{className:"p-6 border-b border-slate-700",children:jsxs("div",{className:"flex items-center justify-between",children:[jsx("h3",{className:"text-xl font-bold text-white",children:o("settings_title")}),jsx("button",{onClick:()=>ft(!1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:""})]})}),jsxs("div",{className:"p-6 space-y-6",children:[jsxs("div",{children:[jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:""}),jsx(BackgroundSettings,{})]}),jsxs("div",{children:[jsx("h4",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:""}),jsx(TimerSettings,{})]})]})]})})]})]})}const playNotificationSound=()=>{try{const o=new(window.AudioContext||window.webkitAudioContext),i=o.createOscillator(),_=o.createGain();i.connect(_),_.connect(o.destination),i.frequency.setValueAtTime(800,o.currentTime),i.frequency.exponentialRampToValueAtTime(400,o.currentTime+.5),_.gain.setValueAtTime(.3,o.currentTime),_.gain.exponentialRampToValueAtTime(.01,o.currentTime+.5),i.start(o.currentTime),i.stop(o.currentTime+.5)}catch(o){console.warn("Failed to play notification sound:",o)}},playBreakSound=()=>{try{const o=new(window.AudioContext||window.webkitAudioContext),i=o.createOscillator(),_=o.createGain();i.connect(_),_.connect(o.destination),i.frequency.setValueAtTime(400,o.currentTime),i.frequency.exponentialRampToValueAtTime(800,o.currentTime+.3),_.gain.setValueAtTime(.2,o.currentTime),_.gain.exponentialRampToValueAtTime(.01,o.currentTime+.3),i.start(o.currentTime),i.stop(o.currentTime+.3),setTimeout(()=>{const $=o.createOscillator(),j=o.createGain();$.connect(j),j.connect(o.destination),$.frequency.setValueAtTime(600,o.currentTime),$.frequency.exponentialRampToValueAtTime(1e3,o.currentTime+.2),j.gain.setValueAtTime(.15,o.currentTime),j.gain.exponentialRampToValueAtTime(.01,o.currentTime+.2),$.start(o.currentTime),$.stop(o.currentTime+.2)},200)}catch(o){console.warn("Failed to play break sound:",o)}},requestNotificationPermission=async()=>{if("Notification"in window)try{return await Notification.requestPermission()==="granted"}catch(o){return console.warn("Failed to request notification permission:",o),!1}return!1},sendNotification=(o,i,_)=>{if("Notification"in window&&Notification.permission==="granted")try{new Notification(o,{body:i,icon:_||"images/kun-avatar.jpg",badge:"images/kun-avatar.jpg",vibrate:[200,100,200]})}catch($){console.warn("Failed to send notification:",$)}},createParticles=(o,i)=>{const $=[];for(let j=0;j<20;j++){const _e=document.createElement("div");_e.style.position="absolute",_e.style.width="8px",_e.style.height="8px",_e.style.backgroundColor=i,_e.style.borderRadius="50%",_e.style.pointerEvents="none",_e.style.zIndex="1000";const tt=o.getBoundingClientRect();_e.style.left=`${tt.left+tt.width/2}px`,_e.style.top=`${tt.top+tt.height/2}px`,document.body.appendChild(_e),$.push(_e);const rt=j/20*Math.PI*2,nt=100+Math.random()*50,it=800+Math.random()*400;_e.animate([{transform:"translate(-50%, -50%) scale(1)",opacity:1},{transform:`translate(${Math.cos(rt)*nt-50}%, ${Math.sin(rt)*nt-50}%) scale(0)`,opacity:0}],{duration:it,easing:"cubic-bezier(0, 0.5, 0.5, 1)"}).onfinish=()=>{_e.remove()}}return $},LayoutGroupContext=reactExports.createContext({});function useConstant(o){const i=reactExports.useRef(null);return i.current===null&&(i.current=o()),i.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(o,i){o.indexOf(i)===-1&&o.push(i)}function removeItem(o,i){const _=o.indexOf(i);_>-1&&o.splice(_,1)}const clamp=(o,i,_)=>_>i?i:_<o?o:_;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function isObject$9(o){return typeof o=="object"&&o!==null}const isZeroValueString=o=>/^0[^.\s]+$/u.test(o);function memo(o){let i;return()=>(i===void 0&&(i=o()),i)}const noop$4=o=>o,combineFunctions=(o,i)=>_=>i(o(_)),pipe=(...o)=>o.reduce(combineFunctions),progress=(o,i,_)=>{const $=i-o;return $===0?1:(_-o)/$};class SubscriptionManager{constructor(){this.subscriptions=[]}add(i){return addUniqueItem(this.subscriptions,i),()=>removeItem(this.subscriptions,i)}notify(i,_,$){const j=this.subscriptions.length;if(j)if(j===1)this.subscriptions[0](i,_,$);else for(let _e=0;_e<j;_e++){const tt=this.subscriptions[_e];tt&&tt(i,_,$)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=o=>o*1e3,millisecondsToSeconds=o=>o/1e3;function velocityPerSecond(o,i){return i?o*(1e3/i):0}const calcBezier=(o,i,_)=>(((1-3*_+3*i)*o+(3*_-6*i))*o+3*i)*o,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(o,i,_,$,j){let _e,tt,rt=0;do tt=i+(_-i)/2,_e=calcBezier(tt,$,j)-o,_e>0?_=tt:i=tt;while(Math.abs(_e)>subdivisionPrecision&&++rt<subdivisionMaxIterations);return tt}function cubicBezier$1(o,i,_,$){if(o===i&&_===$)return noop$4;const j=_e=>binarySubdivide(_e,0,1,o,_);return _e=>_e===0||_e===1?_e:calcBezier(j(_e),i,$)}const mirrorEasing=o=>i=>i<=.5?o(2*i)/2:(2-o(2*(1-i)))/2,reverseEasing=o=>i=>1-o(1-i),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=o=>(o*=2)<1?.5*backIn(o):.5*(2-Math.pow(2,-10*(o-1))),circIn=o=>1-Math.sin(Math.acos(o)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=o=>Array.isArray(o)&&typeof o[0]!="number",isBezierDefinition=o=>Array.isArray(o)&&typeof o[0]=="number",easingLookup={linear:noop$4,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=o=>typeof o=="string",easingDefinitionToFunction=o=>{if(isBezierDefinition(o)){invariant$1(o.length===4);const[i,_,$,j]=o;return cubicBezier$1(i,_,$,j)}else if(isValidEasing(o))return easingLookup[o];return o},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],statsBuffer={value:null,addProjectionMetrics:null};function createRenderStep(o,i){let _=new Set,$=new Set,j=!1,_e=!1;const tt=new WeakSet;let rt={delta:0,timestamp:0,isProcessing:!1},nt=0;function it(lt){tt.has(lt)&&(ot.schedule(lt),o()),nt++,lt(rt)}const ot={schedule:(lt,ft=!1,_t=!1)=>{const Tt=_t&&j?_:$;return ft&&tt.add(lt),Tt.has(lt)||Tt.add(lt),lt},cancel:lt=>{$.delete(lt),tt.delete(lt)},process:lt=>{if(rt=lt,j){_e=!0;return}j=!0,[_,$]=[$,_],_.forEach(it),i&&statsBuffer.value&&statsBuffer.value.frameloop[i].push(nt),nt=0,_.clear(),j=!1,_e&&(_e=!1,ot.process(lt))}};return ot}const maxElapsed=40;function createRenderBatcher(o,i){let _=!1,$=!0;const j={delta:0,timestamp:0,isProcessing:!1},_e=()=>_=!0,tt=stepsOrder.reduce(($t,Ot)=>($t[Ot]=createRenderStep(_e,i?Ot:void 0),$t),{}),{setup:rt,read:nt,resolveKeyframes:it,preUpdate:ot,update:lt,preRender:ft,render:_t,postRender:At}=tt,Tt=()=>{const $t=MotionGlobalConfig.useManualTiming?j.timestamp:performance.now();_=!1,MotionGlobalConfig.useManualTiming||(j.delta=$?1e3/60:Math.max(Math.min($t-j.timestamp,maxElapsed),1)),j.timestamp=$t,j.isProcessing=!0,rt.process(j),nt.process(j),it.process(j),ot.process(j),lt.process(j),ft.process(j),_t.process(j),At.process(j),j.isProcessing=!1,_&&i&&($=!1,o(Tt))},Mt=()=>{_=!0,$=!0,j.isProcessing||o(Tt)};return{schedule:stepsOrder.reduce(($t,Ot)=>{const It=tt[Ot];return $t[Ot]=(Dt,Lt=!1,Bt=!1)=>(_||Mt(),It.schedule(Dt,Lt,Bt)),$t},{}),cancel:$t=>{for(let Ot=0;Ot<stepsOrder.length;Ot++)tt[stepsOrder[Ot]].cancel($t)},state:j,steps:tt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$4,!0);let now$2;function clearTime(){now$2=void 0}const time$1={now:()=>(now$2===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$2),set:o=>{now$2=o,queueMicrotask(clearTime)}},checkStringStartsWith=o=>i=>typeof i=="string"&&i.startsWith(o),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=o=>startsAsVariableToken(o)?singleCssVariableRegex.test(o.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},alpha$1={...number$3,transform:o=>clamp(0,1,o)},scale={...number$3,default:1},sanitize=o=>Math.round(o*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(o){return o==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(o,i)=>_=>!!(typeof _=="string"&&singleColorRegex.test(_)&&_.startsWith(o)||i&&!isNullish$1(_)&&Object.prototype.hasOwnProperty.call(_,i)),splitColor=(o,i,_)=>$=>{if(typeof $!="string")return $;const[j,_e,tt,rt]=$.match(floatRegex);return{[o]:parseFloat(j),[i]:parseFloat(_e),[_]:parseFloat(tt),alpha:rt!==void 0?parseFloat(rt):1}},clampRgbUnit=o=>clamp(0,255,o),rgbUnit={...number$3,transform:o=>Math.round(clampRgbUnit(o))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:o,green:i,blue:_,alpha:$=1})=>"rgba("+rgbUnit.transform(o)+", "+rgbUnit.transform(i)+", "+rgbUnit.transform(_)+", "+sanitize(alpha$1.transform($))+")"};function parseHex(o){let i="",_="",$="",j="";return o.length>5?(i=o.substring(1,3),_=o.substring(3,5),$=o.substring(5,7),j=o.substring(7,9)):(i=o.substring(1,2),_=o.substring(2,3),$=o.substring(3,4),j=o.substring(4,5),i+=i,_+=_,$+=$,j+=j),{red:parseInt(i,16),green:parseInt(_,16),blue:parseInt($,16),alpha:j?parseInt(j,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=o=>({test:i=>typeof i=="string"&&i.endsWith(o)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${o}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=(()=>({...percent,parse:o=>percent.parse(o)/100,transform:o=>percent.transform(o*100)}))(),hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:o,saturation:i,lightness:_,alpha:$=1})=>"hsla("+Math.round(o)+", "+percent.transform(sanitize(i))+", "+percent.transform(sanitize(_))+", "+sanitize(alpha$1.transform($))+")"},color$1={test:o=>rgba$1.test(o)||hex$1.test(o)||hsla$1.test(o),parse:o=>rgba$1.test(o)?rgba$1.parse(o):hsla$1.test(o)?hsla$1.parse(o):hex$1.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?rgba$1.transform(o):hsla$1.transform(o),getAnimatableNone:o=>{const i=color$1.parse(o);return i.alpha=0,color$1.transform(i)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(o){var i,_;return isNaN(o)&&typeof o=="string"&&(((i=o.match(floatRegex))==null?void 0:i.length)||0)+(((_=o.match(colorRegex))==null?void 0:_.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(o){const i=o.toString(),_=[],$={color:[],number:[],var:[]},j=[];let _e=0;const rt=i.replace(complexRegex,nt=>(color$1.test(nt)?($.color.push(_e),j.push(COLOR_TOKEN),_.push(color$1.parse(nt))):nt.startsWith(VAR_FUNCTION_TOKEN)?($.var.push(_e),j.push(VAR_TOKEN),_.push(nt)):($.number.push(_e),j.push(NUMBER_TOKEN),_.push(parseFloat(nt))),++_e,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:_,split:rt,indexes:$,types:j}}function parseComplexValue(o){return analyseComplexValue(o).values}function createTransformer(o){const{split:i,types:_}=analyseComplexValue(o),$=i.length;return j=>{let _e="";for(let tt=0;tt<$;tt++)if(_e+=i[tt],j[tt]!==void 0){const rt=_[tt];rt===NUMBER_TOKEN?_e+=sanitize(j[tt]):rt===COLOR_TOKEN?_e+=color$1.transform(j[tt]):_e+=j[tt]}return _e}}const convertNumbersToZero=o=>typeof o=="number"?0:color$1.test(o)?color$1.getAnimatableNone(o):o;function getAnimatableNone$1(o){const i=parseComplexValue(o);return createTransformer(o)(i.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(o,i,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?o+(i-o)*6*_:_<1/2?i:_<2/3?o+(i-o)*(2/3-_)*6:o}function hslaToRgba({hue:o,saturation:i,lightness:_,alpha:$}){o/=360,i/=100,_/=100;let j=0,_e=0,tt=0;if(!i)j=_e=tt=_;else{const rt=_<.5?_*(1+i):_+i-_*i,nt=2*_-rt;j=hueToRgb(nt,rt,o+1/3),_e=hueToRgb(nt,rt,o),tt=hueToRgb(nt,rt,o-1/3)}return{red:Math.round(j*255),green:Math.round(_e*255),blue:Math.round(tt*255),alpha:$}}function mixImmediate(o,i){return _=>_>0?i:o}const mixNumber$1=(o,i,_)=>o+(i-o)*_,mixLinearColor=(o,i,_)=>{const $=o*o,j=_*(i*i-$)+$;return j<0?0:Math.sqrt(j)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=o=>colorTypes.find(i=>i.test(o));function asRGBA(o){const i=getColorType(o);if(!i)return!1;let _=i.parse(o);return i===hsla$1&&(_=hslaToRgba(_)),_}const mixColor=(o,i)=>{const _=asRGBA(o),$=asRGBA(i);if(!_||!$)return mixImmediate(o,i);const j={..._};return _e=>(j.red=mixLinearColor(_.red,$.red,_e),j.green=mixLinearColor(_.green,$.green,_e),j.blue=mixLinearColor(_.blue,$.blue,_e),j.alpha=mixNumber$1(_.alpha,$.alpha,_e),rgba$1.transform(j))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(o,i){return invisibleValues.has(o)?_=>_<=0?o:i:_=>_>=1?i:o}function mixNumber(o,i){return _=>mixNumber$1(o,i,_)}function getMixer(o){return typeof o=="number"?mixNumber:typeof o=="string"?isCSSVariableToken(o)?mixImmediate:color$1.test(o)?mixColor:mixComplex:Array.isArray(o)?mixArray:typeof o=="object"?color$1.test(o)?mixColor:mixObject:mixImmediate}function mixArray(o,i){const _=[...o],$=_.length,j=o.map((_e,tt)=>getMixer(_e)(_e,i[tt]));return _e=>{for(let tt=0;tt<$;tt++)_[tt]=j[tt](_e);return _}}function mixObject(o,i){const _={...o,...i},$={};for(const j in _)o[j]!==void 0&&i[j]!==void 0&&($[j]=getMixer(o[j])(o[j],i[j]));return j=>{for(const _e in $)_[_e]=$[_e](j);return _}}function matchOrder(o,i){const _=[],$={color:0,var:0,number:0};for(let j=0;j<i.values.length;j++){const _e=i.types[j],tt=o.indexes[_e][$[_e]],rt=o.values[tt]??0;_[j]=rt,$[_e]++}return _}const mixComplex=(o,i)=>{const _=complex.createTransformer(i),$=analyseComplexValue(o),j=analyseComplexValue(i);return $.indexes.var.length===j.indexes.var.length&&$.indexes.color.length===j.indexes.color.length&&$.indexes.number.length>=j.indexes.number.length?invisibleValues.has(o)&&!j.values.length||invisibleValues.has(i)&&!$.values.length?mixVisibility(o,i):pipe(mixArray(matchOrder($,j),j.values),_):mixImmediate(o,i)};function mix(o,i,_){return typeof o=="number"&&typeof i=="number"&&typeof _=="number"?mixNumber$1(o,i,_):getMixer(o)(o,i)}const frameloopDriver=o=>{const i=({timestamp:_})=>o(_);return{start:(_=!0)=>frame.update(i,_),stop:()=>cancelFrame(i),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(o,i,_=10)=>{let $="";const j=Math.max(Math.round(i/_),2);for(let _e=0;_e<j;_e++)$+=Math.round(o(_e/(j-1))*1e4)/1e4+", ";return`linear(${$.substring(0,$.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(o){let i=0;const _=50;let $=o.next(i);for(;!$.done&&i<maxGeneratorDuration;)i+=_,$=o.next(i);return i>=maxGeneratorDuration?1/0:i}function createGeneratorEasing(o,i=100,_){const $=_({...o,keyframes:[0,i]}),j=Math.min(calcGeneratorDuration($),maxGeneratorDuration);return{type:"keyframes",ease:_e=>$.next(j*_e).value/i,duration:millisecondsToSeconds(j)}}const velocitySampleDuration=5;function calcGeneratorVelocity(o,i,_){const $=Math.max(i-velocitySampleDuration,0);return velocityPerSecond(_-o($),i-$)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:o=springDefaults.duration,bounce:i=springDefaults.bounce,velocity:_=springDefaults.velocity,mass:$=springDefaults.mass}){let j,_e,tt=1-i;tt=clamp(springDefaults.minDamping,springDefaults.maxDamping,tt),o=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(o)),tt<1?(j=it=>{const ot=it*tt,lt=ot*o,ft=ot-_,_t=calcAngularFreq(it,tt),At=Math.exp(-lt);return safeMin-ft/_t*At},_e=it=>{const lt=it*tt*o,ft=lt*_+_,_t=Math.pow(tt,2)*Math.pow(it,2)*o,At=Math.exp(-lt),Tt=calcAngularFreq(Math.pow(it,2),tt);return(-j(it)+safeMin>0?-1:1)*((ft-_t)*At)/Tt}):(j=it=>{const ot=Math.exp(-it*o),lt=(it-_)*o+1;return-safeMin+ot*lt},_e=it=>{const ot=Math.exp(-it*o),lt=(_-it)*(o*o);return ot*lt});const rt=5/o,nt=approximateRoot(j,_e,rt);if(o=secondsToMilliseconds(o),isNaN(nt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:o};{const it=Math.pow(nt,2)*$;return{stiffness:it,damping:tt*2*Math.sqrt($*it),duration:o}}}const rootIterations=12;function approximateRoot(o,i,_){let $=_;for(let j=1;j<rootIterations;j++)$=$-o($)/i($);return $}function calcAngularFreq(o,i){return o*Math.sqrt(1-i*i)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(o,i){return i.some(_=>o[_]!==void 0)}function getSpringOptions(o){let i={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...o};if(!isSpringType(o,physicsKeys)&&isSpringType(o,durationKeys))if(o.visualDuration){const _=o.visualDuration,$=2*Math.PI/(_*1.2),j=$*$,_e=2*clamp(.05,1,1-(o.bounce||0))*Math.sqrt(j);i={...i,mass:springDefaults.mass,stiffness:j,damping:_e}}else{const _=findSpring(o);i={...i,..._,mass:springDefaults.mass},i.isResolvedFromDuration=!0}return i}function spring(o=springDefaults.visualDuration,i=springDefaults.bounce){const _=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:i}:o;let{restSpeed:$,restDelta:j}=_;const _e=_.keyframes[0],tt=_.keyframes[_.keyframes.length-1],rt={done:!1,value:_e},{stiffness:nt,damping:it,mass:ot,duration:lt,velocity:ft,isResolvedFromDuration:_t}=getSpringOptions({..._,velocity:-millisecondsToSeconds(_.velocity||0)}),At=ft||0,Tt=it/(2*Math.sqrt(nt*ot)),Mt=tt-_e,pt=millisecondsToSeconds(Math.sqrt(nt/ot)),Pt=Math.abs(Mt)<5;$||($=Pt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),j||(j=Pt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let $t;if(Tt<1){const It=calcAngularFreq(pt,Tt);$t=Dt=>{const Lt=Math.exp(-Tt*pt*Dt);return tt-Lt*((At+Tt*pt*Mt)/It*Math.sin(It*Dt)+Mt*Math.cos(It*Dt))}}else if(Tt===1)$t=It=>tt-Math.exp(-pt*It)*(Mt+(At+pt*Mt)*It);else{const It=pt*Math.sqrt(Tt*Tt-1);$t=Dt=>{const Lt=Math.exp(-Tt*pt*Dt),Bt=Math.min(It*Dt,300);return tt-Lt*((At+Tt*pt*Mt)*Math.sinh(Bt)+It*Mt*Math.cosh(Bt))/It}}const Ot={calculatedDuration:_t&&lt||null,next:It=>{const Dt=$t(It);if(_t)rt.done=It>=lt;else{let Lt=It===0?At:0;Tt<1&&(Lt=It===0?secondsToMilliseconds(At):calcGeneratorVelocity($t,It,Dt));const Bt=Math.abs(Lt)<=$,jt=Math.abs(tt-Dt)<=j;rt.done=Bt&&jt}return rt.value=rt.done?tt:Dt,rt},toString:()=>{const It=Math.min(calcGeneratorDuration(Ot),maxGeneratorDuration),Dt=generateLinearEasing(Lt=>Ot.next(It*Lt).value,It,30);return It+"ms "+Dt},toTransition:()=>{}};return Ot}spring.applyToOptions=o=>{const i=createGeneratorEasing(o,100,spring);return o.ease=i.ease,o.duration=secondsToMilliseconds(i.duration),o.type="keyframes",o};function inertia({keyframes:o,velocity:i=0,power:_=.8,timeConstant:$=325,bounceDamping:j=10,bounceStiffness:_e=500,modifyTarget:tt,min:rt,max:nt,restDelta:it=.5,restSpeed:ot}){const lt=o[0],ft={done:!1,value:lt},_t=Bt=>rt!==void 0&&Bt<rt||nt!==void 0&&Bt>nt,At=Bt=>rt===void 0?nt:nt===void 0||Math.abs(rt-Bt)<Math.abs(nt-Bt)?rt:nt;let Tt=_*i;const Mt=lt+Tt,pt=tt===void 0?Mt:tt(Mt);pt!==Mt&&(Tt=pt-lt);const Pt=Bt=>-Tt*Math.exp(-Bt/$),$t=Bt=>pt+Pt(Bt),Ot=Bt=>{const jt=Pt(Bt),Ut=$t(Bt);ft.done=Math.abs(jt)<=it,ft.value=ft.done?pt:Ut};let It,Dt;const Lt=Bt=>{_t(ft.value)&&(It=Bt,Dt=spring({keyframes:[ft.value,At(ft.value)],velocity:calcGeneratorVelocity($t,Bt,ft.value),damping:j,stiffness:_e,restDelta:it,restSpeed:ot}))};return Lt(0),{calculatedDuration:null,next:Bt=>{let jt=!1;return!Dt&&It===void 0&&(jt=!0,Ot(Bt),Lt(Bt)),It!==void 0&&Bt>=It?Dt.next(Bt-It):(!jt&&Ot(Bt),ft)}}}function createMixers(o,i,_){const $=[],j=_||MotionGlobalConfig.mix||mix,_e=o.length-1;for(let tt=0;tt<_e;tt++){let rt=j(o[tt],o[tt+1]);if(i){const nt=Array.isArray(i)?i[tt]||noop$4:i;rt=pipe(nt,rt)}$.push(rt)}return $}function interpolate$1(o,i,{clamp:_=!0,ease:$,mixer:j}={}){const _e=o.length;if(invariant$1(_e===i.length),_e===1)return()=>i[0];if(_e===2&&i[0]===i[1])return()=>i[1];const tt=o[0]===o[1];o[0]>o[_e-1]&&(o=[...o].reverse(),i=[...i].reverse());const rt=createMixers(i,$,j),nt=rt.length,it=ot=>{if(tt&&ot<o[0])return i[0];let lt=0;if(nt>1)for(;lt<o.length-2&&!(ot<o[lt+1]);lt++);const ft=progress(o[lt],o[lt+1],ot);return rt[lt](ft)};return _?ot=>it(clamp(o[0],o[_e-1],ot)):it}function fillOffset(o,i){const _=o[o.length-1];for(let $=1;$<=i;$++){const j=progress(0,i,$);o.push(mixNumber$1(_,1,j))}}function defaultOffset(o){const i=[0];return fillOffset(i,o.length-1),i}function convertOffsetToTimes(o,i){return o.map(_=>_*i)}function defaultEasing(o,i){return o.map(()=>i||easeInOut).splice(0,o.length-1)}function keyframes({duration:o=300,keyframes:i,times:_,ease:$="easeInOut"}){const j=isEasingArray($)?$.map(easingDefinitionToFunction):easingDefinitionToFunction($),_e={done:!1,value:i[0]},tt=convertOffsetToTimes(_&&_.length===i.length?_:defaultOffset(i),o),rt=interpolate$1(tt,i,{ease:Array.isArray(j)?j:defaultEasing(i,j)});return{calculatedDuration:o,next:nt=>(_e.value=rt(nt),_e.done=nt>=o,_e)}}const isNotNull$1=o=>o!==null;function getFinalKeyframe$1(o,{repeat:i,repeatType:_="loop"},$,j=1){const _e=o.filter(isNotNull$1),rt=j<0||i&&_!=="loop"&&i%2===1?0:_e.length-1;return!rt||$===void 0?_e[rt]:$}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(o){typeof o.type=="string"&&(o.type=transitionTypeMap[o.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,_){return this.finished.then(i,_)}}const percentToProgress=o=>o/100;class JSAnimation extends WithPromise{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var $,j;const{motionValue:_}=this.options;_&&_.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(j=($=this.options).onStop)==null||j.call($))},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;replaceTransitionType(i);const{type:_=keyframes,repeat:$=0,repeatDelay:j=0,repeatType:_e,velocity:tt=0}=i;let{keyframes:rt}=i;const nt=_||keyframes;nt!==keyframes&&typeof rt[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(rt[0],rt[1])),rt=[0,100]);const it=nt({...i,keyframes:rt});_e==="mirror"&&(this.mirroredGenerator=nt({...i,keyframes:[...rt].reverse(),velocity:-tt})),it.calculatedDuration===null&&(it.calculatedDuration=calcGeneratorDuration(it));const{calculatedDuration:ot}=it;this.calculatedDuration=ot,this.resolvedDuration=ot+j,this.totalDuration=this.resolvedDuration*($+1)-j,this.generator=it}updateTime(i){const _=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=_}tick(i,_=!1){const{generator:$,totalDuration:j,mixKeyframes:_e,mirroredGenerator:tt,resolvedDuration:rt,calculatedDuration:nt}=this;if(this.startTime===null)return $.next(0);const{delay:it=0,keyframes:ot,repeat:lt,repeatType:ft,repeatDelay:_t,type:At,onUpdate:Tt,finalKeyframe:Mt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-j/this.speed,this.startTime)),_?this.currentTime=i:this.updateTime(i);const pt=this.currentTime-it*(this.playbackSpeed>=0?1:-1),Pt=this.playbackSpeed>=0?pt<0:pt>j;this.currentTime=Math.max(pt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=j);let $t=this.currentTime,Ot=$;if(lt){const Bt=Math.min(this.currentTime,j)/rt;let jt=Math.floor(Bt),Ut=Bt%1;!Ut&&Bt>=1&&(Ut=1),Ut===1&&jt--,jt=Math.min(jt,lt+1),!!(jt%2)&&(ft==="reverse"?(Ut=1-Ut,_t&&(Ut-=_t/rt)):ft==="mirror"&&(Ot=tt)),$t=clamp(0,1,Ut)*rt}const It=Pt?{done:!1,value:ot[0]}:Ot.next($t);_e&&(It.value=_e(It.value));let{done:Dt}=It;!Pt&&nt!==null&&(Dt=this.playbackSpeed>=0?this.currentTime>=j:this.currentTime<=0);const Lt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Dt);return Lt&&At!==inertia&&(It.value=getFinalKeyframe$1(ot,this.options,Mt,this.speed)),Tt&&Tt(It.value),Lt&&this.finish(),It}then(i,_){return this.finished.then(i,_)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+millisecondsToSeconds(i)}get time(){return millisecondsToSeconds(this.currentTime)}set time(i){var _;i=secondsToMilliseconds(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),(_=this.driver)==null||_.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(time$1.now());const _=this.playbackSpeed!==i;this.playbackSpeed=i,_&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var j,_e;if(this.isStopped)return;const{driver:i=frameloopDriver,startTime:_}=this.options;this.driver||(this.driver=i(tt=>this.tick(tt))),(_e=(j=this.options).onPlay)==null||_e.call(j);const $=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=$):this.holdTime!==null?this.startTime=$-this.holdTime:this.startTime||(this.startTime=_??$),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var i,_;this.notifyFinished(),this.teardown(),this.state="finished",(_=(i=this.options).onComplete)==null||_.call(i)}cancel(){var i,_;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(_=(i=this.options).onCancel)==null||_.call(i)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){var _;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(_=this.driver)==null||_.stop(),i.observe(this)}}function fillWildcards(o){for(let i=1;i<o.length;i++)o[i]??(o[i]=o[i-1])}const radToDeg=o=>o*180/Math.PI,rotate=o=>{const i=radToDeg(Math.atan2(o[1],o[0]));return rebaseAngle(i)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate,rotateZ:rotate,skewX:o=>radToDeg(Math.atan(o[1])),skewY:o=>radToDeg(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},rebaseAngle=o=>(o=o%360,o<0&&(o+=360),o),rotateZ=rotate,scaleX=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),scaleY=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:o=>(scaleX(o)+scaleY(o))/2,rotateX:o=>rebaseAngle(radToDeg(Math.atan2(o[6],o[5]))),rotateY:o=>rebaseAngle(radToDeg(Math.atan2(-o[2],o[0]))),rotateZ,rotate:rotateZ,skewX:o=>radToDeg(Math.atan(o[4])),skewY:o=>radToDeg(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function defaultTransformValue(o){return o.includes("scale")?1:0}function parseValueFromTransform(o,i){if(!o||o==="none")return defaultTransformValue(i);const _=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let $,j;if(_)$=matrix3dParsers,j=_;else{const rt=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);$=matrix2dParsers,j=rt}if(!j)return defaultTransformValue(i);const _e=$[i],tt=j[1].split(",").map(convertTransformToNumber);return typeof _e=="function"?_e(tt):tt[_e]}const readTransformValue=(o,i)=>{const{transform:_="none"}=getComputedStyle(o);return parseValueFromTransform(_,i)};function convertTransformToNumber(o){return parseFloat(o.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=(()=>new Set(transformPropOrder))(),isNumOrPxType=o=>o===number$3||o===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(o=>!transformKeys.has(o));function removeNonTranslationalTransform(o){const i=[];return nonTranslationalTransformKeys.forEach(_=>{const $=o.getValue(_);$!==void 0&&(i.push([_,$.get()]),$.set(_.startsWith("scale")?1:0))}),i}const positionalValues={width:({x:o},{paddingLeft:i="0",paddingRight:_="0"})=>o.max-o.min-parseFloat(i)-parseFloat(_),height:({y:o},{paddingTop:i="0",paddingBottom:_="0"})=>o.max-o.min-parseFloat(i)-parseFloat(_),top:(o,{top:i})=>parseFloat(i),left:(o,{left:i})=>parseFloat(i),bottom:({y:o},{top:i})=>parseFloat(i)+(o.max-o.min),right:({x:o},{left:i})=>parseFloat(i)+(o.max-o.min),x:(o,{transform:i})=>parseValueFromTransform(i,"x"),y:(o,{transform:i})=>parseValueFromTransform(i,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const o=Array.from(toResolve).filter($=>$.needsMeasurement),i=new Set(o.map($=>$.element)),_=new Map;i.forEach($=>{const j=removeNonTranslationalTransform($);j.length&&(_.set($,j),$.render())}),o.forEach($=>$.measureInitialState()),i.forEach($=>{$.render();const j=_.get($);j&&j.forEach(([_e,tt])=>{var rt;(rt=$.getValue(_e))==null||rt.set(tt)})}),o.forEach($=>$.measureEndState()),o.forEach($=>{$.suspendedScrollY!==void 0&&window.scrollTo(0,$.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(o=>o.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(i,_,$,j,_e,tt=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=_,this.name=$,this.motionValue=j,this.element=_e,this.isAsync=tt}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:_,element:$,motionValue:j}=this;if(i[0]===null){const _e=j==null?void 0:j.get(),tt=i[i.length-1];if(_e!==void 0)i[0]=_e;else if($&&_){const rt=$.readValue(_,tt);rt!=null&&(i[0]=rt)}i[0]===void 0&&(i[0]=tt),j&&_e===void 0&&j.set(i[0])}fillWildcards(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=o=>o.startsWith("--");function setStyle(o,i,_){isCSSVar(i)?o.style.setProperty(i,_):o.style[i]=_}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(o,i){const _=memo(o);return()=>supportsFlags[i]??_()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([o,i,_,$])=>`cubic-bezier(${o}, ${i}, ${_}, ${$})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(o,i){if(o)return typeof o=="function"?supportsLinearEasing()?generateLinearEasing(o,i):"ease-out":isBezierDefinition(o)?cubicBezierAsString(o):Array.isArray(o)?o.map(_=>mapEasingToNativeEasing(_,i)||supportedWaapiEasing.easeOut):supportedWaapiEasing[o]}function startWaapiAnimation(o,i,_,{delay:$=0,duration:j=300,repeat:_e=0,repeatType:tt="loop",ease:rt="easeOut",times:nt}={},it=void 0){const ot={[i]:_};nt&&(ot.offset=nt);const lt=mapEasingToNativeEasing(rt,j);Array.isArray(lt)&&(ot.easing=lt);const ft={delay:$,duration:j,easing:Array.isArray(lt)?"linear":lt,fill:"both",iterations:_e+1,direction:tt==="reverse"?"alternate":"normal"};return it&&(ft.pseudoElement=it),o.animate(ot,ft)}function isGenerator(o){return typeof o=="function"&&"applyToOptions"in o}function applyGeneratorOptions({type:o,...i}){return isGenerator(o)&&supportsLinearEasing()?o.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class NativeAnimation extends WithPromise{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:_,name:$,keyframes:j,pseudoElement:_e,allowFlatten:tt=!1,finalKeyframe:rt,onComplete:nt}=i;this.isPseudoElement=!!_e,this.allowFlatten=tt,this.options=i,invariant$1(typeof i.type!="string");const it=applyGeneratorOptions(i);this.animation=startWaapiAnimation(_,$,j,it,_e),it.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!_e){const ot=getFinalKeyframe$1(j,this.options,rt,this.speed);this.updateMotionValue?this.updateMotionValue(ot):setStyle(_,$,ot),this.animation.cancel()}nt==null||nt(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var i,_;(_=(i=this.animation).finish)==null||_.call(i)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,_;this.isPseudoElement||(_=(i=this.animation).commitStyles)==null||_.call(i)}get duration(){var _,$;const i=(($=(_=this.animation.effect)==null?void 0:_.getComputedTiming)==null?void 0:$.call(_).duration)||0;return millisecondsToSeconds(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+millisecondsToSeconds(i)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:_}){var $;return this.allowFlatten&&(($=this.animation.effect)==null||$.updateTiming({easing:"linear"})),this.animation.onfinish=null,i&&supportsScrollTimeline()?(this.animation.timeline=i,noop$4):_(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(o){return o in unsupportedEasingFunctions}function replaceStringEasing(o){typeof o.ease=="string"&&isUnsupportedEase(o.ease)&&(o.ease=unsupportedEasingFunctions[o.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(i){replaceStringEasing(i),replaceTransitionType(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:_,onUpdate:$,onComplete:j,element:_e,...tt}=this.options;if(!_)return;if(i!==void 0){_.set(i);return}const rt=new JSAnimation({...tt,autoplay:!1}),nt=secondsToMilliseconds(this.finishedTime??this.time);_.setWithVelocity(rt.sample(nt-sampleDelta).value,rt.sample(nt).value,sampleDelta),rt.stop()}}const isAnimatable=(o,i)=>i==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(complex.test(o)||o==="0")&&!o.startsWith("url("));function hasKeyframesChanged(o){const i=o[0];if(o.length===1)return!0;for(let _=0;_<o.length;_++)if(o[_]!==i)return!0}function canAnimate(o,i,_,$){const j=o[0];if(j===null)return!1;if(i==="display"||i==="visibility")return!0;const _e=o[o.length-1],tt=isAnimatable(j,i),rt=isAnimatable(_e,i);return!tt||!rt?!1:hasKeyframesChanged(o)||(_==="spring"||isGenerator(_))&&$}function makeAnimationInstant(o){o.duration=0,o.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(o){var ot;const{motionValue:i,name:_,repeatDelay:$,repeatType:j,damping:_e,type:tt}=o;if(!(((ot=i==null?void 0:i.owner)==null?void 0:ot.current)instanceof HTMLElement))return!1;const{onUpdate:nt,transformTemplate:it}=i.owner.getProps();return supportsWaapi()&&_&&acceleratedValues.has(_)&&(_!=="transform"||!it)&&!nt&&!$&&j!=="mirror"&&_e!==0&&tt!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:i=!0,delay:_=0,type:$="keyframes",repeat:j=0,repeatDelay:_e=0,repeatType:tt="loop",keyframes:rt,name:nt,motionValue:it,element:ot,...lt}){var At;super(),this.stop=()=>{var Tt,Mt;this._animation&&(this._animation.stop(),(Tt=this.stopTimeline)==null||Tt.call(this)),(Mt=this.keyframeResolver)==null||Mt.cancel()},this.createdAt=time$1.now();const ft={autoplay:i,delay:_,type:$,repeat:j,repeatDelay:_e,repeatType:tt,name:nt,motionValue:it,element:ot,...lt},_t=(ot==null?void 0:ot.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new _t(rt,(Tt,Mt,pt)=>this.onKeyframesResolved(Tt,Mt,ft,!pt),nt,it,ot),(At=this.keyframeResolver)==null||At.scheduleResolve()}onKeyframesResolved(i,_,$,j){this.keyframeResolver=void 0;const{name:_e,type:tt,velocity:rt,delay:nt,isHandoff:it,onUpdate:ot}=$;this.resolvedAt=time$1.now(),canAnimate(i,_e,tt,rt)||((MotionGlobalConfig.instantAnimations||!nt)&&(ot==null||ot(getFinalKeyframe$1(i,$,_))),i[0]=i[i.length-1],makeAnimationInstant($),$.repeat=0);const ft={startTime:j?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:_,...$,keyframes:i},_t=!it&&supportsBrowserAnimation(ft)?new NativeAnimationExtended({...ft,element:ft.motionValue.owner.current}):new JSAnimation(ft);_t.finished.then(()=>this.notifyFinished()).catch(noop$4),this.pendingTimeline&&(this.stopTimeline=_t.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_t}get finished(){return this._animation?this.animation.finished:this._finished}then(i,_){return this.finished.finally(i).then(()=>{})}get animation(){var i;return this._animation||((i=this.keyframeResolver)==null||i.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var i;this._animation&&this.animation.cancel(),(i=this.keyframeResolver)==null||i.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(o){const i=splitCSSVariableRegex.exec(o);if(!i)return[,];const[,_,$,j]=i;return[`--${_??$}`,j]}function getVariableValue(o,i,_=1){const[$,j]=parseCSSVariable(o);if(!$)return;const _e=window.getComputedStyle(i).getPropertyValue($);if(_e){const tt=_e.trim();return isNumericalString(tt)?parseFloat(tt):tt}return isCSSVariableToken(j)?getVariableValue(j,i,_+1):j}function getValueTransition(o,i){return(o==null?void 0:o[i])??(o==null?void 0:o.default)??o}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:o=>o==="auto",parse:o=>o},testValueType=o=>i=>i.test(o),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=o=>dimensionValueTypes.find(testValueType(o));function isNone(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||isZeroValueString(o):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(o){const[i,_]=o.slice(0,-1).split("(");if(i==="drop-shadow")return o;const[$]=_.match(floatRegex)||[];if(!$)return o;const j=_.replace($,"");let _e=maxDefaults.has(i)?1:0;return $!==_&&(_e*=100),i+"("+_e+j+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:o=>{const i=o.match(functionRegex);return i?i.map(applyDefaultFilter).join(" "):o}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=o=>defaultValueTypes[o];function getAnimatableNone(o,i){let _=getDefaultValueType(o);return _!==filter&&(_=complex),_.getAnimatableNone?_.getAnimatableNone(i):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(o,i,_){let $=0,j;for(;$<o.length&&!j;){const _e=o[$];typeof _e=="string"&&!invalidTemplates.has(_e)&&analyseComplexValue(_e).values.length&&(j=o[$]),$++}if(j&&_)for(const _e of i)o[_e]=getAnimatableNone(_,j)}class DOMKeyframesResolver extends KeyframeResolver{constructor(i,_,$,j,_e){super(i,_,$,j,_e,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:_,name:$}=this;if(!_||!_.current)return;super.readKeyframes();for(let nt=0;nt<i.length;nt++){let it=i[nt];if(typeof it=="string"&&(it=it.trim(),isCSSVariableToken(it))){const ot=getVariableValue(it,_.current);ot!==void 0&&(i[nt]=ot),nt===i.length-1&&(this.finalKeyframe=it)}}if(this.resolveNoneKeyframes(),!positionalKeys.has($)||i.length!==2)return;const[j,_e]=i,tt=findDimensionValueType(j),rt=findDimensionValueType(_e);if(tt!==rt)if(isNumOrPxType(tt)&&isNumOrPxType(rt))for(let nt=0;nt<i.length;nt++){const it=i[nt];typeof it=="string"&&(i[nt]=parseFloat(it))}else positionalValues[$]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:_}=this,$=[];for(let j=0;j<i.length;j++)(i[j]===null||isNone(i[j]))&&$.push(j);$.length&&makeNoneKeyframesAnimatable(i,$,_)}measureInitialState(){const{element:i,unresolvedKeyframes:_,name:$}=this;if(!i||!i.current)return;$==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[$](i.measureViewportBox(),window.getComputedStyle(i.current)),_[0]=this.measuredOrigin;const j=_[_.length-1];j!==void 0&&i.getValue($,j).jump(j,!1)}measureEndState(){var rt;const{element:i,name:_,unresolvedKeyframes:$}=this;if(!i||!i.current)return;const j=i.getValue(_);j&&j.jump(this.measuredOrigin,!1);const _e=$.length-1,tt=$[_e];$[_e]=positionalValues[_](i.measureViewportBox(),window.getComputedStyle(i.current)),tt!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=tt),(rt=this.removedTransforms)!=null&&rt.length&&this.removedTransforms.forEach(([nt,it])=>{i.getValue(nt).set(it)}),this.resolveNoneKeyframes()}}function resolveElements(o,i,_){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let $=document;i&&($=i.current);const j=(_==null?void 0:_[o])??$.querySelectorAll(o);return j?Array.from(j):[]}return Array.from(o)}const getValueAsType=(o,i)=>i&&typeof o=="number"?i.transform(o):o;function isHTMLElement(o){return isObject$9(o)&&"offsetHeight"in o}const MAX_VELOCITY_DELTA=30,isFloat=o=>!isNaN(parseFloat(o));class MotionValue{constructor(i,_={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=$=>{var _e;const j=time$1.now();if(this.updatedAt!==j&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent($),this.current!==this.prev&&((_e=this.events.change)==null||_e.notify(this.current),this.dependents))for(const tt of this.dependents)tt.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=_.owner}setCurrent(i){this.current=i,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,_){this.events[i]||(this.events[i]=new SubscriptionManager);const $=this.events[i].add(_);return i==="change"?()=>{$(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:$}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,_){this.passiveEffect=i,this.stopPassiveEffect=_}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,_,$){this.set(_),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-$}jump(i,_=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,_&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var i;(i=this.events.change)==null||i.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const _=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),_)}start(i){return this.stop(),new Promise(_=>{this.hasAnimated=!0,this.animation=i(_),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var i,_;(i=this.dependents)==null||i.clear(),(_=this.events.destroy)==null||_.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(o,i){return new MotionValue(o,i)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(o){return o==="x"||o==="y"?isDragging[o]?null:(isDragging[o]=!0,()=>{isDragging[o]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(o,i){const _=resolveElements(o),$=new AbortController,j={passive:!0,...i,signal:$.signal};return[_,j,()=>$.abort()]}function isValidHover(o){return!(o.pointerType==="touch"||isDragActive())}function hover(o,i,_={}){const[$,j,_e]=setupGesture(o,_),tt=rt=>{if(!isValidHover(rt))return;const{target:nt}=rt,it=i(nt,rt);if(typeof it!="function"||!nt)return;const ot=lt=>{isValidHover(lt)&&(it(lt),nt.removeEventListener("pointerleave",ot))};nt.addEventListener("pointerleave",ot,j)};return $.forEach(rt=>{rt.addEventListener("pointerenter",tt,j)}),_e}const isNodeOrChild=(o,i)=>i?o===i?!0:isNodeOrChild(o,i.parentElement):!1,isPrimaryPointer=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(o){return focusableElements.has(o.tagName)||o.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(o){return i=>{i.key==="Enter"&&o(i)}}function firePointerEvent(o,i){o.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(o,i)=>{const _=o.currentTarget;if(!_)return;const $=filterEvents(()=>{if(isPressing.has(_))return;firePointerEvent(_,"down");const j=filterEvents(()=>{firePointerEvent(_,"up")}),_e=()=>firePointerEvent(_,"cancel");_.addEventListener("keyup",j,i),_.addEventListener("blur",_e,i)});_.addEventListener("keydown",$,i),_.addEventListener("blur",()=>_.removeEventListener("keydown",$),i)};function isValidPressEvent(o){return isPrimaryPointer(o)&&!isDragActive()}function press(o,i,_={}){const[$,j,_e]=setupGesture(o,_),tt=rt=>{const nt=rt.currentTarget;if(!isValidPressEvent(rt))return;isPressing.add(nt);const it=i(nt,rt),ot=(_t,At)=>{window.removeEventListener("pointerup",lt),window.removeEventListener("pointercancel",ft),isPressing.has(nt)&&isPressing.delete(nt),isValidPressEvent(_t)&&typeof it=="function"&&it(_t,{success:At})},lt=_t=>{ot(_t,nt===window||nt===document||_.useGlobalTarget||isNodeOrChild(nt,_t.target))},ft=_t=>{ot(_t,!1)};window.addEventListener("pointerup",lt,j),window.addEventListener("pointercancel",ft,j)};return $.forEach(rt=>{(_.useGlobalTarget?window:rt).addEventListener("pointerdown",tt,j),isHTMLElement(rt)&&(rt.addEventListener("focus",it=>enableKeyboardPress(it,j)),!isElementKeyboardAccessible(rt)&&!rt.hasAttribute("tabindex")&&(rt.tabIndex=0))}),_e}function isSVGElement(o){return isObject$9(o)&&"ownerSVGElement"in o}function isSVGSVGElement(o){return isSVGElement(o)&&o.tagName==="svg"}const isMotionValue=o=>!!(o&&o.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=o=>valueTypes.find(testValueType(o)),MotionConfigContext=reactExports.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});function setRef(o,i){if(typeof o=="function")return o(i);o!=null&&(o.current=i)}function composeRefs(...o){return i=>{let _=!1;const $=o.map(j=>{const _e=setRef(j,i);return!_&&typeof _e=="function"&&(_=!0),_e});if(_)return()=>{for(let j=0;j<$.length;j++){const _e=$[j];typeof _e=="function"?_e():setRef(o[j],null)}}}}function useComposedRefs(...o){return reactExports.useCallback(composeRefs(...o),o)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(i){const _=this.props.childRef.current;if(_&&i.isPresent&&!this.props.isPresent){const $=_.offsetParent,j=isHTMLElement($)&&$.offsetWidth||0,_e=this.props.sizeRef.current;_e.height=_.offsetHeight||0,_e.width=_.offsetWidth||0,_e.top=_.offsetTop,_e.left=_.offsetLeft,_e.right=j-_e.width-_e.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:o,isPresent:i,anchorX:_,root:$}){const j=reactExports.useId(),_e=reactExports.useRef(null),tt=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:rt}=reactExports.useContext(MotionConfigContext),nt=useComposedRefs(_e,o==null?void 0:o.ref);return reactExports.useInsertionEffect(()=>{const{width:it,height:ot,top:lt,left:ft,right:_t}=tt.current;if(i||!_e.current||!it||!ot)return;const At=_==="left"?`left: ${ft}`:`right: ${_t}`;_e.current.dataset.motionPopId=j;const Tt=document.createElement("style");rt&&(Tt.nonce=rt);const Mt=$??document.head;return Mt.appendChild(Tt),Tt.sheet&&Tt.sheet.insertRule(`
          [data-motion-pop-id="${j}"] {
            position: absolute !important;
            width: ${it}px !important;
            height: ${ot}px !important;
            ${At}px !important;
            top: ${lt}px !important;
          }
        `),()=>{Mt.contains(Tt)&&Mt.removeChild(Tt)}},[i]),jsx(PopChildMeasure,{isPresent:i,childRef:_e,sizeRef:tt,children:reactExports.cloneElement(o,{ref:nt})})}const PresenceChild=({children:o,initial:i,isPresent:_,onExitComplete:$,custom:j,presenceAffectsLayout:_e,mode:tt,anchorX:rt,root:nt})=>{const it=useConstant(newChildrenMap),ot=reactExports.useId();let lt=!0,ft=reactExports.useMemo(()=>(lt=!1,{id:ot,initial:i,isPresent:_,custom:j,onExitComplete:_t=>{it.set(_t,!0);for(const At of it.values())if(!At)return;$&&$()},register:_t=>(it.set(_t,!1),()=>it.delete(_t))}),[_,it,$]);return _e&&lt&&(ft={...ft}),reactExports.useMemo(()=>{it.forEach((_t,At)=>it.set(At,!1))},[_]),reactExports.useEffect(()=>{!_&&!it.size&&$&&$()},[_]),tt==="popLayout"&&(o=jsx(PopChild,{isPresent:_,anchorX:rt,root:nt,children:o})),jsx(PresenceContext.Provider,{value:ft,children:o})};function newChildrenMap(){return new Map}function usePresence(o=!0){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:_,onExitComplete:$,register:j}=i,_e=reactExports.useId();reactExports.useEffect(()=>{if(o)return j(_e)},[o]);const tt=reactExports.useCallback(()=>o&&$&&$(_e),[_e,$,o]);return!_&&$?[!1,tt]:[!0]}const getChildKey=o=>o.key||"";function onlyElements(o){const i=[];return reactExports.Children.forEach(o,_=>{reactExports.isValidElement(_)&&i.push(_)}),i}const AnimatePresence=({children:o,custom:i,initial:_=!0,onExitComplete:$,presenceAffectsLayout:j=!0,mode:_e="sync",propagate:tt=!1,anchorX:rt="left",root:nt})=>{const[it,ot]=usePresence(tt),lt=reactExports.useMemo(()=>onlyElements(o),[o]),ft=tt&&!it?[]:lt.map(getChildKey),_t=reactExports.useRef(!0),At=reactExports.useRef(lt),Tt=useConstant(()=>new Map),[Mt,pt]=reactExports.useState(lt),[Pt,$t]=reactExports.useState(lt);useIsomorphicLayoutEffect(()=>{_t.current=!1,At.current=lt;for(let Dt=0;Dt<Pt.length;Dt++){const Lt=getChildKey(Pt[Dt]);ft.includes(Lt)?Tt.delete(Lt):Tt.get(Lt)!==!0&&Tt.set(Lt,!1)}},[Pt,ft.length,ft.join("-")]);const Ot=[];if(lt!==Mt){let Dt=[...lt];for(let Lt=0;Lt<Pt.length;Lt++){const Bt=Pt[Lt],jt=getChildKey(Bt);ft.includes(jt)||(Dt.splice(Lt,0,Bt),Ot.push(Bt))}return _e==="wait"&&Ot.length&&(Dt=Ot),$t(onlyElements(Dt)),pt(lt),null}const{forceRender:It}=reactExports.useContext(LayoutGroupContext);return jsx(Fragment,{children:Pt.map(Dt=>{const Lt=getChildKey(Dt),Bt=tt&&!it?!1:lt===Pt||ft.includes(Lt),jt=()=>{if(Tt.has(Lt))Tt.set(Lt,!0);else return;let Ut=!0;Tt.forEach(Gt=>{Gt||(Ut=!1)}),Ut&&(It==null||It(),$t(At.current),tt&&(ot==null||ot()),$&&$())};return jsx(PresenceChild,{isPresent:Bt,initial:!_t.current||_?void 0:!1,custom:i,presenceAffectsLayout:j,mode:_e,root:nt,onExitComplete:Bt?void 0:jt,anchorX:rt,children:Dt},Lt)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const o in featureProps)featureDefinitions[o]={isEnabled:i=>featureProps[o].some(_=>!!i[_])};function loadFeatures(o){for(const i in o)featureDefinitions[i]={...featureDefinitions[i],...o[i]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||validMotionProps.has(o)}let shouldForward=o=>!isValidMotionProp(o);function loadExternalIsValidProp(o){typeof o=="function"&&(shouldForward=i=>i.startsWith("on")?!isValidMotionProp(i):o(i))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(o,i,_){const $={};for(const j in o)j==="values"&&typeof o.values=="object"||(shouldForward(j)||_===!0&&isValidMotionProp(j)||!i&&!isValidMotionProp(j)||o.draggable&&j.startsWith("onDrag"))&&($[j]=o[j]);return $}const MotionContext=reactExports.createContext({});function isAnimationControls(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function isVariantLabel(o){return typeof o=="string"||Array.isArray(o)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(o){return isAnimationControls(o.animate)||variantProps.some(i=>isVariantLabel(o[i]))}function isVariantNode(o){return!!(isControllingVariants(o)||o.variants)}function getCurrentTreeVariants(o,i){if(isControllingVariants(o)){const{initial:_,animate:$}=o;return{initial:_===!1||isVariantLabel(_)?_:void 0,animate:isVariantLabel($)?$:void 0}}return o.inherit!==!1?i:{}}function useCreateMotionContext(o){const{initial:i,animate:_}=getCurrentTreeVariants(o,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:i,animate:_}),[variantLabelsAsDependency(i),variantLabelsAsDependency(_)])}function variantLabelsAsDependency(o){return Array.isArray(o)?o.join(" "):o}function pixelsToPercent(o,i){return i.max===i.min?0:o/(i.max-i.min)*100}const correctBorderRadius={correct:(o,i)=>{if(!i.target)return o;if(typeof o=="string")if(px.test(o))o=parseFloat(o);else return o;const _=pixelsToPercent(o,i.target.x),$=pixelsToPercent(o,i.target.y);return`${_}% ${$}%`}},correctBoxShadow={correct:(o,{treeScale:i,projectionDelta:_})=>{const $=o,j=complex.parse(o);if(j.length>5)return $;const _e=complex.createTransformer(o),tt=typeof j[0]!="number"?1:0,rt=_.x.scale*i.x,nt=_.y.scale*i.y;j[0+tt]/=rt,j[1+tt]/=nt;const it=mixNumber$1(rt,nt,.5);return typeof j[2+tt]=="number"&&(j[2+tt]/=it),typeof j[3+tt]=="number"&&(j[3+tt]/=it),_e(j)}},scaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function isForcedMotionValue(o,{layout:i,layoutId:_}){return transformProps.has(o)||o.startsWith("origin")||(i||_!==void 0)&&(!!scaleCorrectors[o]||o==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(o,i,_){let $="",j=!0;for(let _e=0;_e<numTransforms;_e++){const tt=transformPropOrder[_e],rt=o[tt];if(rt===void 0)continue;let nt=!0;if(typeof rt=="number"?nt=rt===(tt.startsWith("scale")?1:0):nt=parseFloat(rt)===0,!nt||_){const it=getValueAsType(rt,numberValueTypes[tt]);if(!nt){j=!1;const ot=translateAlias[tt]||tt;$+=`${ot}(${it}) `}_&&(i[tt]=it)}}return $=$.trim(),_?$=_(i,j?"":$):j&&($="none"),$}function buildHTMLStyles(o,i,_){const{style:$,vars:j,transformOrigin:_e}=o;let tt=!1,rt=!1;for(const nt in i){const it=i[nt];if(transformProps.has(nt)){tt=!0;continue}else if(isCSSVariableName(nt)){j[nt]=it;continue}else{const ot=getValueAsType(it,numberValueTypes[nt]);nt.startsWith("origin")?(rt=!0,_e[nt]=ot):$[nt]=ot}}if(i.transform||(tt||_?$.transform=buildTransform(i,o.transform,_):$.transform&&($.transform="none")),rt){const{originX:nt="50%",originY:it="50%",originZ:ot=0}=_e;$.transformOrigin=`${nt} ${it} ${ot}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(o,i,_){for(const $ in i)!isMotionValue(i[$])&&!isForcedMotionValue($,_)&&(o[$]=i[$])}function useInitialMotionValues({transformTemplate:o},i){return reactExports.useMemo(()=>{const _=createHtmlRenderState();return buildHTMLStyles(_,i,o),Object.assign({},_.vars,_.style)},[i])}function useStyle(o,i){const _=o.style||{},$={};return copyRawValuesOnly($,_,o),Object.assign($,useInitialMotionValues(o,i)),$}function useHTMLProps(o,i){const _={},$=useStyle(o,i);return o.drag&&o.dragListener!==!1&&(_.draggable=!1,$.userSelect=$.WebkitUserSelect=$.WebkitTouchCallout="none",$.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(_.tabIndex=0),_.style=$,_}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(o,i,_=1,$=0,j=!0){o.pathLength=1;const _e=j?dashKeys:camelKeys;o[_e.offset]=px.transform(-$);const tt=px.transform(i),rt=px.transform(_);o[_e.array]=`${tt} ${rt}`}function buildSVGAttrs(o,{attrX:i,attrY:_,attrScale:$,pathLength:j,pathSpacing:_e=1,pathOffset:tt=0,...rt},nt,it,ot){if(buildHTMLStyles(o,rt,it),nt){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:lt,style:ft}=o;lt.transform&&(ft.transform=lt.transform,delete lt.transform),(ft.transform||lt.transformOrigin)&&(ft.transformOrigin=lt.transformOrigin??"50% 50%",delete lt.transformOrigin),ft.transform&&(ft.transformBox=(ot==null?void 0:ot.transformBox)??"fill-box",delete lt.transformBox),i!==void 0&&(lt.x=i),_!==void 0&&(lt.y=_),$!==void 0&&(lt.scale=$),j!==void 0&&buildSVGPath(lt,j,_e,tt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=o=>typeof o=="string"&&o.toLowerCase()==="svg";function useSVGProps(o,i,_,$){const j=reactExports.useMemo(()=>{const _e=createSvgRenderState();return buildSVGAttrs(_e,i,isSVGTag($),o.transformTemplate,o.style),{..._e.attrs,style:{..._e.style}}},[i]);if(o.style){const _e={};copyRawValuesOnly(_e,o.style,o),j.style={..._e,...j.style}}return j}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(o){return typeof o!="string"||o.includes("-")?!1:!!(lowercaseSVGElements.indexOf(o)>-1||/[A-Z]/u.test(o))}function useRender(o,i,_,{latestValues:$},j,_e=!1){const rt=(isSVGComponent(o)?useSVGProps:useHTMLProps)(i,$,j,o),nt=filterProps$1(i,typeof o=="string",_e),it=o!==reactExports.Fragment?{...nt,...rt,ref:_}:{},{children:ot}=i,lt=reactExports.useMemo(()=>isMotionValue(ot)?ot.get():ot,[ot]);return reactExports.createElement(o,{...it,children:lt})}function getValueState(o){const i=[{},{}];return o==null||o.values.forEach((_,$)=>{i[0][$]=_.get(),i[1][$]=_.getVelocity()}),i}function resolveVariantFromProps(o,i,_,$){if(typeof i=="function"){const[j,_e]=getValueState($);i=i(_!==void 0?_:o.custom,j,_e)}if(typeof i=="string"&&(i=o.variants&&o.variants[i]),typeof i=="function"){const[j,_e]=getValueState($);i=i(_!==void 0?_:o.custom,j,_e)}return i}function resolveMotionValue(o){return isMotionValue(o)?o.get():o}function makeState({scrapeMotionValuesFromProps:o,createRenderState:i},_,$,j){return{latestValues:makeLatestValues(_,$,j,o),renderState:i()}}function makeLatestValues(o,i,_,$){const j={},_e=$(o,{});for(const ft in _e)j[ft]=resolveMotionValue(_e[ft]);let{initial:tt,animate:rt}=o;const nt=isControllingVariants(o),it=isVariantNode(o);i&&it&&!nt&&o.inherit!==!1&&(tt===void 0&&(tt=i.initial),rt===void 0&&(rt=i.animate));let ot=_?_.initial===!1:!1;ot=ot||tt===!1;const lt=ot?rt:tt;if(lt&&typeof lt!="boolean"&&!isAnimationControls(lt)){const ft=Array.isArray(lt)?lt:[lt];for(let _t=0;_t<ft.length;_t++){const At=resolveVariantFromProps(o,ft[_t]);if(At){const{transitionEnd:Tt,transition:Mt,...pt}=At;for(const Pt in pt){let $t=pt[Pt];if(Array.isArray($t)){const Ot=ot?$t.length-1:0;$t=$t[Ot]}$t!==null&&(j[Pt]=$t)}for(const Pt in Tt)j[Pt]=Tt[Pt]}}}return j}const makeUseVisualState=o=>(i,_)=>{const $=reactExports.useContext(MotionContext),j=reactExports.useContext(PresenceContext),_e=()=>makeState(o,i,$,j);return _?_e():useConstant(_e)};function scrapeMotionValuesFromProps$1(o,i,_){var _e;const{style:$}=o,j={};for(const tt in $)(isMotionValue($[tt])||i.style&&isMotionValue(i.style[tt])||isForcedMotionValue(tt,o)||((_e=_==null?void 0:_.getValue(tt))==null?void 0:_e.liveStyle)!==void 0)&&(j[tt]=$[tt]);return j}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(o,i,_){const $=scrapeMotionValuesFromProps$1(o,i,_);for(const j in o)if(isMotionValue(o[j])||isMotionValue(i[j])){const _e=transformPropOrder.indexOf(j)!==-1?"attr"+j.charAt(0).toUpperCase()+j.substring(1):j;$[_e]=o[j]}return $}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function useMotionRef(o,i,_){return reactExports.useCallback($=>{$&&o.onMount&&o.onMount($),i&&($?i.mount($):i.unmount()),_&&(typeof _=="function"?_($):isRefObject(_)&&(_.current=$))},[i])}const camelToDash=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(o,i,_,$,j){var Tt,Mt;const{visualElement:_e}=reactExports.useContext(MotionContext),tt=reactExports.useContext(LazyContext),rt=reactExports.useContext(PresenceContext),nt=reactExports.useContext(MotionConfigContext).reducedMotion,it=reactExports.useRef(null);$=$||tt.renderer,!it.current&&$&&(it.current=$(o,{visualState:i,parent:_e,props:_,presenceContext:rt,blockInitialAnimation:rt?rt.initial===!1:!1,reducedMotionConfig:nt}));const ot=it.current,lt=reactExports.useContext(SwitchLayoutGroupContext);ot&&!ot.projection&&j&&(ot.type==="html"||ot.type==="svg")&&createProjectionNode$1(it.current,_,j,lt);const ft=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{ot&&ft.current&&ot.update(_,rt)});const _t=_[optimizedAppearDataAttribute],At=reactExports.useRef(!!_t&&!((Tt=window.MotionHandoffIsComplete)!=null&&Tt.call(window,_t))&&((Mt=window.MotionHasOptimisedAnimation)==null?void 0:Mt.call(window,_t)));return useIsomorphicLayoutEffect(()=>{ot&&(ft.current=!0,window.MotionIsMounted=!0,ot.updateFeatures(),ot.scheduleRenderMicrotask(),At.current&&ot.animationState&&ot.animationState.animateChanges())}),reactExports.useEffect(()=>{ot&&(!At.current&&ot.animationState&&ot.animationState.animateChanges(),At.current&&(queueMicrotask(()=>{var pt;(pt=window.MotionHandoffMarkAsComplete)==null||pt.call(window,_t)}),At.current=!1),ot.enteringChildren=void 0)}),ot}function createProjectionNode$1(o,i,_,$){const{layoutId:j,layout:_e,drag:tt,dragConstraints:rt,layoutScroll:nt,layoutRoot:it,layoutCrossfade:ot}=i;o.projection=new _(o.latestValues,i["data-framer-portal-id"]?void 0:getClosestProjectingNode(o.parent)),o.projection.setOptions({layoutId:j,layout:_e,alwaysMeasureLayout:!!tt||rt&&isRefObject(rt),visualElement:o,animationType:typeof _e=="string"?_e:"both",initialPromotionConfig:$,crossfade:ot,layoutScroll:nt,layoutRoot:it})}function getClosestProjectingNode(o){if(o)return o.options.allowProjection!==!1?o.projection:getClosestProjectingNode(o.parent)}function createMotionComponent(o,{forwardMotionProps:i=!1}={},_,$){_&&loadFeatures(_);const j=isSVGComponent(o)?useSVGVisualState:useHTMLVisualState;function _e(rt,nt){let it;const ot={...reactExports.useContext(MotionConfigContext),...rt,layoutId:useLayoutId(rt)},{isStatic:lt}=ot,ft=useCreateMotionContext(rt),_t=j(rt,lt);if(!lt&&isBrowser){useStrictMode();const At=getProjectionFunctionality(ot);it=At.MeasureLayout,ft.visualElement=useVisualElement(o,_t,ot,$,At.ProjectionNode)}return jsxs(MotionContext.Provider,{value:ft,children:[it&&ft.visualElement?jsx(it,{visualElement:ft.visualElement,...ot}):null,useRender(o,rt,useMotionRef(_t,ft.visualElement,nt),_t,lt,i)]})}_e.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const tt=reactExports.forwardRef(_e);return tt[motionComponentSymbol]=o,tt}function useLayoutId({layoutId:o}){const i=reactExports.useContext(LayoutGroupContext).id;return i&&o!==void 0?i+"-"+o:o}function useStrictMode(o,i){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(o){const{drag:i,layout:_}=featureDefinitions;if(!i&&!_)return{};const $={...i,..._};return{MeasureLayout:i!=null&&i.isEnabled(o)||_!=null&&_.isEnabled(o)?$.MeasureLayout:void 0,ProjectionNode:$.ProjectionNode}}function createMotionProxy(o,i){if(typeof Proxy>"u")return createMotionComponent;const _=new Map,$=(_e,tt)=>createMotionComponent(_e,tt,o,i),j=(_e,tt)=>$(_e,tt);return new Proxy(j,{get:(_e,tt)=>tt==="create"?$:(_.has(tt)||_.set(tt,createMotionComponent(tt,void 0,o,i)),_.get(tt))})}function convertBoundingBoxToBox({top:o,left:i,right:_,bottom:$}){return{x:{min:i,max:_},y:{min:o,max:$}}}function convertBoxToBoundingBox({x:o,y:i}){return{top:i.min,right:o.max,bottom:i.max,left:o.min}}function transformBoxPoints(o,i){if(!i)return o;const _=i({x:o.left,y:o.top}),$=i({x:o.right,y:o.bottom});return{top:_.y,left:_.x,bottom:$.y,right:$.x}}function isIdentityScale(o){return o===void 0||o===1}function hasScale({scale:o,scaleX:i,scaleY:_}){return!isIdentityScale(o)||!isIdentityScale(i)||!isIdentityScale(_)}function hasTransform(o){return hasScale(o)||has2DTranslate(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function has2DTranslate(o){return is2DTranslate(o.x)||is2DTranslate(o.y)}function is2DTranslate(o){return o&&o!=="0%"}function scalePoint(o,i,_){const $=o-_,j=i*$;return _+j}function applyPointDelta(o,i,_,$,j){return j!==void 0&&(o=scalePoint(o,j,$)),scalePoint(o,_,$)+i}function applyAxisDelta(o,i=0,_=1,$,j){o.min=applyPointDelta(o.min,i,_,$,j),o.max=applyPointDelta(o.max,i,_,$,j)}function applyBoxDelta(o,{x:i,y:_}){applyAxisDelta(o.x,i.translate,i.scale,i.originPoint),applyAxisDelta(o.y,_.translate,_.scale,_.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(o,i,_,$=!1){const j=_.length;if(!j)return;i.x=i.y=1;let _e,tt;for(let rt=0;rt<j;rt++){_e=_[rt],tt=_e.projectionDelta;const{visualElement:nt}=_e.options;nt&&nt.props.style&&nt.props.style.display==="contents"||($&&_e.options.layoutScroll&&_e.scroll&&_e!==_e.root&&transformBox(o,{x:-_e.scroll.offset.x,y:-_e.scroll.offset.y}),tt&&(i.x*=tt.x.scale,i.y*=tt.y.scale,applyBoxDelta(o,tt)),$&&hasTransform(_e.latestValues)&&transformBox(o,_e.latestValues))}i.x<TREE_SCALE_SNAP_MAX&&i.x>TREE_SCALE_SNAP_MIN&&(i.x=1),i.y<TREE_SCALE_SNAP_MAX&&i.y>TREE_SCALE_SNAP_MIN&&(i.y=1)}function translateAxis(o,i){o.min=o.min+i,o.max=o.max+i}function transformAxis(o,i,_,$,j=.5){const _e=mixNumber$1(o.min,o.max,j);applyAxisDelta(o,i,_,_e,$)}function transformBox(o,i){transformAxis(o.x,i.x,i.scaleX,i.scale,i.originX),transformAxis(o.y,i.y,i.scaleY,i.scale,i.originY)}function measureViewportBox(o,i){return convertBoundingBoxToBox(transformBoxPoints(o.getBoundingClientRect(),i))}function measurePageBox(o,i,_){const $=measureViewportBox(o,_),{scroll:j}=i;return j&&(translateAxis($.x,j.offset.x),translateAxis($.y,j.offset.y)),$}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),i=()=>prefersReducedMotion.current=o.matches;o.addEventListener("change",i),i()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(o,i,_){for(const $ in i){const j=i[$],_e=_[$];if(isMotionValue(j))o.addValue($,j);else if(isMotionValue(_e))o.addValue($,motionValue(j,{owner:o}));else if(_e!==j)if(o.hasValue($)){const tt=o.getValue($);tt.liveStyle===!0?tt.jump(j):tt.hasAnimated||tt.set(j)}else{const tt=o.getStaticValue($);o.addValue($,motionValue(tt!==void 0?tt:j,{owner:o}))}}for(const $ in _)i[$]===void 0&&o.removeValue($);return i}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(i,_,$){return{}}constructor({parent:i,props:_,presenceContext:$,reducedMotionConfig:j,blockInitialAnimation:_e,visualState:tt},rt={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const ft=time$1.now();this.renderScheduledAt<ft&&(this.renderScheduledAt=ft,frame.render(this.render,!1,!0))};const{latestValues:nt,renderState:it}=tt;this.latestValues=nt,this.baseTarget={...nt},this.initialValues=_.initial?{...nt}:{},this.renderState=it,this.parent=i,this.props=_,this.presenceContext=$,this.depth=i?i.depth+1:0,this.reducedMotionConfig=j,this.options=rt,this.blockInitialAnimation=!!_e,this.isControllingVariants=isControllingVariants(_),this.isVariantNode=isVariantNode(_),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:ot,...lt}=this.scrapeMotionValuesFromProps(_,{},this);for(const ft in lt){const _t=lt[ft];nt[ft]!==void 0&&isMotionValue(_t)&&_t.set(nt[ft])}}mount(i){var _;this.current=i,visualElementStore.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(($,j)=>this.bindToMotionValue(j,$)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,(_=this.parent)==null||_.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var i;this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(_=>_()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(i=this.parent)==null||i.removeChild(this);for(const _ in this.events)this.events[_].clear();for(const _ in this.features){const $=this.features[_];$&&($.unmount(),$.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,_){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const $=transformProps.has(i);$&&this.onBindTransform&&this.onBindTransform();const j=_.on("change",tt=>{this.latestValues[i]=tt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),$&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let _e;window.MotionCheckAppearSync&&(_e=window.MotionCheckAppearSync(this,i,_)),this.valueSubscriptions.set(i,()=>{j(),_e&&_e(),_.owner&&_.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in featureDefinitions){const _=featureDefinitions[i];if(!_)continue;const{isEnabled:$,Feature:j}=_;if(!this.features[i]&&j&&$(this.props)&&(this.features[i]=new j(this)),this.features[i]){const _e=this.features[i];_e.isMounted?_e.update():(_e.mount(),_e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,_){this.latestValues[i]=_}update(i,_){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=_;for(let $=0;$<propEventHandlers.length;$++){const j=propEventHandlers[$];this.propEventSubscriptions[j]&&(this.propEventSubscriptions[j](),delete this.propEventSubscriptions[j]);const _e="on"+j,tt=i[_e];tt&&(this.propEventSubscriptions[j]=this.on(j,tt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const _=this.getClosestVariantNode();if(_)return _.variantChildren&&_.variantChildren.add(i),()=>_.variantChildren.delete(i)}addValue(i,_){const $=this.values.get(i);_!==$&&($&&this.removeValue(i),this.bindToMotionValue(i,_),this.values.set(i,_),this.latestValues[i]=_.get())}removeValue(i){this.values.delete(i);const _=this.valueSubscriptions.get(i);_&&(_(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,_){if(this.props.values&&this.props.values[i])return this.props.values[i];let $=this.values.get(i);return $===void 0&&_!==void 0&&($=motionValue(_===null?void 0:_,{owner:this}),this.addValue(i,$)),$}readValue(i,_){let $=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return $!=null&&(typeof $=="string"&&(isNumericalString($)||isZeroValueString($))?$=parseFloat($):!findValueType($)&&complex.test(_)&&($=getAnimatableNone(i,_)),this.setBaseTarget(i,isMotionValue($)?$.get():$)),isMotionValue($)?$.get():$}setBaseTarget(i,_){this.baseTarget[i]=_}getBaseTarget(i){var _e;const{initial:_}=this.props;let $;if(typeof _=="string"||typeof _=="object"){const tt=resolveVariantFromProps(this.props,_,(_e=this.presenceContext)==null?void 0:_e.custom);tt&&($=tt[i])}if(_&&$!==void 0)return $;const j=this.getBaseTargetFromProps(this.props,i);return j!==void 0&&!isMotionValue(j)?j:this.initialValues[i]!==void 0&&$===void 0?void 0:this.baseTarget[i]}on(i,_){return this.events[i]||(this.events[i]=new SubscriptionManager),this.events[i].add(_)}notify(i,..._){this.events[i]&&this.events[i].notify(..._)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(i,_){return i.compareDocumentPosition(_)&2?1:-1}getBaseTargetFromProps(i,_){return i.style?i.style[_]:void 0}removeValueFromRenderState(i,{vars:_,style:$}){delete _[i],delete $[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;isMotionValue(i)&&(this.childSubscription=i.on("change",_=>{this.current&&(this.current.textContent=`${_}`)}))}}function renderHTML(o,{style:i,vars:_},$,j){const _e=o.style;let tt;for(tt in i)_e[tt]=i[tt];j==null||j.applyProjectionStyles(_e,$);for(tt in _)_e.setProperty(tt,_[tt])}function getComputedStyle$1(o){return window.getComputedStyle(o)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(i,_){var $;if(transformProps.has(_))return($=this.projection)!=null&&$.isProjecting?defaultTransformValue(_):readTransformValue(i,_);{const j=getComputedStyle$1(i),_e=(isCSSVariableName(_)?j.getPropertyValue(_):j[_])||0;return typeof _e=="string"?_e.trim():_e}}measureInstanceViewportBox(i,{transformPagePoint:_}){return measureViewportBox(i,_)}build(i,_,$){buildHTMLStyles(i,_,$.transformTemplate)}scrapeMotionValuesFromProps(i,_,$){return scrapeMotionValuesFromProps$1(i,_,$)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(o,i,_,$){renderHTML(o,i,void 0,$);for(const j in i.attrs)o.setAttribute(camelCaseAttributes.has(j)?j:camelToDash(j),i.attrs[j])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(i,_){return i[_]}readValueFromInstance(i,_){if(transformProps.has(_)){const $=getDefaultValueType(_);return $&&$.default||0}return _=camelCaseAttributes.has(_)?_:camelToDash(_),i.getAttribute(_)}scrapeMotionValuesFromProps(i,_,$){return scrapeMotionValuesFromProps(i,_,$)}build(i,_,$){buildSVGAttrs(i,_,this.isSVGTag,$.transformTemplate,$.style)}renderInstance(i,_,$,j){renderSVG(i,_,$,j)}mount(i){this.isSVGTag=isSVGTag(i.tagName),super.mount(i)}}const createDomVisualElement=(o,i)=>isSVGComponent(o)?new SVGVisualElement(i):new HTMLVisualElement(i,{allowProjection:o!==reactExports.Fragment});function resolveVariant(o,i,_){const $=o.getProps();return resolveVariantFromProps($,i,_!==void 0?_:$.custom,o)}const isKeyframesTarget=o=>Array.isArray(o);function setMotionValue(o,i,_){o.hasValue(i)?o.getValue(i).set(_):o.addValue(i,motionValue(_))}function resolveFinalValueInKeyframes(o){return isKeyframesTarget(o)?o[o.length-1]||0:o}function setTarget(o,i){const _=resolveVariant(o,i);let{transitionEnd:$={},transition:j={},..._e}=_||{};_e={..._e,...$};for(const tt in _e){const rt=resolveFinalValueInKeyframes(_e[tt]);setMotionValue(o,tt,rt)}}function isWillChangeMotionValue(o){return!!(isMotionValue(o)&&o.add)}function addValueToWillChange(o,i){const _=o.getValue("willChange");if(isWillChangeMotionValue(_))return _.add(i);if(!_&&MotionGlobalConfig.WillChange){const $=new MotionGlobalConfig.WillChange("auto");o.addValue("willChange",$),$.add(i)}}function getOptimisedAppearId(o){return o.props[optimizedAppearDataAttribute]}const isNotNull=o=>o!==null;function getFinalKeyframe(o,{repeat:i,repeatType:_="loop"},$){const j=o.filter(isNotNull),_e=i&&_!=="loop"&&i%2===1?0:j.length-1;return!_e||$===void 0?j[_e]:$}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(o,{keyframes:i})=>i.length>2?keyframesTransition:transformProps.has(o)?o.startsWith("scale")?criticallyDampedSpring(i[1]):underDampedSpring:ease;function isTransitionDefined({when:o,delay:i,delayChildren:_,staggerChildren:$,staggerDirection:j,repeat:_e,repeatType:tt,repeatDelay:rt,from:nt,elapsed:it,...ot}){return!!Object.keys(ot).length}const animateMotionValue=(o,i,_,$={},j,_e)=>tt=>{const rt=getValueTransition($,o)||{},nt=rt.delay||$.delay||0;let{elapsed:it=0}=$;it=it-secondsToMilliseconds(nt);const ot={keyframes:Array.isArray(_)?_:[null,_],ease:"easeOut",velocity:i.getVelocity(),...rt,delay:-it,onUpdate:ft=>{i.set(ft),rt.onUpdate&&rt.onUpdate(ft)},onComplete:()=>{tt(),rt.onComplete&&rt.onComplete()},name:o,motionValue:i,element:_e?void 0:j};isTransitionDefined(rt)||Object.assign(ot,getDefaultTransition(o,ot)),ot.duration&&(ot.duration=secondsToMilliseconds(ot.duration)),ot.repeatDelay&&(ot.repeatDelay=secondsToMilliseconds(ot.repeatDelay)),ot.from!==void 0&&(ot.keyframes[0]=ot.from);let lt=!1;if((ot.type===!1||ot.duration===0&&!ot.repeatDelay)&&(makeAnimationInstant(ot),ot.delay===0&&(lt=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(lt=!0,makeAnimationInstant(ot),ot.delay=0),ot.allowFlatten=!rt.type&&!rt.ease,lt&&!_e&&i.get()!==void 0){const ft=getFinalKeyframe(ot.keyframes,rt);if(ft!==void 0){frame.update(()=>{ot.onUpdate(ft),ot.onComplete()});return}}return rt.isSync?new JSAnimation(ot):new AsyncMotionValueAnimation(ot)};function shouldBlockAnimation({protectedKeys:o,needsAnimating:i},_){const $=o.hasOwnProperty(_)&&i[_]!==!0;return i[_]=!1,$}function animateTarget(o,i,{delay:_=0,transitionOverride:$,type:j}={}){let{transition:_e=o.getDefaultTransition(),transitionEnd:tt,...rt}=i;$&&(_e=$);const nt=[],it=j&&o.animationState&&o.animationState.getState()[j];for(const ot in rt){const lt=o.getValue(ot,o.latestValues[ot]??null),ft=rt[ot];if(ft===void 0||it&&shouldBlockAnimation(it,ot))continue;const _t={delay:_,...getValueTransition(_e||{},ot)},At=lt.get();if(At!==void 0&&!lt.isAnimating&&!Array.isArray(ft)&&ft===At&&!_t.velocity)continue;let Tt=!1;if(window.MotionHandoffAnimation){const pt=getOptimisedAppearId(o);if(pt){const Pt=window.MotionHandoffAnimation(pt,ot,frame);Pt!==null&&(_t.startTime=Pt,Tt=!0)}}addValueToWillChange(o,ot),lt.start(animateMotionValue(ot,lt,ft,o.shouldReduceMotion&&positionalKeys.has(ot)?{type:!1}:_t,o,Tt));const Mt=lt.animation;Mt&&nt.push(Mt)}return tt&&Promise.all(nt).then(()=>{frame.update(()=>{tt&&setTarget(o,tt)})}),nt}function calcChildStagger(o,i,_,$=0,j=1){const _e=Array.from(o).sort((it,ot)=>it.sortNodePosition(ot)).indexOf(i),tt=o.size,rt=(tt-1)*$;return typeof _=="function"?_(_e,tt):j===1?_e*$:rt-_e*$}function animateVariant(o,i,_={}){var nt;const $=resolveVariant(o,i,_.type==="exit"?(nt=o.presenceContext)==null?void 0:nt.custom:void 0);let{transition:j=o.getDefaultTransition()||{}}=$||{};_.transitionOverride&&(j=_.transitionOverride);const _e=$?()=>Promise.all(animateTarget(o,$,_)):()=>Promise.resolve(),tt=o.variantChildren&&o.variantChildren.size?(it=0)=>{const{delayChildren:ot=0,staggerChildren:lt,staggerDirection:ft}=j;return animateChildren(o,i,it,ot,lt,ft,_)}:()=>Promise.resolve(),{when:rt}=j;if(rt){const[it,ot]=rt==="beforeChildren"?[_e,tt]:[tt,_e];return it().then(()=>ot())}else return Promise.all([_e(),tt(_.delay)])}function animateChildren(o,i,_=0,$=0,j=0,_e=1,tt){const rt=[];for(const nt of o.variantChildren)nt.notify("AnimationStart",i),rt.push(animateVariant(nt,i,{...tt,delay:_+(typeof $=="function"?0:$)+calcChildStagger(o.variantChildren,nt,$,j,_e)}).then(()=>nt.notify("AnimationComplete",i)));return Promise.all(rt)}function animateVisualElement(o,i,_={}){o.notify("AnimationStart",i);let $;if(Array.isArray(i)){const j=i.map(_e=>animateVariant(o,_e,_));$=Promise.all(j)}else if(typeof i=="string")$=animateVariant(o,i,_);else{const j=typeof i=="function"?resolveVariant(o,i,_.custom):i;$=Promise.all(animateTarget(o,j,_))}return $.then(()=>{o.notify("AnimationComplete",i)})}function shallowCompare(o,i){if(!Array.isArray(i))return!1;const _=i.length;if(_!==o.length)return!1;for(let $=0;$<_;$++)if(i[$]!==o[$])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(o){if(!o)return;if(!o.isControllingVariants){const _=o.parent?getVariantContext(o.parent)||{}:{};return o.props.initial!==void 0&&(_.initial=o.props.initial),_}const i={};for(let _=0;_<numVariantProps;_++){const $=variantProps[_],j=o.props[$];(isVariantLabel(j)||j===!1)&&(i[$]=j)}return i}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(o){return i=>Promise.all(i.map(({animation:_,options:$})=>animateVisualElement(o,_,$)))}function createAnimationState(o){let i=animateList(o),_=createState(),$=!0;const j=nt=>(it,ot)=>{var ft;const lt=resolveVariant(o,ot,nt==="exit"?(ft=o.presenceContext)==null?void 0:ft.custom:void 0);if(lt){const{transition:_t,transitionEnd:At,...Tt}=lt;it={...it,...Tt,...At}}return it};function _e(nt){i=nt(o)}function tt(nt){const{props:it}=o,ot=getVariantContext(o.parent)||{},lt=[],ft=new Set;let _t={},At=1/0;for(let Mt=0;Mt<numAnimationTypes;Mt++){const pt=reversePriorityOrder[Mt],Pt=_[pt],$t=it[pt]!==void 0?it[pt]:ot[pt],Ot=isVariantLabel($t),It=pt===nt?Pt.isActive:null;It===!1&&(At=Mt);let Dt=$t===ot[pt]&&$t!==it[pt]&&Ot;if(Dt&&$&&o.manuallyAnimateOnMount&&(Dt=!1),Pt.protectedKeys={..._t},!Pt.isActive&&It===null||!$t&&!Pt.prevProp||isAnimationControls($t)||typeof $t=="boolean")continue;const Lt=checkVariantsDidChange(Pt.prevProp,$t);let Bt=Lt||pt===nt&&Pt.isActive&&!Dt&&Ot||Mt>At&&Ot,jt=!1;const Ut=Array.isArray($t)?$t:[$t];let Gt=Ut.reduce(j(pt),{});It===!1&&(Gt={});const{prevResolvedValues:qt={}}=Pt,Jt={...qt,...Gt},er=Ht=>{Bt=!0,ft.has(Ht)&&(jt=!0,ft.delete(Ht)),Pt.needsAnimating[Ht]=!0;const Ft=o.getValue(Ht);Ft&&(Ft.liveStyle=!1)};for(const Ht in Jt){const Ft=Gt[Ht],Vt=qt[Ht];if(_t.hasOwnProperty(Ht))continue;let Yt=!1;isKeyframesTarget(Ft)&&isKeyframesTarget(Vt)?Yt=!shallowCompare(Ft,Vt):Yt=Ft!==Vt,Yt?Ft!=null?er(Ht):ft.add(Ht):Ft!==void 0&&ft.has(Ht)?er(Ht):Pt.protectedKeys[Ht]=!0}Pt.prevProp=$t,Pt.prevResolvedValues=Gt,Pt.isActive&&(_t={..._t,...Gt}),$&&o.blockInitialAnimation&&(Bt=!1);const Kt=Dt&&Lt;Bt&&(!Kt||jt)&&lt.push(...Ut.map(Ht=>{const Ft={type:pt};if(typeof Ht=="string"&&$&&!Kt&&o.manuallyAnimateOnMount&&o.parent){const{parent:Vt}=o,Yt=resolveVariant(Vt,Ht);if(Vt.enteringChildren&&Yt){const{delayChildren:Zt}=Yt.transition||{};Ft.delay=calcChildStagger(Vt.enteringChildren,o,Zt)}}return{animation:Ht,options:Ft}}))}if(ft.size){const Mt={};if(typeof it.initial!="boolean"){const pt=resolveVariant(o,Array.isArray(it.initial)?it.initial[0]:it.initial);pt&&pt.transition&&(Mt.transition=pt.transition)}ft.forEach(pt=>{const Pt=o.getBaseTarget(pt),$t=o.getValue(pt);$t&&($t.liveStyle=!0),Mt[pt]=Pt??null}),lt.push({animation:Mt})}let Tt=!!lt.length;return $&&(it.initial===!1||it.initial===it.animate)&&!o.manuallyAnimateOnMount&&(Tt=!1),$=!1,Tt?i(lt):Promise.resolve()}function rt(nt,it){var lt;if(_[nt].isActive===it)return Promise.resolve();(lt=o.variantChildren)==null||lt.forEach(ft=>{var _t;return(_t=ft.animationState)==null?void 0:_t.setActive(nt,it)}),_[nt].isActive=it;const ot=tt(nt);for(const ft in _)_[ft].protectedKeys={};return ot}return{animateChanges:tt,setActive:rt,setAnimateFunction:_e,getState:()=>_,reset:()=>{_=createState()}}}function checkVariantsDidChange(o,i){return typeof i=="string"?i!==o:Array.isArray(i)?!shallowCompare(i,o):!1}function createTypeState(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(i){this.isMounted=!1,this.node=i}update(){}}class AnimationFeature extends Feature{constructor(i){super(i),i.animationState||(i.animationState=createAnimationState(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();isAnimationControls(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:_}=this.node.prevProps||{};i!==_&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:_}=this.node.presenceContext,{isPresent:$}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===$)return;const j=this.node.animationState.setActive("exit",!i);_&&!i&&j.then(()=>{_(this.id)})}mount(){const{register:i,onExitComplete:_}=this.node.presenceContext||{};_&&_(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(o,i,_,$={passive:!0}){return o.addEventListener(i,_,$),()=>o.removeEventListener(i,_)}function extractEventInfo(o){return{point:{x:o.pageX,y:o.pageY}}}const addPointerInfo=o=>i=>isPrimaryPointer(i)&&o(i,extractEventInfo(i));function addPointerEvent(o,i,_,$){return addDomEvent(o,i,addPointerInfo(_),$)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(o){return o.max-o.min}function isNear(o,i,_){return Math.abs(o-i)<=_}function calcAxisDelta(o,i,_,$=.5){o.origin=$,o.originPoint=mixNumber$1(i.min,i.max,o.origin),o.scale=calcLength(_)/calcLength(i),o.translate=mixNumber$1(_.min,_.max,o.origin)-o.originPoint,(o.scale>=SCALE_MIN&&o.scale<=SCALE_MAX||isNaN(o.scale))&&(o.scale=1),(o.translate>=TRANSLATE_MIN&&o.translate<=TRANSLATE_MAX||isNaN(o.translate))&&(o.translate=0)}function calcBoxDelta(o,i,_,$){calcAxisDelta(o.x,i.x,_.x,$?$.originX:void 0),calcAxisDelta(o.y,i.y,_.y,$?$.originY:void 0)}function calcRelativeAxis(o,i,_){o.min=_.min+i.min,o.max=o.min+calcLength(i)}function calcRelativeBox(o,i,_){calcRelativeAxis(o.x,i.x,_.x),calcRelativeAxis(o.y,i.y,_.y)}function calcRelativeAxisPosition(o,i,_){o.min=i.min-_.min,o.max=o.min+calcLength(i)}function calcRelativePosition(o,i,_){calcRelativeAxisPosition(o.x,i.x,_.x),calcRelativeAxisPosition(o.y,i.y,_.y)}function eachAxis(o){return[o("x"),o("y")]}const getContextWindow=({current:o})=>o?o.ownerDocument.defaultView:null,distance=(o,i)=>Math.abs(o-i);function distance2D(o,i){const _=distance(o.x,i.x),$=distance(o.y,i.y);return Math.sqrt(_**2+$**2)}class PanSession{constructor(i,_,{transformPagePoint:$,contextWindow:j=window,dragSnapToOrigin:_e=!1,distanceThreshold:tt=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ft=getPanInfo(this.lastMoveEventInfo,this.history),_t=this.startEvent!==null,At=distance2D(ft.offset,{x:0,y:0})>=this.distanceThreshold;if(!_t&&!At)return;const{point:Tt}=ft,{timestamp:Mt}=frameData;this.history.push({...Tt,timestamp:Mt});const{onStart:pt,onMove:Pt}=this.handlers;_t||(pt&&pt(this.lastMoveEvent,ft),this.startEvent=this.lastMoveEvent),Pt&&Pt(this.lastMoveEvent,ft)},this.handlePointerMove=(ft,_t)=>{this.lastMoveEvent=ft,this.lastMoveEventInfo=transformPoint(_t,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ft,_t)=>{this.end();const{onEnd:At,onSessionEnd:Tt,resumeAnimation:Mt}=this.handlers;if(this.dragSnapToOrigin&&Mt&&Mt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const pt=getPanInfo(ft.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_t,this.transformPagePoint),this.history);this.startEvent&&At&&At(ft,pt),Tt&&Tt(ft,pt)},!isPrimaryPointer(i))return;this.dragSnapToOrigin=_e,this.handlers=_,this.transformPagePoint=$,this.distanceThreshold=tt,this.contextWindow=j||window;const rt=extractEventInfo(i),nt=transformPoint(rt,this.transformPagePoint),{point:it}=nt,{timestamp:ot}=frameData;this.history=[{...it,timestamp:ot}];const{onSessionStart:lt}=_;lt&&lt(i,getPanInfo(nt,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(o,i){return i?{point:i(o.point)}:o}function subtractPoint(o,i){return{x:o.x-i.x,y:o.y-i.y}}function getPanInfo({point:o},i){return{point:o,delta:subtractPoint(o,lastDevicePoint(i)),offset:subtractPoint(o,startDevicePoint(i)),velocity:getVelocity(i,.1)}}function startDevicePoint(o){return o[0]}function lastDevicePoint(o){return o[o.length-1]}function getVelocity(o,i){if(o.length<2)return{x:0,y:0};let _=o.length-1,$=null;const j=lastDevicePoint(o);for(;_>=0&&($=o[_],!(j.timestamp-$.timestamp>secondsToMilliseconds(i)));)_--;if(!$)return{x:0,y:0};const _e=millisecondsToSeconds(j.timestamp-$.timestamp);if(_e===0)return{x:0,y:0};const tt={x:(j.x-$.x)/_e,y:(j.y-$.y)/_e};return tt.x===1/0&&(tt.x=0),tt.y===1/0&&(tt.y=0),tt}function applyConstraints(o,{min:i,max:_},$){return i!==void 0&&o<i?o=$?mixNumber$1(i,o,$.min):Math.max(o,i):_!==void 0&&o>_&&(o=$?mixNumber$1(_,o,$.max):Math.min(o,_)),o}function calcRelativeAxisConstraints(o,i,_){return{min:i!==void 0?o.min+i:void 0,max:_!==void 0?o.max+_-(o.max-o.min):void 0}}function calcRelativeConstraints(o,{top:i,left:_,bottom:$,right:j}){return{x:calcRelativeAxisConstraints(o.x,_,j),y:calcRelativeAxisConstraints(o.y,i,$)}}function calcViewportAxisConstraints(o,i){let _=i.min-o.min,$=i.max-o.max;return i.max-i.min<o.max-o.min&&([_,$]=[$,_]),{min:_,max:$}}function calcViewportConstraints(o,i){return{x:calcViewportAxisConstraints(o.x,i.x),y:calcViewportAxisConstraints(o.y,i.y)}}function calcOrigin(o,i){let _=.5;const $=calcLength(o),j=calcLength(i);return j>$?_=progress(i.min,i.max-$,o.min):$>j&&(_=progress(o.min,o.max-j,i.min)),clamp(0,1,_)}function rebaseAxisConstraints(o,i){const _={};return i.min!==void 0&&(_.min=i.min-o.min),i.max!==void 0&&(_.max=i.max-o.min),_}const defaultElastic=.35;function resolveDragElastic(o=defaultElastic){return o===!1?o=0:o===!0&&(o=defaultElastic),{x:resolveAxisElastic(o,"left","right"),y:resolveAxisElastic(o,"top","bottom")}}function resolveAxisElastic(o,i,_){return{min:resolvePointElastic(o,i),max:resolvePointElastic(o,_)}}function resolvePointElastic(o,i){return typeof o=="number"?o:o[i]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:_=!1,distanceThreshold:$}={}){const{presenceContext:j}=this.visualElement;if(j&&j.isPresent===!1)return;const _e=lt=>{const{dragSnapToOrigin:ft}=this.getProps();ft?this.pauseAnimation():this.stopAnimation(),_&&this.snapToCursor(extractEventInfo(lt).point)},tt=(lt,ft)=>{const{drag:_t,dragPropagation:At,onDragStart:Tt}=this.getProps();if(_t&&!At&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(_t),!this.openDragLock))return;this.latestPointerEvent=lt,this.latestPanInfo=ft,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(pt=>{let Pt=this.getAxisMotionValue(pt).get()||0;if(percent.test(Pt)){const{projection:$t}=this.visualElement;if($t&&$t.layout){const Ot=$t.layout.layoutBox[pt];Ot&&(Pt=calcLength(Ot)*(parseFloat(Pt)/100))}}this.originPoint[pt]=Pt}),Tt&&frame.postRender(()=>Tt(lt,ft)),addValueToWillChange(this.visualElement,"transform");const{animationState:Mt}=this.visualElement;Mt&&Mt.setActive("whileDrag",!0)},rt=(lt,ft)=>{this.latestPointerEvent=lt,this.latestPanInfo=ft;const{dragPropagation:_t,dragDirectionLock:At,onDirectionLock:Tt,onDrag:Mt}=this.getProps();if(!_t&&!this.openDragLock)return;const{offset:pt}=ft;if(At&&this.currentDirection===null){this.currentDirection=getCurrentDirection(pt),this.currentDirection!==null&&Tt&&Tt(this.currentDirection);return}this.updateAxis("x",ft.point,pt),this.updateAxis("y",ft.point,pt),this.visualElement.render(),Mt&&Mt(lt,ft)},nt=(lt,ft)=>{this.latestPointerEvent=lt,this.latestPanInfo=ft,this.stop(lt,ft),this.latestPointerEvent=null,this.latestPanInfo=null},it=()=>eachAxis(lt=>{var ft;return this.getAnimationState(lt)==="paused"&&((ft=this.getAxisMotionValue(lt).animation)==null?void 0:ft.play())}),{dragSnapToOrigin:ot}=this.getProps();this.panSession=new PanSession(i,{onSessionStart:_e,onStart:tt,onMove:rt,onSessionEnd:nt,resumeAnimation:it},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ot,distanceThreshold:$,contextWindow:getContextWindow(this.visualElement)})}stop(i,_){const $=i||this.latestPointerEvent,j=_||this.latestPanInfo,_e=this.isDragging;if(this.cancel(),!_e||!j||!$)return;const{velocity:tt}=j;this.startAnimation(tt);const{onDragEnd:rt}=this.getProps();rt&&frame.postRender(()=>rt($,j))}cancel(){this.isDragging=!1;const{projection:i,animationState:_}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:$}=this.getProps();!$&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),_&&_.setActive("whileDrag",!1)}updateAxis(i,_,$){const{drag:j}=this.getProps();if(!$||!shouldDrag(i,j,this.currentDirection))return;const _e=this.getAxisMotionValue(i);let tt=this.originPoint[i]+$[i];this.constraints&&this.constraints[i]&&(tt=applyConstraints(tt,this.constraints[i],this.elastic[i])),_e.set(tt)}resolveConstraints(){var _e;const{dragConstraints:i,dragElastic:_}=this.getProps(),$=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(_e=this.visualElement.projection)==null?void 0:_e.layout,j=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&$?this.constraints=calcRelativeConstraints($.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(_),j!==this.constraints&&$&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(tt=>{this.constraints!==!1&&this.getAxisMotionValue(tt)&&(this.constraints[tt]=rebaseAxisConstraints($.layoutBox[tt],this.constraints[tt]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:_}=this.getProps();if(!i||!isRefObject(i))return!1;const $=i.current,{projection:j}=this.visualElement;if(!j||!j.layout)return!1;const _e=measurePageBox($,j.root,this.visualElement.getTransformPagePoint());let tt=calcViewportConstraints(j.layout.layoutBox,_e);if(_){const rt=_(convertBoxToBoundingBox(tt));this.hasMutatedConstraints=!!rt,rt&&(tt=convertBoundingBoxToBox(rt))}return tt}startAnimation(i){const{drag:_,dragMomentum:$,dragElastic:j,dragTransition:_e,dragSnapToOrigin:tt,onDragTransitionEnd:rt}=this.getProps(),nt=this.constraints||{},it=eachAxis(ot=>{if(!shouldDrag(ot,_,this.currentDirection))return;let lt=nt&&nt[ot]||{};tt&&(lt={min:0,max:0});const ft=j?200:1e6,_t=j?40:1e7,At={type:"inertia",velocity:$?i[ot]:0,bounceStiffness:ft,bounceDamping:_t,timeConstant:750,restDelta:1,restSpeed:10,..._e,...lt};return this.startAxisValueAnimation(ot,At)});return Promise.all(it).then(rt)}startAxisValueAnimation(i,_){const $=this.getAxisMotionValue(i);return addValueToWillChange(this.visualElement,i),$.start(animateMotionValue(i,$,0,_,this.visualElement,!1))}stopAnimation(){eachAxis(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){eachAxis(i=>{var _;return(_=this.getAxisMotionValue(i).animation)==null?void 0:_.pause()})}getAnimationState(i){var _;return(_=this.getAxisMotionValue(i).animation)==null?void 0:_.state}getAxisMotionValue(i){const _=`_drag${i.toUpperCase()}`,$=this.visualElement.getProps(),j=$[_];return j||this.visualElement.getValue(i,($.initial?$.initial[i]:void 0)||0)}snapToCursor(i){eachAxis(_=>{const{drag:$}=this.getProps();if(!shouldDrag(_,$,this.currentDirection))return;const{projection:j}=this.visualElement,_e=this.getAxisMotionValue(_);if(j&&j.layout){const{min:tt,max:rt}=j.layout.layoutBox[_];_e.set(i[_]-mixNumber$1(tt,rt,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:_}=this.getProps(),{projection:$}=this.visualElement;if(!isRefObject(_)||!$||!this.constraints)return;this.stopAnimation();const j={x:0,y:0};eachAxis(tt=>{const rt=this.getAxisMotionValue(tt);if(rt&&this.constraints!==!1){const nt=rt.get();j[tt]=calcOrigin({min:nt,max:nt},this.constraints[tt])}});const{transformTemplate:_e}=this.visualElement.getProps();this.visualElement.current.style.transform=_e?_e({},""):"none",$.root&&$.root.updateScroll(),$.updateLayout(),this.resolveConstraints(),eachAxis(tt=>{if(!shouldDrag(tt,i,null))return;const rt=this.getAxisMotionValue(tt),{min:nt,max:it}=this.constraints[tt];rt.set(mixNumber$1(nt,it,j[tt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const i=this.visualElement.current,_=addPointerEvent(i,"pointerdown",nt=>{const{drag:it,dragListener:ot=!0}=this.getProps();it&&ot&&this.start(nt)}),$=()=>{const{dragConstraints:nt}=this.getProps();isRefObject(nt)&&nt.current&&(this.constraints=this.resolveRefConstraints())},{projection:j}=this.visualElement,_e=j.addEventListener("measure",$);j&&!j.layout&&(j.root&&j.root.updateScroll(),j.updateLayout()),frame.read($);const tt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),rt=j.addEventListener("didUpdate",({delta:nt,hasLayoutChanged:it})=>{this.isDragging&&it&&(eachAxis(ot=>{const lt=this.getAxisMotionValue(ot);lt&&(this.originPoint[ot]+=nt[ot].translate,lt.set(lt.get()+nt[ot].translate))}),this.visualElement.render())});return()=>{tt(),_(),_e(),rt&&rt()}}getProps(){const i=this.visualElement.getProps(),{drag:_=!1,dragDirectionLock:$=!1,dragPropagation:j=!1,dragConstraints:_e=!1,dragElastic:tt=defaultElastic,dragMomentum:rt=!0}=i;return{...i,drag:_,dragDirectionLock:$,dragPropagation:j,dragConstraints:_e,dragElastic:tt,dragMomentum:rt}}}function shouldDrag(o,i,_){return(i===!0||i===o)&&(_===null||_===o)}function getCurrentDirection(o,i=10){let _=null;return Math.abs(o.y)>i?_="y":Math.abs(o.x)>i&&(_="x"),_}class DragGesture extends Feature{constructor(i){super(i),this.removeGroupControls=noop$4,this.removeListeners=noop$4,this.controls=new VisualElementDragControls(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$4}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=o=>(i,_)=>{o&&frame.postRender(()=>o(i,_))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$4}onPointerDown(i){this.session=new PanSession(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:_,onPan:$,onPanEnd:j}=this.node.getProps();return{onSessionStart:asyncHandler(i),onStart:asyncHandler(_),onMove:$,onEnd:(_e,tt)=>{delete this.session,j&&frame.postRender(()=>j(_e,tt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:i,layoutGroup:_,switchLayoutGroup:$,layoutId:j}=this.props,{projection:_e}=i;_e&&(_.group&&_.group.add(_e),$&&$.register&&j&&$.register(_e),hasTakenAnySnapshot&&_e.root.didUpdate(),_e.addEventListener("animationComplete",()=>{this.safeToRemove()}),_e.setOptions({..._e.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:_,visualElement:$,drag:j,isPresent:_e}=this.props,{projection:tt}=$;return tt&&(tt.isPresent=_e,hasTakenAnySnapshot=!0,j||i.layoutDependency!==_||_===void 0||i.isPresent!==_e?tt.willUpdate():this.safeToRemove(),i.isPresent!==_e&&(_e?tt.promote():tt.relegate()||frame.postRender(()=>{const rt=tt.getStack();(!rt||!rt.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),microtask.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:_,switchLayoutGroup:$}=this.props,{projection:j}=i;hasTakenAnySnapshot=!0,j&&(j.scheduleCheckAfterUnmount(),_&&_.group&&_.group.remove(j),$&&$.deregister&&$.deregister(j))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function MeasureLayout(o){const[i,_]=usePresence(),$=reactExports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...o,layoutGroup:$,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:i,safeToRemove:_})}function animateSingleValue(o,i,_){const $=isMotionValue(o)?o:motionValue(o);return $.start(animateMotionValue("",$,i,_)),$.animation}const compareByDepth=(o,i)=>o.depth-i.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(i){addUniqueItem(this.children,i),this.isDirty=!0}remove(i){removeItem(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(i)}}function delay(o,i){const _=time$1.now(),$=({timestamp:j})=>{const _e=j-_;_e>=i&&(cancelFrame($),o(_e-i))};return frame.setup($,!0),()=>cancelFrame($)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=o=>typeof o=="string"?parseFloat(o):o,isPx=o=>typeof o=="number"||px.test(o);function mixValues(o,i,_,$,j,_e){j?(o.opacity=mixNumber$1(0,_.opacity??1,easeCrossfadeIn($)),o.opacityExit=mixNumber$1(i.opacity??1,0,easeCrossfadeOut($))):_e&&(o.opacity=mixNumber$1(i.opacity??1,_.opacity??1,$));for(let tt=0;tt<numBorders;tt++){const rt=`border${borders[tt]}Radius`;let nt=getRadius(i,rt),it=getRadius(_,rt);if(nt===void 0&&it===void 0)continue;nt||(nt=0),it||(it=0),nt===0||it===0||isPx(nt)===isPx(it)?(o[rt]=Math.max(mixNumber$1(asNumber(nt),asNumber(it),$),0),(percent.test(it)||percent.test(nt))&&(o[rt]+="%")):o[rt]=it}(i.rotate||_.rotate)&&(o.rotate=mixNumber$1(i.rotate||0,_.rotate||0,$))}function getRadius(o,i){return o[i]!==void 0?o[i]:o.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$4);function compress(o,i,_){return $=>$<o?0:$>i?1:_(progress(o,i,$))}function copyAxisInto(o,i){o.min=i.min,o.max=i.max}function copyBoxInto(o,i){copyAxisInto(o.x,i.x),copyAxisInto(o.y,i.y)}function copyAxisDeltaInto(o,i){o.translate=i.translate,o.scale=i.scale,o.originPoint=i.originPoint,o.origin=i.origin}function removePointDelta(o,i,_,$,j){return o-=i,o=scalePoint(o,1/_,$),j!==void 0&&(o=scalePoint(o,1/j,$)),o}function removeAxisDelta(o,i=0,_=1,$=.5,j,_e=o,tt=o){if(percent.test(i)&&(i=parseFloat(i),i=mixNumber$1(tt.min,tt.max,i/100)-tt.min),typeof i!="number")return;let rt=mixNumber$1(_e.min,_e.max,$);o===_e&&(rt-=i),o.min=removePointDelta(o.min,i,_,rt,j),o.max=removePointDelta(o.max,i,_,rt,j)}function removeAxisTransforms(o,i,[_,$,j],_e,tt){removeAxisDelta(o,i[_],i[$],i[j],i.scale,_e,tt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(o,i,_,$){removeAxisTransforms(o.x,i,xKeys,_?_.x:void 0,$?$.x:void 0),removeAxisTransforms(o.y,i,yKeys,_?_.y:void 0,$?$.y:void 0)}function isAxisDeltaZero(o){return o.translate===0&&o.scale===1}function isDeltaZero(o){return isAxisDeltaZero(o.x)&&isAxisDeltaZero(o.y)}function axisEquals(o,i){return o.min===i.min&&o.max===i.max}function boxEquals(o,i){return axisEquals(o.x,i.x)&&axisEquals(o.y,i.y)}function axisEqualsRounded(o,i){return Math.round(o.min)===Math.round(i.min)&&Math.round(o.max)===Math.round(i.max)}function boxEqualsRounded(o,i){return axisEqualsRounded(o.x,i.x)&&axisEqualsRounded(o.y,i.y)}function aspectRatio(o){return calcLength(o.x)/calcLength(o.y)}function axisDeltaEquals(o,i){return o.translate===i.translate&&o.scale===i.scale&&o.originPoint===i.originPoint}class NodeStack{constructor(){this.members=[]}add(i){addUniqueItem(this.members,i),i.scheduleRender()}remove(i){if(removeItem(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const _=this.members[this.members.length-1];_&&this.promote(_)}}relegate(i){const _=this.members.findIndex(j=>i===j);if(_===0)return!1;let $;for(let j=_;j>=0;j--){const _e=this.members[j];if(_e.isPresent!==!1){$=_e;break}}return $?(this.promote($),!0):!1}promote(i,_){const $=this.lead;if(i!==$&&(this.prevLead=$,this.lead=i,i.show(),$)){$.instance&&$.scheduleRender(),i.scheduleRender(),i.resumeFrom=$,_&&(i.resumeFrom.preserveOpacity=!0),$.snapshot&&(i.snapshot=$.snapshot,i.snapshot.latestValues=$.animationValues||$.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:j}=i.options;j===!1&&$.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:_,resumingFrom:$}=i;_.onExitComplete&&_.onExitComplete(),$&&$.options.onExitComplete&&$.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(o,i,_){let $="";const j=o.x.translate/i.x,_e=o.y.translate/i.y,tt=(_==null?void 0:_.z)||0;if((j||_e||tt)&&($=`translate3d(${j}px, ${_e}px, ${tt}px) `),(i.x!==1||i.y!==1)&&($+=`scale(${1/i.x}, ${1/i.y}) `),_){const{transformPerspective:it,rotate:ot,rotateX:lt,rotateY:ft,skewX:_t,skewY:At}=_;it&&($=`perspective(${it}px) ${$}`),ot&&($+=`rotate(${ot}deg) `),lt&&($+=`rotateX(${lt}deg) `),ft&&($+=`rotateY(${ft}deg) `),_t&&($+=`skewX(${_t}deg) `),At&&($+=`skewY(${At}deg) `)}const rt=o.x.scale*i.x,nt=o.y.scale*i.y;return(rt!==1||nt!==1)&&($+=`scale(${rt}, ${nt})`),$||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(o,i,_,$){const{latestValues:j}=i;j[o]&&(_[o]=j[o],i.setStaticValue(o,0),$&&($[o]=0))}function cancelTreeOptimisedTransformAnimations(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:i}=o.options;if(!i)return;const _=getOptimisedAppearId(i);if(window.MotionHasOptimisedAnimation(_,"transform")){const{layout:j,layoutId:_e}=o.options;window.MotionCancelOptimisedAnimation(_,"transform",frame,!(j||_e))}const{parent:$}=o;$&&!$.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations($)}function createProjectionNode({attachResizeListener:o,defaultParent:i,measureScroll:_,checkIsScrollRoot:$,resetTransform:j}){return class{constructor(tt={},rt=i==null?void 0:i()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=tt,this.root=rt?rt.root||rt:this,this.path=rt?[...rt.path,rt]:[],this.parent=rt,this.depth=rt?rt.depth+1:0;for(let nt=0;nt<this.path.length;nt++)this.path[nt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(tt,rt){return this.eventHandlers.has(tt)||this.eventHandlers.set(tt,new SubscriptionManager),this.eventHandlers.get(tt).add(rt)}notifyListeners(tt,...rt){const nt=this.eventHandlers.get(tt);nt&&nt.notify(...rt)}hasListeners(tt){return this.eventHandlers.has(tt)}mount(tt){if(this.instance)return;this.isSVG=isSVGElement(tt)&&!isSVGSVGElement(tt),this.instance=tt;const{layoutId:rt,layout:nt,visualElement:it}=this.options;if(it&&!it.current&&it.mount(tt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(nt||rt)&&(this.isLayoutDirty=!0),o){let ot,lt=0;const ft=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{lt=window.innerWidth}),o(tt,()=>{const _t=window.innerWidth;_t!==lt&&(lt=_t,this.root.updateBlockedByResize=!0,ot&&ot(),ot=delay(ft,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}rt&&this.root.registerSharedNode(rt,this),this.options.animate!==!1&&it&&(rt||nt)&&this.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:lt,hasRelativeLayoutChanged:ft,layout:_t})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const At=this.options.transition||it.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Tt,onLayoutAnimationComplete:Mt}=it.getProps(),pt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,_t),Pt=!lt&&ft;if(this.options.layoutRoot||this.resumeFrom||Pt||lt&&(pt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $t={...getValueTransition(At,"layout"),onPlay:Tt,onComplete:Mt};(it.shouldReduceMotion||this.options.layoutRoot)&&($t.delay=0,$t.type=!1),this.startAnimation($t),this.setAnimationOrigin(ot,Pt)}else lt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_t})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const tt=this.getStack();tt&&tt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:tt}=this.options;return tt&&tt.getProps().transformTemplate}willUpdate(tt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ot=0;ot<this.path.length;ot++){const lt=this.path[ot];lt.shouldResetTransform=!0,lt.updateScroll("snapshot"),lt.options.layoutRoot&&lt.willUpdate(!1)}const{layoutId:rt,layout:nt}=this.options;if(rt===void 0&&!nt)return;const it=this.getTransformTemplate();this.prevTransformTemplateValue=it?it(this.latestValues,""):void 0,this.updateSnapshot(),tt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const rt=time$1.now();frameData.delta=clamp(0,1e3/60,rt-frameData.timestamp),frameData.timestamp=rt,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let nt=0;nt<this.path.length;nt++)this.path[nt].updateScroll();const tt=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:rt}=this.options;rt&&rt.notify("LayoutMeasure",this.layout.layoutBox,tt?tt.layoutBox:void 0)}updateScroll(tt="measure"){let rt=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===tt&&(rt=!1),rt&&this.instance){const nt=$(this.instance);this.scroll={animationId:this.root.animationId,phase:tt,isRoot:nt,offset:_(this.instance),wasRoot:this.scroll?this.scroll.isRoot:nt}}}resetTransform(){if(!j)return;const tt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,rt=this.projectionDelta&&!isDeltaZero(this.projectionDelta),nt=this.getTransformTemplate(),it=nt?nt(this.latestValues,""):void 0,ot=it!==this.prevTransformTemplateValue;tt&&this.instance&&(rt||hasTransform(this.latestValues)||ot)&&(j(this.instance,it),this.shouldResetTransform=!1,this.scheduleRender())}measure(tt=!0){const rt=this.measurePageBox();let nt=this.removeElementScroll(rt);return tt&&(nt=this.removeTransform(nt)),roundBox(nt),{animationId:this.root.animationId,measuredBox:rt,layoutBox:nt,latestValues:{},source:this.id}}measurePageBox(){var it;const{visualElement:tt}=this.options;if(!tt)return createBox();const rt=tt.measureViewportBox();if(!(((it=this.scroll)==null?void 0:it.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:ot}=this.root;ot&&(translateAxis(rt.x,ot.offset.x),translateAxis(rt.y,ot.offset.y))}return rt}removeElementScroll(tt){var nt;const rt=createBox();if(copyBoxInto(rt,tt),(nt=this.scroll)!=null&&nt.wasRoot)return rt;for(let it=0;it<this.path.length;it++){const ot=this.path[it],{scroll:lt,options:ft}=ot;ot!==this.root&&lt&&ft.layoutScroll&&(lt.wasRoot&&copyBoxInto(rt,tt),translateAxis(rt.x,lt.offset.x),translateAxis(rt.y,lt.offset.y))}return rt}applyTransform(tt,rt=!1){const nt=createBox();copyBoxInto(nt,tt);for(let it=0;it<this.path.length;it++){const ot=this.path[it];!rt&&ot.options.layoutScroll&&ot.scroll&&ot!==ot.root&&transformBox(nt,{x:-ot.scroll.offset.x,y:-ot.scroll.offset.y}),hasTransform(ot.latestValues)&&transformBox(nt,ot.latestValues)}return hasTransform(this.latestValues)&&transformBox(nt,this.latestValues),nt}removeTransform(tt){const rt=createBox();copyBoxInto(rt,tt);for(let nt=0;nt<this.path.length;nt++){const it=this.path[nt];if(!it.instance||!hasTransform(it.latestValues))continue;hasScale(it.latestValues)&&it.updateSnapshot();const ot=createBox(),lt=it.measurePageBox();copyBoxInto(ot,lt),removeBoxTransforms(rt,it.latestValues,it.snapshot?it.snapshot.layoutBox:void 0,ot)}return hasTransform(this.latestValues)&&removeBoxTransforms(rt,this.latestValues),rt}setTargetDelta(tt){this.targetDelta=tt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(tt){this.options={...this.options,...tt,crossfade:tt.crossfade!==void 0?tt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(tt=!1){var _t;const rt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=rt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=rt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=rt.isSharedProjectionDirty);const nt=!!this.resumingFrom||this!==rt;if(!(tt||nt&&this.isSharedProjectionDirty||this.isProjectionDirty||(_t=this.parent)!=null&&_t.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ot,layoutId:lt}=this.options;if(!this.layout||!(ot||lt))return;this.resolvedRelativeTargetAt=frameData.timestamp;const ft=this.getClosestProjectingParent();ft&&this.linkedParentVersion!==ft.layoutVersion&&!ft.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(ft&&ft.layout?this.createRelativeTarget(ft,this.layout.layoutBox,ft.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,ft&&!!ft.resumingFrom==!!this.resumingFrom&&!ft.options.layoutScroll&&ft.target&&this.animationProgress!==1?this.createRelativeTarget(ft,this.target,ft.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(tt,rt,nt){this.relativeParent=tt,this.linkedParentVersion=tt.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,rt,nt),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var At;const tt=this.getLead(),rt=!!this.resumingFrom||this!==tt;let nt=!0;if((this.isProjectionDirty||(At=this.parent)!=null&&At.isProjectionDirty)&&(nt=!1),rt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(nt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(nt=!1),nt)return;const{layout:it,layoutId:ot}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(it||ot))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const lt=this.treeScale.x,ft=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,rt),tt.layout&&!tt.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(tt.target=tt.layout.layoutBox,tt.targetWithTransforms=createBox());const{target:_t}=tt;if(!_t){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,_t,this.latestValues),(this.treeScale.x!==lt||this.treeScale.y!==ft||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_t))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(tt=!0){var rt;if((rt=this.options.visualElement)==null||rt.scheduleRender(),tt){const nt=this.getStack();nt&&nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(tt,rt=!1){const nt=this.snapshot,it=nt?nt.latestValues:{},ot={...this.latestValues},lt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!rt;const ft=createBox(),_t=nt?nt.source:void 0,At=this.layout?this.layout.source:void 0,Tt=_t!==At,Mt=this.getStack(),pt=!Mt||Mt.members.length<=1,Pt=!!(Tt&&!pt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let $t;this.mixTargetDelta=Ot=>{const It=Ot/1e3;mixAxisDelta(lt.x,tt.x,It),mixAxisDelta(lt.y,tt.y,It),this.setTargetDelta(lt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ft,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ft,It),$t&&boxEquals(this.relativeTarget,$t)&&(this.isProjectionDirty=!1),$t||($t=createBox()),copyBoxInto($t,this.relativeTarget)),Tt&&(this.animationValues=ot,mixValues(ot,it,this.latestValues,It,Pt,pt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=It},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(tt){var rt,nt,it;this.notifyListeners("animationStart"),(rt=this.currentAnimation)==null||rt.stop(),(it=(nt=this.resumingFrom)==null?void 0:nt.currentAnimation)==null||it.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...tt,velocity:0,isSync:!0,onUpdate:ot=>{this.mixTargetDelta(ot),tt.onUpdate&&tt.onUpdate(ot)},onStop:()=>{},onComplete:()=>{tt.onComplete&&tt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const tt=this.getStack();tt&&tt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const tt=this.getLead();let{targetWithTransforms:rt,target:nt,layout:it,latestValues:ot}=tt;if(!(!rt||!nt||!it)){if(this!==tt&&this.layout&&it&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,it.layoutBox)){nt=this.target||createBox();const lt=calcLength(this.layout.layoutBox.x);nt.x.min=tt.target.x.min,nt.x.max=nt.x.min+lt;const ft=calcLength(this.layout.layoutBox.y);nt.y.min=tt.target.y.min,nt.y.max=nt.y.min+ft}copyBoxInto(rt,nt),transformBox(rt,ot),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,rt,ot)}}registerSharedNode(tt,rt){this.sharedNodes.has(tt)||this.sharedNodes.set(tt,new NodeStack),this.sharedNodes.get(tt).add(rt);const it=rt.options.initialPromotionConfig;rt.promote({transition:it?it.transition:void 0,preserveFollowOpacity:it&&it.shouldPreserveFollowOpacity?it.shouldPreserveFollowOpacity(rt):void 0})}isLead(){const tt=this.getStack();return tt?tt.lead===this:!0}getLead(){var rt;const{layoutId:tt}=this.options;return tt?((rt=this.getStack())==null?void 0:rt.lead)||this:this}getPrevLead(){var rt;const{layoutId:tt}=this.options;return tt?(rt=this.getStack())==null?void 0:rt.prevLead:void 0}getStack(){const{layoutId:tt}=this.options;if(tt)return this.root.sharedNodes.get(tt)}promote({needsReset:tt,transition:rt,preserveFollowOpacity:nt}={}){const it=this.getStack();it&&it.promote(this,nt),tt&&(this.projectionDelta=void 0,this.needsReset=!0),rt&&this.setOptions({transition:rt})}relegate(){const tt=this.getStack();return tt?tt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:tt}=this.options;if(!tt)return;let rt=!1;const{latestValues:nt}=tt;if((nt.z||nt.rotate||nt.rotateX||nt.rotateY||nt.rotateZ||nt.skewX||nt.skewY)&&(rt=!0),!rt)return;const it={};nt.z&&resetDistortingTransform("z",tt,it,this.animationValues);for(let ot=0;ot<transformAxes.length;ot++)resetDistortingTransform(`rotate${transformAxes[ot]}`,tt,it,this.animationValues),resetDistortingTransform(`skew${transformAxes[ot]}`,tt,it,this.animationValues);tt.render();for(const ot in it)tt.setStaticValue(ot,it[ot]),this.animationValues&&(this.animationValues[ot]=it[ot]);tt.scheduleRender()}applyProjectionStyles(tt,rt){if(!this.instance||this.isSVG)return;if(!this.isVisible){tt.visibility="hidden";return}const nt=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,tt.visibility="",tt.opacity="",tt.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"",tt.transform=nt?nt(this.latestValues,""):"none";return}const it=this.getLead();if(!this.projectionDelta||!this.layout||!it.target){this.options.layoutId&&(tt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,tt.pointerEvents=resolveMotionValue(rt==null?void 0:rt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(tt.transform=nt?nt({},""):"none",this.hasProjected=!1);return}tt.visibility="";const ot=it.animationValues||it.latestValues;this.applyTransformsToTarget();let lt=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ot);nt&&(lt=nt(ot,lt)),tt.transform=lt;const{x:ft,y:_t}=this.projectionDelta;tt.transformOrigin=`${ft.origin*100}% ${_t.origin*100}% 0`,it.animationValues?tt.opacity=it===this?ot.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:ot.opacityExit:tt.opacity=it===this?ot.opacity!==void 0?ot.opacity:"":ot.opacityExit!==void 0?ot.opacityExit:0;for(const At in scaleCorrectors){if(ot[At]===void 0)continue;const{correct:Tt,applyTo:Mt,isCSSVariable:pt}=scaleCorrectors[At],Pt=lt==="none"?ot[At]:Tt(ot[At],it);if(Mt){const $t=Mt.length;for(let Ot=0;Ot<$t;Ot++)tt[Mt[Ot]]=Pt}else pt?this.options.visualElement.renderState.vars[At]=Pt:tt[At]=Pt}this.options.layoutId&&(tt.pointerEvents=it===this?resolveMotionValue(rt==null?void 0:rt.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(tt=>{var rt;return(rt=tt.currentAnimation)==null?void 0:rt.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(o){o.updateLayout()}function notifyLayoutUpdate(o){var _;const i=((_=o.resumeFrom)==null?void 0:_.snapshot)||o.snapshot;if(o.isLead()&&o.layout&&i&&o.hasListeners("didUpdate")){const{layoutBox:$,measuredBox:j}=o.layout,{animationType:_e}=o.options,tt=i.source!==o.layout.source;_e==="size"?eachAxis(lt=>{const ft=tt?i.measuredBox[lt]:i.layoutBox[lt],_t=calcLength(ft);ft.min=$[lt].min,ft.max=ft.min+_t}):shouldAnimatePositionOnly(_e,i.layoutBox,$)&&eachAxis(lt=>{const ft=tt?i.measuredBox[lt]:i.layoutBox[lt],_t=calcLength($[lt]);ft.max=ft.min+_t,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[lt].max=o.relativeTarget[lt].min+_t)});const rt=createDelta();calcBoxDelta(rt,$,i.layoutBox);const nt=createDelta();tt?calcBoxDelta(nt,o.applyTransform(j,!0),i.measuredBox):calcBoxDelta(nt,$,i.layoutBox);const it=!isDeltaZero(rt);let ot=!1;if(!o.resumeFrom){const lt=o.getClosestProjectingParent();if(lt&&!lt.resumeFrom){const{snapshot:ft,layout:_t}=lt;if(ft&&_t){const At=createBox();calcRelativePosition(At,i.layoutBox,ft.layoutBox);const Tt=createBox();calcRelativePosition(Tt,$,_t.layoutBox),boxEqualsRounded(At,Tt)||(ot=!0),lt.options.layoutRoot&&(o.relativeTarget=Tt,o.relativeTargetOrigin=At,o.relativeParent=lt)}}}o.notifyListeners("didUpdate",{layout:$,snapshot:i,delta:nt,layoutDelta:rt,hasLayoutChanged:it,hasRelativeLayoutChanged:ot})}else if(o.isLead()){const{onExitComplete:$}=o.options;$&&$()}o.options.transition=void 0}function propagateDirtyNodes(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function cleanDirtyNodes(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function clearSnapshot(o){o.clearSnapshot()}function clearMeasurements(o){o.clearMeasurements()}function clearIsLayoutDirty(o){o.isLayoutDirty=!1}function resetTransformStyle(o){const{visualElement:i}=o.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),o.resetTransform()}function finishAnimation(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function resolveTargetDelta(o){o.resolveTargetDelta()}function calcProjection(o){o.calcProjection()}function resetSkewAndRotation(o){o.resetSkewAndRotation()}function removeLeadSnapshots(o){o.removeLeadSnapshot()}function mixAxisDelta(o,i,_){o.translate=mixNumber$1(i.translate,0,_),o.scale=mixNumber$1(i.scale,1,_),o.origin=i.origin,o.originPoint=i.originPoint}function mixAxis(o,i,_,$){o.min=mixNumber$1(i.min,_.min,$),o.max=mixNumber$1(i.max,_.max,$)}function mixBox(o,i,_,$){mixAxis(o.x,i.x,_.x,$),mixAxis(o.y,i.y,_.y,$)}function hasOpacityCrossfade(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$4;function roundAxis(o){o.min=roundPoint(o.min),o.max=roundPoint(o.max)}function roundBox(o){roundAxis(o.x),roundAxis(o.y)}function shouldAnimatePositionOnly(o,i,_){return o==="position"||o==="preserve-aspect"&&!isNear(aspectRatio(i),aspectRatio(_),.2)}function checkNodeWasScrollRoot(o){var i;return o!==o.root&&((i=o.scroll)==null?void 0:i.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(o,i)=>addDomEvent(o,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const o=new DocumentProjectionNode({});o.mount(window),o.setOptions({layoutScroll:!0}),rootProjectionNode.current=o}return rootProjectionNode.current},resetTransform:(o,i)=>{o.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(o,i,_){const{props:$}=o;o.animationState&&$.whileHover&&o.animationState.setActive("whileHover",_==="Start");const j="onHover"+_,_e=$[j];_e&&frame.postRender(()=>_e(i,extractEventInfo(i)))}class HoverGesture extends Feature{mount(){const{current:i}=this.node;i&&(this.unmount=hover(i,(_,$)=>(handleHoverEvent(this.node,$,"Start"),j=>handleHoverEvent(this.node,j,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(o,i,_){const{props:$}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&$.whileTap&&o.animationState.setActive("whileTap",_==="Start");const j="onTap"+(_==="End"?"":_),_e=$[j];_e&&frame.postRender(()=>_e(i,extractEventInfo(i)))}class PressGesture extends Feature{mount(){const{current:i}=this.node;i&&(this.unmount=press(i,(_,$)=>(handlePressEvent(this.node,$,"Start"),(j,{success:_e})=>handlePressEvent(this.node,j,_e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=o=>{const i=observerCallbacks.get(o.target);i&&i(o)},fireAllObserverCallbacks=o=>{o.forEach(fireObserverCallback)};function initIntersectionObserver({root:o,...i}){const _=o||document;observers.has(_)||observers.set(_,{});const $=observers.get(_),j=JSON.stringify(i);return $[j]||($[j]=new IntersectionObserver(fireAllObserverCallbacks,{root:o,...i})),$[j]}function observeIntersection(o,i,_){const $=initIntersectionObserver(i);return observerCallbacks.set(o,_),$.observe(o),()=>{observerCallbacks.delete(o),$.unobserve(o)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:_,margin:$,amount:j="some",once:_e}=i,tt={root:_?_.current:void 0,rootMargin:$,threshold:typeof j=="number"?j:thresholdNames[j]},rt=nt=>{const{isIntersecting:it}=nt;if(this.isInView===it||(this.isInView=it,_e&&!it&&this.hasEnteredView))return;it&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",it);const{onViewportEnter:ot,onViewportLeave:lt}=this.node.getProps(),ft=it?ot:lt;ft&&ft(nt)};return observeIntersection(this.node.current,tt,rt)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:_}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(i,_))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:o={}},{viewport:i={}}={}){return _=>o[_]!==i[_]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);function RewardModal({isOpen:o,onClose:i,reward:_,member:$}){const{t:j}=useTranslation();return _?jsx(AnimatePresence,{children:o&&jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:i}),jsx(motion.div,{initial:{scale:.5,opacity:0,rotateY:90},animate:{scale:1,opacity:1,rotateY:0},exit:{scale:.5,opacity:0,rotateY:-90},transition:{type:"spring",damping:15},className:"relative bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-1 max-w-sm w-full shadow-2xl overflow-hidden border border-white/10",children:jsxs("div",{className:"relative bg-slate-900/90 rounded-[22px] p-6 text-center backdrop-blur-xl",children:[jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/10 text-slate-400 hover:text-white transition-colors",children:jsx(X,{size:20})}),jsx(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:jsxs("div",{className:"inline-flex items-center space-x-2 mb-4 bg-white/5 rounded-full px-4 py-1",children:[jsx(Sparkles,{className:"w-4 h-4 text-yellow-400"}),jsx("span",{className:"text-sm font-medium text-yellow-100",children:j("reward_title",{name:$.name})})]})}),jsx(motion.div,{className:"relative aspect-[3/4] rounded-xl overflow-hidden mb-6 border-4 border-white/10 shadow-2xl group",initial:{rotateY:180},animate:{rotateY:0},transition:{duration:.8,type:"spring"},children:jsx("img",{src:_,alt:"Reward",className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})}),jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full py-3 rounded-xl bg-gradient-to-r from-wayv-green to-wayv-green-dark text-white font-bold shadow-lg shadow-wayv-green/20 flex items-center justify-center space-x-2",onClick:()=>{const _e=document.createElement("a");_e.href=_,_e.download=`WayV-${$.nameEn}-Reward.jpg`,_e.click()},children:[jsx(Download,{size:18}),jsx("span",{children:j("save_reward")})]})]})})]})}):null}const rewardImages={kun:["cards/KUN_Bigbands.jpg","cards/KUN_Frequency.jpg","cards/KUN_GoHigher.jpg","cards/KUN_OnMyYouth.jpg","cards/KUN_SheAWolf.jpg","cards/KUN_.jpg"],ten:["cards/TEN_Bigbands.jpg","cards/TEN_Frequency.jpg","cards/TEN_GoHigher.jpg","cards/TEN_OnMyYouth.jpg","cards/TEN_SheAWolf.jpg","cards/TEN_.jpg"],xiaojun:["cards/XIAOJUN_Bigbands.jpg","cards/XIAOJUN_Frequency.jpg","cards/XIAOJUN_GoHigher.jpg","cards/XIAOJUN_OnMyYouth.jpg","cards/XIAOJUN_SheAWolf.jpg","cards/XIAOJUN_.jpg"],hendery:["cards/HENDERY_Bigbands.jpg","cards/HENDERY_Frequency.jpg","cards/HENDERY_GoHigher.jpg","cards/HENDERY_OnMyYouth.jpg","cards/HENDERY_SheAWolf.jpg","cards/HENDERY_.jpg"],yangyang:["cards/YANGYANG_Bigbands.jpg","cards/YANGYANG_Frequency.jpg","cards/YANGYANG_GoHigher.jpg","cards/YANGYANG_OnMyYouth.jpg","cards/YANGYANG_SheAWolf.jpg","cards/YANGYANG_.jpg"]},getRandomReward=o=>{const i=rewardImages[o];if(!i||i.length===0)return null;const _=Math.floor(Math.random()*i.length);return i[_]};function Timer({member:o}){const{t:i}=useTranslation(),{preferences:_,setPreferences:$,isTimerRunning:j,timeLeft:_e,isBreakTime:tt,studyDuration:rt,breakDuration:nt,timerMemberId:it,setTimerState:ot,currentSessionStartTime:lt,setCurrentSessionStartTime:ft,addSession:_t,updateStats:At}=useAppStore(),[Tt,Mt]=reactExports.useState(!1),[pt,Pt]=reactExports.useState(!1),[$t,Ot]=reactExports.useState(!1),[It,Dt]=reactExports.useState(25),[Lt,Bt]=reactExports.useState(5),[jt,Ut]=reactExports.useState(!1),[Gt,qt]=reactExports.useState(null),Jt=reactExports.useRef(null),er=reactExports.useRef(null),Kt=rt*60,zt=nt*60;reactExports.useEffect(()=>{requestNotificationPermission().then(Mt),!j&&_e===0&&ot({timeLeft:Kt,isTimerRunning:!1,isBreakTime:!1,studyDuration:rt,breakDuration:nt,timerMemberId:o.id});const nr=()=>{ft(null),Pt(!1),ot({isTimerRunning:!1,timeLeft:tt?zt:Kt,isBreakTime:!1,timerMemberId:o.id})};return window.addEventListener("resetTimer",nr),()=>{window.removeEventListener("resetTimer",nr)}},[rt,nt,o.id]),reactExports.useEffect(()=>{const nr=cr=>{if(cr.detail.memberId===o.id){const vr=getRandomReward(o.id);vr&&(qt(vr),Ut(!0));const Tr=document.querySelector(".timer-display");Tr&&createParticles(Tr,o.color.replace("member-",""))}};return window.addEventListener("timerCompleted",nr),()=>{window.removeEventListener("timerCompleted",nr)}},[o.id,o.color]);const Ht=()=>{j?ot({isTimerRunning:!1}):(ot({isTimerRunning:!0,timerMemberId:o.id}),tt||(er.current=new Date,ft(Date.now())))},Ft=()=>{Jt.current&&clearInterval(Jt.current),ft(null),Pt(!1),ot({isTimerRunning:!1,timeLeft:tt?zt:Kt,isBreakTime:!1,timerMemberId:o.id})},Vt=()=>{ot({studyDuration:It,breakDuration:Lt,timeLeft:It*60,isTimerRunning:!1,isBreakTime:!1}),Ot(!1),vt.success(i("custom_timer")+" "+i("saved"))},Yt=nr=>{const cr=Math.floor(nr/60),vr=nr%60;return`${cr.toString().length===1?"0"+cr:cr}:${vr.toString().length===1?"0"+vr:vr}`},Zt=tt?(zt-_e)/zt*100:(Kt-_e)/Kt*100;return jsxs("div",{className:"max-w-2xl mx-auto relative",children:[jsxs("div",{className:"rounded-3xl",children:[jsxs("div",{className:"text-center mb-8 relative",children:[jsx("button",{onClick:()=>{Dt(rt),Bt(nt),Ot(!0)},className:"absolute top-0 right-0 p-2 rounded-full hover:bg-white/10 text-slate-400 hover:text-white transition-colors z-10",title:i("custom_timer"),children:jsx(Settings,{size:20})}),jsxs("div",{className:"relative timer-display mt-8",children:[tt&&jsx("div",{className:"mb-6",children:jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-full mb-2",children:[jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),jsx("span",{className:"text-sm font-medium",children:i("timer_break")})]})}),!tt&&jsx("div",{className:"mb-4",children:jsxs("div",{className:`inline-flex items-center space-x-2 bg-gradient-to-r from-${o.color} to-${o.color}-dark text-white px-4 py-2 rounded-full`,children:[jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),jsx("span",{className:"text-sm font-medium",children:i("timer_focus")})]})}),jsx("div",{className:`text-6xl font-mono font-bold mb-4 text-glow drop-shadow-2xl ${tt?"text-blue-500":`text-${o.color}`}`,children:Yt(_e)}),jsx("div",{className:"w-64 h-2 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-4",children:jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${tt?"bg-gradient-to-r from-blue-500 to-purple-500":`bg-gradient-to-r from-${o.color} to-${o.color}-dark`}`,style:{width:`${Zt}%`}})}),jsx("div",{className:"text-lg text-white dark:text-white text-glow drop-shadow",children:i(tt?"timer_break":"timer_focus")})]})]}),$t&&jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:jsxs("div",{className:"bg-slate-800 p-6 rounded-2xl shadow-xl w-80 border border-slate-700",children:[jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsx("h3",{className:"text-lg font-bold text-white",children:i("custom_timer")}),jsx("button",{onClick:()=>Ot(!1),className:"text-slate-400 hover:text-white",children:jsx(X,{size:20})})]}),jsxs("div",{className:"space-y-4",children:[jsxs("div",{children:[jsx("label",{className:"block text-sm text-slate-400 mb-1",children:i("focus_duration")}),jsx("input",{type:"number",value:It,onChange:nr=>Dt(Number(nr.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white",min:"1"})]}),jsxs("div",{children:[jsx("label",{className:"block text-sm text-slate-400 mb-1",children:i("break_duration")}),jsx("input",{type:"number",value:Lt,onChange:nr=>Bt(Number(nr.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white",min:"1"})]}),jsx("button",{onClick:Vt,className:`w-full py-2 rounded-lg bg-gradient-to-r from-${o.color} to-${o.color}-dark text-white font-bold`,children:i("start")})]})]})}),jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[jsx("button",{onClick:Ht,disabled:tt&&!pt&&!j,className:`px-8 py-4 rounded-full font-semibold text-white transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl ${tt&&!pt&&!j?"bg-gray-400 cursor-not-allowed":`bg-gradient-to-r from-${o.color} to-${o.color}-dark`}`,children:j?jsxs("div",{className:"flex items-center space-x-2",children:[jsx(Pause,{className:"w-5 h-5"}),jsx("span",{children:i("pause")})]}):jsxs("div",{className:"flex items-center space-x-2",children:[jsx(Play,{className:"w-5 h-5"}),jsx("span",{children:i("start")})]})}),jsx("button",{onClick:Ft,className:"px-6 py-4 rounded-full font-semibold text-slate-700 dark:text-white bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-300",children:jsxs("div",{className:"flex items-center space-x-2",children:[jsx(RotateCcw,{className:"w-5 h-5"}),jsx("span",{children:i("reset")})]})})]}),jsxs("div",{className:"glass-card rounded-2xl p-6 mb-6",children:[jsx("h3",{className:"text-xl font-display font-semibold text-white dark:text-white mb-4 text-glow",children:i("settings_title")}),jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsx("div",{children:jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[jsx("button",{onClick:()=>$({soundEnabled:!_.soundEnabled}),className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:_.soundEnabled?jsx(Volume2,{className:`w-4 h-4 text-${o.color}`}):jsx(VolumeX,{className:"w-4 h-4 text-slate-400"})}),jsx("span",{children:i("sound_alert")})]})}),jsx("div",{children:jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[jsx("button",{onClick:()=>$({notificationsEnabled:!_.notificationsEnabled}),className:"p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:jsx(Bell,{className:`w-4 h-4 ${_.notificationsEnabled?`text-${o.color}`:"text-slate-400"}`})}),jsx("span",{children:i("desktop_notification")})]})})]})]}),jsx("div",{className:"text-center",children:jsxs("div",{className:"glass-card rounded-2xl p-6",children:[jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[jsx("div",{className:`w-3 h-3 rounded-full bg-${o.color}`}),jsx("span",{className:"text-sm font-medium text-white dark:text-white text-glow",children:i("study_with",{name:o.name})})]}),jsx("p",{className:"text-white dark:text-white text-glow drop-shadow",children:tt?i(pt?"continue_study":"take_break"):j?"Fighting!":i("start_study")})]})})]}),jsx(RewardModal,{isOpen:jt,onClose:()=>Ut(!1),reward:Gt,member:o})]})}const defaultMusicPlaylist={songs:[{title:"Kick Back",artist:"WayV"},{title:"Love Talk",artist:"WayV"},{title:"Turn Back Time",artist:"WayV"},{title:"Phantom",artist:"WayV"},{title:"Nectar",artist:"WayV"},{title:"Take Off",artist:"WayV"},{title:"Regular",artist:"WayV"},{title:"Come Back",artist:"WayV"},{title:"Action Figure",artist:"WayV"},{title:"Bad Alive",artist:"WayV"},{title:"Unbreakable",artist:"WayV"},{title:"After Midnight",artist:"WayV"},{title:"Miracle",artist:"WayV"},{title:"Go Higher",artist:"WayV"},{title:"Deep Ocean",artist:"WayV"},{title:"Moonwalk",artist:"WayV"},{title:"Your Song",artist:"WayV"},{title:"King of Hearts",artist:"WayV"},{title:"Face to Face",artist:"WayV"},{title:"Say It",artist:"WayV"}],dailyRecommendationCount:5,enableRandomSelection:!0};function loadSavedMusicConfig(){try{const o=localStorage.getItem("wayvMusicPlaylistConfig");if(o){const i=JSON.parse(o);return{...defaultMusicPlaylist,...i}}}catch(o){console.error(":",o)}return{...defaultMusicPlaylist}}function getSongLibrary(){return loadSavedMusicConfig().songs.map(i=>`${i.title} - ${i.artist}`)}function getDailyRecommendations(){const o=loadSavedMusicConfig(),i=getSongLibrary(),$=new Date().toDateString().split("").reduce((_e,tt)=>_e+tt.charCodeAt(0),0);return[...i].sort((_e,tt)=>{const rt=($+_e.charCodeAt(0))%100,nt=($+tt.charCodeAt(0))%100;return rt-nt}).slice(0,o.dailyRecommendationCount)}function SimpleMusicRecommendation({member:o}){const[i,_]=reactExports.useState([]),[$,j]=reactExports.useState("");reactExports.useEffect(()=>{const tt=getDailyRecommendations();_(tt),j(tt[0]||"")},[]);const _e=()=>{const tt=getSongLibrary(),rt=Math.floor(Math.random()*tt.length),nt=tt[rt];j(nt)};return jsxs("div",{className:"max-w-4xl mx-auto",children:[jsx("div",{className:"glass-card rounded-3xl shadow-2xl p-8 mb-8",children:jsxs("div",{className:"text-center",children:[jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${o.color} to-${o.color}-dark rounded-2xl flex items-center justify-center mx-auto mb-6`,children:jsx(Music,{className:"w-8 h-8 text-white"})}),jsxs("h2",{className:"text-3xl font-display font-semibold text-white dark:text-white mb-4 text-glow",children:[o.name," "]}),jsxs("div",{className:"glass-card rounded-2xl p-6 mb-6",children:[jsx("p",{className:"text-lg font-semibold text-white dark:text-white mb-2 text-glow",children:""}),jsx("p",{className:"text-xl font-bold text-white dark:text-white text-glow drop-shadow",children:$})]}),jsx("button",{onClick:_e,className:`px-6 py-3 rounded-full font-semibold text-white bg-gradient-to-r from-${o.color} to-${o.color}-dark hover:shadow-lg transition-all duration-300 hover:scale-105`,children:""})]})}),jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-8",children:[jsxs("div",{className:"flex items-center justify_between mb-6",children:[jsx("h3",{className:"text-2xl font-display font-semibold text-white dark:text-white text-glow",children:""}),jsxs("div",{className:`text-sm text-${o.color} font-medium`,children:[o.name," "]})]}),jsx("div",{className:"space-y-4",children:i.map((tt,rt)=>jsx("div",{className:`glass-card rounded-2xl p-4 cursor-pointer transition-all duration-300 hover:scale-[1.02] ${$===tt?`ring-2 ring-${o.color}`:""}`,onClick:()=>j(tt),children:jsxs("div",{className:"flex items-center space-x-4",children:[jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-${o.color}/20 to-${o.color}/10 rounded-xl flex items-center justify-center flex-shrink-0`,children:jsx(Music,{className:`w-6 h-6 text-${o.color}`})}),jsxs("div",{className:"flex-1 min-w-0",children:[jsx("h4",{className:"font-semibold text-white dark:text-white truncate text-glow",children:tt.split(" - ")[0]}),jsx("p",{className:"text-sm text-slate-200 dark:text-slate-300 truncate",children:tt.split(" - ")[1]||"WayV"})]}),$===tt&&jsx("div",{className:`w-2 h-2 rounded-full bg-${o.color} animate-pulse`})]})},rt))}),jsx("div",{className:"mt-8 text-center",children:jsxs("div",{className:"glass-card rounded-2xl p-6",children:[jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[jsx("div",{className:`w-3 h-3 rounded-full bg-${o.color}`}),jsxs("span",{className:"text-sm font-medium text-white dark:text-white text-glow",children:[o.name," "]})]}),jsx("p",{className:"text-white dark:text-white text-glow drop-shadow",children:$.includes("Love Talk")?"~":$.includes("Kick Back")?"":$.includes("Phantom")?"~":""})]})})]})]})}function r(o){var i,_,$="";if(typeof o=="string"||typeof o=="number")$+=o;else if(typeof o=="object")if(Array.isArray(o)){var j=o.length;for(i=0;i<j;i++)o[i]&&(_=r(o[i]))&&($&&($+=" "),$+=_)}else for(_ in o)o[_]&&($&&($+=" "),$+=_);return $}function clsx(){for(var o,i,_=0,$="",j=arguments.length;_<j;_++)(o=arguments[_])&&(i=r(o))&&($&&($+=" "),$+=i);return $}var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(o){var i=hasOwnProperty$a.call(o,symToStringTag$1),_=o[symToStringTag$1];try{o[symToStringTag$1]=void 0;var $=!0}catch{}var j=nativeObjectToString$1.call(o);return $&&(i?o[symToStringTag$1]=_:delete o[symToStringTag$1]),j}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(o){return nativeObjectToString.call(o)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(o){return o==null?o===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(o)?getRawTag(o):objectToString(o)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(o){return o!=null&&typeof o=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(o){return typeof o=="symbol"||isObjectLike$8(o)&&baseGetTag$8(o)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(o,i){if(isArray$e(o))return!1;var _=typeof o;return _=="number"||_=="symbol"||_=="boolean"||o==null||isSymbol$5(o)?!0:reIsPlainProp.test(o)||!reIsDeepProp.test(o)||i!=null&&o in Object(i)}var _isKey=isKey$3;function isObject$7(o){var i=typeof o;return o!=null&&(i=="object"||i=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(o){if(!isObject$6(o))return!1;var i=baseGetTag$7(o);return i==funcTag$1||i==genTag||i==asyncTag||i==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var o=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function isMasked$1(o){return!!maskSrcKey&&maskSrcKey in o}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(o){if(o!=null){try{return funcToString$2.call(o)}catch{}try{return o+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(o){if(!isObject$5(o)||isMasked(o))return!1;var i=isFunction$1(o)?reIsNative:reIsHostCtor;return i.test(toSource$1(o))}var _baseIsNative=baseIsNative$1;function getValue$1(o,i){return o==null?void 0:o[i]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(o,i){var _=getValue(o,i);return baseIsNative(_)?_:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(o){var i=this.has(o)&&delete this.__data__[o];return this.size-=i?1:0,i}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(o){var i=this.__data__;if(nativeCreate$2){var _=i[o];return _===HASH_UNDEFINED$2?void 0:_}return hasOwnProperty$8.call(i,o)?i[o]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(o){var i=this.__data__;return nativeCreate$1?i[o]!==void 0:hasOwnProperty$7.call(i,o)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(o,i){var _=this.__data__;return this.size+=this.has(o)?0:1,_[o]=nativeCreate&&i===void 0?HASH_UNDEFINED$1:i,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(o){var i=-1,_=o==null?0:o.length;for(this.clear();++i<_;){var $=o[i];this.set($[0],$[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(o,i){return o===i||o!==o&&i!==i}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(o,i){for(var _=o.length;_--;)if(eq$2(o[_][0],i))return _;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(o){var i=this.__data__,_=assocIndexOf$3(i,o);if(_<0)return!1;var $=i.length-1;return _==$?i.pop():splice.call(i,_,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(o){var i=this.__data__,_=assocIndexOf$2(i,o);return _<0?void 0:i[_][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(o){return assocIndexOf$1(this.__data__,o)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(o,i){var _=this.__data__,$=assocIndexOf(_,o);return $<0?(++this.size,_.push([o,i])):_[$][1]=i,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(o){var i=-1,_=o==null?0:o.length;for(this.clear();++i<_;){var $=o[i];this.set($[0],$[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(o){var i=typeof o;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(o,i){var _=o.__data__;return isKeyable(i)?_[typeof i=="string"?"string":"hash"]:_.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(o){var i=getMapData$3(this,o).delete(o);return this.size-=i?1:0,i}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(o){return getMapData$2(this,o).get(o)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(o){return getMapData$1(this,o).has(o)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(o,i){var _=getMapData(this,o),$=_.size;return _.set(o,i),this.size+=_.size==$?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(o){var i=-1,_=o==null?0:o.length;for(this.clear();++i<_;){var $=o[i];this.set($[0],$[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(o,i){if(typeof o!="function"||i!=null&&typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var _=function(){var $=arguments,j=i?i.apply(this,$):$[0],_e=_.cache;if(_e.has(j))return _e.get(j);var tt=o.apply(this,$);return _.cache=_e.set(j,tt)||_e,tt};return _.cache=new(memoize$2.Cache||MapCache$2),_}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(o){var i=memoize$1(o,function($){return _.size===MAX_MEMOIZE_SIZE&&_.clear(),$}),_=i.cache;return i}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(o){var i=[];return o.charCodeAt(0)===46&&i.push(""),o.replace(rePropName,function(_,$,j,_e){i.push(j?_e.replace(reEscapeChar,"$1"):$||_)}),i}),_stringToPath=stringToPath$1;function arrayMap$3(o,i){for(var _=-1,$=o==null?0:o.length,j=Array($);++_<$;)j[_]=i(o[_],_,o);return j}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(o){if(typeof o=="string")return o;if(isArray$d(o))return arrayMap$2(o,baseToString$1)+"";if(isSymbol$4(o))return symbolToString?symbolToString.call(o):"";var i=o+"";return i=="0"&&1/o==-INFINITY$3?"-0":i}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(o){return o==null?"":baseToString(o)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(o,i){return isArray$c(o)?o:isKey$2(o,i)?[o]:stringToPath(toString$2(o))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(o){if(typeof o=="string"||isSymbol$3(o))return o;var i=o+"";return i=="0"&&1/o==-INFINITY$2?"-0":i}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(o,i){i=castPath$1(i,o);for(var _=0,$=i.length;o!=null&&_<$;)o=o[toKey$3(i[_++])];return _&&_==$?o:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$2(o,i,_){var $=o==null?void 0:baseGet$2(o,i);return $===void 0?_:$}var get_1=get$2;const get$3=getDefaultExportFromCjs(get_1);function isNil(o){return o==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(o){return typeof o=="string"||!isArray$b(o)&&isObjectLike$7(o)&&baseGetTag$6(o)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case b:switch(o=o.type,o){case d:case f:case e:case m:case n:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case h:case l:case q:case p:case g:return o;default:return i}}case c$1:return i}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(o){return v(o)===h};reactIs_production_min.isContextProvider=function(o){return v(o)===g};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b};reactIs_production_min.isForwardRef=function(o){return v(o)===l};reactIs_production_min.isFragment=function(o){return v(o)===d};reactIs_production_min.isLazy=function(o){return v(o)===q};reactIs_production_min.isMemo=function(o){return v(o)===p};reactIs_production_min.isPortal=function(o){return v(o)===c$1};reactIs_production_min.isProfiler=function(o){return v(o)===f};reactIs_production_min.isStrictMode=function(o){return v(o)===e};reactIs_production_min.isSuspense=function(o){return v(o)===m};reactIs_production_min.isSuspenseList=function(o){return v(o)===n};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d||o===f||o===e||o===m||o===n||o===t||typeof o=="object"&&o!==null&&(o.$$typeof===q||o.$$typeof===p||o.$$typeof===g||o.$$typeof===h||o.$$typeof===l||o.$$typeof===u||o.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(o){return typeof o=="number"||isObjectLike$6(o)&&baseGetTag$5(o)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(o){return isNumber$1(o)&&o!=+o}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function o(i){return i===0?0:i>0?1:-1},isPercent=function o(i){return isString$1(i)&&i.indexOf("%")===i.length-1},isNumber=function o(i){return isNumber$3(i)&&!isNan(i)},isNullish=function o(i){return isNil$1(i)},isNumOrStr=function o(i){return isNumber(i)||isString$1(i)},idCounter=0,uniqueId=function o(i){var _=++idCounter;return"".concat(i||"").concat(_)},getPercentValue=function o(i,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(i)&&!isString$1(i))return $;var _e;if(isPercent(i)){var tt=i.indexOf("%");_e=_*parseFloat(i.slice(0,tt))/100}else _e=+i;return isNan(_e)&&(_e=$),j&&_e>_&&(_e=_),_e},getAnyElementOfObject=function o(i){if(!i)return null;var _=Object.keys(i);return _&&_.length?i[_[0]]:null},hasDuplicate=function o(i){if(!Array.isArray(i))return!1;for(var _=i.length,$={},j=0;j<_;j++)if(!$[i[j]])$[i[j]]=!0;else return!0;return!1},interpolateNumber$2=function o(i,_){return isNumber(i)&&isNumber(_)?function($){return i+$*(_-i)}:function(){return _}};function findEntryInArray(o,i,_){return!o||!o.length?null:o.find(function($){return $&&(typeof i=="function"?i($):get$3($,i))===_})}var compareValues=function o(i,_){return isNumber(i)&&isNumber(_)?i-_:isString$1(i)&&isString$1(_)?i.localeCompare(_):i instanceof Date&&_ instanceof Date?i.getTime()-_.getTime():String(i).localeCompare(String(_))};function shallowEqual(o,i){for(var _ in o)if({}.hasOwnProperty.call(o,_)&&(!{}.hasOwnProperty.call(i,_)||o[_]!==i[_]))return!1;for(var $ in i)if({}.hasOwnProperty.call(i,$)&&!{}.hasOwnProperty.call(o,$))return!1;return!0}function _typeof$J(o){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$J(o)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function o(i,_){if(!i||typeof i=="function"||typeof i=="boolean")return null;var $=i;if(reactExports.isValidElement(i)&&($=i.props),!isObject$8($))return null;var j={};return Object.keys($).forEach(function(_e){EventKeys.includes(_e)&&(j[_e]=_||function(tt){return $[_e]($,tt)})}),j},getEventHandlerOfChild=function o(i,_,$){return function(j){return i(_,$,j),null}},adaptEventsOfChild=function o(i,_,$){if(!isObject$8(i)||_typeof$J(i)!=="object")return null;var j=null;return Object.keys(i).forEach(function(_e){var tt=i[_e];EventKeys.includes(_e)&&typeof tt=="function"&&(j||(j={}),j[_e]=getEventHandlerOfChild(tt,_,$))}),j},_excluded$i=["children"],_excluded2$6=["children"];function _objectWithoutProperties$i(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$i(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$i(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function o(i){return typeof i=="string"?i:i?i.displayName||i.name||"Component":""},lastChildren=null,lastResult=null,toArray=function o(i){if(i===lastChildren&&Array.isArray(lastResult))return lastResult;var _=[];return reactExports.Children.forEach(i,function($){isNil$1($)||(reactIsExports.isFragment($)?_=_.concat(o($.props.children)):_.push($))}),lastResult=_,lastChildren=i,_};function findAllByType(o,i){var _=[],$=[];return Array.isArray(i)?$=i.map(function(j){return getDisplayName(j)}):$=[getDisplayName(i)],toArray(o).forEach(function(j){var _e=get$3(j,"type.displayName")||get$3(j,"type.name");$.indexOf(_e)!==-1&&_.push(j)}),_}function findChildByType(o,i){var _=findAllByType(o,i);return _&&_[0]}var validateWidthHeight=function o(i){if(!i||!i.props)return!1;var _=i.props,$=_.width,j=_.height;return!(!isNumber($)||$<=0||!isNumber(j)||j<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function o(i){return i&&i.type&&isString$1(i.type)&&SVG_TAGS.indexOf(i.type)>=0},isValidSpreadableProp=function o(i,_,$,j){var _e,tt=(_e=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[j])!==null&&_e!==void 0?_e:[];return _.startsWith("data-")||!isFunction$3(i)&&(j&&tt.includes(_)||SVGElementPropKeys.includes(_))||$&&EventKeys.includes(_)},filterProps=function o(i,_,$){if(!i||typeof i=="function"||typeof i=="boolean")return null;var j=i;if(reactExports.isValidElement(i)&&(j=i.props),!isObject$8(j))return null;var _e={};return Object.keys(j).forEach(function(tt){var rt;isValidSpreadableProp((rt=j)===null||rt===void 0?void 0:rt[tt],tt,_,$)&&(_e[tt]=j[tt])}),_e},isChildrenEqual=function o(i,_){if(i===_)return!0;var $=reactExports.Children.count(i);if($!==reactExports.Children.count(_))return!1;if($===0)return!0;if($===1)return isSingleChildEqual(Array.isArray(i)?i[0]:i,Array.isArray(_)?_[0]:_);for(var j=0;j<$;j++){var _e=i[j],tt=_[j];if(Array.isArray(_e)||Array.isArray(tt)){if(!o(_e,tt))return!1}else if(!isSingleChildEqual(_e,tt))return!1}return!0},isSingleChildEqual=function o(i,_){if(isNil$1(i)&&isNil$1(_))return!0;if(!isNil$1(i)&&!isNil$1(_)){var $=i.props||{},j=$.children,_e=_objectWithoutProperties$i($,_excluded$i),tt=_.props||{},rt=tt.children,nt=_objectWithoutProperties$i(tt,_excluded2$6);return j&&rt?shallowEqual(_e,nt)&&isChildrenEqual(j,rt):!j&&!rt?shallowEqual(_e,nt):!1}return!1},renderByOrder=function o(i,_){var $=[],j={};return toArray(i).forEach(function(_e,tt){if(isSvgElement(_e))$.push(_e);else if(_e){var rt=getDisplayName(_e.type),nt=_[rt]||{},it=nt.handler,ot=nt.once;if(it&&(!ot||!j[rt])){var lt=it(_e,rt,tt);$.push(lt),j[rt]=!0}}}),$},getReactEventByType=function o(i){var _=i&&i.type;return _&&REACT_BROWSER_EVENT_MAP[_]?REACT_BROWSER_EVENT_MAP[_]:null},parseChildIndex=function o(i,_){return toArray(_).indexOf(i)},_excluded$h=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$t.apply(this,arguments)}function _objectWithoutProperties$h(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$h(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$h(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function Surface(o){var i=o.children,_=o.width,$=o.height,j=o.viewBox,_e=o.className,tt=o.style,rt=o.title,nt=o.desc,it=_objectWithoutProperties$h(o,_excluded$h),ot=j||{width:_,height:$,x:0,y:0},lt=clsx("recharts-surface",_e);return React$2.createElement("svg",_extends$t({},filterProps(it,!0,"svg"),{className:lt,width:_,height:$,style:tt,viewBox:"".concat(ot.x," ").concat(ot.y," ").concat(ot.width," ").concat(ot.height)}),React$2.createElement("title",null,rt),React$2.createElement("desc",null,nt),i)}var _excluded$g=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$s.apply(this,arguments)}function _objectWithoutProperties$g(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$g(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$g(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var Layer=React$2.forwardRef(function(o,i){var _=o.children,$=o.className,j=_objectWithoutProperties$g(o,_excluded$g),_e=clsx("recharts-layer",$);return React$2.createElement("g",_extends$s({className:_e},filterProps(j,!0),{ref:i}),_)}),warn=function o(i,_){for(var $=arguments.length,j=new Array($>2?$-2:0),_e=2;_e<$;_e++)j[_e-2]=arguments[_e]};function baseSlice$1(o,i,_){var $=-1,j=o.length;i<0&&(i=-i>j?0:j+i),_=_>j?j:_,_<0&&(_+=j),j=i>_?0:_-i>>>0,i>>>=0;for(var _e=Array(j);++$<j;)_e[$]=o[$+i];return _e}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(o,i,_){var $=o.length;return _=_===void 0?$:_,!i&&_>=$?o:baseSlice(o,i,_)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(o){return reHasUnicode.test(o)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(o){return o.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(o){return o.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(o){return hasUnicode$1(o)?unicodeToArray(o):asciiToArray(o)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(o){return function(i){i=toString$1(i);var _=hasUnicode(i)?stringToArray(i):void 0,$=_?_[0]:i.charAt(0),j=_?castSlice(_,1).join(""):i.slice(1);return $[o]()+j}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(o){return function(){return o}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(o){this._+=o[0];for(let i=1,_=o.length;i<_;++i)this._+=arguments[i]+o[i]}function appendRound(o){let i=Math.floor(o);if(!(i>=0))throw new Error(`invalid digits: ${o}`);if(i>15)return append;const _=10**i;return function($){this._+=$[0];for(let j=1,_e=$.length;j<_e;++j)this._+=Math.round(arguments[j]*_)/_+$[j]}}class Path{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?append:appendRound(i)}moveTo(i,_){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+_}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,_){this._append`L${this._x1=+i},${this._y1=+_}`}quadraticCurveTo(i,_,$,j){this._append`Q${+i},${+_},${this._x1=+$},${this._y1=+j}`}bezierCurveTo(i,_,$,j,_e,tt){this._append`C${+i},${+_},${+$},${+j},${this._x1=+_e},${this._y1=+tt}`}arcTo(i,_,$,j,_e){if(i=+i,_=+_,$=+$,j=+j,_e=+_e,_e<0)throw new Error(`negative radius: ${_e}`);let tt=this._x1,rt=this._y1,nt=$-i,it=j-_,ot=tt-i,lt=rt-_,ft=ot*ot+lt*lt;if(this._x1===null)this._append`M${this._x1=i},${this._y1=_}`;else if(ft>epsilon)if(!(Math.abs(lt*nt-it*ot)>epsilon)||!_e)this._append`L${this._x1=i},${this._y1=_}`;else{let _t=$-tt,At=j-rt,Tt=nt*nt+it*it,Mt=_t*_t+At*At,pt=Math.sqrt(Tt),Pt=Math.sqrt(ft),$t=_e*Math.tan((pi-Math.acos((Tt+ft-Mt)/(2*pt*Pt)))/2),Ot=$t/Pt,It=$t/pt;Math.abs(Ot-1)>epsilon&&this._append`L${i+Ot*ot},${_+Ot*lt}`,this._append`A${_e},${_e},0,0,${+(lt*_t>ot*At)},${this._x1=i+It*nt},${this._y1=_+It*it}`}}arc(i,_,$,j,_e,tt){if(i=+i,_=+_,$=+$,tt=!!tt,$<0)throw new Error(`negative radius: ${$}`);let rt=$*Math.cos(j),nt=$*Math.sin(j),it=i+rt,ot=_+nt,lt=1^tt,ft=tt?j-_e:_e-j;this._x1===null?this._append`M${it},${ot}`:(Math.abs(this._x1-it)>epsilon||Math.abs(this._y1-ot)>epsilon)&&this._append`L${it},${ot}`,$&&(ft<0&&(ft=ft%tau+tau),ft>tauEpsilon?this._append`A${$},${$},0,1,${lt},${i-rt},${_-nt}A${$},${$},0,1,${lt},${this._x1=it},${this._y1=ot}`:ft>epsilon&&this._append`A${$},${$},0,${+(ft>=pi)},${lt},${this._x1=i+$*Math.cos(_e)},${this._y1=_+$*Math.sin(_e)}`)}rect(i,_,$,j){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+_}h${$=+$}v${+j}h${-$}Z`}toString(){return this._}}function withPath(o){let i=3;return o.digits=function(_){if(!arguments.length)return i;if(_==null)i=null;else{const $=Math.floor(_);if(!($>=0))throw new RangeError(`invalid digits: ${_}`);i=$}return o},()=>new Path(i)}function array(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function Linear(o){this._context=o}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,i){switch(o=+o,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,i):this._context.moveTo(o,i);break;case 1:this._point=2;default:this._context.lineTo(o,i);break}}};function curveLinear(o){return new Linear(o)}function x(o){return o[0]}function y(o){return o[1]}function shapeLine(o,i){var _=constant$3(!0),$=null,j=curveLinear,_e=null,tt=withPath(rt);o=typeof o=="function"?o:o===void 0?x:constant$3(o),i=typeof i=="function"?i:i===void 0?y:constant$3(i);function rt(nt){var it,ot=(nt=array(nt)).length,lt,ft=!1,_t;for($==null&&(_e=j(_t=tt())),it=0;it<=ot;++it)!(it<ot&&_(lt=nt[it],it,nt))===ft&&((ft=!ft)?_e.lineStart():_e.lineEnd()),ft&&_e.point(+o(lt,it,nt),+i(lt,it,nt));if(_t)return _e=null,_t+""||null}return rt.x=function(nt){return arguments.length?(o=typeof nt=="function"?nt:constant$3(+nt),rt):o},rt.y=function(nt){return arguments.length?(i=typeof nt=="function"?nt:constant$3(+nt),rt):i},rt.defined=function(nt){return arguments.length?(_=typeof nt=="function"?nt:constant$3(!!nt),rt):_},rt.curve=function(nt){return arguments.length?(j=nt,$!=null&&(_e=j($)),rt):j},rt.context=function(nt){return arguments.length?(nt==null?$=_e=null:_e=j($=nt),rt):$},rt}function shapeArea(o,i,_){var $=null,j=constant$3(!0),_e=null,tt=curveLinear,rt=null,nt=withPath(it);o=typeof o=="function"?o:o===void 0?x:constant$3(+o),i=typeof i=="function"?i:constant$3(i===void 0?0:+i),_=typeof _=="function"?_:_===void 0?y:constant$3(+_);function it(lt){var ft,_t,At,Tt=(lt=array(lt)).length,Mt,pt=!1,Pt,$t=new Array(Tt),Ot=new Array(Tt);for(_e==null&&(rt=tt(Pt=nt())),ft=0;ft<=Tt;++ft){if(!(ft<Tt&&j(Mt=lt[ft],ft,lt))===pt)if(pt=!pt)_t=ft,rt.areaStart(),rt.lineStart();else{for(rt.lineEnd(),rt.lineStart(),At=ft-1;At>=_t;--At)rt.point($t[At],Ot[At]);rt.lineEnd(),rt.areaEnd()}pt&&($t[ft]=+o(Mt,ft,lt),Ot[ft]=+i(Mt,ft,lt),rt.point($?+$(Mt,ft,lt):$t[ft],_?+_(Mt,ft,lt):Ot[ft]))}if(Pt)return rt=null,Pt+""||null}function ot(){return shapeLine().defined(j).curve(tt).context(_e)}return it.x=function(lt){return arguments.length?(o=typeof lt=="function"?lt:constant$3(+lt),$=null,it):o},it.x0=function(lt){return arguments.length?(o=typeof lt=="function"?lt:constant$3(+lt),it):o},it.x1=function(lt){return arguments.length?($=lt==null?null:typeof lt=="function"?lt:constant$3(+lt),it):$},it.y=function(lt){return arguments.length?(i=typeof lt=="function"?lt:constant$3(+lt),_=null,it):i},it.y0=function(lt){return arguments.length?(i=typeof lt=="function"?lt:constant$3(+lt),it):i},it.y1=function(lt){return arguments.length?(_=lt==null?null:typeof lt=="function"?lt:constant$3(+lt),it):_},it.lineX0=it.lineY0=function(){return ot().x(o).y(i)},it.lineY1=function(){return ot().x(o).y(_)},it.lineX1=function(){return ot().x($).y(i)},it.defined=function(lt){return arguments.length?(j=typeof lt=="function"?lt:constant$3(!!lt),it):j},it.curve=function(lt){return arguments.length?(tt=lt,_e!=null&&(rt=tt(_e)),it):tt},it.context=function(lt){return arguments.length?(lt==null?_e=rt=null:rt=tt(_e=lt),it):_e},it}class Bump{constructor(i,_){this._context=i,this._x=_}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(i,_){switch(i=+i,_=+_,this._point){case 0:{this._point=1,this._line?this._context.lineTo(i,_):this._context.moveTo(i,_);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+i)/2,this._y0,this._x0,_,i,_):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+_)/2,i,this._y0,i,_);break}}this._x0=i,this._y0=_}}function bumpX(o){return new Bump(o,!0)}function bumpY(o){return new Bump(o,!1)}const symbolCircle={draw(o,i){const _=sqrt$1(i/pi$1);o.moveTo(_,0),o.arc(0,0,_,0,tau$1)}},symbolCross={draw(o,i){const _=sqrt$1(i/5)/2;o.moveTo(-3*_,-_),o.lineTo(-_,-_),o.lineTo(-_,-3*_),o.lineTo(_,-3*_),o.lineTo(_,-_),o.lineTo(3*_,-_),o.lineTo(3*_,_),o.lineTo(_,_),o.lineTo(_,3*_),o.lineTo(-_,3*_),o.lineTo(-_,_),o.lineTo(-3*_,_),o.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(o,i){const _=sqrt$1(i/tan30_2),$=_*tan30;o.moveTo(0,-_),o.lineTo($,0),o.lineTo(0,_),o.lineTo(-$,0),o.closePath()}},symbolSquare={draw(o,i){const _=sqrt$1(i),$=-_/2;o.rect($,$,_,_)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(o,i){const _=sqrt$1(i*ka),$=kx*_,j=ky*_;o.moveTo(0,-_),o.lineTo($,j);for(let _e=1;_e<5;++_e){const tt=tau$1*_e/5,rt=cos(tt),nt=sin(tt);o.lineTo(nt*_,-rt*_),o.lineTo(rt*$-nt*j,nt*$+rt*j)}o.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(o,i){const _=-sqrt$1(i/(sqrt3*3));o.moveTo(0,_*2),o.lineTo(-sqrt3*_,-_),o.lineTo(sqrt3*_,-_),o.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(o,i){const _=sqrt$1(i/a),$=_/2,j=_*k,_e=$,tt=_*k+_,rt=-_e,nt=tt;o.moveTo($,j),o.lineTo(_e,tt),o.lineTo(rt,nt),o.lineTo(c*$-s*j,s*$+c*j),o.lineTo(c*_e-s*tt,s*_e+c*tt),o.lineTo(c*rt-s*nt,s*rt+c*nt),o.lineTo(c*$+s*j,c*j-s*$),o.lineTo(c*_e+s*tt,c*tt-s*_e),o.lineTo(c*rt+s*nt,c*nt-s*rt),o.closePath()}};function Symbol$3(o,i){let _=null,$=withPath(j);o=typeof o=="function"?o:constant$3(o||symbolCircle),i=typeof i=="function"?i:constant$3(i===void 0?64:+i);function j(){let _e;if(_||(_=_e=$()),o.apply(this,arguments).draw(_,+i.apply(this,arguments)),_e)return _=null,_e+""||null}return j.type=function(_e){return arguments.length?(o=typeof _e=="function"?_e:constant$3(_e),j):o},j.size=function(_e){return arguments.length?(i=typeof _e=="function"?_e:constant$3(+_e),j):i},j.context=function(_e){return arguments.length?(_=_e??null,j):_},j}function noop$3(){}function point$2(o,i,_){o._context.bezierCurveTo((2*o._x0+o._x1)/3,(2*o._y0+o._y1)/3,(o._x0+2*o._x1)/3,(o._y0+2*o._y1)/3,(o._x0+4*o._x1+i)/6,(o._y0+4*o._y1+_)/6)}function Basis(o){this._context=o}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,i){switch(o=+o,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,i):this._context.moveTo(o,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,o,i);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=i}};function curveBasis(o){return new Basis(o)}function BasisClosed(o){this._context=o}BasisClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(o,i){switch(o=+o,i=+i,this._point){case 0:this._point=1,this._x2=o,this._y2=i;break;case 1:this._point=2,this._x3=o,this._y3=i;break;case 2:this._point=3,this._x4=o,this._y4=i,this._context.moveTo((this._x0+4*this._x1+o)/6,(this._y0+4*this._y1+i)/6);break;default:point$2(this,o,i);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=i}};function curveBasisClosed(o){return new BasisClosed(o)}function BasisOpen(o){this._context=o}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(o,i){switch(o=+o,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var _=(this._x0+4*this._x1+o)/6,$=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(_,$):this._context.moveTo(_,$);break;case 3:this._point=4;default:point$2(this,o,i);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=i}};function curveBasisOpen(o){return new BasisOpen(o)}function LinearClosed(o){this._context=o}LinearClosed.prototype={areaStart:noop$3,areaEnd:noop$3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(o,i){o=+o,i=+i,this._point?this._context.lineTo(o,i):(this._point=1,this._context.moveTo(o,i))}};function curveLinearClosed(o){return new LinearClosed(o)}function sign(o){return o<0?-1:1}function slope3(o,i,_){var $=o._x1-o._x0,j=i-o._x1,_e=(o._y1-o._y0)/($||j<0&&-0),tt=(_-o._y1)/(j||$<0&&-0),rt=(_e*j+tt*$)/($+j);return(sign(_e)+sign(tt))*Math.min(Math.abs(_e),Math.abs(tt),.5*Math.abs(rt))||0}function slope2(o,i){var _=o._x1-o._x0;return _?(3*(o._y1-o._y0)/_-i)/2:i}function point$1(o,i,_){var $=o._x0,j=o._y0,_e=o._x1,tt=o._y1,rt=(_e-$)/3;o._context.bezierCurveTo($+rt,j+rt*i,_e-rt,tt-rt*_,_e,tt)}function MonotoneX(o){this._context=o}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,i){var _=NaN;if(o=+o,i=+i,!(o===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,i):this._context.moveTo(o,i);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,_=slope3(this,o,i)),_);break;default:point$1(this,this._t0,_=slope3(this,o,i));break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=i,this._t0=_}}};function MonotoneY(o){this._context=new ReflectContext(o)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(o,i){MonotoneX.prototype.point.call(this,i,o)};function ReflectContext(o){this._context=o}ReflectContext.prototype={moveTo:function(o,i){this._context.moveTo(i,o)},closePath:function(){this._context.closePath()},lineTo:function(o,i){this._context.lineTo(i,o)},bezierCurveTo:function(o,i,_,$,j,_e){this._context.bezierCurveTo(i,o,$,_,_e,j)}};function monotoneX(o){return new MonotoneX(o)}function monotoneY(o){return new MonotoneY(o)}function Natural(o){this._context=o}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var o=this._x,i=this._y,_=o.length;if(_)if(this._line?this._context.lineTo(o[0],i[0]):this._context.moveTo(o[0],i[0]),_===2)this._context.lineTo(o[1],i[1]);else for(var $=controlPoints(o),j=controlPoints(i),_e=0,tt=1;tt<_;++_e,++tt)this._context.bezierCurveTo($[0][_e],j[0][_e],$[1][_e],j[1][_e],o[tt],i[tt]);(this._line||this._line!==0&&_===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(o,i){this._x.push(+o),this._y.push(+i)}};function controlPoints(o){var i,_=o.length-1,$,j=new Array(_),_e=new Array(_),tt=new Array(_);for(j[0]=0,_e[0]=2,tt[0]=o[0]+2*o[1],i=1;i<_-1;++i)j[i]=1,_e[i]=4,tt[i]=4*o[i]+2*o[i+1];for(j[_-1]=2,_e[_-1]=7,tt[_-1]=8*o[_-1]+o[_],i=1;i<_;++i)$=j[i]/_e[i-1],_e[i]-=$,tt[i]-=$*tt[i-1];for(j[_-1]=tt[_-1]/_e[_-1],i=_-2;i>=0;--i)j[i]=(tt[i]-j[i+1])/_e[i];for(_e[_-1]=(o[_]+j[_-1])/2,i=0;i<_-1;++i)_e[i]=2*o[i+1]-j[i+1];return[j,_e]}function curveNatural(o){return new Natural(o)}function Step(o,i){this._context=o,this._t=i}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(o,i){switch(o=+o,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,i):this._context.moveTo(o,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(o,i);else{var _=this._x*(1-this._t)+o*this._t;this._context.lineTo(_,this._y),this._context.lineTo(_,i)}break}}this._x=o,this._y=i}};function curveStep(o){return new Step(o,.5)}function stepBefore(o){return new Step(o,0)}function stepAfter(o){return new Step(o,1)}function stackOffsetNone(o,i){if((tt=o.length)>1)for(var _=1,$,j,_e=o[i[0]],tt,rt=_e.length;_<tt;++_)for(j=_e,_e=o[i[_]],$=0;$<rt;++$)_e[$][1]+=_e[$][0]=isNaN(j[$][1])?j[$][0]:j[$][1]}function stackOrderNone(o){for(var i=o.length,_=new Array(i);--i>=0;)_[i]=i;return _}function stackValue(o,i){return o[i]}function stackSeries(o){const i=[];return i.key=o,i}function shapeStack(){var o=constant$3([]),i=stackOrderNone,_=stackOffsetNone,$=stackValue;function j(_e){var tt=Array.from(o.apply(this,arguments),stackSeries),rt,nt=tt.length,it=-1,ot;for(const lt of _e)for(rt=0,++it;rt<nt;++rt)(tt[rt][it]=[0,+$(lt,tt[rt].key,it,_e)]).data=lt;for(rt=0,ot=array(i(tt));rt<nt;++rt)tt[ot[rt]].index=rt;return _(tt,ot),tt}return j.keys=function(_e){return arguments.length?(o=typeof _e=="function"?_e:constant$3(Array.from(_e)),j):o},j.value=function(_e){return arguments.length?($=typeof _e=="function"?_e:constant$3(+_e),j):$},j.order=function(_e){return arguments.length?(i=_e==null?stackOrderNone:typeof _e=="function"?_e:constant$3(Array.from(_e)),j):i},j.offset=function(_e){return arguments.length?(_=_e??stackOffsetNone,j):_},j}function stackOffsetExpand(o,i){if(($=o.length)>0){for(var _,$,j=0,_e=o[0].length,tt;j<_e;++j){for(tt=_=0;_<$;++_)tt+=o[_][j][1]||0;if(tt)for(_=0;_<$;++_)o[_][j][1]/=tt}stackOffsetNone(o,i)}}function stackOffsetSilhouette(o,i){if((j=o.length)>0){for(var _=0,$=o[i[0]],j,_e=$.length;_<_e;++_){for(var tt=0,rt=0;tt<j;++tt)rt+=o[tt][_][1]||0;$[_][1]+=$[_][0]=-rt/2}stackOffsetNone(o,i)}}function stackOffsetWiggle(o,i){if(!(!((tt=o.length)>0)||!((_e=(j=o[i[0]]).length)>0))){for(var _=0,$=1,j,_e,tt;$<_e;++$){for(var rt=0,nt=0,it=0;rt<tt;++rt){for(var ot=o[i[rt]],lt=ot[$][1]||0,ft=ot[$-1][1]||0,_t=(lt-ft)/2,At=0;At<rt;++At){var Tt=o[i[At]],Mt=Tt[$][1]||0,pt=Tt[$-1][1]||0;_t+=Mt-pt}nt+=lt,it+=_t*lt}j[$-1][1]+=j[$-1][0]=_,nt&&(_-=it/nt)}j[$-1][1]+=j[$-1][0]=_,stackOffsetNone(o,i)}}function _typeof$I(o){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$I(o)}var _excluded$f=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$r.apply(this,arguments)}function ownKeys$I(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$I(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$I(Object(_),!0).forEach(function($){_defineProperty$H(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$I(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$H(o,i,_){return i=_toPropertyKey$H(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$H(o){var i=_toPrimitive$H(o,"string");return _typeof$I(i)=="symbol"?i:i+""}function _toPrimitive$H(o,i){if(_typeof$I(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$I($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$f(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$f(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$f(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function o(i){var _="symbol".concat(upperFirst$1(i));return symbolFactories[_]||symbolCircle},calculateAreaSize=function o(i,_,$){if(_==="area")return i;switch($){case"cross":return 5*i*i/9;case"diamond":return .5*i*i/Math.sqrt(3);case"square":return i*i;case"star":{var j=18*RADIAN$2;return 1.25*i*i*(Math.tan(j)-Math.tan(j*2)*Math.pow(Math.tan(j),2))}case"triangle":return Math.sqrt(3)*i*i/4;case"wye":return(21-10*Math.sqrt(3))*i*i/8;default:return Math.PI*i*i/4}},registerSymbol=function o(i,_){symbolFactories["symbol".concat(upperFirst$1(i))]=_},Symbols=function o(i){var _=i.type,$=_===void 0?"circle":_,j=i.size,_e=j===void 0?64:j,tt=i.sizeType,rt=tt===void 0?"area":tt,nt=_objectWithoutProperties$f(i,_excluded$f),it=_objectSpread$I(_objectSpread$I({},nt),{},{type:$,size:_e,sizeType:rt}),ot=function(){var Mt=getSymbolFactory($),pt=Symbol$3().type(Mt).size(calculateAreaSize(_e,rt,$));return pt()},lt=it.className,ft=it.cx,_t=it.cy,At=filterProps(it,!0);return ft===+ft&&_t===+_t&&_e===+_e?React$2.createElement("path",_extends$r({},At,{className:clsx("recharts-symbols",lt),transform:"translate(".concat(ft,", ").concat(_t,")"),d:ot()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$H(o){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$H(o)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$q.apply(this,arguments)}function ownKeys$H(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$H(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$H(Object(_),!0).forEach(function($){_defineProperty$G(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$H(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$k(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$G($.key),$)}}function _createClass$k(o,i,_){return i&&_defineProperties$k(o.prototype,i),_&&_defineProperties$k(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$g(o,i,_){return i=_getPrototypeOf$i(i),_possibleConstructorReturn$i(o,_isNativeReflectConstruct$l()?Reflect.construct(i,_||[],_getPrototypeOf$i(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$i(o,i){if(i&&(_typeof$H(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(o)}function _assertThisInitialized$i(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$l(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$l=function(){return!!o})()}function _getPrototypeOf$i(o){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$i(o)}function _inherits$i(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$i(o,i)}function _setPrototypeOf$i(o,i){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$i(o,i)}function _defineProperty$G(o,i,_){return i=_toPropertyKey$G(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$G(o){var i=_toPrimitive$G(o,"string");return _typeof$H(i)=="symbol"?i:i+""}function _toPrimitive$G(o,i){if(_typeof$H(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$H($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var SIZE=32,DefaultLegendContent=function(o){function i(){return _classCallCheck$k(this,i),_callSuper$g(this,i,arguments)}return _inherits$i(i,o),_createClass$k(i,[{key:"renderIcon",value:function($){var j=this.props.inactiveColor,_e=SIZE/2,tt=SIZE/6,rt=SIZE/3,nt=$.inactive?j:$.color;if($.type==="plainline")return React$2.createElement("line",{strokeWidth:4,fill:"none",stroke:nt,strokeDasharray:$.payload.strokeDasharray,x1:0,y1:_e,x2:SIZE,y2:_e,className:"recharts-legend-icon"});if($.type==="line")return React$2.createElement("path",{strokeWidth:4,fill:"none",stroke:nt,d:"M0,".concat(_e,"h").concat(rt,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(2*rt,",").concat(_e,`
            H`).concat(SIZE,"M").concat(2*rt,",").concat(_e,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(rt,",").concat(_e),className:"recharts-legend-icon"});if($.type==="rect")return React$2.createElement("path",{stroke:"none",fill:nt,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React$2.isValidElement($.legendIcon)){var it=_objectSpread$H({},$);return delete it.legendIcon,React$2.cloneElement($.legendIcon,it)}return React$2.createElement(Symbols,{fill:nt,cx:_e,cy:_e,size:SIZE,sizeType:"diameter",type:$.type})}},{key:"renderItems",value:function(){var $=this,j=this.props,_e=j.payload,tt=j.iconSize,rt=j.layout,nt=j.formatter,it=j.inactiveColor,ot={x:0,y:0,width:SIZE,height:SIZE},lt={display:rt==="horizontal"?"inline-block":"block",marginRight:10},ft={display:"inline-block",verticalAlign:"middle",marginRight:4};return _e.map(function(_t,At){var Tt=_t.formatter||nt,Mt=clsx(_defineProperty$G(_defineProperty$G({"recharts-legend-item":!0},"legend-item-".concat(At),!0),"inactive",_t.inactive));if(_t.type==="none")return null;var pt=isFunction$3(_t.value)?null:_t.value;warn(!isFunction$3(_t.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var Pt=_t.inactive?it:_t.color;return React$2.createElement("li",_extends$q({className:Mt,style:lt,key:"legend-item-".concat(At)},adaptEventsOfChild($.props,_t,At)),React$2.createElement(Surface,{width:tt,height:tt,viewBox:ot,style:ft},$.renderIcon(_t)),React$2.createElement("span",{className:"recharts-legend-item-text",style:{color:Pt}},Tt?Tt(pt,_t,At):pt))})}},{key:"render",value:function(){var $=this.props,j=$.payload,_e=$.layout,tt=$.align;if(!j||!j.length)return null;var rt={padding:0,margin:0,textAlign:_e==="horizontal"?tt:"left"};return React$2.createElement("ul",{className:"recharts-default-legend",style:rt},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$G(DefaultLegendContent,"displayName","Legend");_defineProperty$G(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(o){var i=this.__data__,_=i.delete(o);return this.size=i.size,_}var _stackDelete=stackDelete$1;function stackGet$1(o){return this.__data__.get(o)}var _stackGet=stackGet$1;function stackHas$1(o){return this.__data__.has(o)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(o,i){var _=this.__data__;if(_ instanceof ListCache$1){var $=_.__data__;if(!Map$2||$.length<LARGE_ARRAY_SIZE$1-1)return $.push([o,i]),this.size=++_.size,this;_=this.__data__=new MapCache$1($)}return _.set(o,i),this.size=_.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(o){var i=this.__data__=new ListCache(o);this.size=i.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(o){return this.__data__.set(o,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(o){return this.__data__.has(o)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(o){var i=-1,_=o==null?0:o.length;for(this.__data__=new MapCache;++i<_;)this.add(o[i])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(o,i){for(var _=-1,$=o==null?0:o.length;++_<$;)if(i(o[_],_,o))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(o,i){return o.has(i)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(o,i,_,$,j,_e){var tt=_&COMPARE_PARTIAL_FLAG$5,rt=o.length,nt=i.length;if(rt!=nt&&!(tt&&nt>rt))return!1;var it=_e.get(o),ot=_e.get(i);if(it&&ot)return it==i&&ot==o;var lt=-1,ft=!0,_t=_&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(_e.set(o,i),_e.set(i,o);++lt<rt;){var At=o[lt],Tt=i[lt];if($)var Mt=tt?$(Tt,At,lt,i,o,_e):$(At,Tt,lt,o,i,_e);if(Mt!==void 0){if(Mt)continue;ft=!1;break}if(_t){if(!arraySome$1(i,function(pt,Pt){if(!cacheHas$1(_t,Pt)&&(At===pt||j(At,pt,_,$,_e)))return _t.push(Pt)})){ft=!1;break}}else if(!(At===Tt||j(At,Tt,_,$,_e))){ft=!1;break}}return _e.delete(o),_e.delete(i),ft}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(o){var i=-1,_=Array(o.size);return o.forEach(function($,j){_[++i]=[j,$]}),_}var _mapToArray=mapToArray$1;function setToArray$3(o){var i=-1,_=Array(o.size);return o.forEach(function($){_[++i]=$}),_}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(o,i,_,$,j,_e,tt){switch(_){case dataViewTag$2:if(o.byteLength!=i.byteLength||o.byteOffset!=i.byteOffset)return!1;o=o.buffer,i=i.buffer;case arrayBufferTag$1:return!(o.byteLength!=i.byteLength||!_e(new Uint8Array$1(o),new Uint8Array$1(i)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+o,+i);case errorTag$1:return o.name==i.name&&o.message==i.message;case regexpTag$1:case stringTag$1:return o==i+"";case mapTag$2:var rt=mapToArray;case setTag$2:var nt=$&COMPARE_PARTIAL_FLAG$4;if(rt||(rt=setToArray$2),o.size!=i.size&&!nt)return!1;var it=tt.get(o);if(it)return it==i;$|=COMPARE_UNORDERED_FLAG$2,tt.set(o,i);var ot=equalArrays$1(rt(o),rt(i),$,j,_e,tt);return tt.delete(o),ot;case symbolTag:if(symbolValueOf)return symbolValueOf.call(o)==symbolValueOf.call(i)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(o,i){for(var _=-1,$=i.length,j=o.length;++_<$;)o[j+_]=i[_];return o}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(o,i,_){var $=i(o);return isArray$a(o)?$:arrayPush$1($,_(o))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(o,i){for(var _=-1,$=o==null?0:o.length,j=0,_e=[];++_<$;){var tt=o[_];i(tt,_,o)&&(_e[j++]=tt)}return _e}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(o){return o==null?[]:(o=Object(o),arrayFilter(nativeGetSymbols(o),function(i){return propertyIsEnumerable$1.call(o,i)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(o,i){for(var _=-1,$=Array(o);++_<o;)$[_]=i(_);return $}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(o){return isObjectLike$5(o)&&baseGetTag$4(o)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(o){return isObjectLike$4(o)&&hasOwnProperty$6.call(o,"callee")&&!propertyIsEnumerable.call(o,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(o,i){var _=_root,$=stubFalse_1,j=i&&!i.nodeType&&i,_e=j&&!0&&o&&!o.nodeType&&o,tt=_e&&_e.exports===j,rt=tt?_.Buffer:void 0,nt=rt?rt.isBuffer:void 0,it=nt||$;o.exports=it})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(o,i){var _=typeof o;return i=i??MAX_SAFE_INTEGER$2,!!i&&(_=="number"||_!="symbol"&&reIsUint.test(o))&&o>-1&&o%1==0&&o<i}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(o){return isObjectLike$3(o)&&isLength$2(o.length)&&!!typedArrayTags[baseGetTag$3(o)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(o){return function(i){return o(i)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(o,i){var _=_freeGlobal,$=i&&!i.nodeType&&i,j=$&&!0&&o&&!o.nodeType&&o,_e=j&&j.exports===$,tt=_e&&_.process,rt=function(){try{var nt=j&&j.require&&j.require("util").types;return nt||tt&&tt.binding&&tt.binding("util")}catch{}}();o.exports=rt})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(o,i){var _=isArray$9(o),$=!_&&isArguments$2(o),j=!_&&!$&&isBuffer$1(o),_e=!_&&!$&&!j&&isTypedArray$2(o),tt=_||$||j||_e,rt=tt?baseTimes(o.length,String):[],nt=rt.length;for(var it in o)(i||hasOwnProperty$5.call(o,it))&&!(tt&&(it=="length"||j&&(it=="offset"||it=="parent")||_e&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||isIndex$2(it,nt)))&&rt.push(it);return rt}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(o){var i=o&&o.constructor,_=typeof i=="function"&&i.prototype||objectProto$4;return o===_}var _isPrototype=isPrototype$1;function overArg$2(o,i){return function(_){return o(i(_))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(o){if(!isPrototype(o))return nativeKeys(o);var i=[];for(var _ in Object(o))hasOwnProperty$4.call(o,_)&&_!="constructor"&&i.push(_);return i}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(o){return o!=null&&isLength$1(o.length)&&!isFunction(o)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(o){return isArrayLike$4(o)?arrayLikeKeys(o):baseKeys(o)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(o){return baseGetAllKeys(o,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(o,i,_,$,j,_e){var tt=_&COMPARE_PARTIAL_FLAG$3,rt=getAllKeys(o),nt=rt.length,it=getAllKeys(i),ot=it.length;if(nt!=ot&&!tt)return!1;for(var lt=nt;lt--;){var ft=rt[lt];if(!(tt?ft in i:hasOwnProperty$3.call(i,ft)))return!1}var _t=_e.get(o),At=_e.get(i);if(_t&&At)return _t==i&&At==o;var Tt=!0;_e.set(o,i),_e.set(i,o);for(var Mt=tt;++lt<nt;){ft=rt[lt];var pt=o[ft],Pt=i[ft];if($)var $t=tt?$(Pt,pt,ft,i,o,_e):$(pt,Pt,ft,o,i,_e);if(!($t===void 0?pt===Pt||j(pt,Pt,_,$,_e):$t)){Tt=!1;break}Mt||(Mt=ft=="constructor")}if(Tt&&!Mt){var Ot=o.constructor,It=i.constructor;Ot!=It&&"constructor"in o&&"constructor"in i&&!(typeof Ot=="function"&&Ot instanceof Ot&&typeof It=="function"&&It instanceof It)&&(Tt=!1)}return _e.delete(o),_e.delete(i),Tt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(o){var i=baseGetTag$2(o),_=i==objectTag$2?o.constructor:void 0,$=_?toSource(_):"";if($)switch($){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return i});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(o,i,_,$,j,_e){var tt=isArray$8(o),rt=isArray$8(i),nt=tt?arrayTag:getTag$1(o),it=rt?arrayTag:getTag$1(i);nt=nt==argsTag?objectTag$1:nt,it=it==argsTag?objectTag$1:it;var ot=nt==objectTag$1,lt=it==objectTag$1,ft=nt==it;if(ft&&isBuffer(o)){if(!isBuffer(i))return!1;tt=!0,ot=!1}if(ft&&!ot)return _e||(_e=new Stack$1),tt||isTypedArray$1(o)?equalArrays(o,i,_,$,j,_e):equalByTag(o,i,nt,_,$,j,_e);if(!(_&COMPARE_PARTIAL_FLAG$2)){var _t=ot&&hasOwnProperty$2.call(o,"__wrapped__"),At=lt&&hasOwnProperty$2.call(i,"__wrapped__");if(_t||At){var Tt=_t?o.value():o,Mt=At?i.value():i;return _e||(_e=new Stack$1),j(Tt,Mt,_,$,_e)}}return ft?(_e||(_e=new Stack$1),equalObjects(o,i,_,$,j,_e)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(o,i,_,$,j){return o===i?!0:o==null||i==null||!isObjectLike$2(o)&&!isObjectLike$2(i)?o!==o&&i!==i:baseIsEqualDeep(o,i,_,$,baseIsEqual$3,j)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(o,i,_,$){var j=_.length,_e=j,tt=!$;if(o==null)return!_e;for(o=Object(o);j--;){var rt=_[j];if(tt&&rt[2]?rt[1]!==o[rt[0]]:!(rt[0]in o))return!1}for(;++j<_e;){rt=_[j];var nt=rt[0],it=o[nt],ot=rt[1];if(tt&&rt[2]){if(it===void 0&&!(nt in o))return!1}else{var lt=new Stack;if($)var ft=$(it,ot,nt,o,i,lt);if(!(ft===void 0?baseIsEqual$2(ot,it,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,$,lt):ft))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(o){return o===o&&!isObject$4(o)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(o){for(var i=keys$3(o),_=i.length;_--;){var $=i[_],j=o[$];i[_]=[$,j,isStrictComparable$1(j)]}return i}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(o,i){return function(_){return _==null?!1:_[o]===i&&(i!==void 0||o in Object(_))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(o){var i=getMatchData(o);return i.length==1&&i[0][2]?matchesStrictComparable$1(i[0][0],i[0][1]):function(_){return _===o||baseIsMatch(_,o,i)}}var _baseMatches=baseMatches$1;function baseHasIn$1(o,i){return o!=null&&i in Object(o)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(o,i,_){i=castPath(i,o);for(var $=-1,j=i.length,_e=!1;++$<j;){var tt=toKey$2(i[$]);if(!(_e=o!=null&&_(o,tt)))break;o=o[tt]}return _e||++$!=j?_e:(j=o==null?0:o.length,!!j&&isLength(j)&&isIndex$1(tt,j)&&(isArray$7(o)||isArguments$1(o)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(o,i){return o!=null&&hasPath(o,i,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get$1=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(o,i){return isKey$1(o)&&isStrictComparable(i)?matchesStrictComparable(toKey$1(o),i):function(_){var $=get$1(_,o);return $===void 0&&$===i?hasIn(_,o):baseIsEqual$1(i,$,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(o){return o}var identity_1=identity$b;function baseProperty$1(o){return function(i){return i==null?void 0:i[o]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(o){return function(i){return baseGet$1(i,o)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(o){return isKey(o)?baseProperty(toKey(o)):basePropertyDeep(o)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$a(o){return typeof o=="function"?o:o==null?identity$a:typeof o=="object"?isArray$6(o)?baseMatchesProperty(o[0],o[1]):baseMatches(o):property(o)}var _baseIteratee=baseIteratee$a;function baseFindIndex$2(o,i,_,$){for(var j=o.length,_e=_+($?1:-1);$?_e--:++_e<j;)if(i(o[_e],_e,o))return _e;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(o){return o!==o}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(o,i,_){for(var $=_-1,j=o.length;++$<j;)if(o[$]===i)return $;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(o,i,_){return i===i?strictIndexOf(o,i,_):baseFindIndex$1(o,baseIsNaN,_)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(o,i){var _=o==null?0:o.length;return!!_&&baseIndexOf(o,i,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(o,i,_){for(var $=-1,j=o==null?0:o.length;++$<j;)if(_(i,o[$]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(o){return new Set$1(o)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(o,i,_){var $=-1,j=arrayIncludes,_e=o.length,tt=!0,rt=[],nt=rt;if(_)tt=!1,j=arrayIncludesWith;else if(_e>=LARGE_ARRAY_SIZE){var it=i?null:createSet(o);if(it)return setToArray(it);tt=!1,j=cacheHas,nt=new SetCache}else nt=i?[]:rt;e:for(;++$<_e;){var ot=o[$],lt=i?i(ot):ot;if(ot=_||ot!==0?ot:0,tt&&lt===lt){for(var ft=nt.length;ft--;)if(nt[ft]===lt)continue e;i&&nt.push(lt),rt.push(ot)}else j(nt,lt,_)||(nt!==rt&&nt.push(lt),rt.push(ot))}return rt}var _baseUniq=baseUniq$1,baseIteratee$9=_baseIteratee,baseUniq=_baseUniq;function uniqBy(o,i){return o&&o.length?baseUniq(o,baseIteratee$9(i)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(o,i,_){return i===!0?uniqBy$1(o,_):isFunction$3(i)?uniqBy$1(o,i):o}function _typeof$G(o){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$G(o)}var _excluded$e=["ref"];function ownKeys$G(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$G(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$G(Object(_),!0).forEach(function($){_defineProperty$F(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$G(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$j(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$F($.key),$)}}function _createClass$j(o,i,_){return i&&_defineProperties$j(o.prototype,i),_&&_defineProperties$j(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$f(o,i,_){return i=_getPrototypeOf$h(i),_possibleConstructorReturn$h(o,_isNativeReflectConstruct$k()?Reflect.construct(i,_||[],_getPrototypeOf$h(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$h(o,i){if(i&&(_typeof$G(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(o)}function _assertThisInitialized$h(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$k(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$k=function(){return!!o})()}function _getPrototypeOf$h(o){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$h(o)}function _inherits$h(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$h(o,i)}function _setPrototypeOf$h(o,i){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$h(o,i)}function _defineProperty$F(o,i,_){return i=_toPropertyKey$F(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$F(o){var i=_toPrimitive$F(o,"string");return _typeof$G(i)=="symbol"?i:i+""}function _toPrimitive$F(o,i){if(_typeof$G(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$G($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$e(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$e(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$e(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function defaultUniqBy$1(o){return o.value}function renderContent$1(o,i){if(React$2.isValidElement(o))return React$2.cloneElement(o,i);if(typeof o=="function")return React$2.createElement(o,i);i.ref;var _=_objectWithoutProperties$e(i,_excluded$e);return React$2.createElement(DefaultLegendContent,_)}var EPS$1=1,Legend=function(o){function i(){var _;_classCallCheck$j(this,i);for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];return _=_callSuper$f(this,i,[].concat(j)),_defineProperty$F(_,"lastBoundingBox",{width:-1,height:-1}),_}return _inherits$h(i,o),_createClass$j(i,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var $=this.wrapperNode.getBoundingClientRect();return $.height=this.wrapperNode.offsetHeight,$.width=this.wrapperNode.offsetWidth,$}return null}},{key:"updateBBox",value:function(){var $=this.props.onBBoxUpdate,j=this.getBBox();j?(Math.abs(j.width-this.lastBoundingBox.width)>EPS$1||Math.abs(j.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=j.width,this.lastBoundingBox.height=j.height,$&&$(j)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,$&&$(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$G({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function($){var j=this.props,_e=j.layout,tt=j.align,rt=j.verticalAlign,nt=j.margin,it=j.chartWidth,ot=j.chartHeight,lt,ft;if(!$||($.left===void 0||$.left===null)&&($.right===void 0||$.right===null))if(tt==="center"&&_e==="vertical"){var _t=this.getBBoxSnapshot();lt={left:((it||0)-_t.width)/2}}else lt=tt==="right"?{right:nt&&nt.right||0}:{left:nt&&nt.left||0};if(!$||($.top===void 0||$.top===null)&&($.bottom===void 0||$.bottom===null))if(rt==="middle"){var At=this.getBBoxSnapshot();ft={top:((ot||0)-At.height)/2}}else ft=rt==="bottom"?{bottom:nt&&nt.bottom||0}:{top:nt&&nt.top||0};return _objectSpread$G(_objectSpread$G({},lt),ft)}},{key:"render",value:function(){var $=this,j=this.props,_e=j.content,tt=j.width,rt=j.height,nt=j.wrapperStyle,it=j.payloadUniqBy,ot=j.payload,lt=_objectSpread$G(_objectSpread$G({position:"absolute",width:tt||"auto",height:rt||"auto"},this.getDefaultPosition(nt)),nt);return React$2.createElement("div",{className:"recharts-legend-wrapper",style:lt,ref:function(_t){$.wrapperNode=_t}},renderContent$1(_e,_objectSpread$G(_objectSpread$G({},this.props),{},{payload:getUniqPayload(ot,it,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function($,j){var _e=_objectSpread$G(_objectSpread$G({},this.defaultProps),$.props),tt=_e.layout;return tt==="vertical"&&isNumber($.props.height)?{height:$.props.height}:tt==="horizontal"?{width:$.props.width||j}:null}}])}(reactExports.PureComponent);_defineProperty$F(Legend,"displayName","Legend");_defineProperty$F(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(o){return isArray$5(o)||isArguments(o)||!!(spreadableSymbol&&o&&o[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(o,i,_,$,j){var _e=-1,tt=o.length;for(_||(_=isFlattenable),j||(j=[]);++_e<tt;){var rt=o[_e];i>0&&_(rt)?i>1?baseFlatten$2(rt,i-1,_,$,j):arrayPush(j,rt):$||(j[j.length]=rt)}return j}var _baseFlatten=baseFlatten$2;function createBaseFor$1(o){return function(i,_,$){for(var j=-1,_e=Object(i),tt=$(i),rt=tt.length;rt--;){var nt=tt[o?rt:++j];if(_(_e[nt],nt,_e)===!1)break}return i}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(o,i){return o&&baseFor(o,i,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(o,i){return function(_,$){if(_==null)return _;if(!isArrayLike$3(_))return o(_,$);for(var j=_.length,_e=i?j:-1,tt=Object(_);(i?_e--:++_e<j)&&$(tt[_e],_e,tt)!==!1;);return _}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(o,i){var _=-1,$=isArrayLike$2(o)?Array(o.length):[];return baseEach$2(o,function(j,_e,tt){$[++_]=i(j,_e,tt)}),$}var _baseMap=baseMap$2;function baseSortBy$1(o,i){var _=o.length;for(o.sort(i);_--;)o[_]=o[_].value;return o}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(o,i){if(o!==i){var _=o!==void 0,$=o===null,j=o===o,_e=isSymbol$2(o),tt=i!==void 0,rt=i===null,nt=i===i,it=isSymbol$2(i);if(!rt&&!it&&!_e&&o>i||_e&&tt&&nt&&!rt&&!it||$&&tt&&nt||!_&&nt||!j)return 1;if(!$&&!_e&&!it&&o<i||it&&_&&j&&!$&&!_e||rt&&_&&j||!tt&&j||!nt)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(o,i,_){for(var $=-1,j=o.criteria,_e=i.criteria,tt=j.length,rt=_.length;++$<tt;){var nt=compareAscending(j[$],_e[$]);if(nt){if($>=rt)return nt;var it=_[$];return nt*(it=="desc"?-1:1)}}return o.index-i.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(o,i,_){i.length?i=arrayMap$1(i,function(_e){return isArray$4(_e)?function(tt){return baseGet(tt,_e.length===1?_e[0]:_e)}:_e}):i=[identity$9];var $=-1;i=arrayMap$1(i,baseUnary(baseIteratee$8));var j=baseMap$1(o,function(_e,tt,rt){var nt=arrayMap$1(i,function(it){return it(_e)});return{criteria:nt,index:++$,value:_e}});return baseSortBy(j,function(_e,tt){return compareMultiple(_e,tt,_)})}var _baseOrderBy=baseOrderBy$1;function apply$1(o,i,_){switch(_.length){case 0:return o.call(i);case 1:return o.call(i,_[0]);case 2:return o.call(i,_[0],_[1]);case 3:return o.call(i,_[0],_[1],_[2])}return o.apply(i,_)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(o,i,_){return i=nativeMax$3(i===void 0?o.length-1:i,0),function(){for(var $=arguments,j=-1,_e=nativeMax$3($.length-i,0),tt=Array(_e);++j<_e;)tt[j]=$[i+j];j=-1;for(var rt=Array(i+1);++j<i;)rt[j]=$[j];return rt[i]=_(tt),apply(o,this,rt)}}var _overRest=overRest$1;function constant$2(o){return function(){return o}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var o=getNative(Object,"defineProperty");return o({},"",{}),o}catch{}}(),_defineProperty$E=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$E,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(o,i){return defineProperty$1(o,"toString",{configurable:!0,enumerable:!1,value:constant$1(i),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(o){var i=0,_=0;return function(){var $=nativeNow(),j=HOT_SPAN-($-_);if(_=$,j>0){if(++i>=HOT_COUNT)return arguments[0]}else i=0;return o.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(o,i){return setToString(overRest(o,i,identity$7),o+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(o,i,_){if(!isObject$3(_))return!1;var $=typeof i;return($=="number"?isArrayLike$1(_)&&isIndex(i,_.length):$=="string"&&i in _)?eq(_[i],o):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(o,i){if(o==null)return[];var _=i.length;return _>1&&isIterateeCall$3(o,i[0],i[1])?i=[]:_>2&&isIterateeCall$3(i[0],i[1],i[2])&&(i=[i[0]]),baseOrderBy(o,baseFlatten$1(i,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$F(o){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$F(o)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$p.apply(this,arguments)}function _slicedToArray$c(o,i){return _arrayWithHoles$d(o)||_iterableToArrayLimit$c(o,i)||_unsupportedIterableToArray$k(o,i)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$k(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$k(o,i)}}function _arrayLikeToArray$k(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$c(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$d(o){if(Array.isArray(o))return o}function ownKeys$F(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$F(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$F(Object(_),!0).forEach(function($){_defineProperty$D(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$F(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$D(o,i,_){return i=_toPropertyKey$E(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$E(o){var i=_toPrimitive$E(o,"string");return _typeof$F(i)=="symbol"?i:i+""}function _toPrimitive$E(o,i){if(_typeof$F(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$F($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function defaultFormatter(o){return Array.isArray(o)&&isNumOrStr(o[0])&&isNumOrStr(o[1])?o.join(" ~ "):o}var DefaultTooltipContent=function o(i){var _=i.separator,$=_===void 0?" : ":_,j=i.contentStyle,_e=j===void 0?{}:j,tt=i.itemStyle,rt=tt===void 0?{}:tt,nt=i.labelStyle,it=nt===void 0?{}:nt,ot=i.payload,lt=i.formatter,ft=i.itemSorter,_t=i.wrapperClassName,At=i.labelClassName,Tt=i.label,Mt=i.labelFormatter,pt=i.accessibilityLayer,Pt=pt===void 0?!1:pt,$t=function(){if(ot&&ot.length){var qt={padding:0,margin:0},Jt=(ft?sortBy$1(ot,ft):ot).map(function(er,Kt){if(er.type==="none")return null;var zt=_objectSpread$F({display:"block",paddingTop:4,paddingBottom:4,color:er.color||"#000"},rt),Ht=er.formatter||lt||defaultFormatter,Ft=er.value,Vt=er.name,Yt=Ft,Zt=Vt;if(Ht&&Yt!=null&&Zt!=null){var nr=Ht(Ft,Vt,er,Kt,ot);if(Array.isArray(nr)){var cr=_slicedToArray$c(nr,2);Yt=cr[0],Zt=cr[1]}else Yt=nr}return React$2.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Kt),style:zt},isNumOrStr(Zt)?React$2.createElement("span",{className:"recharts-tooltip-item-name"},Zt):null,isNumOrStr(Zt)?React$2.createElement("span",{className:"recharts-tooltip-item-separator"},$):null,React$2.createElement("span",{className:"recharts-tooltip-item-value"},Yt),React$2.createElement("span",{className:"recharts-tooltip-item-unit"},er.unit||""))});return React$2.createElement("ul",{className:"recharts-tooltip-item-list",style:qt},Jt)}return null},Ot=_objectSpread$F({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},_e),It=_objectSpread$F({margin:0},it),Dt=!isNil$1(Tt),Lt=Dt?Tt:"",Bt=clsx("recharts-default-tooltip",_t),jt=clsx("recharts-tooltip-label",At);Dt&&Mt&&ot!==void 0&&ot!==null&&(Lt=Mt(Tt,ot));var Ut=Pt?{role:"status","aria-live":"assertive"}:{};return React$2.createElement("div",_extends$p({className:Bt,style:Ot},Ut),React$2.createElement("p",{className:jt,style:It},React$2.isValidElement(Lt)?Lt:"".concat(Lt)),$t())};function _typeof$E(o){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$E(o)}function _defineProperty$C(o,i,_){return i=_toPropertyKey$D(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$D(o){var i=_toPrimitive$D(o,"string");return _typeof$E(i)=="symbol"?i:i+""}function _toPrimitive$D(o,i){if(_typeof$E(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$E($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(o){var i=o.coordinate,_=o.translateX,$=o.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$C(_defineProperty$C(_defineProperty$C(_defineProperty$C({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(_)&&i&&isNumber(i.x)&&_>=i.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(_)&&i&&isNumber(i.x)&&_<i.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber($)&&i&&isNumber(i.y)&&$>=i.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber($)&&i&&isNumber(i.y)&&$<i.y))}function getTooltipTranslateXY(o){var i=o.allowEscapeViewBox,_=o.coordinate,$=o.key,j=o.offsetTopLeft,_e=o.position,tt=o.reverseDirection,rt=o.tooltipDimension,nt=o.viewBox,it=o.viewBoxDimension;if(_e&&isNumber(_e[$]))return _e[$];var ot=_[$]-rt-j,lt=_[$]+j;if(i[$])return tt[$]?ot:lt;if(tt[$]){var ft=ot,_t=nt[$];return ft<_t?Math.max(lt,nt[$]):Math.max(ot,nt[$])}var At=lt+rt,Tt=nt[$]+it;return At>Tt?Math.max(ot,nt[$]):Math.max(lt,nt[$])}function getTransformStyle(o){var i=o.translateX,_=o.translateY,$=o.useTranslate3d;return{transform:$?"translate3d(".concat(i,"px, ").concat(_,"px, 0)"):"translate(".concat(i,"px, ").concat(_,"px)")}}function getTooltipTranslate(o){var i=o.allowEscapeViewBox,_=o.coordinate,$=o.offsetTopLeft,j=o.position,_e=o.reverseDirection,tt=o.tooltipBox,rt=o.useTranslate3d,nt=o.viewBox,it,ot,lt;return tt.height>0&&tt.width>0&&_?(ot=getTooltipTranslateXY({allowEscapeViewBox:i,coordinate:_,key:"x",offsetTopLeft:$,position:j,reverseDirection:_e,tooltipDimension:tt.width,viewBox:nt,viewBoxDimension:nt.width}),lt=getTooltipTranslateXY({allowEscapeViewBox:i,coordinate:_,key:"y",offsetTopLeft:$,position:j,reverseDirection:_e,tooltipDimension:tt.height,viewBox:nt,viewBoxDimension:nt.height}),it=getTransformStyle({translateX:ot,translateY:lt,useTranslate3d:rt})):it=TOOLTIP_HIDDEN,{cssProperties:it,cssClasses:getTooltipCSSClassName({translateX:ot,translateY:lt,coordinate:_})}}function _typeof$D(o){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$D(o)}function ownKeys$E(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$E(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$E(Object(_),!0).forEach(function($){_defineProperty$B(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$E(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$i(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$C($.key),$)}}function _createClass$i(o,i,_){return i&&_defineProperties$i(o.prototype,i),_&&_defineProperties$i(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$e(o,i,_){return i=_getPrototypeOf$g(i),_possibleConstructorReturn$g(o,_isNativeReflectConstruct$j()?Reflect.construct(i,_||[],_getPrototypeOf$g(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$g(o,i){if(i&&(_typeof$D(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(o)}function _assertThisInitialized$g(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$j(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!o})()}function _getPrototypeOf$g(o){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$g(o)}function _inherits$g(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$g(o,i)}function _setPrototypeOf$g(o,i){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$g(o,i)}function _defineProperty$B(o,i,_){return i=_toPropertyKey$C(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$C(o){var i=_toPrimitive$C(o,"string");return _typeof$D(i)=="symbol"?i:i+""}function _toPrimitive$C(o,i){if(_typeof$D(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$D($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var EPSILON=1,TooltipBoundingBox=function(o){function i(){var _;_classCallCheck$i(this,i);for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];return _=_callSuper$e(this,i,[].concat(j)),_defineProperty$B(_,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$B(_,"handleKeyDown",function(tt){if(tt.key==="Escape"){var rt,nt,it,ot;_.setState({dismissed:!0,dismissedAtCoordinate:{x:(rt=(nt=_.props.coordinate)===null||nt===void 0?void 0:nt.x)!==null&&rt!==void 0?rt:0,y:(it=(ot=_.props.coordinate)===null||ot===void 0?void 0:ot.y)!==null&&it!==void 0?it:0}})}}),_}return _inherits$g(i,o),_createClass$i(i,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var $=this.wrapperNode.getBoundingClientRect();(Math.abs($.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs($.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:$.width,height:$.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var $,j;this.props.active&&this.updateBBox(),this.state.dismissed&&((($=this.props.coordinate)===null||$===void 0?void 0:$.x)!==this.state.dismissedAtCoordinate.x||((j=this.props.coordinate)===null||j===void 0?void 0:j.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var $=this,j=this.props,_e=j.active,tt=j.allowEscapeViewBox,rt=j.animationDuration,nt=j.animationEasing,it=j.children,ot=j.coordinate,lt=j.hasPayload,ft=j.isAnimationActive,_t=j.offset,At=j.position,Tt=j.reverseDirection,Mt=j.useTranslate3d,pt=j.viewBox,Pt=j.wrapperStyle,$t=getTooltipTranslate({allowEscapeViewBox:tt,coordinate:ot,offsetTopLeft:_t,position:At,reverseDirection:Tt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:Mt,viewBox:pt}),Ot=$t.cssClasses,It=$t.cssProperties,Dt=_objectSpread$E(_objectSpread$E({transition:ft&&_e?"transform ".concat(rt,"ms ").concat(nt):void 0},It),{},{pointerEvents:"none",visibility:!this.state.dismissed&&_e&&lt?"visible":"hidden",position:"absolute",top:0,left:0},Pt);return React$2.createElement("div",{tabIndex:-1,className:Ot,style:Dt,ref:function(Bt){$.wrapperNode=Bt}},it)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function o(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function o(i){return Global[i]},set:function o(i,_){if(typeof i=="string")Global[i]=_;else{var $=Object.keys(i);$&&$.length&&$.forEach(function(j){Global[j]=i[j]})}}};function _typeof$C(o){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$C(o)}function ownKeys$D(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$D(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$D(Object(_),!0).forEach(function($){_defineProperty$A(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$D(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$h(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$B($.key),$)}}function _createClass$h(o,i,_){return i&&_defineProperties$h(o.prototype,i),_&&_defineProperties$h(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$d(o,i,_){return i=_getPrototypeOf$f(i),_possibleConstructorReturn$f(o,_isNativeReflectConstruct$i()?Reflect.construct(i,_||[],_getPrototypeOf$f(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$f(o,i){if(i&&(_typeof$C(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(o)}function _assertThisInitialized$f(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$i(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!o})()}function _getPrototypeOf$f(o){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$f(o)}function _inherits$f(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$f(o,i)}function _setPrototypeOf$f(o,i){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$f(o,i)}function _defineProperty$A(o,i,_){return i=_toPropertyKey$B(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$B(o){var i=_toPrimitive$B(o,"string");return _typeof$C(i)=="symbol"?i:i+""}function _toPrimitive$B(o,i){if(_typeof$C(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$C($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function defaultUniqBy(o){return o.dataKey}function renderContent(o,i){return React$2.isValidElement(o)?React$2.cloneElement(o,i):typeof o=="function"?React$2.createElement(o,i):React$2.createElement(DefaultTooltipContent,i)}var Tooltip=function(o){function i(){return _classCallCheck$h(this,i),_callSuper$d(this,i,arguments)}return _inherits$f(i,o),_createClass$h(i,[{key:"render",value:function(){var $=this,j=this.props,_e=j.active,tt=j.allowEscapeViewBox,rt=j.animationDuration,nt=j.animationEasing,it=j.content,ot=j.coordinate,lt=j.filterNull,ft=j.isAnimationActive,_t=j.offset,At=j.payload,Tt=j.payloadUniqBy,Mt=j.position,pt=j.reverseDirection,Pt=j.useTranslate3d,$t=j.viewBox,Ot=j.wrapperStyle,It=At??[];lt&&It.length&&(It=getUniqPayload(At.filter(function(Lt){return Lt.value!=null&&(Lt.hide!==!0||$.props.includeHidden)}),Tt,defaultUniqBy));var Dt=It.length>0;return React$2.createElement(TooltipBoundingBox,{allowEscapeViewBox:tt,animationDuration:rt,animationEasing:nt,isAnimationActive:ft,active:_e,coordinate:ot,hasPayload:Dt,offset:_t,position:Mt,reverseDirection:pt,useTranslate3d:Pt,viewBox:$t,wrapperStyle:Ot},renderContent(it,_objectSpread$D(_objectSpread$D({},this.props),{},{payload:It})))}}])}(reactExports.PureComponent);_defineProperty$A(Tooltip,"displayName","Tooltip");_defineProperty$A(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(o){for(var i=o.length;i--&&reWhitespace.test(o.charAt(i)););return i}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(o){return o&&o.slice(0,trimmedEndIndex(o)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(o){if(typeof o=="number")return o;if(isSymbol$1(o))return NAN;if(isObject$2(o)){var i=typeof o.valueOf=="function"?o.valueOf():o;o=isObject$2(i)?i+"":i}if(typeof o!="string")return o===0?o:+o;o=baseTrim(o);var _=reIsBinary.test(o);return _||reIsOctal.test(o)?freeParseInt(o.slice(2),_?2:8):reIsBadHex.test(o)?NAN:+o}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(o,i,_){var $,j,_e,tt,rt,nt,it=0,ot=!1,lt=!1,ft=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT$1);i=toNumber$1(i)||0,isObject$1(_)&&(ot=!!_.leading,lt="maxWait"in _,_e=lt?nativeMax$2(toNumber$1(_.maxWait)||0,i):_e,ft="trailing"in _?!!_.trailing:ft);function _t(Dt){var Lt=$,Bt=j;return $=j=void 0,it=Dt,tt=o.apply(Bt,Lt),tt}function At(Dt){return it=Dt,rt=setTimeout(pt,i),ot?_t(Dt):tt}function Tt(Dt){var Lt=Dt-nt,Bt=Dt-it,jt=i-Lt;return lt?nativeMin(jt,_e-Bt):jt}function Mt(Dt){var Lt=Dt-nt,Bt=Dt-it;return nt===void 0||Lt>=i||Lt<0||lt&&Bt>=_e}function pt(){var Dt=now();if(Mt(Dt))return Pt(Dt);rt=setTimeout(pt,Tt(Dt))}function Pt(Dt){return rt=void 0,ft&&$?_t(Dt):($=j=void 0,tt)}function $t(){rt!==void 0&&clearTimeout(rt),it=0,$=nt=j=rt=void 0}function Ot(){return rt===void 0?tt:Pt(now())}function It(){var Dt=now(),Lt=Mt(Dt);if($=arguments,j=this,nt=Dt,Lt){if(rt===void 0)return At(nt);if(lt)return clearTimeout(rt),rt=setTimeout(pt,i),_t(nt)}return rt===void 0&&(rt=setTimeout(pt,i)),tt}return It.cancel=$t,It.flush=Ot,It}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(o,i,_){var $=!0,j=!0;if(typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(_)&&($="leading"in _?!!_.leading:$,j="trailing"in _?!!_.trailing:j),debounce(o,i,{leading:$,maxWait:i,trailing:j})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$B(o){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$B(o)}function ownKeys$C(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$C(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$C(Object(_),!0).forEach(function($){_defineProperty$z(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$C(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$z(o,i,_){return i=_toPropertyKey$A(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$A(o){var i=_toPrimitive$A(o,"string");return _typeof$B(i)=="symbol"?i:i+""}function _toPrimitive$A(o,i){if(_typeof$B(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$B($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray$b(o,i){return _arrayWithHoles$c(o)||_iterableToArrayLimit$b(o,i)||_unsupportedIterableToArray$j(o,i)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$j(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$j(o,i)}}function _arrayLikeToArray$j(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$b(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$c(o){if(Array.isArray(o))return o}var ResponsiveContainer=reactExports.forwardRef(function(o,i){var _=o.aspect,$=o.initialDimension,j=$===void 0?{width:-1,height:-1}:$,_e=o.width,tt=_e===void 0?"100%":_e,rt=o.height,nt=rt===void 0?"100%":rt,it=o.minWidth,ot=it===void 0?0:it,lt=o.minHeight,ft=o.maxHeight,_t=o.children,At=o.debounce,Tt=At===void 0?0:At,Mt=o.id,pt=o.className,Pt=o.onResize,$t=o.style,Ot=$t===void 0?{}:$t,It=reactExports.useRef(null),Dt=reactExports.useRef();Dt.current=Pt,reactExports.useImperativeHandle(i,function(){return Object.defineProperty(It.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),It.current},configurable:!0})});var Lt=reactExports.useState({containerWidth:j.width,containerHeight:j.height}),Bt=_slicedToArray$b(Lt,2),jt=Bt[0],Ut=Bt[1],Gt=reactExports.useCallback(function(Jt,er){Ut(function(Kt){var zt=Math.round(Jt),Ht=Math.round(er);return Kt.containerWidth===zt&&Kt.containerHeight===Ht?Kt:{containerWidth:zt,containerHeight:Ht}})},[]);reactExports.useEffect(function(){var Jt=function(Vt){var Yt,Zt=Vt[0].contentRect,nr=Zt.width,cr=Zt.height;Gt(nr,cr),(Yt=Dt.current)===null||Yt===void 0||Yt.call(Dt,nr,cr)};Tt>0&&(Jt=throttle$1(Jt,Tt,{trailing:!0,leading:!1}));var er=new ResizeObserver(Jt),Kt=It.current.getBoundingClientRect(),zt=Kt.width,Ht=Kt.height;return Gt(zt,Ht),er.observe(It.current),function(){er.disconnect()}},[Gt,Tt]);var qt=reactExports.useMemo(function(){var Jt=jt.containerWidth,er=jt.containerHeight;if(Jt<0||er<0)return null;warn(isPercent(tt)||isPercent(nt),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,tt,nt),warn(!_||_>0,"The aspect(%s) must be greater than zero.",_);var Kt=isPercent(tt)?Jt:tt,zt=isPercent(nt)?er:nt;_&&_>0&&(Kt?zt=Kt/_:zt&&(Kt=zt*_),ft&&zt>ft&&(zt=ft)),warn(Kt>0||zt>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Kt,zt,tt,nt,ot,lt,_);var Ht=!Array.isArray(_t)&&getDisplayName(_t.type).endsWith("Chart");return React$2.Children.map(_t,function(Ft){return React$2.isValidElement(Ft)?reactExports.cloneElement(Ft,_objectSpread$C({width:Kt,height:zt},Ht?{style:_objectSpread$C({height:"100%",width:"100%",maxHeight:zt,maxWidth:Kt},Ft.props.style)}:{})):Ft})},[_,_t,nt,ft,lt,ot,jt,tt]);return React$2.createElement("div",{id:Mt?"".concat(Mt):void 0,className:clsx("recharts-responsive-container",pt),style:_objectSpread$C(_objectSpread$C({},Ot),{},{width:tt,height:nt,minWidth:ot,minHeight:lt,maxHeight:ft}),ref:It},qt)}),Cell=function o(i){return null};Cell.displayName="Cell";function _typeof$A(o){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$A(o)}function ownKeys$B(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$B(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$B(Object(_),!0).forEach(function($){_defineProperty$y(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$B(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$y(o,i,_){return i=_toPropertyKey$z(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$z(o){var i=_toPrimitive$z(o,"string");return _typeof$A(i)=="symbol"?i:i+""}function _toPrimitive$z(o,i){if(_typeof$A(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$A($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(o){var i=_objectSpread$B({},o);return Object.keys(i).forEach(function(_){i[_]||delete i[_]}),i}var getStringSize=function o(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i==null||Global.isSsr)return{width:0,height:0};var $=removeInvalidKeys(_),j=JSON.stringify({text:i,copyStyle:$});if(stringCache.widthCache[j])return stringCache.widthCache[j];try{var _e=document.getElementById(MEASUREMENT_SPAN_ID);_e||(_e=document.createElement("span"),_e.setAttribute("id",MEASUREMENT_SPAN_ID),_e.setAttribute("aria-hidden","true"),document.body.appendChild(_e));var tt=_objectSpread$B(_objectSpread$B({},SPAN_STYLE),$);Object.assign(_e.style,tt),_e.textContent="".concat(i);var rt=_e.getBoundingClientRect(),nt={width:rt.width,height:rt.height};return stringCache.widthCache[j]=nt,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),nt}catch{return{width:0,height:0}}},getOffset=function o(i){return{top:i.top+window.scrollY-document.documentElement.clientTop,left:i.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$z(o){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$z(o)}function _slicedToArray$a(o,i){return _arrayWithHoles$b(o)||_iterableToArrayLimit$a(o,i)||_unsupportedIterableToArray$i(o,i)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$i(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$i(o,i)}}function _arrayLikeToArray$i(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$a(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$b(o){if(Array.isArray(o))return o}function _classCallCheck$g(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$y($.key),$)}}function _createClass$g(o,i,_){return i&&_defineProperties$g(o.prototype,i),_&&_defineProperties$g(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$y(o){var i=_toPrimitive$y(o,"string");return _typeof$z(i)=="symbol"?i:i+""}function _toPrimitive$y(o,i){if(_typeof$z(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$z($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(o,i){return o*CONVERSION_RATES[i]}var DecimalCSS=function(){function o(i,_){_classCallCheck$g(this,o),this.num=i,this.unit=_,this.num=i,this.unit=_,Number.isNaN(i)&&(this.unit=""),_!==""&&!CSS_LENGTH_UNIT_REGEX.test(_)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(_)&&(this.num=convertToPx(i,_),this.unit="px")}return _createClass$g(o,[{key:"add",value:function(_){return this.unit!==_.unit?new o(NaN,""):new o(this.num+_.num,this.unit)}},{key:"subtract",value:function(_){return this.unit!==_.unit?new o(NaN,""):new o(this.num-_.num,this.unit)}},{key:"multiply",value:function(_){return this.unit!==""&&_.unit!==""&&this.unit!==_.unit?new o(NaN,""):new o(this.num*_.num,this.unit||_.unit)}},{key:"divide",value:function(_){return this.unit!==""&&_.unit!==""&&this.unit!==_.unit?new o(NaN,""):new o(this.num/_.num,this.unit||_.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(_){var $,j=($=NUM_SPLIT_REGEX.exec(_))!==null&&$!==void 0?$:[],_e=_slicedToArray$a(j,3),tt=_e[1],rt=_e[2];return new o(parseFloat(tt),rt??"")}}])}();function calculateArithmetic(o){if(o.includes(STR_NAN))return STR_NAN;for(var i=o;i.includes("*")||i.includes("/");){var _,$=(_=MULTIPLY_OR_DIVIDE_REGEX.exec(i))!==null&&_!==void 0?_:[],j=_slicedToArray$a($,4),_e=j[1],tt=j[2],rt=j[3],nt=DecimalCSS.parse(_e??""),it=DecimalCSS.parse(rt??""),ot=tt==="*"?nt.multiply(it):nt.divide(it);if(ot.isNaN())return STR_NAN;i=i.replace(MULTIPLY_OR_DIVIDE_REGEX,ot.toString())}for(;i.includes("+")||/.-\d+(?:\.\d+)?/.test(i);){var lt,ft=(lt=ADD_OR_SUBTRACT_REGEX.exec(i))!==null&&lt!==void 0?lt:[],_t=_slicedToArray$a(ft,4),At=_t[1],Tt=_t[2],Mt=_t[3],pt=DecimalCSS.parse(At??""),Pt=DecimalCSS.parse(Mt??""),$t=Tt==="+"?pt.add(Pt):pt.subtract(Pt);if($t.isNaN())return STR_NAN;i=i.replace(ADD_OR_SUBTRACT_REGEX,$t.toString())}return i}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(o){for(var i=o;i.includes("(");){var _=PARENTHESES_REGEX.exec(i),$=_slicedToArray$a(_,2),j=$[1];i=i.replace(PARENTHESES_REGEX,calculateArithmetic(j))}return i}function evaluateExpression(o){var i=o.replace(/\s+/g,"");return i=calculateParentheses(i),i=calculateArithmetic(i),i}function safeEvaluateExpression(o){try{return evaluateExpression(o)}catch{return STR_NAN}}function reduceCSSCalc(o){var i=safeEvaluateExpression(o.slice(5,-1));return i===STR_NAN?"":i}var _excluded$d=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$o.apply(this,arguments)}function _objectWithoutProperties$d(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$d(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$d(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _slicedToArray$9(o,i){return _arrayWithHoles$a(o)||_iterableToArrayLimit$9(o,i)||_unsupportedIterableToArray$h(o,i)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$h(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$h(o,i)}}function _arrayLikeToArray$h(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$9(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$a(o){if(Array.isArray(o))return o}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function o(i){var _=i.children,$=i.breakAll,j=i.style;try{var _e=[];isNil$1(_)||($?_e=_.toString().split(""):_e=_.toString().split(BREAKING_SPACES));var tt=_e.map(function(nt){return{word:nt,width:getStringSize(nt,j).width}}),rt=$?0:getStringSize("",j).width;return{wordsWithComputedWidth:tt,spaceWidth:rt}}catch{return null}},calculateWordsByLines=function o(i,_,$,j,_e){var tt=i.maxLines,rt=i.children,nt=i.style,it=i.breakAll,ot=isNumber(tt),lt=rt,ft=function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Kt.reduce(function(zt,Ht){var Ft=Ht.word,Vt=Ht.width,Yt=zt[zt.length-1];if(Yt&&(j==null||_e||Yt.width+Vt+$<Number(j)))Yt.words.push(Ft),Yt.width+=Vt+$;else{var Zt={words:[Ft],width:Vt};zt.push(Zt)}return zt},[])},_t=ft(_),At=function(Kt){return Kt.reduce(function(zt,Ht){return zt.width>Ht.width?zt:Ht})};if(!ot)return _t;for(var Tt="",Mt=function(Kt){var zt=lt.slice(0,Kt),Ht=calculateWordWidths({breakAll:it,style:nt,children:zt+Tt}).wordsWithComputedWidth,Ft=ft(Ht),Vt=Ft.length>tt||At(Ft).width>Number(j);return[Vt,Ft]},pt=0,Pt=lt.length-1,$t=0,Ot;pt<=Pt&&$t<=lt.length-1;){var It=Math.floor((pt+Pt)/2),Dt=It-1,Lt=Mt(Dt),Bt=_slicedToArray$9(Lt,2),jt=Bt[0],Ut=Bt[1],Gt=Mt(It),qt=_slicedToArray$9(Gt,1),Jt=qt[0];if(!jt&&!Jt&&(pt=It+1),jt&&Jt&&(Pt=It-1),!jt&&Jt){Ot=Ut;break}$t++}return Ot||_t},getWordsWithoutCalculate=function o(i){var _=isNil$1(i)?[]:i.toString().split(BREAKING_SPACES);return[{words:_}]},getWordsByLines=function o(i){var _=i.width,$=i.scaleToFit,j=i.children,_e=i.style,tt=i.breakAll,rt=i.maxLines;if((_||$)&&!Global.isSsr){var nt,it,ot=calculateWordWidths({breakAll:tt,children:j,style:_e});if(ot){var lt=ot.wordsWithComputedWidth,ft=ot.spaceWidth;nt=lt,it=ft}else return getWordsWithoutCalculate(j);return calculateWordsByLines({breakAll:tt,children:j,maxLines:rt,style:_e},nt,it,_,$)}return getWordsWithoutCalculate(j)},DEFAULT_FILL="#808080",Text=function o(i){var _=i.x,$=_===void 0?0:_,j=i.y,_e=j===void 0?0:j,tt=i.lineHeight,rt=tt===void 0?"1em":tt,nt=i.capHeight,it=nt===void 0?"0.71em":nt,ot=i.scaleToFit,lt=ot===void 0?!1:ot,ft=i.textAnchor,_t=ft===void 0?"start":ft,At=i.verticalAnchor,Tt=At===void 0?"end":At,Mt=i.fill,pt=Mt===void 0?DEFAULT_FILL:Mt,Pt=_objectWithoutProperties$d(i,_excluded$d),$t=reactExports.useMemo(function(){return getWordsByLines({breakAll:Pt.breakAll,children:Pt.children,maxLines:Pt.maxLines,scaleToFit:lt,style:Pt.style,width:Pt.width})},[Pt.breakAll,Pt.children,Pt.maxLines,lt,Pt.style,Pt.width]),Ot=Pt.dx,It=Pt.dy,Dt=Pt.angle,Lt=Pt.className,Bt=Pt.breakAll,jt=_objectWithoutProperties$d(Pt,_excluded2$5);if(!isNumOrStr($)||!isNumOrStr(_e))return null;var Ut=$+(isNumber(Ot)?Ot:0),Gt=_e+(isNumber(It)?It:0),qt;switch(Tt){case"start":qt=reduceCSSCalc("calc(".concat(it,")"));break;case"middle":qt=reduceCSSCalc("calc(".concat(($t.length-1)/2," * -").concat(rt," + (").concat(it," / 2))"));break;default:qt=reduceCSSCalc("calc(".concat($t.length-1," * -").concat(rt,")"));break}var Jt=[];if(lt){var er=$t[0].width,Kt=Pt.width;Jt.push("scale(".concat((isNumber(Kt)?Kt/er:1)/er,")"))}return Dt&&Jt.push("rotate(".concat(Dt,", ").concat(Ut,", ").concat(Gt,")")),Jt.length&&(jt.transform=Jt.join(" ")),React$2.createElement("text",_extends$o({},filterProps(jt,!0),{x:Ut,y:Gt,className:clsx("recharts-text",Lt),textAnchor:_t,fill:pt.includes("url")?DEFAULT_FILL:pt}),$t.map(function(zt,Ht){var Ft=zt.words.join(Bt?"":" ");return React$2.createElement("tspan",{x:Ut,dy:Ht===0?qt:rt,key:"".concat(Ft,"-").concat(Ht)},Ft)}))};function ascending(o,i){return o==null||i==null?NaN:o<i?-1:o>i?1:o>=i?0:NaN}function descending(o,i){return o==null||i==null?NaN:i<o?-1:i>o?1:i>=o?0:NaN}function bisector(o){let i,_,$;o.length!==2?(i=ascending,_=(rt,nt)=>ascending(o(rt),nt),$=(rt,nt)=>o(rt)-nt):(i=o===ascending||o===descending?o:zero$1,_=o,$=o);function j(rt,nt,it=0,ot=rt.length){if(it<ot){if(i(nt,nt)!==0)return ot;do{const lt=it+ot>>>1;_(rt[lt],nt)<0?it=lt+1:ot=lt}while(it<ot)}return it}function _e(rt,nt,it=0,ot=rt.length){if(it<ot){if(i(nt,nt)!==0)return ot;do{const lt=it+ot>>>1;_(rt[lt],nt)<=0?it=lt+1:ot=lt}while(it<ot)}return it}function tt(rt,nt,it=0,ot=rt.length){const lt=j(rt,nt,it,ot-1);return lt>it&&$(rt[lt-1],nt)>-$(rt[lt],nt)?lt-1:lt}return{left:j,center:tt,right:_e}}function zero$1(){return 0}function number$2(o){return o===null?NaN:+o}function*numbers(o,i){if(i===void 0)for(let _ of o)_!=null&&(_=+_)>=_&&(yield _);else{let _=-1;for(let $ of o)($=i($,++_,o))!=null&&($=+$)>=$&&(yield $)}}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;class InternMap extends Map{constructor(i,_=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:_}}),i!=null)for(const[$,j]of i)this.set($,j)}get(i){return super.get(intern_get(this,i))}has(i){return super.has(intern_get(this,i))}set(i,_){return super.set(intern_set(this,i),_)}delete(i){return super.delete(intern_delete(this,i))}}function intern_get({_intern:o,_key:i},_){const $=i(_);return o.has($)?o.get($):_}function intern_set({_intern:o,_key:i},_){const $=i(_);return o.has($)?o.get($):(o.set($,_),_)}function intern_delete({_intern:o,_key:i},_){const $=i(_);return o.has($)&&(_=o.get($),o.delete($)),_}function keyof(o){return o!==null&&typeof o=="object"?o.valueOf():o}function compareDefined(o=ascending){if(o===ascending)return ascendingDefined;if(typeof o!="function")throw new TypeError("compare is not a function");return(i,_)=>{const $=o(i,_);return $||$===0?$:(o(_,_)===0)-(o(i,i)===0)}}function ascendingDefined(o,i){return(o==null||!(o>=o))-(i==null||!(i>=i))||(o<i?-1:o>i?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(o,i,_){const $=(i-o)/Math.max(0,_),j=Math.floor(Math.log10($)),_e=$/Math.pow(10,j),tt=_e>=e10?10:_e>=e5?5:_e>=e2?2:1;let rt,nt,it;return j<0?(it=Math.pow(10,-j)/tt,rt=Math.round(o*it),nt=Math.round(i*it),rt/it<o&&++rt,nt/it>i&&--nt,it=-it):(it=Math.pow(10,j)*tt,rt=Math.round(o/it),nt=Math.round(i/it),rt*it<o&&++rt,nt*it>i&&--nt),nt<rt&&.5<=_&&_<2?tickSpec(o,i,_*2):[rt,nt,it]}function ticks(o,i,_){if(i=+i,o=+o,_=+_,!(_>0))return[];if(o===i)return[o];const $=i<o,[j,_e,tt]=$?tickSpec(i,o,_):tickSpec(o,i,_);if(!(_e>=j))return[];const rt=_e-j+1,nt=new Array(rt);if($)if(tt<0)for(let it=0;it<rt;++it)nt[it]=(_e-it)/-tt;else for(let it=0;it<rt;++it)nt[it]=(_e-it)*tt;else if(tt<0)for(let it=0;it<rt;++it)nt[it]=(j+it)/-tt;else for(let it=0;it<rt;++it)nt[it]=(j+it)*tt;return nt}function tickIncrement(o,i,_){return i=+i,o=+o,_=+_,tickSpec(o,i,_)[2]}function tickStep(o,i,_){i=+i,o=+o,_=+_;const $=i<o,j=$?tickIncrement(i,o,_):tickIncrement(o,i,_);return($?-1:1)*(j<0?1/-j:j)}function max$2(o,i){let _;if(i===void 0)for(const $ of o)$!=null&&(_<$||_===void 0&&$>=$)&&(_=$);else{let $=-1;for(let j of o)(j=i(j,++$,o))!=null&&(_<j||_===void 0&&j>=j)&&(_=j)}return _}function min$2(o,i){let _;if(i===void 0)for(const $ of o)$!=null&&(_>$||_===void 0&&$>=$)&&(_=$);else{let $=-1;for(let j of o)(j=i(j,++$,o))!=null&&(_>j||_===void 0&&j>=j)&&(_=j)}return _}function quickselect(o,i,_=0,$=1/0,j){if(i=Math.floor(i),_=Math.floor(Math.max(0,_)),$=Math.floor(Math.min(o.length-1,$)),!(_<=i&&i<=$))return o;for(j=j===void 0?ascendingDefined:compareDefined(j);$>_;){if($-_>600){const nt=$-_+1,it=i-_+1,ot=Math.log(nt),lt=.5*Math.exp(2*ot/3),ft=.5*Math.sqrt(ot*lt*(nt-lt)/nt)*(it-nt/2<0?-1:1),_t=Math.max(_,Math.floor(i-it*lt/nt+ft)),At=Math.min($,Math.floor(i+(nt-it)*lt/nt+ft));quickselect(o,i,_t,At,j)}const _e=o[i];let tt=_,rt=$;for(swap(o,_,i),j(o[$],_e)>0&&swap(o,_,$);tt<rt;){for(swap(o,tt,rt),++tt,--rt;j(o[tt],_e)<0;)++tt;for(;j(o[rt],_e)>0;)--rt}j(o[_],_e)===0?swap(o,_,rt):(++rt,swap(o,rt,$)),rt<=i&&(_=rt+1),i<=rt&&($=rt-1)}return o}function swap(o,i,_){const $=o[i];o[i]=o[_],o[_]=$}function quantile$1(o,i,_){if(o=Float64Array.from(numbers(o,_)),!(!($=o.length)||isNaN(i=+i))){if(i<=0||$<2)return min$2(o);if(i>=1)return max$2(o);var $,j=($-1)*i,_e=Math.floor(j),tt=max$2(quickselect(o,_e).subarray(0,_e+1)),rt=min$2(o.subarray(_e+1));return tt+(rt-tt)*(j-_e)}}function quantileSorted(o,i,_=number$2){if(!(!($=o.length)||isNaN(i=+i))){if(i<=0||$<2)return+_(o[0],0,o);if(i>=1)return+_(o[$-1],$-1,o);var $,j=($-1)*i,_e=Math.floor(j),tt=+_(o[_e],_e,o),rt=+_(o[_e+1],_e+1,o);return tt+(rt-tt)*(j-_e)}}function range$3(o,i,_){o=+o,i=+i,_=(j=arguments.length)<2?(i=o,o=0,1):j<3?1:+_;for(var $=-1,j=Math.max(0,Math.ceil((i-o)/_))|0,_e=new Array(j);++$<j;)_e[$]=o+$*_;return _e}function initRange(o,i){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(i).domain(o);break}return this}function initInterpolator(o,i){switch(arguments.length){case 0:break;case 1:{typeof o=="function"?this.interpolator(o):this.range(o);break}default:{this.domain(o),typeof i=="function"?this.interpolator(i):this.range(i);break}}return this}const implicit=Symbol("implicit");function ordinal(){var o=new InternMap,i=[],_=[],$=implicit;function j(_e){let tt=o.get(_e);if(tt===void 0){if($!==implicit)return $;o.set(_e,tt=i.push(_e)-1)}return _[tt%_.length]}return j.domain=function(_e){if(!arguments.length)return i.slice();i=[],o=new InternMap;for(const tt of _e)o.has(tt)||o.set(tt,i.push(tt)-1);return j},j.range=function(_e){return arguments.length?(_=Array.from(_e),j):_.slice()},j.unknown=function(_e){return arguments.length?($=_e,j):$},j.copy=function(){return ordinal(i,_).unknown($)},initRange.apply(j,arguments),j}function band(){var o=ordinal().unknown(void 0),i=o.domain,_=o.range,$=0,j=1,_e,tt,rt=!1,nt=0,it=0,ot=.5;delete o.unknown;function lt(){var ft=i().length,_t=j<$,At=_t?j:$,Tt=_t?$:j;_e=(Tt-At)/Math.max(1,ft-nt+it*2),rt&&(_e=Math.floor(_e)),At+=(Tt-At-_e*(ft-nt))*ot,tt=_e*(1-nt),rt&&(At=Math.round(At),tt=Math.round(tt));var Mt=range$3(ft).map(function(pt){return At+_e*pt});return _(_t?Mt.reverse():Mt)}return o.domain=function(ft){return arguments.length?(i(ft),lt()):i()},o.range=function(ft){return arguments.length?([$,j]=ft,$=+$,j=+j,lt()):[$,j]},o.rangeRound=function(ft){return[$,j]=ft,$=+$,j=+j,rt=!0,lt()},o.bandwidth=function(){return tt},o.step=function(){return _e},o.round=function(ft){return arguments.length?(rt=!!ft,lt()):rt},o.padding=function(ft){return arguments.length?(nt=Math.min(1,it=+ft),lt()):nt},o.paddingInner=function(ft){return arguments.length?(nt=Math.min(1,ft),lt()):nt},o.paddingOuter=function(ft){return arguments.length?(it=+ft,lt()):it},o.align=function(ft){return arguments.length?(ot=Math.max(0,Math.min(1,ft)),lt()):ot},o.copy=function(){return band(i(),[$,j]).round(rt).paddingInner(nt).paddingOuter(it).align(ot)},initRange.apply(lt(),arguments)}function pointish(o){var i=o.copy;return o.padding=o.paddingOuter,delete o.paddingInner,delete o.paddingOuter,o.copy=function(){return pointish(i())},o}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(o,i,_){o.prototype=i.prototype=_,_.constructor=o}function extend(o,i){var _=Object.create(o.prototype);for(var $ in i)_[$]=i[$];return _}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var i,_;return o=(o+"").trim().toLowerCase(),(i=reHex.exec(o))?(_=i[1].length,i=parseInt(i[1],16),_===6?rgbn(i):_===3?new Rgb(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):_===8?rgba(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):_===4?rgba(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=reRgbInteger.exec(o))?new Rgb(i[1],i[2],i[3],1):(i=reRgbPercent.exec(o))?new Rgb(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=reRgbaInteger.exec(o))?rgba(i[1],i[2],i[3],i[4]):(i=reRgbaPercent.exec(o))?rgba(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=reHslPercent.exec(o))?hsla(i[1],i[2]/100,i[3]/100,1):(i=reHslaPercent.exec(o))?hsla(i[1],i[2]/100,i[3]/100,i[4]):named.hasOwnProperty(o)?rgbn(named[o]):o==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,o&255,1)}function rgba(o,i,_,$){return $<=0&&(o=i=_=NaN),new Rgb(o,i,_,$)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb$1(o,i,_,$){return arguments.length===1?rgbConvert(o):new Rgb(o,i,_,$??1)}function Rgb(o,i,_,$){this.r=+o,this.g=+i,this.b=+_,this.opacity=+$}define(Rgb,rgb$1,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const o=clampa(this.opacity);return`${o===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${o===1?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return o=clampi(o),(o<16?"0":"")+o.toString(16)}function hsla(o,i,_,$){return $<=0?o=i=_=NaN:_<=0||_>=1?o=i=NaN:i<=0&&(o=NaN),new Hsl(o,i,_,$)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var i=o.r/255,_=o.g/255,$=o.b/255,j=Math.min(i,_,$),_e=Math.max(i,_,$),tt=NaN,rt=_e-j,nt=(_e+j)/2;return rt?(i===_e?tt=(_-$)/rt+(_<$)*6:_===_e?tt=($-i)/rt+2:tt=(i-_)/rt+4,rt/=nt<.5?_e+j:2-_e-j,tt*=60):rt=nt>0&&nt<1?0:tt,new Hsl(tt,rt,nt,o.opacity)}function hsl(o,i,_,$){return arguments.length===1?hslConvert(o):new Hsl(o,i,_,$??1)}function Hsl(o,i,_,$){this.h=+o,this.s=+i,this.l=+_,this.opacity=+$}define(Hsl,hsl,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,i=isNaN(o)||isNaN(this.s)?0:this.s,_=this.l,$=_+(_<.5?_:1-_)*i,j=2*_-$;return new Rgb(hsl2rgb(o>=240?o-240:o+120,j,$),hsl2rgb(o,j,$),hsl2rgb(o<120?o+240:o-120,j,$),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=clampa(this.opacity);return`${o===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${o===1?")":`, ${o})`}`}}));function clamph(o){return o=(o||0)%360,o<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,i,_){return(o<60?i+(_-i)*o/60:o<180?_:o<240?i+(_-i)*(240-o)/60:i)*255}const constant=o=>()=>o;function linear$1(o,i){return function(_){return o+_*i}}function exponential(o,i,_){return o=Math.pow(o,_),i=Math.pow(i,_)-o,_=1/_,function($){return Math.pow(o+$*i,_)}}function gamma(o){return(o=+o)==1?nogamma:function(i,_){return _-i?exponential(i,_,o):constant(isNaN(i)?_:i)}}function nogamma(o,i){var _=i-o;return _?linear$1(o,_):constant(isNaN(o)?i:o)}const rgb=function o(i){var _=gamma(i);function $(j,_e){var tt=_((j=rgb$1(j)).r,(_e=rgb$1(_e)).r),rt=_(j.g,_e.g),nt=_(j.b,_e.b),it=nogamma(j.opacity,_e.opacity);return function(ot){return j.r=tt(ot),j.g=rt(ot),j.b=nt(ot),j.opacity=it(ot),j+""}}return $.gamma=o,$}(1);function numberArray(o,i){i||(i=[]);var _=o?Math.min(i.length,o.length):0,$=i.slice(),j;return function(_e){for(j=0;j<_;++j)$[j]=o[j]*(1-_e)+i[j]*_e;return $}}function isNumberArray(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function genericArray(o,i){var _=i?i.length:0,$=o?Math.min(_,o.length):0,j=new Array($),_e=new Array(_),tt;for(tt=0;tt<$;++tt)j[tt]=interpolate(o[tt],i[tt]);for(;tt<_;++tt)_e[tt]=i[tt];return function(rt){for(tt=0;tt<$;++tt)_e[tt]=j[tt](rt);return _e}}function date$1(o,i){var _=new Date;return o=+o,i=+i,function($){return _.setTime(o*(1-$)+i*$),_}}function interpolateNumber$1(o,i){return o=+o,i=+i,function(_){return o*(1-_)+i*_}}function object(o,i){var _={},$={},j;(o===null||typeof o!="object")&&(o={}),(i===null||typeof i!="object")&&(i={});for(j in i)j in o?_[j]=interpolate(o[j],i[j]):$[j]=i[j];return function(_e){for(j in _)$[j]=_[j](_e);return $}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(o){return function(){return o}}function one(o){return function(i){return o(i)+""}}function string(o,i){var _=reA.lastIndex=reB.lastIndex=0,$,j,_e,tt=-1,rt=[],nt=[];for(o=o+"",i=i+"";($=reA.exec(o))&&(j=reB.exec(i));)(_e=j.index)>_&&(_e=i.slice(_,_e),rt[tt]?rt[tt]+=_e:rt[++tt]=_e),($=$[0])===(j=j[0])?rt[tt]?rt[tt]+=j:rt[++tt]=j:(rt[++tt]=null,nt.push({i:tt,x:interpolateNumber$1($,j)})),_=reB.lastIndex;return _<i.length&&(_e=i.slice(_),rt[tt]?rt[tt]+=_e:rt[++tt]=_e),rt.length<2?nt[0]?one(nt[0].x):zero(i):(i=nt.length,function(it){for(var ot=0,lt;ot<i;++ot)rt[(lt=nt[ot]).i]=lt.x(it);return rt.join("")})}function interpolate(o,i){var _=typeof i,$;return i==null||_==="boolean"?constant(i):(_==="number"?interpolateNumber$1:_==="string"?($=color(i))?(i=$,rgb):string:i instanceof color?rgb:i instanceof Date?date$1:isNumberArray(i)?numberArray:Array.isArray(i)?genericArray:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?object:interpolateNumber$1)(o,i)}function interpolateRound(o,i){return o=+o,i=+i,function(_){return Math.round(o*(1-_)+i*_)}}function piecewise(o,i){i===void 0&&(i=o,o=interpolate);for(var _=0,$=i.length-1,j=i[0],_e=new Array($<0?0:$);_<$;)_e[_]=o(j,j=i[++_]);return function(tt){var rt=Math.max(0,Math.min($-1,Math.floor(tt*=$)));return _e[rt](tt-rt)}}function constants(o){return function(){return o}}function number$1(o){return+o}var unit=[0,1];function identity$6(o){return o}function normalize(o,i){return(i-=o=+o)?function(_){return(_-o)/i}:constants(isNaN(i)?NaN:.5)}function clamper(o,i){var _;return o>i&&(_=o,o=i,i=_),function($){return Math.max(o,Math.min(i,$))}}function bimap(o,i,_){var $=o[0],j=o[1],_e=i[0],tt=i[1];return j<$?($=normalize(j,$),_e=_(tt,_e)):($=normalize($,j),_e=_(_e,tt)),function(rt){return _e($(rt))}}function polymap(o,i,_){var $=Math.min(o.length,i.length)-1,j=new Array($),_e=new Array($),tt=-1;for(o[$]<o[0]&&(o=o.slice().reverse(),i=i.slice().reverse());++tt<$;)j[tt]=normalize(o[tt],o[tt+1]),_e[tt]=_(i[tt],i[tt+1]);return function(rt){var nt=bisect(o,rt,1,$)-1;return _e[nt](j[nt](rt))}}function copy$2(o,i){return i.domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown())}function transformer$2(){var o=unit,i=unit,_=interpolate,$,j,_e,tt=identity$6,rt,nt,it;function ot(){var ft=Math.min(o.length,i.length);return tt!==identity$6&&(tt=clamper(o[0],o[ft-1])),rt=ft>2?polymap:bimap,nt=it=null,lt}function lt(ft){return ft==null||isNaN(ft=+ft)?_e:(nt||(nt=rt(o.map($),i,_)))($(tt(ft)))}return lt.invert=function(ft){return tt(j((it||(it=rt(i,o.map($),interpolateNumber$1)))(ft)))},lt.domain=function(ft){return arguments.length?(o=Array.from(ft,number$1),ot()):o.slice()},lt.range=function(ft){return arguments.length?(i=Array.from(ft),ot()):i.slice()},lt.rangeRound=function(ft){return i=Array.from(ft),_=interpolateRound,ot()},lt.clamp=function(ft){return arguments.length?(tt=ft?!0:identity$6,ot()):tt!==identity$6},lt.interpolate=function(ft){return arguments.length?(_=ft,ot()):_},lt.unknown=function(ft){return arguments.length?(_e=ft,lt):_e},function(ft,_t){return $=ft,j=_t,ot()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(o){return Math.abs(o=Math.round(o))>=1e21?o.toLocaleString("en").replace(/,/g,""):o.toString(10)}function formatDecimalParts(o,i){if((_=(o=i?o.toExponential(i-1):o.toExponential()).indexOf("e"))<0)return null;var _,$=o.slice(0,_);return[$.length>1?$[0]+$.slice(2):$,+o.slice(_+1)]}function exponent(o){return o=formatDecimalParts(Math.abs(o)),o?o[1]:NaN}function formatGroup(o,i){return function(_,$){for(var j=_.length,_e=[],tt=0,rt=o[0],nt=0;j>0&&rt>0&&(nt+rt+1>$&&(rt=Math.max(1,$-nt)),_e.push(_.substring(j-=rt,j+rt)),!((nt+=rt+1)>$));)rt=o[tt=(tt+1)%o.length];return _e.reverse().join(i)}}function formatNumerals(o){return function(i){return i.replace(/[0-9]/g,function(_){return o[+_]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(o){if(!(i=re.exec(o)))throw new Error("invalid format: "+o);var i;return new FormatSpecifier({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(o){this.fill=o.fill===void 0?" ":o.fill+"",this.align=o.align===void 0?">":o.align+"",this.sign=o.sign===void 0?"-":o.sign+"",this.symbol=o.symbol===void 0?"":o.symbol+"",this.zero=!!o.zero,this.width=o.width===void 0?void 0:+o.width,this.comma=!!o.comma,this.precision=o.precision===void 0?void 0:+o.precision,this.trim=!!o.trim,this.type=o.type===void 0?"":o.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(o){e:for(var i=o.length,_=1,$=-1,j;_<i;++_)switch(o[_]){case".":$=j=_;break;case"0":$===0&&($=_),j=_;break;default:if(!+o[_])break e;$>0&&($=0);break}return $>0?o.slice(0,$)+o.slice(j+1):o}var prefixExponent;function formatPrefixAuto(o,i){var _=formatDecimalParts(o,i);if(!_)return o+"";var $=_[0],j=_[1],_e=j-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(j/3)))*3)+1,tt=$.length;return _e===tt?$:_e>tt?$+new Array(_e-tt+1).join("0"):_e>0?$.slice(0,_e)+"."+$.slice(_e):"0."+new Array(1-_e).join("0")+formatDecimalParts(o,Math.max(0,i+_e-1))[0]}function formatRounded(o,i){var _=formatDecimalParts(o,i);if(!_)return o+"";var $=_[0],j=_[1];return j<0?"0."+new Array(-j).join("0")+$:$.length>j+1?$.slice(0,j+1)+"."+$.slice(j+1):$+new Array(j-$.length+2).join("0")}const formatTypes={"%":(o,i)=>(o*100).toFixed(i),b:o=>Math.round(o).toString(2),c:o=>o+"",d:formatDecimal,e:(o,i)=>o.toExponential(i),f:(o,i)=>o.toFixed(i),g:(o,i)=>o.toPrecision(i),o:o=>Math.round(o).toString(8),p:(o,i)=>formatRounded(o*100,i),r:formatRounded,s:formatPrefixAuto,X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};function identity$5(o){return o}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(o){var i=o.grouping===void 0||o.thousands===void 0?identity$5:formatGroup(map$3.call(o.grouping,Number),o.thousands+""),_=o.currency===void 0?"":o.currency[0]+"",$=o.currency===void 0?"":o.currency[1]+"",j=o.decimal===void 0?".":o.decimal+"",_e=o.numerals===void 0?identity$5:formatNumerals(map$3.call(o.numerals,String)),tt=o.percent===void 0?"%":o.percent+"",rt=o.minus===void 0?"":o.minus+"",nt=o.nan===void 0?"NaN":o.nan+"";function it(lt){lt=formatSpecifier(lt);var ft=lt.fill,_t=lt.align,At=lt.sign,Tt=lt.symbol,Mt=lt.zero,pt=lt.width,Pt=lt.comma,$t=lt.precision,Ot=lt.trim,It=lt.type;It==="n"?(Pt=!0,It="g"):formatTypes[It]||($t===void 0&&($t=12),Ot=!0,It="g"),(Mt||ft==="0"&&_t==="=")&&(Mt=!0,ft="0",_t="=");var Dt=Tt==="$"?_:Tt==="#"&&/[boxX]/.test(It)?"0"+It.toLowerCase():"",Lt=Tt==="$"?$:/[%p]/.test(It)?tt:"",Bt=formatTypes[It],jt=/[defgprs%]/.test(It);$t=$t===void 0?6:/[gprs]/.test(It)?Math.max(1,Math.min(21,$t)):Math.max(0,Math.min(20,$t));function Ut(Gt){var qt=Dt,Jt=Lt,er,Kt,zt;if(It==="c")Jt=Bt(Gt)+Jt,Gt="";else{Gt=+Gt;var Ht=Gt<0||1/Gt<0;if(Gt=isNaN(Gt)?nt:Bt(Math.abs(Gt),$t),Ot&&(Gt=formatTrim(Gt)),Ht&&+Gt==0&&At!=="+"&&(Ht=!1),qt=(Ht?At==="("?At:rt:At==="-"||At==="("?"":At)+qt,Jt=(It==="s"?prefixes[8+prefixExponent/3]:"")+Jt+(Ht&&At==="("?")":""),jt){for(er=-1,Kt=Gt.length;++er<Kt;)if(zt=Gt.charCodeAt(er),48>zt||zt>57){Jt=(zt===46?j+Gt.slice(er+1):Gt.slice(er))+Jt,Gt=Gt.slice(0,er);break}}}Pt&&!Mt&&(Gt=i(Gt,1/0));var Ft=qt.length+Gt.length+Jt.length,Vt=Ft<pt?new Array(pt-Ft+1).join(ft):"";switch(Pt&&Mt&&(Gt=i(Vt+Gt,Vt.length?pt-Jt.length:1/0),Vt=""),_t){case"<":Gt=qt+Gt+Jt+Vt;break;case"=":Gt=qt+Vt+Gt+Jt;break;case"^":Gt=Vt.slice(0,Ft=Vt.length>>1)+qt+Gt+Jt+Vt.slice(Ft);break;default:Gt=Vt+qt+Gt+Jt;break}return _e(Gt)}return Ut.toString=function(){return lt+""},Ut}function ot(lt,ft){var _t=it((lt=formatSpecifier(lt),lt.type="f",lt)),At=Math.max(-8,Math.min(8,Math.floor(exponent(ft)/3)))*3,Tt=Math.pow(10,-At),Mt=prefixes[8+At/3];return function(pt){return _t(Tt*pt)+Mt}}return{format:it,formatPrefix:ot}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(o){return locale$1=formatLocale$1(o),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(o){return Math.max(0,-exponent(Math.abs(o)))}function precisionPrefix(o,i){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(i)/3)))*3-exponent(Math.abs(o)))}function precisionRound(o,i){return o=Math.abs(o),i=Math.abs(i)-o,Math.max(0,exponent(i)-exponent(o))+1}function tickFormat(o,i,_,$){var j=tickStep(o,i,_),_e;switch($=formatSpecifier($??",f"),$.type){case"s":{var tt=Math.max(Math.abs(o),Math.abs(i));return $.precision==null&&!isNaN(_e=precisionPrefix(j,tt))&&($.precision=_e),formatPrefix($,tt)}case"":case"e":case"g":case"p":case"r":{$.precision==null&&!isNaN(_e=precisionRound(j,Math.max(Math.abs(o),Math.abs(i))))&&($.precision=_e-($.type==="e"));break}case"f":case"%":{$.precision==null&&!isNaN(_e=precisionFixed(j))&&($.precision=_e-($.type==="%")*2);break}}return format($)}function linearish(o){var i=o.domain;return o.ticks=function(_){var $=i();return ticks($[0],$[$.length-1],_??10)},o.tickFormat=function(_,$){var j=i();return tickFormat(j[0],j[j.length-1],_??10,$)},o.nice=function(_){_==null&&(_=10);var $=i(),j=0,_e=$.length-1,tt=$[j],rt=$[_e],nt,it,ot=10;for(rt<tt&&(it=tt,tt=rt,rt=it,it=j,j=_e,_e=it);ot-- >0;){if(it=tickIncrement(tt,rt,_),it===nt)return $[j]=tt,$[_e]=rt,i($);if(it>0)tt=Math.floor(tt/it)*it,rt=Math.ceil(rt/it)*it;else if(it<0)tt=Math.ceil(tt*it)/it,rt=Math.floor(rt*it)/it;else break;nt=it}return o},o}function linear(){var o=continuous();return o.copy=function(){return copy$2(o,linear())},initRange.apply(o,arguments),linearish(o)}function identity$4(o){var i;function _($){return $==null||isNaN($=+$)?i:$}return _.invert=_,_.domain=_.range=function($){return arguments.length?(o=Array.from($,number$1),_):o.slice()},_.unknown=function($){return arguments.length?(i=$,_):i},_.copy=function(){return identity$4(o).unknown(i)},o=arguments.length?Array.from(o,number$1):[0,1],linearish(_)}function nice(o,i){o=o.slice();var _=0,$=o.length-1,j=o[_],_e=o[$],tt;return _e<j&&(tt=_,_=$,$=tt,tt=j,j=_e,_e=tt),o[_]=i.floor(j),o[$]=i.ceil(_e),o}function transformLog(o){return Math.log(o)}function transformExp(o){return Math.exp(o)}function transformLogn(o){return-Math.log(-o)}function transformExpn(o){return-Math.exp(-o)}function pow10(o){return isFinite(o)?+("1e"+o):o<0?0:o}function powp(o){return o===10?pow10:o===Math.E?Math.exp:i=>Math.pow(o,i)}function logp(o){return o===Math.E?Math.log:o===10&&Math.log10||o===2&&Math.log2||(o=Math.log(o),i=>Math.log(i)/o)}function reflect(o){return(i,_)=>-o(-i,_)}function loggish(o){const i=o(transformLog,transformExp),_=i.domain;let $=10,j,_e;function tt(){return j=logp($),_e=powp($),_()[0]<0?(j=reflect(j),_e=reflect(_e),o(transformLogn,transformExpn)):o(transformLog,transformExp),i}return i.base=function(rt){return arguments.length?($=+rt,tt()):$},i.domain=function(rt){return arguments.length?(_(rt),tt()):_()},i.ticks=rt=>{const nt=_();let it=nt[0],ot=nt[nt.length-1];const lt=ot<it;lt&&([it,ot]=[ot,it]);let ft=j(it),_t=j(ot),At,Tt;const Mt=rt==null?10:+rt;let pt=[];if(!($%1)&&_t-ft<Mt){if(ft=Math.floor(ft),_t=Math.ceil(_t),it>0){for(;ft<=_t;++ft)for(At=1;At<$;++At)if(Tt=ft<0?At/_e(-ft):At*_e(ft),!(Tt<it)){if(Tt>ot)break;pt.push(Tt)}}else for(;ft<=_t;++ft)for(At=$-1;At>=1;--At)if(Tt=ft>0?At/_e(-ft):At*_e(ft),!(Tt<it)){if(Tt>ot)break;pt.push(Tt)}pt.length*2<Mt&&(pt=ticks(it,ot,Mt))}else pt=ticks(ft,_t,Math.min(_t-ft,Mt)).map(_e);return lt?pt.reverse():pt},i.tickFormat=(rt,nt)=>{if(rt==null&&(rt=10),nt==null&&(nt=$===10?"s":","),typeof nt!="function"&&(!($%1)&&(nt=formatSpecifier(nt)).precision==null&&(nt.trim=!0),nt=format(nt)),rt===1/0)return nt;const it=Math.max(1,$*rt/i.ticks().length);return ot=>{let lt=ot/_e(Math.round(j(ot)));return lt*$<$-.5&&(lt*=$),lt<=it?nt(ot):""}},i.nice=()=>_(nice(_(),{floor:rt=>_e(Math.floor(j(rt))),ceil:rt=>_e(Math.ceil(j(rt)))})),i}function log(){const o=loggish(transformer$2()).domain([1,10]);return o.copy=()=>copy$2(o,log()).base(o.base()),initRange.apply(o,arguments),o}function transformSymlog(o){return function(i){return Math.sign(i)*Math.log1p(Math.abs(i/o))}}function transformSymexp(o){return function(i){return Math.sign(i)*Math.expm1(Math.abs(i))*o}}function symlogish(o){var i=1,_=o(transformSymlog(i),transformSymexp(i));return _.constant=function($){return arguments.length?o(transformSymlog(i=+$),transformSymexp(i)):i},linearish(_)}function symlog(){var o=symlogish(transformer$2());return o.copy=function(){return copy$2(o,symlog()).constant(o.constant())},initRange.apply(o,arguments)}function transformPow(o){return function(i){return i<0?-Math.pow(-i,o):Math.pow(i,o)}}function transformSqrt(o){return o<0?-Math.sqrt(-o):Math.sqrt(o)}function transformSquare(o){return o<0?-o*o:o*o}function powish(o){var i=o(identity$6,identity$6),_=1;function $(){return _===1?o(identity$6,identity$6):_===.5?o(transformSqrt,transformSquare):o(transformPow(_),transformPow(1/_))}return i.exponent=function(j){return arguments.length?(_=+j,$()):_},linearish(i)}function pow(){var o=powish(transformer$2());return o.copy=function(){return copy$2(o,pow()).exponent(o.exponent())},initRange.apply(o,arguments),o}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(o){return Math.sign(o)*o*o}function unsquare(o){return Math.sign(o)*Math.sqrt(Math.abs(o))}function radial(){var o=continuous(),i=[0,1],_=!1,$;function j(_e){var tt=unsquare(o(_e));return isNaN(tt)?$:_?Math.round(tt):tt}return j.invert=function(_e){return o.invert(square(_e))},j.domain=function(_e){return arguments.length?(o.domain(_e),j):o.domain()},j.range=function(_e){return arguments.length?(o.range((i=Array.from(_e,number$1)).map(square)),j):i.slice()},j.rangeRound=function(_e){return j.range(_e).round(!0)},j.round=function(_e){return arguments.length?(_=!!_e,j):_},j.clamp=function(_e){return arguments.length?(o.clamp(_e),j):o.clamp()},j.unknown=function(_e){return arguments.length?($=_e,j):$},j.copy=function(){return radial(o.domain(),i).round(_).clamp(o.clamp()).unknown($)},initRange.apply(j,arguments),linearish(j)}function quantile(){var o=[],i=[],_=[],$;function j(){var tt=0,rt=Math.max(1,i.length);for(_=new Array(rt-1);++tt<rt;)_[tt-1]=quantileSorted(o,tt/rt);return _e}function _e(tt){return tt==null||isNaN(tt=+tt)?$:i[bisect(_,tt)]}return _e.invertExtent=function(tt){var rt=i.indexOf(tt);return rt<0?[NaN,NaN]:[rt>0?_[rt-1]:o[0],rt<_.length?_[rt]:o[o.length-1]]},_e.domain=function(tt){if(!arguments.length)return o.slice();o=[];for(let rt of tt)rt!=null&&!isNaN(rt=+rt)&&o.push(rt);return o.sort(ascending),j()},_e.range=function(tt){return arguments.length?(i=Array.from(tt),j()):i.slice()},_e.unknown=function(tt){return arguments.length?($=tt,_e):$},_e.quantiles=function(){return _.slice()},_e.copy=function(){return quantile().domain(o).range(i).unknown($)},initRange.apply(_e,arguments)}function quantize(){var o=0,i=1,_=1,$=[.5],j=[0,1],_e;function tt(nt){return nt!=null&&nt<=nt?j[bisect($,nt,0,_)]:_e}function rt(){var nt=-1;for($=new Array(_);++nt<_;)$[nt]=((nt+1)*i-(nt-_)*o)/(_+1);return tt}return tt.domain=function(nt){return arguments.length?([o,i]=nt,o=+o,i=+i,rt()):[o,i]},tt.range=function(nt){return arguments.length?(_=(j=Array.from(nt)).length-1,rt()):j.slice()},tt.invertExtent=function(nt){var it=j.indexOf(nt);return it<0?[NaN,NaN]:it<1?[o,$[0]]:it>=_?[$[_-1],i]:[$[it-1],$[it]]},tt.unknown=function(nt){return arguments.length&&(_e=nt),tt},tt.thresholds=function(){return $.slice()},tt.copy=function(){return quantize().domain([o,i]).range(j).unknown(_e)},initRange.apply(linearish(tt),arguments)}function threshold(){var o=[.5],i=[0,1],_,$=1;function j(_e){return _e!=null&&_e<=_e?i[bisect(o,_e,0,$)]:_}return j.domain=function(_e){return arguments.length?(o=Array.from(_e),$=Math.min(o.length,i.length-1),j):o.slice()},j.range=function(_e){return arguments.length?(i=Array.from(_e),$=Math.min(o.length,i.length-1),j):i.slice()},j.invertExtent=function(_e){var tt=i.indexOf(_e);return[o[tt-1],o[tt]]},j.unknown=function(_e){return arguments.length?(_=_e,j):_},j.copy=function(){return threshold().domain(o).range(i).unknown(_)},initRange.apply(j,arguments)}const t0=new Date,t1=new Date;function timeInterval(o,i,_,$){function j(_e){return o(_e=arguments.length===0?new Date:new Date(+_e)),_e}return j.floor=_e=>(o(_e=new Date(+_e)),_e),j.ceil=_e=>(o(_e=new Date(_e-1)),i(_e,1),o(_e),_e),j.round=_e=>{const tt=j(_e),rt=j.ceil(_e);return _e-tt<rt-_e?tt:rt},j.offset=(_e,tt)=>(i(_e=new Date(+_e),tt==null?1:Math.floor(tt)),_e),j.range=(_e,tt,rt)=>{const nt=[];if(_e=j.ceil(_e),rt=rt==null?1:Math.floor(rt),!(_e<tt)||!(rt>0))return nt;let it;do nt.push(it=new Date(+_e)),i(_e,rt),o(_e);while(it<_e&&_e<tt);return nt},j.filter=_e=>timeInterval(tt=>{if(tt>=tt)for(;o(tt),!_e(tt);)tt.setTime(tt-1)},(tt,rt)=>{if(tt>=tt)if(rt<0)for(;++rt<=0;)for(;i(tt,-1),!_e(tt););else for(;--rt>=0;)for(;i(tt,1),!_e(tt););}),_&&(j.count=(_e,tt)=>(t0.setTime(+_e),t1.setTime(+tt),o(t0),o(t1),Math.floor(_(t0,t1))),j.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?j.filter($?tt=>$(tt)%_e===0:tt=>j.count(0,tt)%_e===0):j)),j}const millisecond=timeInterval(()=>{},(o,i)=>{o.setTime(+o+i)},(o,i)=>i-o);millisecond.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?timeInterval(i=>{i.setTime(Math.floor(i/o)*o)},(i,_)=>{i.setTime(+i+_*o)},(i,_)=>(_-i)/o):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(o=>{o.setTime(o-o.getMilliseconds())},(o,i)=>{o.setTime(+o+i*durationSecond)},(o,i)=>(i-o)/durationSecond,o=>o.getUTCSeconds());second.range;const timeMinute=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-o.getSeconds()*durationSecond)},(o,i)=>{o.setTime(+o+i*durationMinute)},(o,i)=>(i-o)/durationMinute,o=>o.getMinutes());timeMinute.range;const utcMinute=timeInterval(o=>{o.setUTCSeconds(0,0)},(o,i)=>{o.setTime(+o+i*durationMinute)},(o,i)=>(i-o)/durationMinute,o=>o.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(o=>{o.setTime(o-o.getMilliseconds()-o.getSeconds()*durationSecond-o.getMinutes()*durationMinute)},(o,i)=>{o.setTime(+o+i*durationHour)},(o,i)=>(i-o)/durationHour,o=>o.getHours());timeHour.range;const utcHour=timeInterval(o=>{o.setUTCMinutes(0,0,0)},(o,i)=>{o.setTime(+o+i*durationHour)},(o,i)=>(i-o)/durationHour,o=>o.getUTCHours());utcHour.range;const timeDay=timeInterval(o=>o.setHours(0,0,0,0),(o,i)=>o.setDate(o.getDate()+i),(o,i)=>(i-o-(i.getTimezoneOffset()-o.getTimezoneOffset())*durationMinute)/durationDay,o=>o.getDate()-1);timeDay.range;const utcDay=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,i)=>{o.setUTCDate(o.getUTCDate()+i)},(o,i)=>(i-o)/durationDay,o=>o.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(o=>{o.setUTCHours(0,0,0,0)},(o,i)=>{o.setUTCDate(o.getUTCDate()+i)},(o,i)=>(i-o)/durationDay,o=>Math.floor(o/durationDay));unixDay.range;function timeWeekday(o){return timeInterval(i=>{i.setDate(i.getDate()-(i.getDay()+7-o)%7),i.setHours(0,0,0,0)},(i,_)=>{i.setDate(i.getDate()+_*7)},(i,_)=>(_-i-(_.getTimezoneOffset()-i.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(o){return timeInterval(i=>{i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-o)%7),i.setUTCHours(0,0,0,0)},(i,_)=>{i.setUTCDate(i.getUTCDate()+_*7)},(i,_)=>(_-i)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(o=>{o.setDate(1),o.setHours(0,0,0,0)},(o,i)=>{o.setMonth(o.getMonth()+i)},(o,i)=>i.getMonth()-o.getMonth()+(i.getFullYear()-o.getFullYear())*12,o=>o.getMonth());timeMonth.range;const utcMonth=timeInterval(o=>{o.setUTCDate(1),o.setUTCHours(0,0,0,0)},(o,i)=>{o.setUTCMonth(o.getUTCMonth()+i)},(o,i)=>i.getUTCMonth()-o.getUTCMonth()+(i.getUTCFullYear()-o.getUTCFullYear())*12,o=>o.getUTCMonth());utcMonth.range;const timeYear=timeInterval(o=>{o.setMonth(0,1),o.setHours(0,0,0,0)},(o,i)=>{o.setFullYear(o.getFullYear()+i)},(o,i)=>i.getFullYear()-o.getFullYear(),o=>o.getFullYear());timeYear.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:timeInterval(i=>{i.setFullYear(Math.floor(i.getFullYear()/o)*o),i.setMonth(0,1),i.setHours(0,0,0,0)},(i,_)=>{i.setFullYear(i.getFullYear()+_*o)});timeYear.range;const utcYear=timeInterval(o=>{o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,i)=>{o.setUTCFullYear(o.getUTCFullYear()+i)},(o,i)=>i.getUTCFullYear()-o.getUTCFullYear(),o=>o.getUTCFullYear());utcYear.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:timeInterval(i=>{i.setUTCFullYear(Math.floor(i.getUTCFullYear()/o)*o),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,_)=>{i.setUTCFullYear(i.getUTCFullYear()+_*o)});utcYear.range;function ticker(o,i,_,$,j,_e){const tt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[_e,1,durationMinute],[_e,5,5*durationMinute],[_e,15,15*durationMinute],[_e,30,30*durationMinute],[j,1,durationHour],[j,3,3*durationHour],[j,6,6*durationHour],[j,12,12*durationHour],[$,1,durationDay],[$,2,2*durationDay],[_,1,durationWeek],[i,1,durationMonth],[i,3,3*durationMonth],[o,1,durationYear]];function rt(it,ot,lt){const ft=ot<it;ft&&([it,ot]=[ot,it]);const _t=lt&&typeof lt.range=="function"?lt:nt(it,ot,lt),At=_t?_t.range(it,+ot+1):[];return ft?At.reverse():At}function nt(it,ot,lt){const ft=Math.abs(ot-it)/lt,_t=bisector(([,,Mt])=>Mt).right(tt,ft);if(_t===tt.length)return o.every(tickStep(it/durationYear,ot/durationYear,lt));if(_t===0)return millisecond.every(Math.max(tickStep(it,ot,lt),1));const[At,Tt]=tt[ft/tt[_t-1][2]<tt[_t][2]/ft?_t-1:_t];return At.every(Tt)}return[rt,nt]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(o){if(0<=o.y&&o.y<100){var i=new Date(-1,o.m,o.d,o.H,o.M,o.S,o.L);return i.setFullYear(o.y),i}return new Date(o.y,o.m,o.d,o.H,o.M,o.S,o.L)}function utcDate(o){if(0<=o.y&&o.y<100){var i=new Date(Date.UTC(-1,o.m,o.d,o.H,o.M,o.S,o.L));return i.setUTCFullYear(o.y),i}return new Date(Date.UTC(o.y,o.m,o.d,o.H,o.M,o.S,o.L))}function newDate(o,i,_){return{y:o,m:i,d:_,H:0,M:0,S:0,L:0}}function formatLocale(o){var i=o.dateTime,_=o.date,$=o.time,j=o.periods,_e=o.days,tt=o.shortDays,rt=o.months,nt=o.shortMonths,it=formatRe(j),ot=formatLookup(j),lt=formatRe(_e),ft=formatLookup(_e),_t=formatRe(tt),At=formatLookup(tt),Tt=formatRe(rt),Mt=formatLookup(rt),pt=formatRe(nt),Pt=formatLookup(nt),$t={a:Ht,A:Ft,b:Vt,B:Yt,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Zt,q:nr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ot={a:cr,A:vr,b:Tr,B:ar,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ur,q:Sr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},It={a:Ut,A:Gt,b:qt,B:Jt,c:er,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:jt,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Kt,X:zt,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};$t.x=Dt(_,$t),$t.X=Dt($,$t),$t.c=Dt(i,$t),Ot.x=Dt(_,Ot),Ot.X=Dt($,Ot),Ot.c=Dt(i,Ot);function Dt(gr,xr){return function(Er){var dr=[],Ar=-1,mr=0,tr=gr.length,Mr,Lr,Wr;for(Er instanceof Date||(Er=new Date(+Er));++Ar<tr;)gr.charCodeAt(Ar)===37&&(dr.push(gr.slice(mr,Ar)),(Lr=pads[Mr=gr.charAt(++Ar)])!=null?Mr=gr.charAt(++Ar):Lr=Mr==="e"?" ":"0",(Wr=xr[Mr])&&(Mr=Wr(Er,Lr)),dr.push(Mr),mr=Ar+1);return dr.push(gr.slice(mr,Ar)),dr.join("")}}function Lt(gr,xr){return function(Er){var dr=newDate(1900,void 0,1),Ar=Bt(dr,gr,Er+="",0),mr,tr;if(Ar!=Er.length)return null;if("Q"in dr)return new Date(dr.Q);if("s"in dr)return new Date(dr.s*1e3+("L"in dr?dr.L:0));if(xr&&!("Z"in dr)&&(dr.Z=0),"p"in dr&&(dr.H=dr.H%12+dr.p*12),dr.m===void 0&&(dr.m="q"in dr?dr.q:0),"V"in dr){if(dr.V<1||dr.V>53)return null;"w"in dr||(dr.w=1),"Z"in dr?(mr=utcDate(newDate(dr.y,0,1)),tr=mr.getUTCDay(),mr=tr>4||tr===0?utcMonday.ceil(mr):utcMonday(mr),mr=utcDay.offset(mr,(dr.V-1)*7),dr.y=mr.getUTCFullYear(),dr.m=mr.getUTCMonth(),dr.d=mr.getUTCDate()+(dr.w+6)%7):(mr=localDate(newDate(dr.y,0,1)),tr=mr.getDay(),mr=tr>4||tr===0?timeMonday.ceil(mr):timeMonday(mr),mr=timeDay.offset(mr,(dr.V-1)*7),dr.y=mr.getFullYear(),dr.m=mr.getMonth(),dr.d=mr.getDate()+(dr.w+6)%7)}else("W"in dr||"U"in dr)&&("w"in dr||(dr.w="u"in dr?dr.u%7:"W"in dr?1:0),tr="Z"in dr?utcDate(newDate(dr.y,0,1)).getUTCDay():localDate(newDate(dr.y,0,1)).getDay(),dr.m=0,dr.d="W"in dr?(dr.w+6)%7+dr.W*7-(tr+5)%7:dr.w+dr.U*7-(tr+6)%7);return"Z"in dr?(dr.H+=dr.Z/100|0,dr.M+=dr.Z%100,utcDate(dr)):localDate(dr)}}function Bt(gr,xr,Er,dr){for(var Ar=0,mr=xr.length,tr=Er.length,Mr,Lr;Ar<mr;){if(dr>=tr)return-1;if(Mr=xr.charCodeAt(Ar++),Mr===37){if(Mr=xr.charAt(Ar++),Lr=It[Mr in pads?xr.charAt(Ar++):Mr],!Lr||(dr=Lr(gr,Er,dr))<0)return-1}else if(Mr!=Er.charCodeAt(dr++))return-1}return dr}function jt(gr,xr,Er){var dr=it.exec(xr.slice(Er));return dr?(gr.p=ot.get(dr[0].toLowerCase()),Er+dr[0].length):-1}function Ut(gr,xr,Er){var dr=_t.exec(xr.slice(Er));return dr?(gr.w=At.get(dr[0].toLowerCase()),Er+dr[0].length):-1}function Gt(gr,xr,Er){var dr=lt.exec(xr.slice(Er));return dr?(gr.w=ft.get(dr[0].toLowerCase()),Er+dr[0].length):-1}function qt(gr,xr,Er){var dr=pt.exec(xr.slice(Er));return dr?(gr.m=Pt.get(dr[0].toLowerCase()),Er+dr[0].length):-1}function Jt(gr,xr,Er){var dr=Tt.exec(xr.slice(Er));return dr?(gr.m=Mt.get(dr[0].toLowerCase()),Er+dr[0].length):-1}function er(gr,xr,Er){return Bt(gr,i,xr,Er)}function Kt(gr,xr,Er){return Bt(gr,_,xr,Er)}function zt(gr,xr,Er){return Bt(gr,$,xr,Er)}function Ht(gr){return tt[gr.getDay()]}function Ft(gr){return _e[gr.getDay()]}function Vt(gr){return nt[gr.getMonth()]}function Yt(gr){return rt[gr.getMonth()]}function Zt(gr){return j[+(gr.getHours()>=12)]}function nr(gr){return 1+~~(gr.getMonth()/3)}function cr(gr){return tt[gr.getUTCDay()]}function vr(gr){return _e[gr.getUTCDay()]}function Tr(gr){return nt[gr.getUTCMonth()]}function ar(gr){return rt[gr.getUTCMonth()]}function ur(gr){return j[+(gr.getUTCHours()>=12)]}function Sr(gr){return 1+~~(gr.getUTCMonth()/3)}return{format:function(gr){var xr=Dt(gr+="",$t);return xr.toString=function(){return gr},xr},parse:function(gr){var xr=Lt(gr+="",!1);return xr.toString=function(){return gr},xr},utcFormat:function(gr){var xr=Dt(gr+="",Ot);return xr.toString=function(){return gr},xr},utcParse:function(gr){var xr=Lt(gr+="",!0);return xr.toString=function(){return gr},xr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(o,i,_){var $=o<0?"-":"",j=($?-o:o)+"",_e=j.length;return $+(_e<_?new Array(_-_e+1).join(i)+j:j)}function requote(o){return o.replace(requoteRe,"\\$&")}function formatRe(o){return new RegExp("^(?:"+o.map(requote).join("|")+")","i")}function formatLookup(o){return new Map(o.map((i,_)=>[i.toLowerCase(),_]))}function parseWeekdayNumberSunday(o,i,_){var $=numberRe.exec(i.slice(_,_+1));return $?(o.w=+$[0],_+$[0].length):-1}function parseWeekdayNumberMonday(o,i,_){var $=numberRe.exec(i.slice(_,_+1));return $?(o.u=+$[0],_+$[0].length):-1}function parseWeekNumberSunday(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.U=+$[0],_+$[0].length):-1}function parseWeekNumberISO(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.V=+$[0],_+$[0].length):-1}function parseWeekNumberMonday(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.W=+$[0],_+$[0].length):-1}function parseFullYear(o,i,_){var $=numberRe.exec(i.slice(_,_+4));return $?(o.y=+$[0],_+$[0].length):-1}function parseYear(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.y=+$[0]+(+$[0]>68?1900:2e3),_+$[0].length):-1}function parseZone(o,i,_){var $=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(_,_+6));return $?(o.Z=$[1]?0:-($[2]+($[3]||"00")),_+$[0].length):-1}function parseQuarter(o,i,_){var $=numberRe.exec(i.slice(_,_+1));return $?(o.q=$[0]*3-3,_+$[0].length):-1}function parseMonthNumber(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.m=$[0]-1,_+$[0].length):-1}function parseDayOfMonth(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.d=+$[0],_+$[0].length):-1}function parseDayOfYear(o,i,_){var $=numberRe.exec(i.slice(_,_+3));return $?(o.m=0,o.d=+$[0],_+$[0].length):-1}function parseHour24(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.H=+$[0],_+$[0].length):-1}function parseMinutes(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.M=+$[0],_+$[0].length):-1}function parseSeconds(o,i,_){var $=numberRe.exec(i.slice(_,_+2));return $?(o.S=+$[0],_+$[0].length):-1}function parseMilliseconds(o,i,_){var $=numberRe.exec(i.slice(_,_+3));return $?(o.L=+$[0],_+$[0].length):-1}function parseMicroseconds(o,i,_){var $=numberRe.exec(i.slice(_,_+6));return $?(o.L=Math.floor($[0]/1e3),_+$[0].length):-1}function parseLiteralPercent(o,i,_){var $=percentRe.exec(i.slice(_,_+1));return $?_+$[0].length:-1}function parseUnixTimestamp(o,i,_){var $=numberRe.exec(i.slice(_));return $?(o.Q=+$[0],_+$[0].length):-1}function parseUnixTimestampSeconds(o,i,_){var $=numberRe.exec(i.slice(_));return $?(o.s=+$[0],_+$[0].length):-1}function formatDayOfMonth(o,i){return pad(o.getDate(),i,2)}function formatHour24(o,i){return pad(o.getHours(),i,2)}function formatHour12(o,i){return pad(o.getHours()%12||12,i,2)}function formatDayOfYear(o,i){return pad(1+timeDay.count(timeYear(o),o),i,3)}function formatMilliseconds(o,i){return pad(o.getMilliseconds(),i,3)}function formatMicroseconds(o,i){return formatMilliseconds(o,i)+"000"}function formatMonthNumber(o,i){return pad(o.getMonth()+1,i,2)}function formatMinutes(o,i){return pad(o.getMinutes(),i,2)}function formatSeconds(o,i){return pad(o.getSeconds(),i,2)}function formatWeekdayNumberMonday(o){var i=o.getDay();return i===0?7:i}function formatWeekNumberSunday(o,i){return pad(timeSunday.count(timeYear(o)-1,o),i,2)}function dISO(o){var i=o.getDay();return i>=4||i===0?timeThursday(o):timeThursday.ceil(o)}function formatWeekNumberISO(o,i){return o=dISO(o),pad(timeThursday.count(timeYear(o),o)+(timeYear(o).getDay()===4),i,2)}function formatWeekdayNumberSunday(o){return o.getDay()}function formatWeekNumberMonday(o,i){return pad(timeMonday.count(timeYear(o)-1,o),i,2)}function formatYear(o,i){return pad(o.getFullYear()%100,i,2)}function formatYearISO(o,i){return o=dISO(o),pad(o.getFullYear()%100,i,2)}function formatFullYear(o,i){return pad(o.getFullYear()%1e4,i,4)}function formatFullYearISO(o,i){var _=o.getDay();return o=_>=4||_===0?timeThursday(o):timeThursday.ceil(o),pad(o.getFullYear()%1e4,i,4)}function formatZone(o){var i=o.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+pad(i/60|0,"0",2)+pad(i%60,"0",2)}function formatUTCDayOfMonth(o,i){return pad(o.getUTCDate(),i,2)}function formatUTCHour24(o,i){return pad(o.getUTCHours(),i,2)}function formatUTCHour12(o,i){return pad(o.getUTCHours()%12||12,i,2)}function formatUTCDayOfYear(o,i){return pad(1+utcDay.count(utcYear(o),o),i,3)}function formatUTCMilliseconds(o,i){return pad(o.getUTCMilliseconds(),i,3)}function formatUTCMicroseconds(o,i){return formatUTCMilliseconds(o,i)+"000"}function formatUTCMonthNumber(o,i){return pad(o.getUTCMonth()+1,i,2)}function formatUTCMinutes(o,i){return pad(o.getUTCMinutes(),i,2)}function formatUTCSeconds(o,i){return pad(o.getUTCSeconds(),i,2)}function formatUTCWeekdayNumberMonday(o){var i=o.getUTCDay();return i===0?7:i}function formatUTCWeekNumberSunday(o,i){return pad(utcSunday.count(utcYear(o)-1,o),i,2)}function UTCdISO(o){var i=o.getUTCDay();return i>=4||i===0?utcThursday(o):utcThursday.ceil(o)}function formatUTCWeekNumberISO(o,i){return o=UTCdISO(o),pad(utcThursday.count(utcYear(o),o)+(utcYear(o).getUTCDay()===4),i,2)}function formatUTCWeekdayNumberSunday(o){return o.getUTCDay()}function formatUTCWeekNumberMonday(o,i){return pad(utcMonday.count(utcYear(o)-1,o),i,2)}function formatUTCYear(o,i){return pad(o.getUTCFullYear()%100,i,2)}function formatUTCYearISO(o,i){return o=UTCdISO(o),pad(o.getUTCFullYear()%100,i,2)}function formatUTCFullYear(o,i){return pad(o.getUTCFullYear()%1e4,i,4)}function formatUTCFullYearISO(o,i){var _=o.getUTCDay();return o=_>=4||_===0?utcThursday(o):utcThursday.ceil(o),pad(o.getUTCFullYear()%1e4,i,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(o){return+o}function formatUnixTimestampSeconds(o){return Math.floor(+o/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(o){return locale=formatLocale(o),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(o){return new Date(o)}function number(o){return o instanceof Date?+o:+new Date(+o)}function calendar(o,i,_,$,j,_e,tt,rt,nt,it){var ot=continuous(),lt=ot.invert,ft=ot.domain,_t=it(".%L"),At=it(":%S"),Tt=it("%I:%M"),Mt=it("%I %p"),pt=it("%a %d"),Pt=it("%b %d"),$t=it("%B"),Ot=it("%Y");function It(Dt){return(nt(Dt)<Dt?_t:rt(Dt)<Dt?At:tt(Dt)<Dt?Tt:_e(Dt)<Dt?Mt:$(Dt)<Dt?j(Dt)<Dt?pt:Pt:_(Dt)<Dt?$t:Ot)(Dt)}return ot.invert=function(Dt){return new Date(lt(Dt))},ot.domain=function(Dt){return arguments.length?ft(Array.from(Dt,number)):ft().map(date)},ot.ticks=function(Dt){var Lt=ft();return o(Lt[0],Lt[Lt.length-1],Dt??10)},ot.tickFormat=function(Dt,Lt){return Lt==null?It:it(Lt)},ot.nice=function(Dt){var Lt=ft();return(!Dt||typeof Dt.range!="function")&&(Dt=i(Lt[0],Lt[Lt.length-1],Dt??10)),Dt?ft(nice(Lt,Dt)):ot},ot.copy=function(){return copy$2(ot,calendar(o,i,_,$,j,_e,tt,rt,nt,it))},ot}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var o=0,i=1,_,$,j,_e,tt=identity$6,rt=!1,nt;function it(lt){return lt==null||isNaN(lt=+lt)?nt:tt(j===0?.5:(lt=(_e(lt)-_)*j,rt?Math.max(0,Math.min(1,lt)):lt))}it.domain=function(lt){return arguments.length?([o,i]=lt,_=_e(o=+o),$=_e(i=+i),j=_===$?0:1/($-_),it):[o,i]},it.clamp=function(lt){return arguments.length?(rt=!!lt,it):rt},it.interpolator=function(lt){return arguments.length?(tt=lt,it):tt};function ot(lt){return function(ft){var _t,At;return arguments.length?([_t,At]=ft,tt=lt(_t,At),it):[tt(0),tt(1)]}}return it.range=ot(interpolate),it.rangeRound=ot(interpolateRound),it.unknown=function(lt){return arguments.length?(nt=lt,it):nt},function(lt){return _e=lt,_=lt(o),$=lt(i),j=_===$?0:1/($-_),it}}function copy$1(o,i){return i.domain(o.domain()).interpolator(o.interpolator()).clamp(o.clamp()).unknown(o.unknown())}function sequential(){var o=linearish(transformer$1()(identity$6));return o.copy=function(){return copy$1(o,sequential())},initInterpolator.apply(o,arguments)}function sequentialLog(){var o=loggish(transformer$1()).domain([1,10]);return o.copy=function(){return copy$1(o,sequentialLog()).base(o.base())},initInterpolator.apply(o,arguments)}function sequentialSymlog(){var o=symlogish(transformer$1());return o.copy=function(){return copy$1(o,sequentialSymlog()).constant(o.constant())},initInterpolator.apply(o,arguments)}function sequentialPow(){var o=powish(transformer$1());return o.copy=function(){return copy$1(o,sequentialPow()).exponent(o.exponent())},initInterpolator.apply(o,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var o=[],i=identity$6;function _($){if($!=null&&!isNaN($=+$))return i((bisect(o,$,1)-1)/(o.length-1))}return _.domain=function($){if(!arguments.length)return o.slice();o=[];for(let j of $)j!=null&&!isNaN(j=+j)&&o.push(j);return o.sort(ascending),_},_.interpolator=function($){return arguments.length?(i=$,_):i},_.range=function(){return o.map(($,j)=>i(j/(o.length-1)))},_.quantiles=function($){return Array.from({length:$+1},(j,_e)=>quantile$1(o,_e/$))},_.copy=function(){return sequentialQuantile(i).domain(o)},initInterpolator.apply(_,arguments)}function transformer(){var o=0,i=.5,_=1,$=1,j,_e,tt,rt,nt,it=identity$6,ot,lt=!1,ft;function _t(Tt){return isNaN(Tt=+Tt)?ft:(Tt=.5+((Tt=+ot(Tt))-_e)*($*Tt<$*_e?rt:nt),it(lt?Math.max(0,Math.min(1,Tt)):Tt))}_t.domain=function(Tt){return arguments.length?([o,i,_]=Tt,j=ot(o=+o),_e=ot(i=+i),tt=ot(_=+_),rt=j===_e?0:.5/(_e-j),nt=_e===tt?0:.5/(tt-_e),$=_e<j?-1:1,_t):[o,i,_]},_t.clamp=function(Tt){return arguments.length?(lt=!!Tt,_t):lt},_t.interpolator=function(Tt){return arguments.length?(it=Tt,_t):it};function At(Tt){return function(Mt){var pt,Pt,$t;return arguments.length?([pt,Pt,$t]=Mt,it=piecewise(Tt,[pt,Pt,$t]),_t):[it(0),it(.5),it(1)]}}return _t.range=At(interpolate),_t.rangeRound=At(interpolateRound),_t.unknown=function(Tt){return arguments.length?(ft=Tt,_t):ft},function(Tt){return ot=Tt,j=Tt(o),_e=Tt(i),tt=Tt(_),rt=j===_e?0:.5/(_e-j),nt=_e===tt?0:.5/(tt-_e),$=_e<j?-1:1,_t}}function diverging(){var o=linearish(transformer()(identity$6));return o.copy=function(){return copy$1(o,diverging())},initInterpolator.apply(o,arguments)}function divergingLog(){var o=loggish(transformer()).domain([.1,1,10]);return o.copy=function(){return copy$1(o,divergingLog()).base(o.base())},initInterpolator.apply(o,arguments)}function divergingSymlog(){var o=symlogish(transformer());return o.copy=function(){return copy$1(o,divergingSymlog()).constant(o.constant())},initInterpolator.apply(o,arguments)}function divergingPow(){var o=powish(transformer());return o.copy=function(){return copy$1(o,divergingPow()).exponent(o.exponent())},initInterpolator.apply(o,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(o,i,_){for(var $=-1,j=o.length;++$<j;){var _e=o[$],tt=i(_e);if(tt!=null&&(rt===void 0?tt===tt&&!isSymbol(tt):_(tt,rt)))var rt=tt,nt=_e}return nt}var _baseExtremum=baseExtremum$4;function baseGt$2(o,i){return o>i}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(o){return o&&o.length?baseExtremum$3(o,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(o,i){return o<i}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(o){return o&&o.length?baseExtremum$2(o,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(o,i){var _=isArray$3(o)?arrayMap:baseMap;return _(o,baseIteratee$7(i))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(o,i){return baseFlatten(map$1(o,i),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(o,i){return baseIsEqual(o,i)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults$1={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var o=new this.constructor(this);return o.s&&(o.s=1),o};P.comparedTo=P.cmp=function(o){var i,_,$,j,_e=this;if(o=new _e.constructor(o),_e.s!==o.s)return _e.s||-o.s;if(_e.e!==o.e)return _e.e>o.e^_e.s<0?1:-1;for($=_e.d.length,j=o.d.length,i=0,_=$<j?$:j;i<_;++i)if(_e.d[i]!==o.d[i])return _e.d[i]>o.d[i]^_e.s<0?1:-1;return $===j?0:$>j^_e.s<0?1:-1};P.decimalPlaces=P.dp=function(){var o=this,i=o.d.length-1,_=(i-o.e)*LOG_BASE;if(i=o.d[i],i)for(;i%10==0;i/=10)_--;return _<0?0:_};P.dividedBy=P.div=function(o){return divide(this,new this.constructor(o))};P.dividedToIntegerBy=P.idiv=function(o){var i=this,_=i.constructor;return round(divide(i,new _(o),0,1),_.precision)};P.equals=P.eq=function(o){return!this.cmp(o)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(o){return this.cmp(o)>0};P.greaterThanOrEqualTo=P.gte=function(o){return this.cmp(o)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(o){return this.cmp(o)<0};P.lessThanOrEqualTo=P.lte=function(o){return this.cmp(o)<1};P.logarithm=P.log=function(o){var i,_=this,$=_.constructor,j=$.precision,_e=j+5;if(o===void 0)o=new $(10);else if(o=new $(o),o.s<1||o.eq(ONE))throw Error(decimalError+"NaN");if(_.s<1)throw Error(decimalError+(_.s?"NaN":"-Infinity"));return _.eq(ONE)?new $(0):(external=!1,i=divide(ln(_,_e),ln(o,_e),_e),external=!0,round(i,j))};P.minus=P.sub=function(o){var i=this;return o=new i.constructor(o),i.s==o.s?subtract(i,o):add(i,(o.s=-o.s,o))};P.modulo=P.mod=function(o){var i,_=this,$=_.constructor,j=$.precision;if(o=new $(o),!o.s)throw Error(decimalError+"NaN");return _.s?(external=!1,i=divide(_,o,0,1).times(o),external=!0,_.minus(i)):round(new $(_),j)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var o=new this.constructor(this);return o.s=-o.s||0,o};P.plus=P.add=function(o){var i=this;return o=new i.constructor(o),i.s==o.s?add(i,o):subtract(i,(o.s=-o.s,o))};P.precision=P.sd=function(o){var i,_,$,j=this;if(o!==void 0&&o!==!!o&&o!==1&&o!==0)throw Error(invalidArgument+o);if(i=getBase10Exponent(j)+1,$=j.d.length-1,_=$*LOG_BASE+1,$=j.d[$],$){for(;$%10==0;$/=10)_--;for($=j.d[0];$>=10;$/=10)_++}return o&&i>_?i:_};P.squareRoot=P.sqrt=function(){var o,i,_,$,j,_e,tt,rt=this,nt=rt.constructor;if(rt.s<1){if(!rt.s)return new nt(0);throw Error(decimalError+"NaN")}for(o=getBase10Exponent(rt),external=!1,j=Math.sqrt(+rt),j==0||j==1/0?(i=digitsToString(rt.d),(i.length+o)%2==0&&(i+="0"),j=Math.sqrt(i),o=mathfloor((o+1)/2)-(o<0||o%2),j==1/0?i="5e"+o:(i=j.toExponential(),i=i.slice(0,i.indexOf("e")+1)+o),$=new nt(i)):$=new nt(j.toString()),_=nt.precision,j=tt=_+3;;)if(_e=$,$=_e.plus(divide(rt,_e,tt+2)).times(.5),digitsToString(_e.d).slice(0,tt)===(i=digitsToString($.d)).slice(0,tt)){if(i=i.slice(tt-3,tt+1),j==tt&&i=="4999"){if(round(_e,_+1,0),_e.times(_e).eq(rt)){$=_e;break}}else if(i!="9999")break;tt+=4}return external=!0,round($,_)};P.times=P.mul=function(o){var i,_,$,j,_e,tt,rt,nt,it,ot=this,lt=ot.constructor,ft=ot.d,_t=(o=new lt(o)).d;if(!ot.s||!o.s)return new lt(0);for(o.s*=ot.s,_=ot.e+o.e,nt=ft.length,it=_t.length,nt<it&&(_e=ft,ft=_t,_t=_e,tt=nt,nt=it,it=tt),_e=[],tt=nt+it,$=tt;$--;)_e.push(0);for($=it;--$>=0;){for(i=0,j=nt+$;j>$;)rt=_e[j]+_t[$]*ft[j-$-1]+i,_e[j--]=rt%BASE|0,i=rt/BASE|0;_e[j]=(_e[j]+i)%BASE|0}for(;!_e[--tt];)_e.pop();return i?++_:_e.shift(),o.d=_e,o.e=_,external?round(o,lt.precision):o};P.toDecimalPlaces=P.todp=function(o,i){var _=this,$=_.constructor;return _=new $(_),o===void 0?_:(checkInt32(o,0,MAX_DIGITS),i===void 0?i=$.rounding:checkInt32(i,0,8),round(_,o+getBase10Exponent(_)+1,i))};P.toExponential=function(o,i){var _,$=this,j=$.constructor;return o===void 0?_=toString($,!0):(checkInt32(o,0,MAX_DIGITS),i===void 0?i=j.rounding:checkInt32(i,0,8),$=round(new j($),o+1,i),_=toString($,!0,o+1)),_};P.toFixed=function(o,i){var _,$,j=this,_e=j.constructor;return o===void 0?toString(j):(checkInt32(o,0,MAX_DIGITS),i===void 0?i=_e.rounding:checkInt32(i,0,8),$=round(new _e(j),o+getBase10Exponent(j)+1,i),_=toString($.abs(),!1,o+getBase10Exponent($)+1),j.isneg()&&!j.isZero()?"-"+_:_)};P.toInteger=P.toint=function(){var o=this,i=o.constructor;return round(new i(o),getBase10Exponent(o)+1,i.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(o){var i,_,$,j,_e,tt,rt=this,nt=rt.constructor,it=12,ot=+(o=new nt(o));if(!o.s)return new nt(ONE);if(rt=new nt(rt),!rt.s){if(o.s<1)throw Error(decimalError+"Infinity");return rt}if(rt.eq(ONE))return rt;if($=nt.precision,o.eq(ONE))return round(rt,$);if(i=o.e,_=o.d.length-1,tt=i>=_,_e=rt.s,tt){if((_=ot<0?-ot:ot)<=MAX_SAFE_INTEGER){for(j=new nt(ONE),i=Math.ceil($/LOG_BASE+4),external=!1;_%2&&(j=j.times(rt),truncate(j.d,i)),_=mathfloor(_/2),_!==0;)rt=rt.times(rt),truncate(rt.d,i);return external=!0,o.s<0?new nt(ONE).div(j):round(j,$)}}else if(_e<0)throw Error(decimalError+"NaN");return _e=_e<0&&o.d[Math.max(i,_)]&1?-1:1,rt.s=1,external=!1,j=o.times(ln(rt,$+it)),external=!0,j=exp(j),j.s=_e,j};P.toPrecision=function(o,i){var _,$,j=this,_e=j.constructor;return o===void 0?(_=getBase10Exponent(j),$=toString(j,_<=_e.toExpNeg||_>=_e.toExpPos)):(checkInt32(o,1,MAX_DIGITS),i===void 0?i=_e.rounding:checkInt32(i,0,8),j=round(new _e(j),o,i),_=getBase10Exponent(j),$=toString(j,o<=_||_<=_e.toExpNeg,o)),$};P.toSignificantDigits=P.tosd=function(o,i){var _=this,$=_.constructor;return o===void 0?(o=$.precision,i=$.rounding):(checkInt32(o,1,MAX_DIGITS),i===void 0?i=$.rounding:checkInt32(i,0,8)),round(new $(_),o,i)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var o=this,i=getBase10Exponent(o),_=o.constructor;return toString(o,i<=_.toExpNeg||i>=_.toExpPos)};function add(o,i){var _,$,j,_e,tt,rt,nt,it,ot=o.constructor,lt=ot.precision;if(!o.s||!i.s)return i.s||(i=new ot(o)),external?round(i,lt):i;if(nt=o.d,it=i.d,tt=o.e,j=i.e,nt=nt.slice(),_e=tt-j,_e){for(_e<0?($=nt,_e=-_e,rt=it.length):($=it,j=tt,rt=nt.length),tt=Math.ceil(lt/LOG_BASE),rt=tt>rt?tt+1:rt+1,_e>rt&&(_e=rt,$.length=1),$.reverse();_e--;)$.push(0);$.reverse()}for(rt=nt.length,_e=it.length,rt-_e<0&&(_e=rt,$=it,it=nt,nt=$),_=0;_e;)_=(nt[--_e]=nt[_e]+it[_e]+_)/BASE|0,nt[_e]%=BASE;for(_&&(nt.unshift(_),++j),rt=nt.length;nt[--rt]==0;)nt.pop();return i.d=nt,i.e=j,external?round(i,lt):i}function checkInt32(o,i,_){if(o!==~~o||o<i||o>_)throw Error(invalidArgument+o)}function digitsToString(o){var i,_,$,j=o.length-1,_e="",tt=o[0];if(j>0){for(_e+=tt,i=1;i<j;i++)$=o[i]+"",_=LOG_BASE-$.length,_&&(_e+=getZeroString(_)),_e+=$;tt=o[i],$=tt+"",_=LOG_BASE-$.length,_&&(_e+=getZeroString(_))}else if(tt===0)return"0";for(;tt%10===0;)tt/=10;return _e+tt}var divide=function(){function o($,j){var _e,tt=0,rt=$.length;for($=$.slice();rt--;)_e=$[rt]*j+tt,$[rt]=_e%BASE|0,tt=_e/BASE|0;return tt&&$.unshift(tt),$}function i($,j,_e,tt){var rt,nt;if(_e!=tt)nt=_e>tt?1:-1;else for(rt=nt=0;rt<_e;rt++)if($[rt]!=j[rt]){nt=$[rt]>j[rt]?1:-1;break}return nt}function _($,j,_e){for(var tt=0;_e--;)$[_e]-=tt,tt=$[_e]<j[_e]?1:0,$[_e]=tt*BASE+$[_e]-j[_e];for(;!$[0]&&$.length>1;)$.shift()}return function($,j,_e,tt){var rt,nt,it,ot,lt,ft,_t,At,Tt,Mt,pt,Pt,$t,Ot,It,Dt,Lt,Bt,jt=$.constructor,Ut=$.s==j.s?1:-1,Gt=$.d,qt=j.d;if(!$.s)return new jt($);if(!j.s)throw Error(decimalError+"Division by zero");for(nt=$.e-j.e,Lt=qt.length,It=Gt.length,_t=new jt(Ut),At=_t.d=[],it=0;qt[it]==(Gt[it]||0);)++it;if(qt[it]>(Gt[it]||0)&&--nt,_e==null?Pt=_e=jt.precision:tt?Pt=_e+(getBase10Exponent($)-getBase10Exponent(j))+1:Pt=_e,Pt<0)return new jt(0);if(Pt=Pt/LOG_BASE+2|0,it=0,Lt==1)for(ot=0,qt=qt[0],Pt++;(it<It||ot)&&Pt--;it++)$t=ot*BASE+(Gt[it]||0),At[it]=$t/qt|0,ot=$t%qt|0;else{for(ot=BASE/(qt[0]+1)|0,ot>1&&(qt=o(qt,ot),Gt=o(Gt,ot),Lt=qt.length,It=Gt.length),Ot=Lt,Tt=Gt.slice(0,Lt),Mt=Tt.length;Mt<Lt;)Tt[Mt++]=0;Bt=qt.slice(),Bt.unshift(0),Dt=qt[0],qt[1]>=BASE/2&&++Dt;do ot=0,rt=i(qt,Tt,Lt,Mt),rt<0?(pt=Tt[0],Lt!=Mt&&(pt=pt*BASE+(Tt[1]||0)),ot=pt/Dt|0,ot>1?(ot>=BASE&&(ot=BASE-1),lt=o(qt,ot),ft=lt.length,Mt=Tt.length,rt=i(lt,Tt,ft,Mt),rt==1&&(ot--,_(lt,Lt<ft?Bt:qt,ft))):(ot==0&&(rt=ot=1),lt=qt.slice()),ft=lt.length,ft<Mt&&lt.unshift(0),_(Tt,lt,Mt),rt==-1&&(Mt=Tt.length,rt=i(qt,Tt,Lt,Mt),rt<1&&(ot++,_(Tt,Lt<Mt?Bt:qt,Mt))),Mt=Tt.length):rt===0&&(ot++,Tt=[0]),At[it++]=ot,rt&&Tt[0]?Tt[Mt++]=Gt[Ot]||0:(Tt=[Gt[Ot]],Mt=1);while((Ot++<It||Tt[0]!==void 0)&&Pt--)}return At[0]||At.shift(),_t.e=nt,round(_t,tt?_e+getBase10Exponent(_t)+1:_e)}}();function exp(o,i){var _,$,j,_e,tt,rt,nt=0,it=0,ot=o.constructor,lt=ot.precision;if(getBase10Exponent(o)>16)throw Error(exponentOutOfRange+getBase10Exponent(o));if(!o.s)return new ot(ONE);for(i==null?(external=!1,rt=lt):rt=i,tt=new ot(.03125);o.abs().gte(.1);)o=o.times(tt),it+=5;for($=Math.log(mathpow(2,it))/Math.LN10*2+5|0,rt+=$,_=j=_e=new ot(ONE),ot.precision=rt;;){if(j=round(j.times(o),rt),_=_.times(++nt),tt=_e.plus(divide(j,_,rt)),digitsToString(tt.d).slice(0,rt)===digitsToString(_e.d).slice(0,rt)){for(;it--;)_e=round(_e.times(_e),rt);return ot.precision=lt,i==null?(external=!0,round(_e,lt)):_e}_e=tt}}function getBase10Exponent(o){for(var i=o.e*LOG_BASE,_=o.d[0];_>=10;_/=10)i++;return i}function getLn10(o,i,_){if(i>o.LN10.sd())throw external=!0,_&&(o.precision=_),Error(decimalError+"LN10 precision limit exceeded");return round(new o(o.LN10),i)}function getZeroString(o){for(var i="";o--;)i+="0";return i}function ln(o,i){var _,$,j,_e,tt,rt,nt,it,ot,lt=1,ft=10,_t=o,At=_t.d,Tt=_t.constructor,Mt=Tt.precision;if(_t.s<1)throw Error(decimalError+(_t.s?"NaN":"-Infinity"));if(_t.eq(ONE))return new Tt(0);if(i==null?(external=!1,it=Mt):it=i,_t.eq(10))return i==null&&(external=!0),getLn10(Tt,it);if(it+=ft,Tt.precision=it,_=digitsToString(At),$=_.charAt(0),_e=getBase10Exponent(_t),Math.abs(_e)<15e14){for(;$<7&&$!=1||$==1&&_.charAt(1)>3;)_t=_t.times(o),_=digitsToString(_t.d),$=_.charAt(0),lt++;_e=getBase10Exponent(_t),$>1?(_t=new Tt("0."+_),_e++):_t=new Tt($+"."+_.slice(1))}else return nt=getLn10(Tt,it+2,Mt).times(_e+""),_t=ln(new Tt($+"."+_.slice(1)),it-ft).plus(nt),Tt.precision=Mt,i==null?(external=!0,round(_t,Mt)):_t;for(rt=tt=_t=divide(_t.minus(ONE),_t.plus(ONE),it),ot=round(_t.times(_t),it),j=3;;){if(tt=round(tt.times(ot),it),nt=rt.plus(divide(tt,new Tt(j),it)),digitsToString(nt.d).slice(0,it)===digitsToString(rt.d).slice(0,it))return rt=rt.times(2),_e!==0&&(rt=rt.plus(getLn10(Tt,it+2,Mt).times(_e+""))),rt=divide(rt,new Tt(lt),it),Tt.precision=Mt,i==null?(external=!0,round(rt,Mt)):rt;rt=nt,j+=2}}function parseDecimal(o,i){var _,$,j;for((_=i.indexOf("."))>-1&&(i=i.replace(".","")),($=i.search(/e/i))>0?(_<0&&(_=$),_+=+i.slice($+1),i=i.substring(0,$)):_<0&&(_=i.length),$=0;i.charCodeAt($)===48;)++$;for(j=i.length;i.charCodeAt(j-1)===48;)--j;if(i=i.slice($,j),i){if(j-=$,_=_-$-1,o.e=mathfloor(_/LOG_BASE),o.d=[],$=(_+1)%LOG_BASE,_<0&&($+=LOG_BASE),$<j){for($&&o.d.push(+i.slice(0,$)),j-=LOG_BASE;$<j;)o.d.push(+i.slice($,$+=LOG_BASE));i=i.slice($),$=LOG_BASE-i.length}else $-=j;for(;$--;)i+="0";if(o.d.push(+i),external&&(o.e>MAX_E||o.e<-MAX_E))throw Error(exponentOutOfRange+_)}else o.s=0,o.e=0,o.d=[0];return o}function round(o,i,_){var $,j,_e,tt,rt,nt,it,ot,lt=o.d;for(tt=1,_e=lt[0];_e>=10;_e/=10)tt++;if($=i-tt,$<0)$+=LOG_BASE,j=i,it=lt[ot=0];else{if(ot=Math.ceil(($+1)/LOG_BASE),_e=lt.length,ot>=_e)return o;for(it=_e=lt[ot],tt=1;_e>=10;_e/=10)tt++;$%=LOG_BASE,j=$-LOG_BASE+tt}if(_!==void 0&&(_e=mathpow(10,tt-j-1),rt=it/_e%10|0,nt=i<0||lt[ot+1]!==void 0||it%_e,nt=_<4?(rt||nt)&&(_==0||_==(o.s<0?3:2)):rt>5||rt==5&&(_==4||nt||_==6&&($>0?j>0?it/mathpow(10,tt-j):0:lt[ot-1])%10&1||_==(o.s<0?8:7))),i<1||!lt[0])return nt?(_e=getBase10Exponent(o),lt.length=1,i=i-_e-1,lt[0]=mathpow(10,(LOG_BASE-i%LOG_BASE)%LOG_BASE),o.e=mathfloor(-i/LOG_BASE)||0):(lt.length=1,lt[0]=o.e=o.s=0),o;if($==0?(lt.length=ot,_e=1,ot--):(lt.length=ot+1,_e=mathpow(10,LOG_BASE-$),lt[ot]=j>0?(it/mathpow(10,tt-j)%mathpow(10,j)|0)*_e:0),nt)for(;;)if(ot==0){(lt[0]+=_e)==BASE&&(lt[0]=1,++o.e);break}else{if(lt[ot]+=_e,lt[ot]!=BASE)break;lt[ot--]=0,_e=1}for($=lt.length;lt[--$]===0;)lt.pop();if(external&&(o.e>MAX_E||o.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(o));return o}function subtract(o,i){var _,$,j,_e,tt,rt,nt,it,ot,lt,ft=o.constructor,_t=ft.precision;if(!o.s||!i.s)return i.s?i.s=-i.s:i=new ft(o),external?round(i,_t):i;if(nt=o.d,lt=i.d,$=i.e,it=o.e,nt=nt.slice(),tt=it-$,tt){for(ot=tt<0,ot?(_=nt,tt=-tt,rt=lt.length):(_=lt,$=it,rt=nt.length),j=Math.max(Math.ceil(_t/LOG_BASE),rt)+2,tt>j&&(tt=j,_.length=1),_.reverse(),j=tt;j--;)_.push(0);_.reverse()}else{for(j=nt.length,rt=lt.length,ot=j<rt,ot&&(rt=j),j=0;j<rt;j++)if(nt[j]!=lt[j]){ot=nt[j]<lt[j];break}tt=0}for(ot&&(_=nt,nt=lt,lt=_,i.s=-i.s),rt=nt.length,j=lt.length-rt;j>0;--j)nt[rt++]=0;for(j=lt.length;j>tt;){if(nt[--j]<lt[j]){for(_e=j;_e&&nt[--_e]===0;)nt[_e]=BASE-1;--nt[_e],nt[j]+=BASE}nt[j]-=lt[j]}for(;nt[--rt]===0;)nt.pop();for(;nt[0]===0;nt.shift())--$;return nt[0]?(i.d=nt,i.e=$,external?round(i,_t):i):new ft(0)}function toString(o,i,_){var $,j=getBase10Exponent(o),_e=digitsToString(o.d),tt=_e.length;return i?(_&&($=_-tt)>0?_e=_e.charAt(0)+"."+_e.slice(1)+getZeroString($):tt>1&&(_e=_e.charAt(0)+"."+_e.slice(1)),_e=_e+(j<0?"e":"e+")+j):j<0?(_e="0."+getZeroString(-j-1)+_e,_&&($=_-tt)>0&&(_e+=getZeroString($))):j>=tt?(_e+=getZeroString(j+1-tt),_&&($=_-j-1)>0&&(_e=_e+"."+getZeroString($))):(($=j+1)<tt&&(_e=_e.slice(0,$)+"."+_e.slice($)),_&&($=_-tt)>0&&(j+1===tt&&(_e+="."),_e+=getZeroString($))),o.s<0?"-"+_e:_e}function truncate(o,i){if(o.length>i)return o.length=i,!0}function clone(o){var i,_,$;function j(_e){var tt=this;if(!(tt instanceof j))return new j(_e);if(tt.constructor=j,_e instanceof j){tt.s=_e.s,tt.e=_e.e,tt.d=(_e=_e.d)?_e.slice():_e;return}if(typeof _e=="number"){if(_e*0!==0)throw Error(invalidArgument+_e);if(_e>0)tt.s=1;else if(_e<0)_e=-_e,tt.s=-1;else{tt.s=0,tt.e=0,tt.d=[0];return}if(_e===~~_e&&_e<1e7){tt.e=0,tt.d=[_e];return}return parseDecimal(tt,_e.toString())}else if(typeof _e!="string")throw Error(invalidArgument+_e);if(_e.charCodeAt(0)===45?(_e=_e.slice(1),tt.s=-1):tt.s=1,isDecimal.test(_e))parseDecimal(tt,_e);else throw Error(invalidArgument+_e)}if(j.prototype=P,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.clone=clone,j.config=j.set=config,o===void 0&&(o={}),o)for($=["precision","rounding","toExpNeg","toExpPos","LN10"],i=0;i<$.length;)o.hasOwnProperty(_=$[i++])||(o[_]=this[_]);return j.config(o),j}function config(o){if(!o||typeof o!="object")throw Error(decimalError+"Object expected");var i,_,$,j=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(i=0;i<j.length;i+=3)if(($=o[_=j[i]])!==void 0)if(mathfloor($)===$&&$>=j[i+1]&&$<=j[i+2])this[_]=$;else throw Error(invalidArgument+_+": "+$);if(($=o[_="LN10"])!==void 0)if($==Math.LN10)this[_]=new this($);else throw Error(invalidArgument+_+": "+$);return this}var Decimal=clone(defaults$1);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(o){return _arrayWithoutHoles$a(o)||_iterableToArray$c(o)||_unsupportedIterableToArray$g(o)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$g(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$g(o,i)}}function _iterableToArray$c(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}function _arrayWithoutHoles$a(o){if(Array.isArray(o))return _arrayLikeToArray$g(o)}function _arrayLikeToArray$g(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}var identity$1=function o(i){return i},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function o(i){return i===PLACE_HOLDER},curry0=function o(i){return function _(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?_:i.apply(void 0,arguments)}},curryN=function o(i,_){return i===1?_:curry0(function(){for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];var tt=j.filter(function(rt){return rt!==PLACE_HOLDER}).length;return tt>=i?_.apply(void 0,j):o(i-tt,curry0(function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];var ot=j.map(function(lt){return isPlaceHolder(lt)?nt.shift():lt});return _.apply(void 0,_toConsumableArray$a(ot).concat(nt))}))})},curry=function o(i){return curryN(i.length,i)},range$2=function o(i,_){for(var $=[],j=i;j<_;++j)$[j-i]=j;return $},map=curry(function(o,i){return Array.isArray(i)?i.map(o):Object.keys(i).map(function(_){return i[_]}).map(o)}),compose=function o(){for(var i=arguments.length,_=new Array(i),$=0;$<i;$++)_[$]=arguments[$];if(!_.length)return identity$1;var j=_.reverse(),_e=j[0],tt=j.slice(1);return function(){return tt.reduce(function(rt,nt){return nt(rt)},_e.apply(void 0,arguments))}},reverse=function o(i){return Array.isArray(i)?i.reverse():i.split("").reverse.join("")},memoize=function o(i){var _=null,$=null;return function(){for(var j=arguments.length,_e=new Array(j),tt=0;tt<j;tt++)_e[tt]=arguments[tt];return _&&_e.every(function(rt,nt){return rt===_[nt]})||(_=_e,$=i.apply(void 0,_e)),$}};function getDigitCount(o){var i;return o===0?i=1:i=Math.floor(new Decimal$1(o).abs().log(10).toNumber())+1,i}function rangeStep(o,i,_){for(var $=new Decimal$1(o),j=0,_e=[];$.lt(i)&&j<1e5;)_e.push($.toNumber()),$=$.add(_),j++;return _e}var interpolateNumber=curry(function(o,i,_){var $=+o,j=+i;return $+_*(j-$)}),uninterpolateNumber=curry(function(o,i,_){var $=i-+o;return $=$||1/0,(_-o)/$}),uninterpolateTruncation=curry(function(o,i,_){var $=i-+o;return $=$||1/0,Math.max(0,Math.min(1,(_-o)/$))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(o){return _arrayWithoutHoles$9(o)||_iterableToArray$b(o)||_unsupportedIterableToArray$f(o)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}function _arrayWithoutHoles$9(o){if(Array.isArray(o))return _arrayLikeToArray$f(o)}function _slicedToArray$8(o,i){return _arrayWithHoles$9(o)||_iterableToArrayLimit$8(o,i)||_unsupportedIterableToArray$f(o,i)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$f(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$f(o,i)}}function _arrayLikeToArray$f(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$8(o,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(o)))){var _=[],$=!0,j=!1,_e=void 0;try{for(var tt=o[Symbol.iterator](),rt;!($=(rt=tt.next()).done)&&(_.push(rt.value),!(i&&_.length===i));$=!0);}catch(nt){j=!0,_e=nt}finally{try{!$&&tt.return!=null&&tt.return()}finally{if(j)throw _e}}return _}}function _arrayWithHoles$9(o){if(Array.isArray(o))return o}function getValidInterval(o){var i=_slicedToArray$8(o,2),_=i[0],$=i[1],j=_,_e=$;return _>$&&(j=$,_e=_),[j,_e]}function getFormatStep(o,i,_){if(o.lte(0))return new Decimal$1(0);var $=Arithmetic.getDigitCount(o.toNumber()),j=new Decimal$1(10).pow($),_e=o.div(j),tt=$!==1?.05:.1,rt=new Decimal$1(Math.ceil(_e.div(tt).toNumber())).add(_).mul(tt),nt=rt.mul(j);return i?nt:new Decimal$1(Math.ceil(nt))}function getTickOfSingleValue(o,i,_){var $=1,j=new Decimal$1(o);if(!j.isint()&&_){var _e=Math.abs(o);_e<1?($=new Decimal$1(10).pow(Arithmetic.getDigitCount(o)-1),j=new Decimal$1(Math.floor(j.div($).toNumber())).mul($)):_e>1&&(j=new Decimal$1(Math.floor(o)))}else o===0?j=new Decimal$1(Math.floor((i-1)/2)):_||(j=new Decimal$1(Math.floor(o)));var tt=Math.floor((i-1)/2),rt=compose(map(function(nt){return j.add(new Decimal$1(nt-tt).mul($)).toNumber()}),range$2);return rt(0,i)}function calculateStep(o,i,_,$){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((i-o)/(_-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var _e=getFormatStep(new Decimal$1(i).sub(o).div(_-1),$,j),tt;o<=0&&i>=0?tt=new Decimal$1(0):(tt=new Decimal$1(o).add(i).div(2),tt=tt.sub(new Decimal$1(tt).mod(_e)));var rt=Math.ceil(tt.sub(o).div(_e).toNumber()),nt=Math.ceil(new Decimal$1(i).sub(tt).div(_e).toNumber()),it=rt+nt+1;return it>_?calculateStep(o,i,_,$,j+1):(it<_&&(nt=i>0?nt+(_-it):nt,rt=i>0?rt:rt+(_-it)),{step:_e,tickMin:tt.sub(new Decimal$1(rt).mul(_e)),tickMax:tt.add(new Decimal$1(nt).mul(_e))})}function getNiceTickValuesFn(o){var i=_slicedToArray$8(o,2),_=i[0],$=i[1],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=Math.max(j,2),rt=getValidInterval([_,$]),nt=_slicedToArray$8(rt,2),it=nt[0],ot=nt[1];if(it===-1/0||ot===1/0){var lt=ot===1/0?[it].concat(_toConsumableArray$9(range$2(0,j-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$2(0,j-1).map(function(){return-1/0})),[ot]);return _>$?reverse(lt):lt}if(it===ot)return getTickOfSingleValue(it,j,_e);var ft=calculateStep(it,ot,tt,_e),_t=ft.step,At=ft.tickMin,Tt=ft.tickMax,Mt=Arithmetic.rangeStep(At,Tt.add(new Decimal$1(.1).mul(_t)),_t);return _>$?reverse(Mt):Mt}function getTickValuesFixedDomainFn(o,i){var _=_slicedToArray$8(o,2),$=_[0],j=_[1],_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=getValidInterval([$,j]),rt=_slicedToArray$8(tt,2),nt=rt[0],it=rt[1];if(nt===-1/0||it===1/0)return[$,j];if(nt===it)return[nt];var ot=Math.max(i,2),lt=getFormatStep(new Decimal$1(it).sub(nt).div(ot-1),_e,0),ft=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(nt),new Decimal$1(it).sub(new Decimal$1(.99).mul(lt)),lt)),[it]);return $>j?reverse(ft):ft}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),isProduction=!0,prefix="Invariant failed";function invariant(o,i){if(!o){if(isProduction)throw new Error(prefix);var _=typeof i=="function"?i():i,$=_?"".concat(prefix,": ").concat(_):prefix;throw new Error($)}}var _excluded$c=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$y(o){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$y(o)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$n.apply(this,arguments)}function _slicedToArray$7(o,i){return _arrayWithHoles$8(o)||_iterableToArrayLimit$7(o,i)||_unsupportedIterableToArray$e(o,i)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$e(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$e(o,i)}}function _arrayLikeToArray$e(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$7(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$8(o){if(Array.isArray(o))return o}function _objectWithoutProperties$c(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$c(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$c(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _classCallCheck$f(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$x($.key),$)}}function _createClass$f(o,i,_){return i&&_defineProperties$f(o.prototype,i),_&&_defineProperties$f(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$c(o,i,_){return i=_getPrototypeOf$e(i),_possibleConstructorReturn$e(o,_isNativeReflectConstruct$h()?Reflect.construct(i,_||[],_getPrototypeOf$e(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$e(o,i){if(i&&(_typeof$y(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(o)}function _assertThisInitialized$e(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$h(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!o})()}function _getPrototypeOf$e(o){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$e(o)}function _inherits$e(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$e(o,i)}function _setPrototypeOf$e(o,i){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$e(o,i)}function _defineProperty$x(o,i,_){return i=_toPropertyKey$x(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$x(o){var i=_toPrimitive$x(o,"string");return _typeof$y(i)=="symbol"?i:i+""}function _toPrimitive$x(o,i){if(_typeof$y(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$y($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var ErrorBar=function(o){function i(){return _classCallCheck$f(this,i),_callSuper$c(this,i,arguments)}return _inherits$e(i,o),_createClass$f(i,[{key:"render",value:function(){var $=this.props,j=$.offset,_e=$.layout,tt=$.width,rt=$.dataKey,nt=$.data,it=$.dataPointFormatter,ot=$.xAxis,lt=$.yAxis,ft=_objectWithoutProperties$c($,_excluded$c),_t=filterProps(ft,!1);this.props.direction==="x"&&ot.type!=="number"&&invariant(!1);var At=nt.map(function(Tt){var Mt=it(Tt,rt),pt=Mt.x,Pt=Mt.y,$t=Mt.value,Ot=Mt.errorVal;if(!Ot)return null;var It=[],Dt,Lt;if(Array.isArray(Ot)){var Bt=_slicedToArray$7(Ot,2);Dt=Bt[0],Lt=Bt[1]}else Dt=Lt=Ot;if(_e==="vertical"){var jt=ot.scale,Ut=Pt+j,Gt=Ut+tt,qt=Ut-tt,Jt=jt($t-Dt),er=jt($t+Lt);It.push({x1:er,y1:Gt,x2:er,y2:qt}),It.push({x1:Jt,y1:Ut,x2:er,y2:Ut}),It.push({x1:Jt,y1:Gt,x2:Jt,y2:qt})}else if(_e==="horizontal"){var Kt=lt.scale,zt=pt+j,Ht=zt-tt,Ft=zt+tt,Vt=Kt($t-Dt),Yt=Kt($t+Lt);It.push({x1:Ht,y1:Yt,x2:Ft,y2:Yt}),It.push({x1:zt,y1:Vt,x2:zt,y2:Yt}),It.push({x1:Ht,y1:Vt,x2:Ft,y2:Vt})}return React$2.createElement(Layer,_extends$n({className:"recharts-errorBar",key:"bar-".concat(It.map(function(Zt){return"".concat(Zt.x1,"-").concat(Zt.x2,"-").concat(Zt.y1,"-").concat(Zt.y2)}))},_t),It.map(function(Zt){return React$2.createElement("line",_extends$n({},Zt,{key:"line-".concat(Zt.x1,"-").concat(Zt.x2,"-").concat(Zt.y1,"-").concat(Zt.y2)}))}))});return React$2.createElement(Layer,{className:"recharts-errorBars"},At)}}])}(React$2.Component);_defineProperty$x(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$x(ErrorBar,"displayName","ErrorBar");function _typeof$x(o){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$x(o)}function ownKeys$A(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$A(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$A(Object(_),!0).forEach(function($){_defineProperty$w(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$A(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$w(o,i,_){return i=_toPropertyKey$w(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$w(o){var i=_toPrimitive$w(o,"string");return _typeof$x(i)=="symbol"?i:i+""}function _toPrimitive$w(o,i){if(_typeof$x(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$x($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getLegendProps=function o(i){var _=i.children,$=i.formattedGraphicalItems,j=i.legendWidth,_e=i.legendContent,tt=findChildByType(_,Legend);if(!tt)return null;var rt=Legend.defaultProps,nt=rt!==void 0?_objectSpread$A(_objectSpread$A({},rt),tt.props):{},it;return tt.props&&tt.props.payload?it=tt.props&&tt.props.payload:_e==="children"?it=($||[]).reduce(function(ot,lt){var ft=lt.item,_t=lt.props,At=_t.sectors||_t.data||[];return ot.concat(At.map(function(Tt){return{type:tt.props.iconType||ft.props.legendType,value:Tt.name,color:Tt.fill,payload:Tt}}))},[]):it=($||[]).map(function(ot){var lt=ot.item,ft=lt.type.defaultProps,_t=ft!==void 0?_objectSpread$A(_objectSpread$A({},ft),lt.props):{},At=_t.dataKey,Tt=_t.name,Mt=_t.legendType,pt=_t.hide;return{inactive:pt,dataKey:At,type:nt.iconType||Mt||"square",color:getMainColorOfGraphicItem(lt),value:Tt||At,payload:_t}}),_objectSpread$A(_objectSpread$A(_objectSpread$A({},nt),Legend.getWithHeight(tt,j)),{},{payload:it,item:tt})};function _typeof$w(o){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$w(o)}function _toConsumableArray$8(o){return _arrayWithoutHoles$8(o)||_iterableToArray$a(o)||_unsupportedIterableToArray$d(o)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$d(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$d(o,i)}}function _iterableToArray$a(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$8(o){if(Array.isArray(o))return _arrayLikeToArray$d(o)}function _arrayLikeToArray$d(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function ownKeys$z(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$z(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$z(Object(_),!0).forEach(function($){_defineProperty$v(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$z(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$v(o,i,_){return i=_toPropertyKey$v(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$v(o){var i=_toPrimitive$v(o,"string");return _typeof$w(i)=="symbol"?i:i+""}function _toPrimitive$v(o,i){if(_typeof$w(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$w($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function getValueByDataKey(o,i,_){return isNil$1(o)||isNil$1(i)?_:isNumOrStr(i)?get$3(o,i,_):isFunction$3(i)?i(o):_}function getDomainOfDataByKey(o,i,_,$){var j=flatMap$1(o,function(rt){return getValueByDataKey(rt,i)});if(_==="number"){var _e=j.filter(function(rt){return isNumber(rt)||parseFloat(rt)});return _e.length?[min$1(_e),max$1(_e)]:[1/0,-1/0]}var tt=$?j.filter(function(rt){return!isNil$1(rt)}):j;return tt.map(function(rt){return isNumOrStr(rt)||rt instanceof Date?rt:""})}var calculateActiveTickIndex=function o(i){var _,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],j=arguments.length>2?arguments[2]:void 0,_e=arguments.length>3?arguments[3]:void 0,tt=-1,rt=(_=$==null?void 0:$.length)!==null&&_!==void 0?_:0;if(rt<=1)return 0;if(_e&&_e.axisType==="angleAxis"&&Math.abs(Math.abs(_e.range[1]-_e.range[0])-360)<=1e-6)for(var nt=_e.range,it=0;it<rt;it++){var ot=it>0?j[it-1].coordinate:j[rt-1].coordinate,lt=j[it].coordinate,ft=it>=rt-1?j[0].coordinate:j[it+1].coordinate,_t=void 0;if(mathSign(lt-ot)!==mathSign(ft-lt)){var At=[];if(mathSign(ft-lt)===mathSign(nt[1]-nt[0])){_t=ft;var Tt=lt+nt[1]-nt[0];At[0]=Math.min(Tt,(Tt+ot)/2),At[1]=Math.max(Tt,(Tt+ot)/2)}else{_t=ot;var Mt=ft+nt[1]-nt[0];At[0]=Math.min(lt,(Mt+lt)/2),At[1]=Math.max(lt,(Mt+lt)/2)}var pt=[Math.min(lt,(_t+lt)/2),Math.max(lt,(_t+lt)/2)];if(i>pt[0]&&i<=pt[1]||i>=At[0]&&i<=At[1]){tt=j[it].index;break}}else{var Pt=Math.min(ot,ft),$t=Math.max(ot,ft);if(i>(Pt+lt)/2&&i<=($t+lt)/2){tt=j[it].index;break}}}else for(var Ot=0;Ot<rt;Ot++)if(Ot===0&&i<=($[Ot].coordinate+$[Ot+1].coordinate)/2||Ot>0&&Ot<rt-1&&i>($[Ot].coordinate+$[Ot-1].coordinate)/2&&i<=($[Ot].coordinate+$[Ot+1].coordinate)/2||Ot===rt-1&&i>($[Ot].coordinate+$[Ot-1].coordinate)/2){tt=$[Ot].index;break}return tt},getMainColorOfGraphicItem=function o(i){var _,$=i,j=$.type.displayName,_e=(_=i.type)!==null&&_!==void 0&&_.defaultProps?_objectSpread$z(_objectSpread$z({},i.type.defaultProps),i.props):i.props,tt=_e.stroke,rt=_e.fill,nt;switch(j){case"Line":nt=tt;break;case"Area":case"Radar":nt=tt&&tt!=="none"?tt:rt;break;default:nt=rt;break}return nt},getBarSizeList=function o(i){var _=i.barSize,$=i.totalSize,j=i.stackGroups,_e=j===void 0?{}:j;if(!_e)return{};for(var tt={},rt=Object.keys(_e),nt=0,it=rt.length;nt<it;nt++)for(var ot=_e[rt[nt]].stackGroups,lt=Object.keys(ot),ft=0,_t=lt.length;ft<_t;ft++){var At=ot[lt[ft]],Tt=At.items,Mt=At.cateAxisId,pt=Tt.filter(function(Lt){return getDisplayName(Lt.type).indexOf("Bar")>=0});if(pt&&pt.length){var Pt=pt[0].type.defaultProps,$t=Pt!==void 0?_objectSpread$z(_objectSpread$z({},Pt),pt[0].props):pt[0].props,Ot=$t.barSize,It=$t[Mt];tt[It]||(tt[It]=[]);var Dt=isNil$1(Ot)?_:Ot;tt[It].push({item:pt[0],stackList:pt.slice(1),barSize:isNil$1(Dt)?void 0:getPercentValue(Dt,$,0)})}}return tt},getBarPosition=function o(i){var _=i.barGap,$=i.barCategoryGap,j=i.bandSize,_e=i.sizeList,tt=_e===void 0?[]:_e,rt=i.maxBarSize,nt=tt.length;if(nt<1)return null;var it=getPercentValue(_,j,0,!0),ot,lt=[];if(tt[0].barSize===+tt[0].barSize){var ft=!1,_t=j/nt,At=tt.reduce(function(Ot,It){return Ot+It.barSize||0},0);At+=(nt-1)*it,At>=j&&(At-=(nt-1)*it,it=0),At>=j&&_t>0&&(ft=!0,_t*=.9,At=nt*_t);var Tt=(j-At)/2>>0,Mt={offset:Tt-it,size:0};ot=tt.reduce(function(Ot,It){var Dt={item:It.item,position:{offset:Mt.offset+Mt.size+it,size:ft?_t:It.barSize}},Lt=[].concat(_toConsumableArray$8(Ot),[Dt]);return Mt=Lt[Lt.length-1].position,It.stackList&&It.stackList.length&&It.stackList.forEach(function(Bt){Lt.push({item:Bt,position:Mt})}),Lt},lt)}else{var pt=getPercentValue($,j,0,!0);j-2*pt-(nt-1)*it<=0&&(it=0);var Pt=(j-2*pt-(nt-1)*it)/nt;Pt>1&&(Pt>>=0);var $t=rt===+rt?Math.min(Pt,rt):Pt;ot=tt.reduce(function(Ot,It,Dt){var Lt=[].concat(_toConsumableArray$8(Ot),[{item:It.item,position:{offset:pt+(Pt+it)*Dt+(Pt-$t)/2,size:$t}}]);return It.stackList&&It.stackList.length&&It.stackList.forEach(function(Bt){Lt.push({item:Bt,position:Lt[Lt.length-1].position})}),Lt},lt)}return ot},appendOffsetOfLegend=function o(i,_,$,j){var _e=$.children,tt=$.width,rt=$.margin,nt=tt-(rt.left||0)-(rt.right||0),it=getLegendProps({children:_e,legendWidth:nt});if(it){var ot=j||{},lt=ot.width,ft=ot.height,_t=it.align,At=it.verticalAlign,Tt=it.layout;if((Tt==="vertical"||Tt==="horizontal"&&At==="middle")&&_t!=="center"&&isNumber(i[_t]))return _objectSpread$z(_objectSpread$z({},i),{},_defineProperty$v({},_t,i[_t]+(lt||0)));if((Tt==="horizontal"||Tt==="vertical"&&_t==="center")&&At!=="middle"&&isNumber(i[At]))return _objectSpread$z(_objectSpread$z({},i),{},_defineProperty$v({},At,i[At]+(ft||0)))}return i},isErrorBarRelevantForAxis=function o(i,_,$){return isNil$1(_)?!0:i==="horizontal"?_==="yAxis":i==="vertical"||$==="x"?_==="xAxis":$==="y"?_==="yAxis":!0},getDomainOfErrorBars=function o(i,_,$,j,_e){var tt=_.props.children,rt=findAllByType(tt,ErrorBar).filter(function(it){return isErrorBarRelevantForAxis(j,_e,it.props.direction)});if(rt&&rt.length){var nt=rt.map(function(it){return it.props.dataKey});return i.reduce(function(it,ot){var lt=getValueByDataKey(ot,$);if(isNil$1(lt))return it;var ft=Array.isArray(lt)?[min$1(lt),max$1(lt)]:[lt,lt],_t=nt.reduce(function(At,Tt){var Mt=getValueByDataKey(ot,Tt,0),pt=ft[0]-Math.abs(Array.isArray(Mt)?Mt[0]:Mt),Pt=ft[1]+Math.abs(Array.isArray(Mt)?Mt[1]:Mt);return[Math.min(pt,At[0]),Math.max(Pt,At[1])]},[1/0,-1/0]);return[Math.min(_t[0],it[0]),Math.max(_t[1],it[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function o(i,_,$,j,_e){var tt=_.map(function(rt){return getDomainOfErrorBars(i,rt,$,_e,j)}).filter(function(rt){return!isNil$1(rt)});return tt&&tt.length?tt.reduce(function(rt,nt){return[Math.min(rt[0],nt[0]),Math.max(rt[1],nt[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function o(i,_,$,j,_e){var tt=_.map(function(nt){var it=nt.props.dataKey;return $==="number"&&it&&getDomainOfErrorBars(i,nt,it,j)||getDomainOfDataByKey(i,it,$,_e)});if($==="number")return tt.reduce(function(nt,it){return[Math.min(nt[0],it[0]),Math.max(nt[1],it[1])]},[1/0,-1/0]);var rt={};return tt.reduce(function(nt,it){for(var ot=0,lt=it.length;ot<lt;ot++)rt[it[ot]]||(rt[it[ot]]=!0,nt.push(it[ot]));return nt},[])},isCategoricalAxis=function o(i,_){return i==="horizontal"&&_==="xAxis"||i==="vertical"&&_==="yAxis"||i==="centric"&&_==="angleAxis"||i==="radial"&&_==="radiusAxis"},getCoordinatesOfGrid=function o(i,_,$,j){if(j)return i.map(function(nt){return nt.coordinate});var _e,tt,rt=i.map(function(nt){return nt.coordinate===_&&(_e=!0),nt.coordinate===$&&(tt=!0),nt.coordinate});return _e||rt.push(_),tt||rt.push($),rt},getTicksOfAxis=function o(i,_,$){if(!i)return null;var j=i.scale,_e=i.duplicateDomain,tt=i.type,rt=i.range,nt=i.realScaleType==="scaleBand"?j.bandwidth()/2:2,it=(_||$)&&tt==="category"&&j.bandwidth?j.bandwidth()/nt:0;if(it=i.axisType==="angleAxis"&&(rt==null?void 0:rt.length)>=2?mathSign(rt[0]-rt[1])*2*it:it,_&&(i.ticks||i.niceTicks)){var ot=(i.ticks||i.niceTicks).map(function(lt){var ft=_e?_e.indexOf(lt):lt;return{coordinate:j(ft)+it,value:lt,offset:it}});return ot.filter(function(lt){return!isNan(lt.coordinate)})}return i.isCategorical&&i.categoricalDomain?i.categoricalDomain.map(function(lt,ft){return{coordinate:j(lt)+it,value:lt,index:ft,offset:it}}):j.ticks&&!$?j.ticks(i.tickCount).map(function(lt){return{coordinate:j(lt)+it,value:lt,offset:it}}):j.domain().map(function(lt,ft){return{coordinate:j(lt)+it,value:_e?_e[lt]:lt,index:ft,offset:it}})},handlerWeakMap=new WeakMap,combineEventHandlers=function o(i,_){if(typeof _!="function")return i;handlerWeakMap.has(i)||handlerWeakMap.set(i,new WeakMap);var $=handlerWeakMap.get(i);if($.has(_))return $.get(_);var j=function(){i.apply(void 0,arguments),_.apply(void 0,arguments)};return $.set(_,j),j},parseScale=function o(i,_,$){var j=i.scale,_e=i.type,tt=i.layout,rt=i.axisType;if(j==="auto")return tt==="radial"&&rt==="radiusAxis"?{scale:band(),realScaleType:"band"}:tt==="radial"&&rt==="angleAxis"?{scale:linear(),realScaleType:"linear"}:_e==="category"&&_&&(_.indexOf("LineChart")>=0||_.indexOf("AreaChart")>=0||_.indexOf("ComposedChart")>=0&&!$)?{scale:point(),realScaleType:"point"}:_e==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(j)){var nt="scale".concat(upperFirst$1(j));return{scale:(d3Scales[nt]||point)(),realScaleType:d3Scales[nt]?nt:"point"}}return isFunction$3(j)?{scale:j}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function o(i){var _=i.domain();if(!(!_||_.length<=2)){var $=_.length,j=i.range(),_e=Math.min(j[0],j[1])-EPS,tt=Math.max(j[0],j[1])+EPS,rt=i(_[0]),nt=i(_[$-1]);(rt<_e||rt>tt||nt<_e||nt>tt)&&i.domain([_[0],_[$-1]])}},findPositionOfBar=function o(i,_){if(!i)return null;for(var $=0,j=i.length;$<j;$++)if(i[$].item===_)return i[$].position;return null},truncateByDomain=function o(i,_){if(!_||_.length!==2||!isNumber(_[0])||!isNumber(_[1]))return i;var $=Math.min(_[0],_[1]),j=Math.max(_[0],_[1]),_e=[i[0],i[1]];return(!isNumber(i[0])||i[0]<$)&&(_e[0]=$),(!isNumber(i[1])||i[1]>j)&&(_e[1]=j),_e[0]>j&&(_e[0]=j),_e[1]<$&&(_e[1]=$),_e},offsetSign=function o(i){var _=i.length;if(!(_<=0))for(var $=0,j=i[0].length;$<j;++$)for(var _e=0,tt=0,rt=0;rt<_;++rt){var nt=isNan(i[rt][$][1])?i[rt][$][0]:i[rt][$][1];nt>=0?(i[rt][$][0]=_e,i[rt][$][1]=_e+nt,_e=i[rt][$][1]):(i[rt][$][0]=tt,i[rt][$][1]=tt+nt,tt=i[rt][$][1])}},offsetPositive=function o(i){var _=i.length;if(!(_<=0))for(var $=0,j=i[0].length;$<j;++$)for(var _e=0,tt=0;tt<_;++tt){var rt=isNan(i[tt][$][1])?i[tt][$][0]:i[tt][$][1];rt>=0?(i[tt][$][0]=_e,i[tt][$][1]=_e+rt,_e=i[tt][$][1]):(i[tt][$][0]=0,i[tt][$][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function o(i,_,$){var j=_.map(function(rt){return rt.props.dataKey}),_e=STACK_OFFSET_MAP[$],tt=shapeStack().keys(j).value(function(rt,nt){return+getValueByDataKey(rt,nt,0)}).order(stackOrderNone).offset(_e);return tt(i)},getStackGroupsByAxisId=function o(i,_,$,j,_e,tt){if(!i)return null;var rt=tt?_.reverse():_,nt={},it=rt.reduce(function(lt,ft){var _t,At=(_t=ft.type)!==null&&_t!==void 0&&_t.defaultProps?_objectSpread$z(_objectSpread$z({},ft.type.defaultProps),ft.props):ft.props,Tt=At.stackId,Mt=At.hide;if(Mt)return lt;var pt=At[$],Pt=lt[pt]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(Tt)){var $t=Pt.stackGroups[Tt]||{numericAxisId:$,cateAxisId:j,items:[]};$t.items.push(ft),Pt.hasStack=!0,Pt.stackGroups[Tt]=$t}else Pt.stackGroups[uniqueId("_stackId_")]={numericAxisId:$,cateAxisId:j,items:[ft]};return _objectSpread$z(_objectSpread$z({},lt),{},_defineProperty$v({},pt,Pt))},nt),ot={};return Object.keys(it).reduce(function(lt,ft){var _t=it[ft];if(_t.hasStack){var At={};_t.stackGroups=Object.keys(_t.stackGroups).reduce(function(Tt,Mt){var pt=_t.stackGroups[Mt];return _objectSpread$z(_objectSpread$z({},Tt),{},_defineProperty$v({},Mt,{numericAxisId:$,cateAxisId:j,items:pt.items,stackedData:getStackedData(i,pt.items,_e)}))},At)}return _objectSpread$z(_objectSpread$z({},lt),{},_defineProperty$v({},ft,_t))},ot)},getTicksOfScale=function o(i,_){var $=_.realScaleType,j=_.type,_e=_.tickCount,tt=_.originalDomain,rt=_.allowDecimals,nt=$||_.scale;if(nt!=="auto"&&nt!=="linear")return null;if(_e&&j==="number"&&tt&&(tt[0]==="auto"||tt[1]==="auto")){var it=i.domain();if(!it.length)return null;var ot=getNiceTickValues(it,_e,rt);return i.domain([min$1(ot),max$1(ot)]),{niceTicks:ot}}if(_e&&j==="number"){var lt=i.domain(),ft=getTickValuesFixedDomain(lt,_e,rt);return{niceTicks:ft}}return null},getCateCoordinateOfBar=function o(i){var _=i.axis,$=i.ticks,j=i.offset,_e=i.bandSize,tt=i.entry,rt=i.index;if(_.type==="category")return $[rt]?$[rt].coordinate+j:null;var nt=getValueByDataKey(tt,_.dataKey,_.domain[rt]);return isNil$1(nt)?null:_.scale(nt)-_e/2+j},getBaseValueOfBar=function o(i){var _=i.numericAxis,$=_.scale.domain();if(_.type==="number"){var j=Math.min($[0],$[1]),_e=Math.max($[0],$[1]);return j<=0&&_e>=0?0:_e<0?_e:j}return $[0]},getStackedDataOfItem=function o(i,_){var $,j=($=i.type)!==null&&$!==void 0&&$.defaultProps?_objectSpread$z(_objectSpread$z({},i.type.defaultProps),i.props):i.props,_e=j.stackId;if(isNumOrStr(_e)){var tt=_[_e];if(tt){var rt=tt.items.indexOf(i);return rt>=0?tt.stackedData[rt]:null}}return null},getDomainOfSingle=function o(i){return i.reduce(function(_,$){return[min$1($.concat([_[0]]).filter(isNumber)),max$1($.concat([_[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function o(i,_,$){return Object.keys(i).reduce(function(j,_e){var tt=i[_e],rt=tt.stackedData,nt=rt.reduce(function(it,ot){var lt=getDomainOfSingle(ot.slice(_,$+1));return[Math.min(it[0],lt[0]),Math.max(it[1],lt[1])]},[1/0,-1/0]);return[Math.min(nt[0],j[0]),Math.max(nt[1],j[1])]},[1/0,-1/0]).map(function(j){return j===1/0||j===-1/0?0:j})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function o(i,_,$){if(isFunction$3(i))return i(_,$);if(!Array.isArray(i))return _;var j=[];if(isNumber(i[0]))j[0]=$?i[0]:Math.min(i[0],_[0]);else if(MIN_VALUE_REG.test(i[0])){var _e=+MIN_VALUE_REG.exec(i[0])[1];j[0]=_[0]-_e}else isFunction$3(i[0])?j[0]=i[0](_[0]):j[0]=_[0];if(isNumber(i[1]))j[1]=$?i[1]:Math.max(i[1],_[1]);else if(MAX_VALUE_REG.test(i[1])){var tt=+MAX_VALUE_REG.exec(i[1])[1];j[1]=_[1]+tt}else isFunction$3(i[1])?j[1]=i[1](_[1]):j[1]=_[1];return j},getBandSizeOfAxis=function o(i,_,$){if(i&&i.scale&&i.scale.bandwidth){var j=i.scale.bandwidth();if(!$||j>0)return j}if(i&&_&&_.length>=2){for(var _e=sortBy$1(_,function(lt){return lt.coordinate}),tt=1/0,rt=1,nt=_e.length;rt<nt;rt++){var it=_e[rt],ot=_e[rt-1];tt=Math.min((it.coordinate||0)-(ot.coordinate||0),tt)}return tt===1/0?0:tt}return $?void 0:0},parseDomainOfCategoryAxis=function o(i,_,$){return!i||!i.length||isEqual$1(i,get$3($,"type.defaultProps.domain"))?_:i},getTooltipItem=function o(i,_){var $=i.type.defaultProps?_objectSpread$z(_objectSpread$z({},i.type.defaultProps),i.props):i.props,j=$.dataKey,_e=$.name,tt=$.unit,rt=$.formatter,nt=$.tooltipType,it=$.chartType,ot=$.hide;return _objectSpread$z(_objectSpread$z({},filterProps(i,!1)),{},{dataKey:j,unit:tt,formatter:rt,name:_e||j,color:getMainColorOfGraphicItem(i),value:getValueByDataKey(_,j),type:nt,payload:_,chartType:it,hide:ot})};function _typeof$v(o){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$v(o)}function ownKeys$y(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$y(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$y(Object(_),!0).forEach(function($){_defineProperty$u(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$y(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$u(o,i,_){return i=_toPropertyKey$u(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$u(o){var i=_toPrimitive$u(o,"string");return _typeof$v(i)=="symbol"?i:i+""}function _toPrimitive$u(o,i){if(_typeof$v(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$v($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray$6(o,i){return _arrayWithHoles$7(o)||_iterableToArrayLimit$6(o,i)||_unsupportedIterableToArray$c(o,i)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$c(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$c(o,i)}}function _arrayLikeToArray$c(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$6(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$7(o){if(Array.isArray(o))return o}var RADIAN$1=Math.PI/180,radianToDegree=function o(i){return i*180/Math.PI},polarToCartesian=function o(i,_,$,j){return{x:i+Math.cos(-RADIAN$1*j)*$,y:_+Math.sin(-RADIAN$1*j)*$}},getMaxRadius=function o(i,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(i-($.left||0)-($.right||0)),Math.abs(_-($.top||0)-($.bottom||0)))/2},formatAxisMap$1=function o(i,_,$,j,_e){var tt=i.width,rt=i.height,nt=i.startAngle,it=i.endAngle,ot=getPercentValue(i.cx,tt,tt/2),lt=getPercentValue(i.cy,rt,rt/2),ft=getMaxRadius(tt,rt,$),_t=getPercentValue(i.innerRadius,ft,0),At=getPercentValue(i.outerRadius,ft,ft*.8),Tt=Object.keys(_);return Tt.reduce(function(Mt,pt){var Pt=_[pt],$t=Pt.domain,Ot=Pt.reversed,It;if(isNil$1(Pt.range))j==="angleAxis"?It=[nt,it]:j==="radiusAxis"&&(It=[_t,At]),Ot&&(It=[It[1],It[0]]);else{It=Pt.range;var Dt=It,Lt=_slicedToArray$6(Dt,2);nt=Lt[0],it=Lt[1]}var Bt=parseScale(Pt,_e),jt=Bt.realScaleType,Ut=Bt.scale;Ut.domain($t).range(It),checkDomainOfScale(Ut);var Gt=getTicksOfScale(Ut,_objectSpread$y(_objectSpread$y({},Pt),{},{realScaleType:jt})),qt=_objectSpread$y(_objectSpread$y(_objectSpread$y({},Pt),Gt),{},{range:It,radius:At,realScaleType:jt,scale:Ut,cx:ot,cy:lt,innerRadius:_t,outerRadius:At,startAngle:nt,endAngle:it});return _objectSpread$y(_objectSpread$y({},Mt),{},_defineProperty$u({},pt,qt))},{})},distanceBetweenPoints=function o(i,_){var $=i.x,j=i.y,_e=_.x,tt=_.y;return Math.sqrt(Math.pow($-_e,2)+Math.pow(j-tt,2))},getAngleOfPoint=function o(i,_){var $=i.x,j=i.y,_e=_.cx,tt=_.cy,rt=distanceBetweenPoints({x:$,y:j},{x:_e,y:tt});if(rt<=0)return{radius:rt};var nt=($-_e)/rt,it=Math.acos(nt);return j>tt&&(it=2*Math.PI-it),{radius:rt,angle:radianToDegree(it),angleInRadian:it}},formatAngleOfSector=function o(i){var _=i.startAngle,$=i.endAngle,j=Math.floor(_/360),_e=Math.floor($/360),tt=Math.min(j,_e);return{startAngle:_-tt*360,endAngle:$-tt*360}},reverseFormatAngleOfSetor=function o(i,_){var $=_.startAngle,j=_.endAngle,_e=Math.floor($/360),tt=Math.floor(j/360),rt=Math.min(_e,tt);return i+rt*360},inRangeOfSector=function o(i,_){var $=i.x,j=i.y,_e=getAngleOfPoint({x:$,y:j},_),tt=_e.radius,rt=_e.angle,nt=_.innerRadius,it=_.outerRadius;if(tt<nt||tt>it)return!1;if(tt===0)return!0;var ot=formatAngleOfSector(_),lt=ot.startAngle,ft=ot.endAngle,_t=rt,At;if(lt<=ft){for(;_t>ft;)_t-=360;for(;_t<lt;)_t+=360;At=_t>=lt&&_t<=ft}else{for(;_t>lt;)_t-=360;for(;_t<ft;)_t+=360;At=_t>=ft&&_t<=lt}return At?_objectSpread$y(_objectSpread$y({},_),{},{radius:tt,angle:reverseFormatAngleOfSetor(_t,_)}):null},getTickClassName=function o(i){return!reactExports.isValidElement(i)&&!isFunction$3(i)&&typeof i!="boolean"?i.className:""};function _typeof$u(o){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$u(o)}var _excluded$b=["offset"];function _toConsumableArray$7(o){return _arrayWithoutHoles$7(o)||_iterableToArray$9(o)||_unsupportedIterableToArray$b(o)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$b(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$b(o,i)}}function _iterableToArray$9(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$7(o){if(Array.isArray(o))return _arrayLikeToArray$b(o)}function _arrayLikeToArray$b(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _objectWithoutProperties$b(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$b(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$b(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function ownKeys$x(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$x(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$x(Object(_),!0).forEach(function($){_defineProperty$t(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$x(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$t(o,i,_){return i=_toPropertyKey$t(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$t(o){var i=_toPrimitive$t(o,"string");return _typeof$u(i)=="symbol"?i:i+""}function _toPrimitive$t(o,i){if(_typeof$u(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$u($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$m.apply(this,arguments)}var getLabel=function o(i){var _=i.value,$=i.formatter,j=isNil$1(i.children)?_:i.children;return isFunction$3($)?$(j):j},getDeltaAngle$1=function o(i,_){var $=mathSign(_-i),j=Math.min(Math.abs(_-i),360);return $*j},renderRadialLabel=function o(i,_,$){var j=i.position,_e=i.viewBox,tt=i.offset,rt=i.className,nt=_e,it=nt.cx,ot=nt.cy,lt=nt.innerRadius,ft=nt.outerRadius,_t=nt.startAngle,At=nt.endAngle,Tt=nt.clockWise,Mt=(lt+ft)/2,pt=getDeltaAngle$1(_t,At),Pt=pt>=0?1:-1,$t,Ot;j==="insideStart"?($t=_t+Pt*tt,Ot=Tt):j==="insideEnd"?($t=At-Pt*tt,Ot=!Tt):j==="end"&&($t=At+Pt*tt,Ot=Tt),Ot=pt<=0?Ot:!Ot;var It=polarToCartesian(it,ot,Mt,$t),Dt=polarToCartesian(it,ot,Mt,$t+(Ot?1:-1)*359),Lt="M".concat(It.x,",").concat(It.y,`
    A`).concat(Mt,",").concat(Mt,",0,1,").concat(Ot?0:1,`,
    `).concat(Dt.x,",").concat(Dt.y),Bt=isNil$1(i.id)?uniqueId("recharts-radial-line-"):i.id;return React$2.createElement("text",_extends$m({},$,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",rt)}),React$2.createElement("defs",null,React$2.createElement("path",{id:Bt,d:Lt})),React$2.createElement("textPath",{xlinkHref:"#".concat(Bt)},_))},getAttrsOfPolarLabel=function o(i){var _=i.viewBox,$=i.offset,j=i.position,_e=_,tt=_e.cx,rt=_e.cy,nt=_e.innerRadius,it=_e.outerRadius,ot=_e.startAngle,lt=_e.endAngle,ft=(ot+lt)/2;if(j==="outside"){var _t=polarToCartesian(tt,rt,it+$,ft),At=_t.x,Tt=_t.y;return{x:At,y:Tt,textAnchor:At>=tt?"start":"end",verticalAnchor:"middle"}}if(j==="center")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"middle"};if(j==="centerTop")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"start"};if(j==="centerBottom")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"end"};var Mt=(nt+it)/2,pt=polarToCartesian(tt,rt,Mt,ft),Pt=pt.x,$t=pt.y;return{x:Pt,y:$t,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function o(i){var _=i.viewBox,$=i.parentViewBox,j=i.offset,_e=i.position,tt=_,rt=tt.x,nt=tt.y,it=tt.width,ot=tt.height,lt=ot>=0?1:-1,ft=lt*j,_t=lt>0?"end":"start",At=lt>0?"start":"end",Tt=it>=0?1:-1,Mt=Tt*j,pt=Tt>0?"end":"start",Pt=Tt>0?"start":"end";if(_e==="top"){var $t={x:rt+it/2,y:nt-lt*j,textAnchor:"middle",verticalAnchor:_t};return _objectSpread$x(_objectSpread$x({},$t),$?{height:Math.max(nt-$.y,0),width:it}:{})}if(_e==="bottom"){var Ot={x:rt+it/2,y:nt+ot+ft,textAnchor:"middle",verticalAnchor:At};return _objectSpread$x(_objectSpread$x({},Ot),$?{height:Math.max($.y+$.height-(nt+ot),0),width:it}:{})}if(_e==="left"){var It={x:rt-Mt,y:nt+ot/2,textAnchor:pt,verticalAnchor:"middle"};return _objectSpread$x(_objectSpread$x({},It),$?{width:Math.max(It.x-$.x,0),height:ot}:{})}if(_e==="right"){var Dt={x:rt+it+Mt,y:nt+ot/2,textAnchor:Pt,verticalAnchor:"middle"};return _objectSpread$x(_objectSpread$x({},Dt),$?{width:Math.max($.x+$.width-Dt.x,0),height:ot}:{})}var Lt=$?{width:it,height:ot}:{};return _e==="insideLeft"?_objectSpread$x({x:rt+Mt,y:nt+ot/2,textAnchor:Pt,verticalAnchor:"middle"},Lt):_e==="insideRight"?_objectSpread$x({x:rt+it-Mt,y:nt+ot/2,textAnchor:pt,verticalAnchor:"middle"},Lt):_e==="insideTop"?_objectSpread$x({x:rt+it/2,y:nt+ft,textAnchor:"middle",verticalAnchor:At},Lt):_e==="insideBottom"?_objectSpread$x({x:rt+it/2,y:nt+ot-ft,textAnchor:"middle",verticalAnchor:_t},Lt):_e==="insideTopLeft"?_objectSpread$x({x:rt+Mt,y:nt+ft,textAnchor:Pt,verticalAnchor:At},Lt):_e==="insideTopRight"?_objectSpread$x({x:rt+it-Mt,y:nt+ft,textAnchor:pt,verticalAnchor:At},Lt):_e==="insideBottomLeft"?_objectSpread$x({x:rt+Mt,y:nt+ot-ft,textAnchor:Pt,verticalAnchor:_t},Lt):_e==="insideBottomRight"?_objectSpread$x({x:rt+it-Mt,y:nt+ot-ft,textAnchor:pt,verticalAnchor:_t},Lt):isObject$8(_e)&&(isNumber(_e.x)||isPercent(_e.x))&&(isNumber(_e.y)||isPercent(_e.y))?_objectSpread$x({x:rt+getPercentValue(_e.x,it),y:nt+getPercentValue(_e.y,ot),textAnchor:"end",verticalAnchor:"end"},Lt):_objectSpread$x({x:rt+it/2,y:nt+ot/2,textAnchor:"middle",verticalAnchor:"middle"},Lt)},isPolar=function o(i){return"cx"in i&&isNumber(i.cx)};function Label(o){var i=o.offset,_=i===void 0?5:i,$=_objectWithoutProperties$b(o,_excluded$b),j=_objectSpread$x({offset:_},$),_e=j.viewBox,tt=j.position,rt=j.value,nt=j.children,it=j.content,ot=j.className,lt=ot===void 0?"":ot,ft=j.textBreakAll;if(!_e||isNil$1(rt)&&isNil$1(nt)&&!reactExports.isValidElement(it)&&!isFunction$3(it))return null;if(reactExports.isValidElement(it))return reactExports.cloneElement(it,j);var _t;if(isFunction$3(it)){if(_t=reactExports.createElement(it,j),reactExports.isValidElement(_t))return _t}else _t=getLabel(j);var At=isPolar(_e),Tt=filterProps(j,!0);if(At&&(tt==="insideStart"||tt==="insideEnd"||tt==="end"))return renderRadialLabel(j,_t,Tt);var Mt=At?getAttrsOfPolarLabel(j):getAttrsOfCartesianLabel(j);return React$2.createElement(Text,_extends$m({className:clsx("recharts-label",lt)},Tt,Mt,{breakAll:ft}),_t)}Label.displayName="Label";var parseViewBox=function o(i){var _=i.cx,$=i.cy,j=i.angle,_e=i.startAngle,tt=i.endAngle,rt=i.r,nt=i.radius,it=i.innerRadius,ot=i.outerRadius,lt=i.x,ft=i.y,_t=i.top,At=i.left,Tt=i.width,Mt=i.height,pt=i.clockWise,Pt=i.labelViewBox;if(Pt)return Pt;if(isNumber(Tt)&&isNumber(Mt)){if(isNumber(lt)&&isNumber(ft))return{x:lt,y:ft,width:Tt,height:Mt};if(isNumber(_t)&&isNumber(At))return{x:_t,y:At,width:Tt,height:Mt}}return isNumber(lt)&&isNumber(ft)?{x:lt,y:ft,width:0,height:0}:isNumber(_)&&isNumber($)?{cx:_,cy:$,startAngle:_e||j||0,endAngle:tt||j||0,innerRadius:it||0,outerRadius:ot||nt||rt||0,clockWise:pt}:i.viewBox?i.viewBox:{}},parseLabel=function o(i,_){return i?i===!0?React$2.createElement(Label,{key:"label-implicit",viewBox:_}):isNumOrStr(i)?React$2.createElement(Label,{key:"label-implicit",viewBox:_,value:i}):reactExports.isValidElement(i)?i.type===Label?reactExports.cloneElement(i,{key:"label-implicit",viewBox:_}):React$2.createElement(Label,{key:"label-implicit",content:i,viewBox:_}):isFunction$3(i)?React$2.createElement(Label,{key:"label-implicit",content:i,viewBox:_}):isObject$8(i)?React$2.createElement(Label,_extends$m({viewBox:_},i,{key:"label-implicit"})):null:null},renderCallByParent$1=function o(i,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!i||!i.children&&$&&!i.label)return null;var j=i.children,_e=parseViewBox(i),tt=findAllByType(j,Label).map(function(nt,it){return reactExports.cloneElement(nt,{viewBox:_||_e,key:"label-".concat(it)})});if(!$)return tt;var rt=parseLabel(i.label,_||_e);return[rt].concat(_toConsumableArray$7(tt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(o){var i=o==null?0:o.length;return i?o[i-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$t(o){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$t(o)}var _excluded$a=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(o){return _arrayWithoutHoles$6(o)||_iterableToArray$8(o)||_unsupportedIterableToArray$a(o)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$a(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$a(o,i)}}function _iterableToArray$8(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$6(o){if(Array.isArray(o))return _arrayLikeToArray$a(o)}function _arrayLikeToArray$a(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$l.apply(this,arguments)}function ownKeys$w(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$w(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$w(Object(_),!0).forEach(function($){_defineProperty$s(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$w(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$s(o,i,_){return i=_toPropertyKey$s(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$s(o){var i=_toPrimitive$s(o,"string");return _typeof$t(i)=="symbol"?i:i+""}function _toPrimitive$s(o,i){if(_typeof$t(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$t($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$a(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$a(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$a(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var defaultAccessor=function o(i){return Array.isArray(i.value)?last$1(i.value):i.value};function LabelList(o){var i=o.valueAccessor,_=i===void 0?defaultAccessor:i,$=_objectWithoutProperties$a(o,_excluded$a),j=$.data,_e=$.dataKey,tt=$.clockWise,rt=$.id,nt=$.textBreakAll,it=_objectWithoutProperties$a($,_excluded2$4);return!j||!j.length?null:React$2.createElement(Layer,{className:"recharts-label-list"},j.map(function(ot,lt){var ft=isNil$1(_e)?_(ot,lt):getValueByDataKey(ot&&ot.payload,_e),_t=isNil$1(rt)?{}:{id:"".concat(rt,"-").concat(lt)};return React$2.createElement(Label,_extends$l({},filterProps(ot,!0),it,_t,{parentViewBox:ot.parentViewBox,value:ft,textBreakAll:nt,viewBox:Label.parseViewBox(isNil$1(tt)?ot:_objectSpread$w(_objectSpread$w({},ot),{},{clockWise:tt})),key:"label-".concat(lt),index:lt}))}))}LabelList.displayName="LabelList";function parseLabelList(o,i){return o?o===!0?React$2.createElement(LabelList,{key:"labelList-implicit",data:i}):React$2.isValidElement(o)||isFunction$3(o)?React$2.createElement(LabelList,{key:"labelList-implicit",data:i,content:o}):isObject$8(o)?React$2.createElement(LabelList,_extends$l({data:i},o,{key:"labelList-implicit"})):null:null}function renderCallByParent(o,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!o||!o.children&&_&&!o.label)return null;var $=o.children,j=findAllByType($,LabelList).map(function(tt,rt){return reactExports.cloneElement(tt,{data:i,key:"labelList-".concat(rt)})});if(!_)return j;var _e=parseLabelList(o.label,i);return[_e].concat(_toConsumableArray$6(j))}LabelList.renderCallByParent=renderCallByParent;function _typeof$s(o){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$s(o)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$k.apply(this,arguments)}function ownKeys$v(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$v(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$v(Object(_),!0).forEach(function($){_defineProperty$r(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$v(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$r(o,i,_){return i=_toPropertyKey$r(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$r(o){var i=_toPrimitive$r(o,"string");return _typeof$s(i)=="symbol"?i:i+""}function _toPrimitive$r(o,i){if(_typeof$s(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$s($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getDeltaAngle=function o(i,_){var $=mathSign(_-i),j=Math.min(Math.abs(_-i),359.999);return $*j},getTangentCircle=function o(i){var _=i.cx,$=i.cy,j=i.radius,_e=i.angle,tt=i.sign,rt=i.isExternal,nt=i.cornerRadius,it=i.cornerIsExternal,ot=nt*(rt?1:-1)+j,lt=Math.asin(nt/ot)/RADIAN$1,ft=it?_e:_e+tt*lt,_t=polarToCartesian(_,$,ot,ft),At=polarToCartesian(_,$,j,ft),Tt=it?_e-tt*lt:_e,Mt=polarToCartesian(_,$,ot*Math.cos(lt*RADIAN$1),Tt);return{center:_t,circleTangency:At,lineTangency:Mt,theta:lt}},getSectorPath=function o(i){var _=i.cx,$=i.cy,j=i.innerRadius,_e=i.outerRadius,tt=i.startAngle,rt=i.endAngle,nt=getDeltaAngle(tt,rt),it=tt+nt,ot=polarToCartesian(_,$,_e,tt),lt=polarToCartesian(_,$,_e,it),ft="M ".concat(ot.x,",").concat(ot.y,`
    A `).concat(_e,",").concat(_e,`,0,
    `).concat(+(Math.abs(nt)>180),",").concat(+(tt>it),`,
    `).concat(lt.x,",").concat(lt.y,`
  `);if(j>0){var _t=polarToCartesian(_,$,j,tt),At=polarToCartesian(_,$,j,it);ft+="L ".concat(At.x,",").concat(At.y,`
            A `).concat(j,",").concat(j,`,0,
            `).concat(+(Math.abs(nt)>180),",").concat(+(tt<=it),`,
            `).concat(_t.x,",").concat(_t.y," Z")}else ft+="L ".concat(_,",").concat($," Z");return ft},getSectorWithCorner=function o(i){var _=i.cx,$=i.cy,j=i.innerRadius,_e=i.outerRadius,tt=i.cornerRadius,rt=i.forceCornerRadius,nt=i.cornerIsExternal,it=i.startAngle,ot=i.endAngle,lt=mathSign(ot-it),ft=getTangentCircle({cx:_,cy:$,radius:_e,angle:it,sign:lt,cornerRadius:tt,cornerIsExternal:nt}),_t=ft.circleTangency,At=ft.lineTangency,Tt=ft.theta,Mt=getTangentCircle({cx:_,cy:$,radius:_e,angle:ot,sign:-lt,cornerRadius:tt,cornerIsExternal:nt}),pt=Mt.circleTangency,Pt=Mt.lineTangency,$t=Mt.theta,Ot=nt?Math.abs(it-ot):Math.abs(it-ot)-Tt-$t;if(Ot<0)return rt?"M ".concat(At.x,",").concat(At.y,`
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(tt*2,`,0
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(-tt*2,`,0
      `):getSectorPath({cx:_,cy:$,innerRadius:j,outerRadius:_e,startAngle:it,endAngle:ot});var It="M ".concat(At.x,",").concat(At.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(lt<0),",").concat(_t.x,",").concat(_t.y,`
    A`).concat(_e,",").concat(_e,",0,").concat(+(Ot>180),",").concat(+(lt<0),",").concat(pt.x,",").concat(pt.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(lt<0),",").concat(Pt.x,",").concat(Pt.y,`
  `);if(j>0){var Dt=getTangentCircle({cx:_,cy:$,radius:j,angle:it,sign:lt,isExternal:!0,cornerRadius:tt,cornerIsExternal:nt}),Lt=Dt.circleTangency,Bt=Dt.lineTangency,jt=Dt.theta,Ut=getTangentCircle({cx:_,cy:$,radius:j,angle:ot,sign:-lt,isExternal:!0,cornerRadius:tt,cornerIsExternal:nt}),Gt=Ut.circleTangency,qt=Ut.lineTangency,Jt=Ut.theta,er=nt?Math.abs(it-ot):Math.abs(it-ot)-jt-Jt;if(er<0&&tt===0)return"".concat(It,"L").concat(_,",").concat($,"Z");It+="L".concat(qt.x,",").concat(qt.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(lt<0),",").concat(Gt.x,",").concat(Gt.y,`
      A`).concat(j,",").concat(j,",0,").concat(+(er>180),",").concat(+(lt>0),",").concat(Lt.x,",").concat(Lt.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(lt<0),",").concat(Bt.x,",").concat(Bt.y,"Z")}else It+="L".concat(_,",").concat($,"Z");return It},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function o(i){var _=_objectSpread$v(_objectSpread$v({},defaultProps$3),i),$=_.cx,j=_.cy,_e=_.innerRadius,tt=_.outerRadius,rt=_.cornerRadius,nt=_.forceCornerRadius,it=_.cornerIsExternal,ot=_.startAngle,lt=_.endAngle,ft=_.className;if(tt<_e||ot===lt)return null;var _t=clsx("recharts-sector",ft),At=tt-_e,Tt=getPercentValue(rt,At,0,!0),Mt;return Tt>0&&Math.abs(ot-lt)<360?Mt=getSectorWithCorner({cx:$,cy:j,innerRadius:_e,outerRadius:tt,cornerRadius:Math.min(Tt,At/2),forceCornerRadius:nt,cornerIsExternal:it,startAngle:ot,endAngle:lt}):Mt=getSectorPath({cx:$,cy:j,innerRadius:_e,outerRadius:tt,startAngle:ot,endAngle:lt}),React$2.createElement("path",_extends$k({},filterProps(_,!0),{className:_t,d:Mt,role:"img"}))};function _typeof$r(o){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$r(o)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$j.apply(this,arguments)}function ownKeys$u(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$u(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$u(Object(_),!0).forEach(function($){_defineProperty$q(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$u(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$q(o,i,_){return i=_toPropertyKey$q(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$q(o){var i=_toPrimitive$q(o,"string");return _typeof$r(i)=="symbol"?i:i+""}function _toPrimitive$q(o,i){if(_typeof$r(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$r($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function o(i){return i.x===+i.x&&i.y===+i.y},getX=function o(i){return i.x},getY=function o(i){return i.y},getCurveFactory=function o(i,_){if(isFunction$3(i))return i;var $="curve".concat(upperFirst$1(i));return($==="curveMonotone"||$==="curveBump")&&_?CURVE_FACTORIES["".concat($).concat(_==="vertical"?"Y":"X")]:CURVE_FACTORIES[$]||curveLinear},getPath$2=function o(i){var _=i.type,$=_===void 0?"linear":_,j=i.points,_e=j===void 0?[]:j,tt=i.baseLine,rt=i.layout,nt=i.connectNulls,it=nt===void 0?!1:nt,ot=getCurveFactory($,rt),lt=it?_e.filter(function(Tt){return defined(Tt)}):_e,ft;if(Array.isArray(tt)){var _t=it?tt.filter(function(Tt){return defined(Tt)}):tt,At=lt.map(function(Tt,Mt){return _objectSpread$u(_objectSpread$u({},Tt),{},{base:_t[Mt]})});return rt==="vertical"?ft=shapeArea().y(getY).x1(getX).x0(function(Tt){return Tt.base.x}):ft=shapeArea().x(getX).y1(getY).y0(function(Tt){return Tt.base.y}),ft.defined(defined).curve(ot),ft(At)}return rt==="vertical"&&isNumber(tt)?ft=shapeArea().y(getY).x1(getX).x0(tt):isNumber(tt)?ft=shapeArea().x(getX).y1(getY).y0(tt):ft=shapeLine().x(getX).y(getY),ft.defined(defined).curve(ot),ft(lt)},Curve=function o(i){var _=i.className,$=i.points,j=i.path,_e=i.pathRef;if((!$||!$.length)&&!j)return null;var tt=$&&$.length?getPath$2(i):j;return reactExports.createElement("path",_extends$j({},filterProps(i,!1),adaptEventHandlers(i),{className:clsx("recharts-curve",_),d:tt,ref:_e}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o($,j,_e,tt,rt,nt){if(nt!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}o.isRequired=o;function i(){return o}var _={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _.PropTypes=_,_};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(o,i){return function($,j,_e){return o($,j,_e)&&i($,j,_e)}}function createIsCircular(o){return function(_,$,j){if(!_||!$||typeof _!="object"||typeof $!="object")return o(_,$,j);var _e=j.cache,tt=_e.get(_),rt=_e.get($);if(tt&&rt)return tt===$&&rt===_;_e.set(_,$),_e.set($,_);var nt=o(_,$,j);return _e.delete(_),_e.delete($),nt}}function getShortTag(o){return o!=null?o[Symbol.toStringTag]:void 0}function getStrictProperties(o){return getOwnPropertyNames(o).concat(getOwnPropertySymbols(o))}var hasOwn=Object.hasOwn||function(o,i){return hasOwnProperty$1.call(o,i)};function sameValueZeroEqual(o,i){return o===i||!o&&!i&&o!==o&&i!==i}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(o,i,_){var $=o.length;if(i.length!==$)return!1;for(;$-- >0;)if(!_.equals(o[$],i[$],$,$,o,i,_))return!1;return!0}function areDatesEqual(o,i){return sameValueZeroEqual(o.getTime(),i.getTime())}function areErrorsEqual(o,i){return o.name===i.name&&o.message===i.message&&o.cause===i.cause&&o.stack===i.stack}function areFunctionsEqual(o,i){return o===i}function areMapsEqual(o,i,_){var $=o.size;if($!==i.size)return!1;if(!$)return!0;for(var j=new Array($),_e=o.entries(),tt,rt,nt=0;(tt=_e.next())&&!tt.done;){for(var it=i.entries(),ot=!1,lt=0;(rt=it.next())&&!rt.done;){if(j[lt]){lt++;continue}var ft=tt.value,_t=rt.value;if(_.equals(ft[0],_t[0],nt,lt,o,i,_)&&_.equals(ft[1],_t[1],ft[0],_t[0],o,i,_)){ot=j[lt]=!0;break}lt++}if(!ot)return!1;nt++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(o,i,_){var $=keys$1(o),j=$.length;if(keys$1(i).length!==j)return!1;for(;j-- >0;)if(!isPropertyEqual(o,i,_,$[j]))return!1;return!0}function areObjectsEqualStrict(o,i,_){var $=getStrictProperties(o),j=$.length;if(getStrictProperties(i).length!==j)return!1;for(var _e,tt,rt;j-- >0;)if(_e=$[j],!isPropertyEqual(o,i,_,_e)||(tt=getOwnPropertyDescriptor(o,_e),rt=getOwnPropertyDescriptor(i,_e),(tt||rt)&&(!tt||!rt||tt.configurable!==rt.configurable||tt.enumerable!==rt.enumerable||tt.writable!==rt.writable)))return!1;return!0}function arePrimitiveWrappersEqual(o,i){return sameValueZeroEqual(o.valueOf(),i.valueOf())}function areRegExpsEqual(o,i){return o.source===i.source&&o.flags===i.flags}function areSetsEqual(o,i,_){var $=o.size;if($!==i.size)return!1;if(!$)return!0;for(var j=new Array($),_e=o.values(),tt,rt;(tt=_e.next())&&!tt.done;){for(var nt=i.values(),it=!1,ot=0;(rt=nt.next())&&!rt.done;){if(!j[ot]&&_.equals(tt.value,rt.value,tt.value,rt.value,o,i,_)){it=j[ot]=!0;break}ot++}if(!it)return!1}return!0}function areTypedArraysEqual(o,i){var _=o.length;if(i.length!==_)return!1;for(;_-- >0;)if(o[_]!==i[_])return!1;return!0}function areUrlsEqual(o,i){return o.hostname===i.hostname&&o.pathname===i.pathname&&o.protocol===i.protocol&&o.port===i.port&&o.hash===i.hash&&o.username===i.username&&o.password===i.password}function isPropertyEqual(o,i,_,$){return($===REACT_OWNER||$===PREACT_OWNER||$===PREACT_VNODE)&&(o.$$typeof||i.$$typeof)?!0:hasOwn(i,$)&&_.equals(o[$],i[$],$,$,o,i,_)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(o){var i=o.areArraysEqual,_=o.areDatesEqual,$=o.areErrorsEqual,j=o.areFunctionsEqual,_e=o.areMapsEqual,tt=o.areNumbersEqual,rt=o.areObjectsEqual,nt=o.arePrimitiveWrappersEqual,it=o.areRegExpsEqual,ot=o.areSetsEqual,lt=o.areTypedArraysEqual,ft=o.areUrlsEqual,_t=o.unknownTagComparators;return function(Tt,Mt,pt){if(Tt===Mt)return!0;if(Tt==null||Mt==null)return!1;var Pt=typeof Tt;if(Pt!==typeof Mt)return!1;if(Pt!=="object")return Pt==="number"?tt(Tt,Mt,pt):Pt==="function"?j(Tt,Mt,pt):!1;var $t=Tt.constructor;if($t!==Mt.constructor)return!1;if($t===Object)return rt(Tt,Mt,pt);if(isArray$2(Tt))return i(Tt,Mt,pt);if(isTypedArray!=null&&isTypedArray(Tt))return lt(Tt,Mt,pt);if($t===Date)return _(Tt,Mt,pt);if($t===RegExp)return it(Tt,Mt,pt);if($t===Map)return _e(Tt,Mt,pt);if($t===Set)return ot(Tt,Mt,pt);var Ot=getTag(Tt);if(Ot===DATE_TAG)return _(Tt,Mt,pt);if(Ot===REG_EXP_TAG)return it(Tt,Mt,pt);if(Ot===MAP_TAG)return _e(Tt,Mt,pt);if(Ot===SET_TAG)return ot(Tt,Mt,pt);if(Ot===OBJECT_TAG)return typeof Tt.then!="function"&&typeof Mt.then!="function"&&rt(Tt,Mt,pt);if(Ot===URL_TAG)return ft(Tt,Mt,pt);if(Ot===ERROR_TAG)return $(Tt,Mt,pt);if(Ot===ARGUMENTS_TAG)return rt(Tt,Mt,pt);if(Ot===BOOLEAN_TAG||Ot===NUMBER_TAG||Ot===STRING_TAG)return nt(Tt,Mt,pt);if(_t){var It=_t[Ot];if(!It){var Dt=getShortTag(Tt);Dt&&(It=_t[Dt])}if(It)return It(Tt,Mt,pt)}return!1}}function createEqualityComparatorConfig(o){var i=o.circular,_=o.createCustomConfig,$=o.strict,j={areArraysEqual:$?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:$?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:$?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:$?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:$?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(_&&(j=assign({},j,_(j))),i){var _e=createIsCircular(j.areArraysEqual),tt=createIsCircular(j.areMapsEqual),rt=createIsCircular(j.areObjectsEqual),nt=createIsCircular(j.areSetsEqual);j=assign({},j,{areArraysEqual:_e,areMapsEqual:tt,areObjectsEqual:rt,areSetsEqual:nt})}return j}function createInternalEqualityComparator(o){return function(i,_,$,j,_e,tt,rt){return o(i,_,rt)}}function createIsEqual(o){var i=o.circular,_=o.comparator,$=o.createState,j=o.equals,_e=o.strict;if($)return function(nt,it){var ot=$(),lt=ot.cache,ft=lt===void 0?i?new WeakMap:void 0:lt,_t=ot.meta;return _(nt,it,{cache:ft,equals:j,meta:_t,strict:_e})};if(i)return function(nt,it){return _(nt,it,{cache:new WeakMap,equals:j,meta:void 0,strict:_e})};var tt={cache:void 0,equals:j,meta:void 0,strict:_e};return function(nt,it){return _(nt,it,tt)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(o){o===void 0&&(o={});var i=o.circular,_=i===void 0?!1:i,$=o.createInternalComparator,j=o.createState,_e=o.strict,tt=_e===void 0?!1:_e,rt=createEqualityComparatorConfig(o),nt=createEqualityComparator(rt),it=$?$(nt):createInternalEqualityComparator(nt);return createIsEqual({circular:_,comparator:nt,createState:j,equals:it,strict:tt})}function safeRequestAnimationFrame(o){typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}function setRafTimeout(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=-1,$=function j(_e){_<0&&(_=_e),_e-_>i?(o(_e),_=-1):safeRequestAnimationFrame(j)};requestAnimationFrame($)}function _typeof$q(o){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$q(o)}function _toArray$1(o){return _arrayWithHoles$6(o)||_iterableToArray$7(o)||_unsupportedIterableToArray$9(o)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$9(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$9(o,i)}}function _arrayLikeToArray$9(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArray$7(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithHoles$6(o){if(Array.isArray(o))return o}function createAnimateManager(){var o={},i=function(){return null},_=!1,$=function j(_e){if(!_){if(Array.isArray(_e)){if(!_e.length)return;var tt=_e,rt=_toArray$1(tt),nt=rt[0],it=rt.slice(1);if(typeof nt=="number"){setRafTimeout(j.bind(null,it),nt);return}j(nt),setRafTimeout(j.bind(null,it));return}_typeof$q(_e)==="object"&&(o=_e,i(o)),typeof _e=="function"&&_e()}};return{stop:function(){_=!0},start:function(_e){_=!1,$(_e)},subscribe:function(_e){return i=_e,function(){i=function(){return null}}}}}function _typeof$p(o){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$p(o)}function ownKeys$t(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$t(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$t(Object(_),!0).forEach(function($){_defineProperty$p(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$t(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$p(o,i,_){return i=_toPropertyKey$p(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$p(o){var i=_toPrimitive$p(o,"string");return _typeof$p(i)==="symbol"?i:String(i)}function _toPrimitive$p(o,i){if(_typeof$p(o)!=="object"||o===null)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$p($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getIntersectionKeys=function o(i,_){return[Object.keys(i),Object.keys(_)].reduce(function($,j){return $.filter(function(_e){return j.includes(_e)})})},identity=function o(i){return i},getDashCase=function o(i){return i.replace(/([A-Z])/g,function(_){return"-".concat(_.toLowerCase())})},mapObject=function o(i,_){return Object.keys(_).reduce(function($,j){return _objectSpread$t(_objectSpread$t({},$),{},_defineProperty$p({},j,i(j,_[j])))},{})},getTransitionVal=function o(i,_,$){return i.map(function(j){return"".concat(getDashCase(j)," ").concat(_,"ms ").concat($)}).join(",")};function _slicedToArray$5(o,i){return _arrayWithHoles$5(o)||_iterableToArrayLimit$5(o,i)||_unsupportedIterableToArray$8(o,i)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$5(o){if(Array.isArray(o))return o}function _toConsumableArray$5(o){return _arrayWithoutHoles$5(o)||_iterableToArray$6(o)||_unsupportedIterableToArray$8(o)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$8(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$8(o,i)}}function _iterableToArray$6(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$5(o){if(Array.isArray(o))return _arrayLikeToArray$8(o)}function _arrayLikeToArray$8(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}var ACCURACY=1e-4,cubicBezierFactor=function o(i,_){return[0,3*i,3*_-6*i,3*i-3*_+1]},multyTime=function o(i,_){return i.map(function($,j){return $*Math.pow(_,j)}).reduce(function($,j){return $+j})},cubicBezier=function o(i,_){return function($){var j=cubicBezierFactor(i,_);return multyTime(j,$)}},derivativeCubicBezier=function o(i,_){return function($){var j=cubicBezierFactor(i,_),_e=[].concat(_toConsumableArray$5(j.map(function(tt,rt){return tt*rt}).slice(1)),[0]);return multyTime(_e,$)}},configBezier=function o(){for(var i=arguments.length,_=new Array(i),$=0;$<i;$++)_[$]=arguments[$];var j=_[0],_e=_[1],tt=_[2],rt=_[3];if(_.length===1)switch(_[0]){case"linear":j=0,_e=0,tt=1,rt=1;break;case"ease":j=.25,_e=.1,tt=.25,rt=1;break;case"ease-in":j=.42,_e=0,tt=1,rt=1;break;case"ease-out":j=.42,_e=0,tt=.58,rt=1;break;case"ease-in-out":j=0,_e=0,tt=.58,rt=1;break;default:{var nt=_[0].split("(");if(nt[0]==="cubic-bezier"&&nt[1].split(")")[0].split(",").length===4){var it=nt[1].split(")")[0].split(",").map(function(Mt){return parseFloat(Mt)}),ot=_slicedToArray$5(it,4);j=ot[0],_e=ot[1],tt=ot[2],rt=ot[3]}}}var lt=cubicBezier(j,tt),ft=cubicBezier(_e,rt),_t=derivativeCubicBezier(j,tt),At=function(pt){return pt>1?1:pt<0?0:pt},Tt=function(pt){for(var Pt=pt>1?1:pt,$t=Pt,Ot=0;Ot<8;++Ot){var It=lt($t)-Pt,Dt=_t($t);if(Math.abs(It-Pt)<ACCURACY||Dt<ACCURACY)return ft($t);$t=At($t-It/Dt)}return ft($t)};return Tt.isStepper=!1,Tt},configSpring=function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=i.stiff,$=_===void 0?100:_,j=i.damping,_e=j===void 0?8:j,tt=i.dt,rt=tt===void 0?17:tt,nt=function(ot,lt,ft){var _t=-(ot-lt)*$,At=ft*_e,Tt=ft+(_t-At)*rt/1e3,Mt=ft*rt/1e3+ot;return Math.abs(Mt-lt)<ACCURACY&&Math.abs(Tt)<ACCURACY?[lt,0]:[Mt,Tt]};return nt.isStepper=!0,nt.dt=rt,nt},configEasing=function o(){for(var i=arguments.length,_=new Array(i),$=0;$<i;$++)_[$]=arguments[$];var j=_[0];if(typeof j=="string")switch(j){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(j);case"spring":return configSpring();default:if(j.split("(")[0]==="cubic-bezier")return configBezier(j)}return typeof j=="function"?j:null};function _typeof$o(o){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$o(o)}function _toConsumableArray$4(o){return _arrayWithoutHoles$4(o)||_iterableToArray$5(o)||_unsupportedIterableToArray$7(o)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$4(o){if(Array.isArray(o))return _arrayLikeToArray$7(o)}function ownKeys$s(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$s(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$s(Object(_),!0).forEach(function($){_defineProperty$o(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$s(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$o(o,i,_){return i=_toPropertyKey$o(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$o(o){var i=_toPrimitive$o(o,"string");return _typeof$o(i)==="symbol"?i:String(i)}function _toPrimitive$o(o,i){if(_typeof$o(o)!=="object"||o===null)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$o($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray$4(o,i){return _arrayWithHoles$4(o)||_iterableToArrayLimit$4(o,i)||_unsupportedIterableToArray$7(o,i)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$7(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$7(o,i)}}function _arrayLikeToArray$7(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$4(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$4(o){if(Array.isArray(o))return o}var alpha=function o(i,_,$){return i+(_-i)*$},needContinue=function o(i){var _=i.from,$=i.to;return _!==$},calStepperVals=function o(i,_,$){var j=mapObject(function(_e,tt){if(needContinue(tt)){var rt=i(tt.from,tt.to,tt.velocity),nt=_slicedToArray$4(rt,2),it=nt[0],ot=nt[1];return _objectSpread$s(_objectSpread$s({},tt),{},{from:it,velocity:ot})}return tt},_);return $<1?mapObject(function(_e,tt){return needContinue(tt)?_objectSpread$s(_objectSpread$s({},tt),{},{velocity:alpha(tt.velocity,j[_e].velocity,$),from:alpha(tt.from,j[_e].from,$)}):tt},_):o(i,j,$-1)};const configUpdate=function(o,i,_,$,j){var _e=getIntersectionKeys(o,i),tt=_e.reduce(function(Mt,pt){return _objectSpread$s(_objectSpread$s({},Mt),{},_defineProperty$o({},pt,[o[pt],i[pt]]))},{}),rt=_e.reduce(function(Mt,pt){return _objectSpread$s(_objectSpread$s({},Mt),{},_defineProperty$o({},pt,{from:o[pt],velocity:0,to:i[pt]}))},{}),nt=-1,it,ot,lt=function(){return null},ft=function(){return mapObject(function(pt,Pt){return Pt.from},rt)},_t=function(){return!Object.values(rt).filter(needContinue).length},At=function(pt){it||(it=pt);var Pt=pt-it,$t=Pt/_.dt;rt=calStepperVals(_,rt,$t),j(_objectSpread$s(_objectSpread$s(_objectSpread$s({},o),i),ft())),it=pt,_t()||(nt=requestAnimationFrame(lt))},Tt=function(pt){ot||(ot=pt);var Pt=(pt-ot)/$,$t=mapObject(function(It,Dt){return alpha.apply(void 0,_toConsumableArray$4(Dt).concat([_(Pt)]))},tt);if(j(_objectSpread$s(_objectSpread$s(_objectSpread$s({},o),i),$t)),Pt<1)nt=requestAnimationFrame(lt);else{var Ot=mapObject(function(It,Dt){return alpha.apply(void 0,_toConsumableArray$4(Dt).concat([_(1)]))},tt);j(_objectSpread$s(_objectSpread$s(_objectSpread$s({},o),i),Ot))}};return lt=_.isStepper?At:Tt,function(){return requestAnimationFrame(lt),function(){cancelAnimationFrame(nt)}}};function _typeof$n(o){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$n(o)}var _excluded$9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$9(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$9(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$9(o,i){if(o==null)return{};var _={},$=Object.keys(o),j,_e;for(_e=0;_e<$.length;_e++)j=$[_e],!(i.indexOf(j)>=0)&&(_[j]=o[j]);return _}function _toConsumableArray$3(o){return _arrayWithoutHoles$3(o)||_iterableToArray$4(o)||_unsupportedIterableToArray$6(o)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$6(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$6(o,i)}}function _iterableToArray$4(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$3(o){if(Array.isArray(o))return _arrayLikeToArray$6(o)}function _arrayLikeToArray$6(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function ownKeys$r(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$r(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$r(Object(_),!0).forEach(function($){_defineProperty$n(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$r(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$n(o,i,_){return i=_toPropertyKey$n(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _classCallCheck$e(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$n($.key),$)}}function _createClass$e(o,i,_){return i&&_defineProperties$e(o.prototype,i),_&&_defineProperties$e(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$n(o){var i=_toPrimitive$n(o,"string");return _typeof$n(i)==="symbol"?i:String(i)}function _toPrimitive$n(o,i){if(_typeof$n(o)!=="object"||o===null)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$n($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _inherits$d(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$d(o,i)}function _setPrototypeOf$d(o,i){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$d(o,i)}function _createSuper$4(o){var i=_isNativeReflectConstruct$g();return function(){var $=_getPrototypeOf$d(o),j;if(i){var _e=_getPrototypeOf$d(this).constructor;j=Reflect.construct($,arguments,_e)}else j=$.apply(this,arguments);return _possibleConstructorReturn$d(this,j)}}function _possibleConstructorReturn$d(o,i){if(i&&(_typeof$n(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(o)}function _assertThisInitialized$d(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$d(o){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$d(o)}var Animate=function(o){_inherits$d(_,o);var i=_createSuper$4(_);function _($,j){var _e;_classCallCheck$e(this,_),_e=i.call(this,$,j);var tt=_e.props,rt=tt.isActive,nt=tt.attributeName,it=tt.from,ot=tt.to,lt=tt.steps,ft=tt.children,_t=tt.duration;if(_e.handleStyleChange=_e.handleStyleChange.bind(_assertThisInitialized$d(_e)),_e.changeStyle=_e.changeStyle.bind(_assertThisInitialized$d(_e)),!rt||_t<=0)return _e.state={style:{}},typeof ft=="function"&&(_e.state={style:ot}),_possibleConstructorReturn$d(_e);if(lt&&lt.length)_e.state={style:lt[0].style};else if(it){if(typeof ft=="function")return _e.state={style:it},_possibleConstructorReturn$d(_e);_e.state={style:nt?_defineProperty$n({},nt,it):it}}else _e.state={style:{}};return _e}return _createClass$e(_,[{key:"componentDidMount",value:function(){var j=this.props,_e=j.isActive,tt=j.canBegin;this.mounted=!0,!(!_e||!tt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(j){var _e=this.props,tt=_e.isActive,rt=_e.canBegin,nt=_e.attributeName,it=_e.shouldReAnimate,ot=_e.to,lt=_e.from,ft=this.state.style;if(rt){if(!tt){var _t={style:nt?_defineProperty$n({},nt,ot):ot};this.state&&ft&&(nt&&ft[nt]!==ot||!nt&&ft!==ot)&&this.setState(_t);return}if(!(deepEqual(j.to,ot)&&j.canBegin&&j.isActive)){var At=!j.canBegin||!j.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var Tt=At||it?lt:j.to;if(this.state&&ft){var Mt={style:nt?_defineProperty$n({},nt,Tt):Tt};(nt&&ft[nt]!==Tt||!nt&&ft!==Tt)&&this.setState(Mt)}this.runAnimation(_objectSpread$r(_objectSpread$r({},this.props),{},{from:Tt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var j=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),j&&j()}},{key:"handleStyleChange",value:function(j){this.changeStyle(j)}},{key:"changeStyle",value:function(j){this.mounted&&this.setState({style:j})}},{key:"runJSAnimation",value:function(j){var _e=this,tt=j.from,rt=j.to,nt=j.duration,it=j.easing,ot=j.begin,lt=j.onAnimationEnd,ft=j.onAnimationStart,_t=configUpdate(tt,rt,configEasing(it),nt,this.changeStyle),At=function(){_e.stopJSAnimation=_t()};this.manager.start([ft,ot,At,nt,lt])}},{key:"runStepAnimation",value:function(j){var _e=this,tt=j.steps,rt=j.begin,nt=j.onAnimationStart,it=tt[0],ot=it.style,lt=it.duration,ft=lt===void 0?0:lt,_t=function(Tt,Mt,pt){if(pt===0)return Tt;var Pt=Mt.duration,$t=Mt.easing,Ot=$t===void 0?"ease":$t,It=Mt.style,Dt=Mt.properties,Lt=Mt.onAnimationEnd,Bt=pt>0?tt[pt-1]:Mt,jt=Dt||Object.keys(It);if(typeof Ot=="function"||Ot==="spring")return[].concat(_toConsumableArray$3(Tt),[_e.runJSAnimation.bind(_e,{from:Bt.style,to:It,duration:Pt,easing:Ot}),Pt]);var Ut=getTransitionVal(jt,Pt,Ot),Gt=_objectSpread$r(_objectSpread$r(_objectSpread$r({},Bt.style),It),{},{transition:Ut});return[].concat(_toConsumableArray$3(Tt),[Gt,Pt,Lt]).filter(identity)};return this.manager.start([nt].concat(_toConsumableArray$3(tt.reduce(_t,[ot,Math.max(ft,rt)])),[j.onAnimationEnd]))}},{key:"runAnimation",value:function(j){this.manager||(this.manager=createAnimateManager());var _e=j.begin,tt=j.duration,rt=j.attributeName,nt=j.to,it=j.easing,ot=j.onAnimationStart,lt=j.onAnimationEnd,ft=j.steps,_t=j.children,At=this.manager;if(this.unSubscribe=At.subscribe(this.handleStyleChange),typeof it=="function"||typeof _t=="function"||it==="spring"){this.runJSAnimation(j);return}if(ft.length>1){this.runStepAnimation(j);return}var Tt=rt?_defineProperty$n({},rt,nt):nt,Mt=getTransitionVal(Object.keys(Tt),tt,it);At.start([ot,_e,_objectSpread$r(_objectSpread$r({},Tt),{},{transition:Mt}),tt,lt])}},{key:"render",value:function(){var j=this.props,_e=j.children;j.begin;var tt=j.duration;j.attributeName,j.easing;var rt=j.isActive;j.steps,j.from,j.to,j.canBegin,j.onAnimationEnd,j.shouldReAnimate,j.onAnimationReStart;var nt=_objectWithoutProperties$9(j,_excluded$9),it=reactExports.Children.count(_e),ot=this.state.style;if(typeof _e=="function")return _e(ot);if(!rt||it===0||tt<=0)return _e;var lt=function(_t){var At=_t.props,Tt=At.style,Mt=Tt===void 0?{}:Tt,pt=At.className,Pt=reactExports.cloneElement(_t,_objectSpread$r(_objectSpread$r({},nt),{},{style:_objectSpread$r(_objectSpread$r({},Mt),ot),className:pt}));return Pt};return it===1?lt(reactExports.Children.only(_e)):React$2.createElement("div",null,reactExports.Children.map(_e,function(ft){return lt(ft)}))}}]),_}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function o(){},onAnimationStart:function o(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};const Animate$1=Animate;function _setPrototypeOf$c(o,i){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},_setPrototypeOf$c(o,i)}function _assertThisInitialized$c(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _typeof$m(o){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$m(o)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$i.apply(this,arguments)}function _slicedToArray$3(o,i){return _arrayWithHoles$3(o)||_iterableToArrayLimit$3(o,i)||_unsupportedIterableToArray$5(o,i)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$5(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$5(o,i)}}function _arrayLikeToArray$5(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$3(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$3(o){if(Array.isArray(o))return o}function ownKeys$q(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$q(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$q(Object(_),!0).forEach(function($){_defineProperty$m(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$q(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$m(o,i,_){return i=_toPropertyKey$m(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$m(o){var i=_toPrimitive$m(o,"string");return _typeof$m(i)=="symbol"?i:i+""}function _toPrimitive$m(o,i){if(_typeof$m(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$m($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getRectanglePath=function o(i,_,$,j,_e){var tt=Math.min(Math.abs($)/2,Math.abs(j)/2),rt=j>=0?1:-1,nt=$>=0?1:-1,it=j>=0&&$>=0||j<0&&$<0?1:0,ot;if(tt>0&&_e instanceof Array){for(var lt=[0,0,0,0],ft=0,_t=4;ft<_t;ft++)lt[ft]=_e[ft]>tt?tt:_e[ft];ot="M".concat(i,",").concat(_+rt*lt[0]),lt[0]>0&&(ot+="A ".concat(lt[0],",").concat(lt[0],",0,0,").concat(it,",").concat(i+nt*lt[0],",").concat(_)),ot+="L ".concat(i+$-nt*lt[1],",").concat(_),lt[1]>0&&(ot+="A ".concat(lt[1],",").concat(lt[1],",0,0,").concat(it,`,
        `).concat(i+$,",").concat(_+rt*lt[1])),ot+="L ".concat(i+$,",").concat(_+j-rt*lt[2]),lt[2]>0&&(ot+="A ".concat(lt[2],",").concat(lt[2],",0,0,").concat(it,`,
        `).concat(i+$-nt*lt[2],",").concat(_+j)),ot+="L ".concat(i+nt*lt[3],",").concat(_+j),lt[3]>0&&(ot+="A ".concat(lt[3],",").concat(lt[3],",0,0,").concat(it,`,
        `).concat(i,",").concat(_+j-rt*lt[3])),ot+="Z"}else if(tt>0&&_e===+_e&&_e>0){var At=Math.min(tt,_e);ot="M ".concat(i,",").concat(_+rt*At,`
            A `).concat(At,",").concat(At,",0,0,").concat(it,",").concat(i+nt*At,",").concat(_,`
            L `).concat(i+$-nt*At,",").concat(_,`
            A `).concat(At,",").concat(At,",0,0,").concat(it,",").concat(i+$,",").concat(_+rt*At,`
            L `).concat(i+$,",").concat(_+j-rt*At,`
            A `).concat(At,",").concat(At,",0,0,").concat(it,",").concat(i+$-nt*At,",").concat(_+j,`
            L `).concat(i+nt*At,",").concat(_+j,`
            A `).concat(At,",").concat(At,",0,0,").concat(it,",").concat(i,",").concat(_+j-rt*At," Z")}else ot="M ".concat(i,",").concat(_," h ").concat($," v ").concat(j," h ").concat(-$," Z");return ot},isInRectangle=function o(i,_){if(!i||!_)return!1;var $=i.x,j=i.y,_e=_.x,tt=_.y,rt=_.width,nt=_.height;if(Math.abs(rt)>0&&Math.abs(nt)>0){var it=Math.min(_e,_e+rt),ot=Math.max(_e,_e+rt),lt=Math.min(tt,tt+nt),ft=Math.max(tt,tt+nt);return $>=it&&$<=ot&&j>=lt&&j<=ft}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function o(i){var _=_objectSpread$q(_objectSpread$q({},defaultProps$2),i),$=reactExports.useRef(),j=reactExports.useState(-1),_e=_slicedToArray$3(j,2),tt=_e[0],rt=_e[1];reactExports.useEffect(function(){if($.current&&$.current.getTotalLength)try{var Ot=$.current.getTotalLength();Ot&&rt(Ot)}catch{}},[]);var nt=_.x,it=_.y,ot=_.width,lt=_.height,ft=_.radius,_t=_.className,At=_.animationEasing,Tt=_.animationDuration,Mt=_.animationBegin,pt=_.isAnimationActive,Pt=_.isUpdateAnimationActive;if(nt!==+nt||it!==+it||ot!==+ot||lt!==+lt||ot===0||lt===0)return null;var $t=clsx("recharts-rectangle",_t);return Pt?React$2.createElement(Animate$1,{canBegin:tt>0,from:{width:ot,height:lt,x:nt,y:it},to:{width:ot,height:lt,x:nt,y:it},duration:Tt,animationEasing:At,isActive:Pt},function(Ot){var It=Ot.width,Dt=Ot.height,Lt=Ot.x,Bt=Ot.y;return React$2.createElement(Animate$1,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:Mt,duration:Tt,isActive:pt,easing:At},React$2.createElement("path",_extends$i({},filterProps(_,!0),{className:$t,d:getRectanglePath(Lt,Bt,It,Dt,ft),ref:$})))}):React$2.createElement("path",_extends$i({},filterProps(_,!0),{className:$t,d:getRectanglePath(nt,it,ot,lt,ft)}))},_excluded$8=["points","className","baseLinePoints","connectNulls"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$h.apply(this,arguments)}function _objectWithoutProperties$8(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$8(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$8(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _toConsumableArray$2(o){return _arrayWithoutHoles$2(o)||_iterableToArray$3(o)||_unsupportedIterableToArray$4(o)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$4(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$4(o,i)}}function _iterableToArray$3(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$2(o){if(Array.isArray(o))return _arrayLikeToArray$4(o)}function _arrayLikeToArray$4(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}var isValidatePoint=function o(i){return i&&i.x===+i.x&&i.y===+i.y},getParsedPoints=function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=[[]];return i.forEach(function($){isValidatePoint($)?_[_.length-1].push($):_[_.length-1].length>0&&_.push([])}),isValidatePoint(i[0])&&_[_.length-1].push(i[0]),_[_.length-1].length<=0&&(_=_.slice(0,-1)),_},getSinglePolygonPath=function o(i,_){var $=getParsedPoints(i);_&&($=[$.reduce(function(_e,tt){return[].concat(_toConsumableArray$2(_e),_toConsumableArray$2(tt))},[])]);var j=$.map(function(_e){return _e.reduce(function(tt,rt,nt){return"".concat(tt).concat(nt===0?"M":"L").concat(rt.x,",").concat(rt.y)},"")}).join("");return $.length===1?"".concat(j,"Z"):j},getRanglePath=function o(i,_,$){var j=getSinglePolygonPath(i,$);return"".concat(j.slice(-1)==="Z"?j.slice(0,-1):j,"L").concat(getSinglePolygonPath(_.reverse(),$).slice(1))},Polygon=function o(i){var _=i.points,$=i.className,j=i.baseLinePoints,_e=i.connectNulls,tt=_objectWithoutProperties$8(i,_excluded$8);if(!_||!_.length)return null;var rt=clsx("recharts-polygon",$);if(j&&j.length){var nt=tt.stroke&&tt.stroke!=="none",it=getRanglePath(_,j,_e);return React$2.createElement("g",{className:rt},React$2.createElement("path",_extends$h({},filterProps(tt,!0),{fill:it.slice(-1)==="Z"?tt.fill:"none",stroke:"none",d:it})),nt?React$2.createElement("path",_extends$h({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath(_,_e)})):null,nt?React$2.createElement("path",_extends$h({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath(j,_e)})):null)}var ot=getSinglePolygonPath(_,_e);return React$2.createElement("path",_extends$h({},filterProps(tt,!0),{fill:ot.slice(-1)==="Z"?tt.fill:"none",className:rt,d:ot}))};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$g.apply(this,arguments)}var Dot=function o(i){var _=i.cx,$=i.cy,j=i.r,_e=i.className,tt=clsx("recharts-dot",_e);return _===+_&&$===+$&&j===+j?reactExports.createElement("circle",_extends$g({},filterProps(i,!1),adaptEventHandlers(i),{className:tt,cx:_,cy:$,r:j})):null};function _typeof$l(o){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$l(o)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$f.apply(this,arguments)}function ownKeys$p(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$p(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$p(Object(_),!0).forEach(function($){_defineProperty$l(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$p(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$l(o,i,_){return i=_toPropertyKey$l(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$l(o){var i=_toPrimitive$l(o,"string");return _typeof$l(i)=="symbol"?i:i+""}function _toPrimitive$l(o,i){if(_typeof$l(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$l($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$7(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$7(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$7(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var getPath$1=function o(i,_,$,j,_e,tt){return"M".concat(i,",").concat(_e,"v").concat(j,"M").concat(tt,",").concat(_,"h").concat($)},Cross=function o(i){var _=i.x,$=_===void 0?0:_,j=i.y,_e=j===void 0?0:j,tt=i.top,rt=tt===void 0?0:tt,nt=i.left,it=nt===void 0?0:nt,ot=i.width,lt=ot===void 0?0:ot,ft=i.height,_t=ft===void 0?0:ft,At=i.className,Tt=_objectWithoutProperties$7(i,_excluded$7),Mt=_objectSpread$p({x:$,y:_e,top:rt,left:it,width:lt,height:_t},Tt);return!isNumber($)||!isNumber(_e)||!isNumber(lt)||!isNumber(_t)||!isNumber(rt)||!isNumber(it)?null:React$2.createElement("path",_extends$f({},filterProps(Mt,!0),{className:clsx("recharts-cross",At),d:getPath$1($,_e,lt,_t,rt,it)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;function maxBy(o,i){return o&&o.length?baseExtremum$1(o,baseIteratee$6(i),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;function minBy(o,i){return o&&o.length?baseExtremum(o,baseIteratee$5(i),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$6=["cx","cy","angle","ticks","axisLine"],_excluded2$3=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$k(o){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$k(o)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$e.apply(this,arguments)}function ownKeys$o(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$o(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$o(Object(_),!0).forEach(function($){_defineProperty$k(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$o(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _objectWithoutProperties$6(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$6(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$6(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _classCallCheck$d(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$k($.key),$)}}function _createClass$d(o,i,_){return i&&_defineProperties$d(o.prototype,i),_&&_defineProperties$d(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$b(o,i,_){return i=_getPrototypeOf$c(i),_possibleConstructorReturn$c(o,_isNativeReflectConstruct$f()?Reflect.construct(i,_||[],_getPrototypeOf$c(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$c(o,i){if(i&&(_typeof$k(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(o)}function _assertThisInitialized$b(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$f(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!o})()}function _getPrototypeOf$c(o){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$c(o)}function _inherits$c(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$b(o,i)}function _setPrototypeOf$b(o,i){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$b(o,i)}function _defineProperty$k(o,i,_){return i=_toPropertyKey$k(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$k(o){var i=_toPrimitive$k(o,"string");return _typeof$k(i)=="symbol"?i:i+""}function _toPrimitive$k(o,i){if(_typeof$k(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$k($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var PolarRadiusAxis=function(o){function i(){return _classCallCheck$d(this,i),_callSuper$b(this,i,arguments)}return _inherits$c(i,o),_createClass$d(i,[{key:"getTickValueCoord",value:function($){var j=$.coordinate,_e=this.props,tt=_e.angle,rt=_e.cx,nt=_e.cy;return polarToCartesian(rt,nt,j,tt)}},{key:"getTickTextAnchor",value:function(){var $=this.props.orientation,j;switch($){case"left":j="end";break;case"right":j="start";break;default:j="middle";break}return j}},{key:"getViewBox",value:function(){var $=this.props,j=$.cx,_e=$.cy,tt=$.angle,rt=$.ticks,nt=maxBy$1(rt,function(ot){return ot.coordinate||0}),it=minBy$1(rt,function(ot){return ot.coordinate||0});return{cx:j,cy:_e,startAngle:tt,endAngle:tt,innerRadius:it.coordinate||0,outerRadius:nt.coordinate||0}}},{key:"renderAxisLine",value:function(){var $=this.props,j=$.cx,_e=$.cy,tt=$.angle,rt=$.ticks,nt=$.axisLine,it=_objectWithoutProperties$6($,_excluded$6),ot=rt.reduce(function(At,Tt){return[Math.min(At[0],Tt.coordinate),Math.max(At[1],Tt.coordinate)]},[1/0,-1/0]),lt=polarToCartesian(j,_e,ot[0],tt),ft=polarToCartesian(j,_e,ot[1],tt),_t=_objectSpread$o(_objectSpread$o(_objectSpread$o({},filterProps(it,!1)),{},{fill:"none"},filterProps(nt,!1)),{},{x1:lt.x,y1:lt.y,x2:ft.x,y2:ft.y});return React$2.createElement("line",_extends$e({className:"recharts-polar-radius-axis-line"},_t))}},{key:"renderTicks",value:function(){var $=this,j=this.props,_e=j.ticks,tt=j.tick,rt=j.angle,nt=j.tickFormatter,it=j.stroke,ot=_objectWithoutProperties$6(j,_excluded2$3),lt=this.getTickTextAnchor(),ft=filterProps(ot,!1),_t=filterProps(tt,!1),At=_e.map(function(Tt,Mt){var pt=$.getTickValueCoord(Tt),Pt=_objectSpread$o(_objectSpread$o(_objectSpread$o(_objectSpread$o({textAnchor:lt,transform:"rotate(".concat(90-rt,", ").concat(pt.x,", ").concat(pt.y,")")},ft),{},{stroke:"none",fill:it},_t),{},{index:Mt},pt),{},{payload:Tt});return React$2.createElement(Layer,_extends$e({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(tt)),key:"tick-".concat(Tt.coordinate)},adaptEventsOfChild($.props,Tt,Mt)),i.renderTickItem(tt,Pt,nt?nt(Tt.value,Mt):Tt.value))});return React$2.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},At)}},{key:"render",value:function(){var $=this.props,j=$.ticks,_e=$.axisLine,tt=$.tick;return!j||!j.length?null:React$2.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},_e&&this.renderAxisLine(),tt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function($,j,_e){var tt;return React$2.isValidElement($)?tt=React$2.cloneElement($,j):isFunction$3($)?tt=$(j):tt=React$2.createElement(Text,_extends$e({},j,{className:"recharts-polar-radius-axis-tick-value"}),_e),tt}}])}(reactExports.PureComponent);_defineProperty$k(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$k(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$k(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$j(o){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$j(o)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$d.apply(this,arguments)}function ownKeys$n(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$n(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$n(Object(_),!0).forEach(function($){_defineProperty$j(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$n(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$c(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$j($.key),$)}}function _createClass$c(o,i,_){return i&&_defineProperties$c(o.prototype,i),_&&_defineProperties$c(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$a(o,i,_){return i=_getPrototypeOf$b(i),_possibleConstructorReturn$b(o,_isNativeReflectConstruct$e()?Reflect.construct(i,_||[],_getPrototypeOf$b(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$b(o,i){if(i&&(_typeof$j(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(o)}function _assertThisInitialized$a(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$e(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!o})()}function _getPrototypeOf$b(o){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$b(o)}function _inherits$b(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$a(o,i)}function _setPrototypeOf$a(o,i){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$a(o,i)}function _defineProperty$j(o,i,_){return i=_toPropertyKey$j(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$j(o){var i=_toPrimitive$j(o,"string");return _typeof$j(i)=="symbol"?i:i+""}function _toPrimitive$j(o,i){if(_typeof$j(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$j($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(o){function i(){return _classCallCheck$c(this,i),_callSuper$a(this,i,arguments)}return _inherits$b(i,o),_createClass$c(i,[{key:"getTickLineCoord",value:function($){var j=this.props,_e=j.cx,tt=j.cy,rt=j.radius,nt=j.orientation,it=j.tickSize,ot=it||8,lt=polarToCartesian(_e,tt,rt,$.coordinate),ft=polarToCartesian(_e,tt,rt+(nt==="inner"?-1:1)*ot,$.coordinate);return{x1:lt.x,y1:lt.y,x2:ft.x,y2:ft.y}}},{key:"getTickTextAnchor",value:function($){var j=this.props.orientation,_e=Math.cos(-$.coordinate*RADIAN),tt;return _e>eps?tt=j==="outer"?"start":"end":_e<-eps?tt=j==="outer"?"end":"start":tt="middle",tt}},{key:"renderAxisLine",value:function(){var $=this.props,j=$.cx,_e=$.cy,tt=$.radius,rt=$.axisLine,nt=$.axisLineType,it=_objectSpread$n(_objectSpread$n({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(rt,!1));if(nt==="circle")return React$2.createElement(Dot,_extends$d({className:"recharts-polar-angle-axis-line"},it,{cx:j,cy:_e,r:tt}));var ot=this.props.ticks,lt=ot.map(function(ft){return polarToCartesian(j,_e,tt,ft.coordinate)});return React$2.createElement(Polygon,_extends$d({className:"recharts-polar-angle-axis-line"},it,{points:lt}))}},{key:"renderTicks",value:function(){var $=this,j=this.props,_e=j.ticks,tt=j.tick,rt=j.tickLine,nt=j.tickFormatter,it=j.stroke,ot=filterProps(this.props,!1),lt=filterProps(tt,!1),ft=_objectSpread$n(_objectSpread$n({},ot),{},{fill:"none"},filterProps(rt,!1)),_t=_e.map(function(At,Tt){var Mt=$.getTickLineCoord(At),pt=$.getTickTextAnchor(At),Pt=_objectSpread$n(_objectSpread$n(_objectSpread$n({textAnchor:pt},ot),{},{stroke:"none",fill:it},lt),{},{index:Tt,payload:At,x:Mt.x2,y:Mt.y2});return React$2.createElement(Layer,_extends$d({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(tt)),key:"tick-".concat(At.coordinate)},adaptEventsOfChild($.props,At,Tt)),rt&&React$2.createElement("line",_extends$d({className:"recharts-polar-angle-axis-tick-line"},ft,Mt)),tt&&i.renderTickItem(tt,Pt,nt?nt(At.value,Tt):At.value))});return React$2.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},_t)}},{key:"render",value:function(){var $=this.props,j=$.ticks,_e=$.radius,tt=$.axisLine;return _e<=0||!j||!j.length?null:React$2.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},tt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function($,j,_e){var tt;return React$2.isValidElement($)?tt=React$2.cloneElement($,j):isFunction$3($)?tt=$(j):tt=React$2.createElement(Text,_extends$d({},j,{className:"recharts-polar-angle-axis-tick-value"}),_e),tt}}])}(reactExports.PureComponent);_defineProperty$j(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$j(PolarAngleAxis,"axisType","angleAxis");_defineProperty$j(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(o){if(!isObjectLike$1(o)||baseGetTag$1(o)!=objectTag)return!1;var i=getPrototype(o);if(i===null)return!0;var _=hasOwnProperty.call(i,"constructor")&&i.constructor;return typeof _=="function"&&_ instanceof _&&funcToString.call(_)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(o){return o===!0||o===!1||isObjectLike(o)&&baseGetTag(o)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$i(o){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$i(o)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$c.apply(this,arguments)}function _slicedToArray$2(o,i){return _arrayWithHoles$2(o)||_iterableToArrayLimit$2(o,i)||_unsupportedIterableToArray$3(o,i)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$3(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$3(o,i)}}function _arrayLikeToArray$3(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$2(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$2(o){if(Array.isArray(o))return o}function ownKeys$m(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$m(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$m(Object(_),!0).forEach(function($){_defineProperty$i(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$m(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$i(o,i,_){return i=_toPropertyKey$i(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$i(o){var i=_toPrimitive$i(o,"string");return _typeof$i(i)=="symbol"?i:i+""}function _toPrimitive$i(o,i){if(_typeof$i(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$i($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getTrapezoidPath=function o(i,_,$,j,_e){var tt=$-j,rt;return rt="M ".concat(i,",").concat(_),rt+="L ".concat(i+$,",").concat(_),rt+="L ".concat(i+$-tt/2,",").concat(_+_e),rt+="L ".concat(i+$-tt/2-j,",").concat(_+_e),rt+="L ".concat(i,",").concat(_," Z"),rt},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function o(i){var _=_objectSpread$m(_objectSpread$m({},defaultProps$1),i),$=reactExports.useRef(),j=reactExports.useState(-1),_e=_slicedToArray$2(j,2),tt=_e[0],rt=_e[1];reactExports.useEffect(function(){if($.current&&$.current.getTotalLength)try{var $t=$.current.getTotalLength();$t&&rt($t)}catch{}},[]);var nt=_.x,it=_.y,ot=_.upperWidth,lt=_.lowerWidth,ft=_.height,_t=_.className,At=_.animationEasing,Tt=_.animationDuration,Mt=_.animationBegin,pt=_.isUpdateAnimationActive;if(nt!==+nt||it!==+it||ot!==+ot||lt!==+lt||ft!==+ft||ot===0&&lt===0||ft===0)return null;var Pt=clsx("recharts-trapezoid",_t);return pt?React$2.createElement(Animate$1,{canBegin:tt>0,from:{upperWidth:0,lowerWidth:0,height:ft,x:nt,y:it},to:{upperWidth:ot,lowerWidth:lt,height:ft,x:nt,y:it},duration:Tt,animationEasing:At,isActive:pt},function($t){var Ot=$t.upperWidth,It=$t.lowerWidth,Dt=$t.height,Lt=$t.x,Bt=$t.y;return React$2.createElement(Animate$1,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:Mt,duration:Tt,easing:At},React$2.createElement("path",_extends$c({},filterProps(_,!0),{className:Pt,d:getTrapezoidPath(Lt,Bt,Ot,It,Dt),ref:$})))}):React$2.createElement("g",null,React$2.createElement("path",_extends$c({},filterProps(_,!0),{className:Pt,d:getTrapezoidPath(nt,it,ot,lt,ft)})))},_excluded$5=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$h(o){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$h(o)}function _objectWithoutProperties$5(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$5(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$5(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function ownKeys$l(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$l(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$l(Object(_),!0).forEach(function($){_defineProperty$h(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$l(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$h(o,i,_){return i=_toPropertyKey$h(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$h(o){var i=_toPrimitive$h(o,"string");return _typeof$h(i)=="symbol"?i:i+""}function _toPrimitive$h(o,i){if(_typeof$h(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$h($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function defaultPropTransformer(o,i){return _objectSpread$l(_objectSpread$l({},i),o)}function isSymbolsProps(o,i){return o==="symbols"}function ShapeSelector(o){var i=o.shapeType,_=o.elementProps;switch(i){case"rectangle":return React$2.createElement(Rectangle,_);case"trapezoid":return React$2.createElement(Trapezoid,_);case"sector":return React$2.createElement(Sector,_);case"symbols":if(isSymbolsProps(i))return React$2.createElement(Symbols,_);break;default:return null}}function getPropsFromShapeOption(o){return reactExports.isValidElement(o)?o.props:o}function Shape(o){var i=o.option,_=o.shapeType,$=o.propTransformer,j=$===void 0?defaultPropTransformer:$,_e=o.activeClassName,tt=_e===void 0?"recharts-active-shape":_e,rt=o.isActive,nt=_objectWithoutProperties$5(o,_excluded$5),it;if(reactExports.isValidElement(i))it=reactExports.cloneElement(i,_objectSpread$l(_objectSpread$l({},nt),getPropsFromShapeOption(i)));else if(isFunction$3(i))it=i(nt);else if(isPlainObject$1(i)&&!isBoolean$1(i)){var ot=j(i,nt);it=React$2.createElement(ShapeSelector,{shapeType:_,elementProps:ot})}else{var lt=nt;it=React$2.createElement(ShapeSelector,{shapeType:_,elementProps:lt})}return rt?React$2.createElement(Layer,{className:tt},it):it}function isFunnel(o,i){return i!=null&&"trapezoids"in o.props}function isPie(o,i){return i!=null&&"sectors"in o.props}function isScatter(o,i){return i!=null&&"points"in o.props}function compareFunnel(o,i){var _,$,j=o.x===(i==null||(_=i.labelViewBox)===null||_===void 0?void 0:_.x)||o.x===i.x,_e=o.y===(i==null||($=i.labelViewBox)===null||$===void 0?void 0:$.y)||o.y===i.y;return j&&_e}function comparePie(o,i){var _=o.endAngle===i.endAngle,$=o.startAngle===i.startAngle;return _&&$}function compareScatter(o,i){var _=o.x===i.x,$=o.y===i.y,j=o.z===i.z;return _&&$&&j}function getComparisonFn(o,i){var _;return isFunnel(o,i)?_=compareFunnel:isPie(o,i)?_=comparePie:isScatter(o,i)&&(_=compareScatter),_}function getShapeDataKey(o,i){var _;return isFunnel(o,i)?_="trapezoids":isPie(o,i)?_="sectors":isScatter(o,i)&&(_="points"),_}function getActiveShapeTooltipPayload(o,i){if(isFunnel(o,i)){var _;return(_=i.tooltipPayload)===null||_===void 0||(_=_[0])===null||_===void 0||(_=_.payload)===null||_===void 0?void 0:_.payload}if(isPie(o,i)){var $;return($=i.tooltipPayload)===null||$===void 0||($=$[0])===null||$===void 0||($=$.payload)===null||$===void 0?void 0:$.payload}return isScatter(o,i)?i.payload:{}}function getActiveShapeIndexForTooltip(o){var i=o.activeTooltipItem,_=o.graphicalItem,$=o.itemData,j=getShapeDataKey(_,i),_e=getActiveShapeTooltipPayload(_,i),tt=$.filter(function(nt,it){var ot=isEqual$1(_e,nt),lt=_.props[j].filter(function(At){var Tt=getComparisonFn(_,i);return Tt(At,i)}),ft=_.props[j].indexOf(lt[lt.length-1]),_t=it===ft;return ot&&_t}),rt=$.indexOf(tt[tt.length-1]);return rt}var _Pie;function _typeof$g(o){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$g(o)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$b.apply(this,arguments)}function ownKeys$k(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$k(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$k(Object(_),!0).forEach(function($){_defineProperty$g(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$k(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$b(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$g($.key),$)}}function _createClass$b(o,i,_){return i&&_defineProperties$b(o.prototype,i),_&&_defineProperties$b(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$9(o,i,_){return i=_getPrototypeOf$a(i),_possibleConstructorReturn$a(o,_isNativeReflectConstruct$d()?Reflect.construct(i,_||[],_getPrototypeOf$a(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$a(o,i){if(i&&(_typeof$g(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(o)}function _assertThisInitialized$9(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$d(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!o})()}function _getPrototypeOf$a(o){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$a(o)}function _inherits$a(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$9(o,i)}function _setPrototypeOf$9(o,i){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$9(o,i)}function _defineProperty$g(o,i,_){return i=_toPropertyKey$g(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$g(o){var i=_toPrimitive$g(o,"string");return _typeof$g(i)=="symbol"?i:i+""}function _toPrimitive$g(o,i){if(_typeof$g(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$g($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var Pie=function(o){function i(_){var $;return _classCallCheck$b(this,i),$=_callSuper$9(this,i,[_]),_defineProperty$g($,"pieRef",null),_defineProperty$g($,"sectorRefs",[]),_defineProperty$g($,"id",uniqueId("recharts-pie-")),_defineProperty$g($,"handleAnimationEnd",function(){var j=$.props.onAnimationEnd;$.setState({isAnimationFinished:!0}),isFunction$3(j)&&j()}),_defineProperty$g($,"handleAnimationStart",function(){var j=$.props.onAnimationStart;$.setState({isAnimationFinished:!1}),isFunction$3(j)&&j()}),$.state={isAnimationFinished:!_.isAnimationActive,prevIsAnimationActive:_.isAnimationActive,prevAnimationId:_.animationId,sectorToFocus:0},$}return _inherits$a(i,o),_createClass$b(i,[{key:"isActiveIndex",value:function($){var j=this.props.activeIndex;return Array.isArray(j)?j.indexOf($)!==-1:$===j}},{key:"hasActiveIndex",value:function(){var $=this.props.activeIndex;return Array.isArray($)?$.length!==0:$||$===0}},{key:"renderLabels",value:function($){var j=this.props.isAnimationActive;if(j&&!this.state.isAnimationFinished)return null;var _e=this.props,tt=_e.label,rt=_e.labelLine,nt=_e.dataKey,it=_e.valueKey,ot=filterProps(this.props,!1),lt=filterProps(tt,!1),ft=filterProps(rt,!1),_t=tt&&tt.offsetRadius||20,At=$.map(function(Tt,Mt){var pt=(Tt.startAngle+Tt.endAngle)/2,Pt=polarToCartesian(Tt.cx,Tt.cy,Tt.outerRadius+_t,pt),$t=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({},ot),Tt),{},{stroke:"none"},lt),{},{index:Mt,textAnchor:i.getTextAnchor(Pt.x,Tt.cx)},Pt),Ot=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({},ot),Tt),{},{fill:"none",stroke:Tt.fill},ft),{},{index:Mt,points:[polarToCartesian(Tt.cx,Tt.cy,Tt.outerRadius,pt),Pt]}),It=nt;return isNil$1(nt)&&isNil$1(it)?It="value":isNil$1(nt)&&(It=it),React$2.createElement(Layer,{key:"label-".concat(Tt.startAngle,"-").concat(Tt.endAngle,"-").concat(Tt.midAngle,"-").concat(Mt)},rt&&i.renderLabelLineItem(rt,Ot,"line"),i.renderLabelItem(tt,$t,getValueByDataKey(Tt,It)))});return React$2.createElement(Layer,{className:"recharts-pie-labels"},At)}},{key:"renderSectorsStatically",value:function($){var j=this,_e=this.props,tt=_e.activeShape,rt=_e.blendStroke,nt=_e.inactiveShape;return $.map(function(it,ot){if((it==null?void 0:it.startAngle)===0&&(it==null?void 0:it.endAngle)===0&&$.length!==1)return null;var lt=j.isActiveIndex(ot),ft=nt&&j.hasActiveIndex()?nt:null,_t=lt?tt:ft,At=_objectSpread$k(_objectSpread$k({},it),{},{stroke:rt?it.fill:it.stroke,tabIndex:-1});return React$2.createElement(Layer,_extends$b({ref:function(Mt){Mt&&!j.sectorRefs.includes(Mt)&&j.sectorRefs.push(Mt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(j.props,it,ot),{key:"sector-".concat(it==null?void 0:it.startAngle,"-").concat(it==null?void 0:it.endAngle,"-").concat(it.midAngle,"-").concat(ot)}),React$2.createElement(Shape,_extends$b({option:_t,isActive:lt,shapeType:"sector"},At)))})}},{key:"renderSectorsWithAnimation",value:function(){var $=this,j=this.props,_e=j.sectors,tt=j.isAnimationActive,rt=j.animationBegin,nt=j.animationDuration,it=j.animationEasing,ot=j.animationId,lt=this.state,ft=lt.prevSectors,_t=lt.prevIsAnimationActive;return React$2.createElement(Animate$1,{begin:rt,duration:nt,isActive:tt,easing:it,from:{t:0},to:{t:1},key:"pie-".concat(ot,"-").concat(_t),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(At){var Tt=At.t,Mt=[],pt=_e&&_e[0],Pt=pt.startAngle;return _e.forEach(function($t,Ot){var It=ft&&ft[Ot],Dt=Ot>0?get$3($t,"paddingAngle",0):0;if(It){var Lt=interpolateNumber$2(It.endAngle-It.startAngle,$t.endAngle-$t.startAngle),Bt=_objectSpread$k(_objectSpread$k({},$t),{},{startAngle:Pt+Dt,endAngle:Pt+Lt(Tt)+Dt});Mt.push(Bt),Pt=Bt.endAngle}else{var jt=$t.endAngle,Ut=$t.startAngle,Gt=interpolateNumber$2(0,jt-Ut),qt=Gt(Tt),Jt=_objectSpread$k(_objectSpread$k({},$t),{},{startAngle:Pt+Dt,endAngle:Pt+qt+Dt});Mt.push(Jt),Pt=Jt.endAngle}}),React$2.createElement(Layer,null,$.renderSectorsStatically(Mt))})}},{key:"attachKeyboardHandlers",value:function($){var j=this;$.onkeydown=function(_e){if(!_e.altKey)switch(_e.key){case"ArrowLeft":{var tt=++j.state.sectorToFocus%j.sectorRefs.length;j.sectorRefs[tt].focus(),j.setState({sectorToFocus:tt});break}case"ArrowRight":{var rt=--j.state.sectorToFocus<0?j.sectorRefs.length-1:j.state.sectorToFocus%j.sectorRefs.length;j.sectorRefs[rt].focus(),j.setState({sectorToFocus:rt});break}case"Escape":{j.sectorRefs[j.state.sectorToFocus].blur(),j.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var $=this.props,j=$.sectors,_e=$.isAnimationActive,tt=this.state.prevSectors;return _e&&j&&j.length&&(!tt||!isEqual$1(tt,j))?this.renderSectorsWithAnimation():this.renderSectorsStatically(j)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var $=this,j=this.props,_e=j.hide,tt=j.sectors,rt=j.className,nt=j.label,it=j.cx,ot=j.cy,lt=j.innerRadius,ft=j.outerRadius,_t=j.isAnimationActive,At=this.state.isAnimationFinished;if(_e||!tt||!tt.length||!isNumber(it)||!isNumber(ot)||!isNumber(lt)||!isNumber(ft))return null;var Tt=clsx("recharts-pie",rt);return React$2.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:Tt,ref:function(pt){$.pieRef=pt}},this.renderSectors(),nt&&this.renderLabels(tt),Label.renderCallByParent(this.props,null,!1),(!_t||At)&&LabelList.renderCallByParent(this.props,tt,!1))}}],[{key:"getDerivedStateFromProps",value:function($,j){return j.prevIsAnimationActive!==$.isAnimationActive?{prevIsAnimationActive:$.isAnimationActive,prevAnimationId:$.animationId,curSectors:$.sectors,prevSectors:[],isAnimationFinished:!0}:$.isAnimationActive&&$.animationId!==j.prevAnimationId?{prevAnimationId:$.animationId,curSectors:$.sectors,prevSectors:j.curSectors,isAnimationFinished:!0}:$.sectors!==j.curSectors?{curSectors:$.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function($,j){return $>j?"start":$<j?"end":"middle"}},{key:"renderLabelLineItem",value:function($,j,_e){if(React$2.isValidElement($))return React$2.cloneElement($,j);if(isFunction$3($))return $(j);var tt=clsx("recharts-pie-label-line",typeof $!="boolean"?$.className:"");return React$2.createElement(Curve,_extends$b({},j,{key:_e,type:"linear",className:tt}))}},{key:"renderLabelItem",value:function($,j,_e){if(React$2.isValidElement($))return React$2.cloneElement($,j);var tt=_e;if(isFunction$3($)&&(tt=$(j),React$2.isValidElement(tt)))return tt;var rt=clsx("recharts-pie-label-text",typeof $!="boolean"&&!isFunction$3($)?$.className:"");return React$2.createElement(Text,_extends$b({},j,{alignmentBaseline:"middle",className:rt}),tt)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$g(Pie,"displayName","Pie");_defineProperty$g(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$g(Pie,"parseDeltaAngle",function(o,i){var _=mathSign(i-o),$=Math.min(Math.abs(i-o),360);return _*$});_defineProperty$g(Pie,"getRealPieData",function(o){var i=o.data,_=o.children,$=filterProps(o,!1),j=findAllByType(_,Cell);return i&&i.length?i.map(function(_e,tt){return _objectSpread$k(_objectSpread$k(_objectSpread$k({payload:_e},$),_e),j&&j[tt]&&j[tt].props)}):j&&j.length?j.map(function(_e){return _objectSpread$k(_objectSpread$k({},$),_e.props)}):[]});_defineProperty$g(Pie,"parseCoordinateOfPie",function(o,i){var _=i.top,$=i.left,j=i.width,_e=i.height,tt=getMaxRadius(j,_e),rt=$+getPercentValue(o.cx,j,j/2),nt=_+getPercentValue(o.cy,_e,_e/2),it=getPercentValue(o.innerRadius,tt,0),ot=getPercentValue(o.outerRadius,tt,tt*.8),lt=o.maxRadius||Math.sqrt(j*j+_e*_e)/2;return{cx:rt,cy:nt,innerRadius:it,outerRadius:ot,maxRadius:lt}});_defineProperty$g(Pie,"getComposedData",function(o){var i=o.item,_=o.offset,$=i.type.defaultProps!==void 0?_objectSpread$k(_objectSpread$k({},i.type.defaultProps),i.props):i.props,j=_Pie.getRealPieData($);if(!j||!j.length)return null;var _e=$.cornerRadius,tt=$.startAngle,rt=$.endAngle,nt=$.paddingAngle,it=$.dataKey,ot=$.nameKey,lt=$.valueKey,ft=$.tooltipType,_t=Math.abs($.minAngle),At=_Pie.parseCoordinateOfPie($,_),Tt=_Pie.parseDeltaAngle(tt,rt),Mt=Math.abs(Tt),pt=it;isNil$1(it)&&isNil$1(lt)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),pt="value"):isNil$1(it)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),pt=lt);var Pt=j.filter(function(Bt){return getValueByDataKey(Bt,pt,0)!==0}).length,$t=(Mt>=360?Pt:Pt-1)*nt,Ot=Mt-Pt*_t-$t,It=j.reduce(function(Bt,jt){var Ut=getValueByDataKey(jt,pt,0);return Bt+(isNumber(Ut)?Ut:0)},0),Dt;if(It>0){var Lt;Dt=j.map(function(Bt,jt){var Ut=getValueByDataKey(Bt,pt,0),Gt=getValueByDataKey(Bt,ot,jt),qt=(isNumber(Ut)?Ut:0)/It,Jt;jt?Jt=Lt.endAngle+mathSign(Tt)*nt*(Ut!==0?1:0):Jt=tt;var er=Jt+mathSign(Tt)*((Ut!==0?_t:0)+qt*Ot),Kt=(Jt+er)/2,zt=(At.innerRadius+At.outerRadius)/2,Ht=[{name:Gt,value:Ut,payload:Bt,dataKey:pt,type:ft}],Ft=polarToCartesian(At.cx,At.cy,zt,Kt);return Lt=_objectSpread$k(_objectSpread$k(_objectSpread$k({percent:qt,cornerRadius:_e,name:Gt,tooltipPayload:Ht,midAngle:Kt,middleRadius:zt,tooltipPosition:Ft},Bt),At),{},{value:getValueByDataKey(Bt,pt),startAngle:Jt,endAngle:er,payload:Bt,paddingAngle:mathSign(Tt)*nt}),Lt})}return _objectSpread$k(_objectSpread$k({},At),{},{sectors:Dt,data:j})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(o,i,_,$){for(var j=-1,_e=nativeMax$1(nativeCeil((i-o)/(_||1)),0),tt=Array(_e);_e--;)tt[$?_e:++j]=o,o+=_;return tt}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(o){if(!o)return o===0?o:0;if(o=toNumber(o),o===INFINITY||o===-INFINITY){var i=o<0?-1:1;return i*MAX_INTEGER}return o===o?o:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(o){return function(i,_,$){return $&&typeof $!="number"&&isIterateeCall$2(i,_,$)&&(_=$=void 0),i=toFinite$1(i),_===void 0?(_=i,i=0):_=toFinite$1(_),$=$===void 0?i<_?1:-1:toFinite$1($),baseRange(i,_,$,o)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$f(o){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$f(o)}function ownKeys$j(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$j(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$j(Object(_),!0).forEach(function($){_defineProperty$f(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$j(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$f(o,i,_){return i=_toPropertyKey$f(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$f(o){var i=_toPrimitive$f(o,"string");return _typeof$f(i)=="symbol"?i:i+""}function _toPrimitive$f(o,i){if(_typeof$f(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$f($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function o(i,_){if(!i)return null;var $=i.replace(/(\w)/,function(_e){return _e.toUpperCase()}),j=PREFIX_LIST.reduce(function(_e,tt){return _objectSpread$j(_objectSpread$j({},_e),{},_defineProperty$f({},tt+$,_))},{});return j[i]=_,j};function _typeof$e(o){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$e(o)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$a.apply(this,arguments)}function ownKeys$i(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$i(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$i(Object(_),!0).forEach(function($){_defineProperty$e(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$i(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$a(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$e($.key),$)}}function _createClass$a(o,i,_){return i&&_defineProperties$a(o.prototype,i),_&&_defineProperties$a(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$8(o,i,_){return i=_getPrototypeOf$9(i),_possibleConstructorReturn$9(o,_isNativeReflectConstruct$c()?Reflect.construct(i,_||[],_getPrototypeOf$9(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$9(o,i){if(i&&(_typeof$e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(o)}function _assertThisInitialized$8(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$c(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!o})()}function _getPrototypeOf$9(o){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$9(o)}function _inherits$9(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$8(o,i)}function _setPrototypeOf$8(o,i){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$8(o,i)}function _defineProperty$e(o,i,_){return i=_toPropertyKey$e(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$e(o){var i=_toPrimitive$e(o,"string");return _typeof$e(i)=="symbol"?i:i+""}function _toPrimitive$e(o,i){if(_typeof$e(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$e($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var createScale=function o(i){var _=i.data,$=i.startIndex,j=i.endIndex,_e=i.x,tt=i.width,rt=i.travellerWidth;if(!_||!_.length)return{};var nt=_.length,it=point().domain(range$1(0,nt)).range([_e,_e+tt-rt]),ot=it.domain().map(function(lt){return it(lt)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:it($),endX:it(j),scale:it,scaleValues:ot}},isTouch=function o(i){return i.changedTouches&&!!i.changedTouches.length},Brush=function(o){function i(_){var $;return _classCallCheck$a(this,i),$=_callSuper$8(this,i,[_]),_defineProperty$e($,"handleDrag",function(j){$.leaveTimer&&(clearTimeout($.leaveTimer),$.leaveTimer=null),$.state.isTravellerMoving?$.handleTravellerMove(j):$.state.isSlideMoving&&$.handleSlideDrag(j)}),_defineProperty$e($,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&$.handleDrag(j.changedTouches[0])}),_defineProperty$e($,"handleDragEnd",function(){$.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var j=$.props,_e=j.endIndex,tt=j.onDragEnd,rt=j.startIndex;tt==null||tt({endIndex:_e,startIndex:rt})}),$.detachDragEndListener()}),_defineProperty$e($,"handleLeaveWrapper",function(){($.state.isTravellerMoving||$.state.isSlideMoving)&&($.leaveTimer=window.setTimeout($.handleDragEnd,$.props.leaveTimeOut))}),_defineProperty$e($,"handleEnterSlideOrTraveller",function(){$.setState({isTextActive:!0})}),_defineProperty$e($,"handleLeaveSlideOrTraveller",function(){$.setState({isTextActive:!1})}),_defineProperty$e($,"handleSlideDragStart",function(j){var _e=isTouch(j)?j.changedTouches[0]:j;$.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:_e.pageX}),$.attachDragEndListener()}),$.travellerDragStartHandlers={startX:$.handleTravellerDragStart.bind($,"startX"),endX:$.handleTravellerDragStart.bind($,"endX")},$.state={},$}return _inherits$9(i,o),_createClass$a(i,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function($){var j=$.startX,_e=$.endX,tt=this.state.scaleValues,rt=this.props,nt=rt.gap,it=rt.data,ot=it.length-1,lt=Math.min(j,_e),ft=Math.max(j,_e),_t=i.getIndexInRange(tt,lt),At=i.getIndexInRange(tt,ft);return{startIndex:_t-_t%nt,endIndex:At===ot?ot:At-At%nt}}},{key:"getTextOfTick",value:function($){var j=this.props,_e=j.data,tt=j.tickFormatter,rt=j.dataKey,nt=getValueByDataKey(_e[$],rt,$);return isFunction$3(tt)?tt(nt,$):nt}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function($){var j=this.state,_e=j.slideMoveStartX,tt=j.startX,rt=j.endX,nt=this.props,it=nt.x,ot=nt.width,lt=nt.travellerWidth,ft=nt.startIndex,_t=nt.endIndex,At=nt.onChange,Tt=$.pageX-_e;Tt>0?Tt=Math.min(Tt,it+ot-lt-rt,it+ot-lt-tt):Tt<0&&(Tt=Math.max(Tt,it-tt,it-rt));var Mt=this.getIndex({startX:tt+Tt,endX:rt+Tt});(Mt.startIndex!==ft||Mt.endIndex!==_t)&&At&&At(Mt),this.setState({startX:tt+Tt,endX:rt+Tt,slideMoveStartX:$.pageX})}},{key:"handleTravellerDragStart",value:function($,j){var _e=isTouch(j)?j.changedTouches[0]:j;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:$,brushMoveStartX:_e.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function($){var j=this.state,_e=j.brushMoveStartX,tt=j.movingTravellerId,rt=j.endX,nt=j.startX,it=this.state[tt],ot=this.props,lt=ot.x,ft=ot.width,_t=ot.travellerWidth,At=ot.onChange,Tt=ot.gap,Mt=ot.data,pt={startX:this.state.startX,endX:this.state.endX},Pt=$.pageX-_e;Pt>0?Pt=Math.min(Pt,lt+ft-_t-it):Pt<0&&(Pt=Math.max(Pt,lt-it)),pt[tt]=it+Pt;var $t=this.getIndex(pt),Ot=$t.startIndex,It=$t.endIndex,Dt=function(){var Bt=Mt.length-1;return tt==="startX"&&(rt>nt?Ot%Tt===0:It%Tt===0)||rt<nt&&It===Bt||tt==="endX"&&(rt>nt?It%Tt===0:Ot%Tt===0)||rt>nt&&It===Bt};this.setState(_defineProperty$e(_defineProperty$e({},tt,it+Pt),"brushMoveStartX",$.pageX),function(){At&&Dt()&&At($t)})}},{key:"handleTravellerMoveKeyboard",value:function($,j){var _e=this,tt=this.state,rt=tt.scaleValues,nt=tt.startX,it=tt.endX,ot=this.state[j],lt=rt.indexOf(ot);if(lt!==-1){var ft=lt+$;if(!(ft===-1||ft>=rt.length)){var _t=rt[ft];j==="startX"&&_t>=it||j==="endX"&&_t<=nt||this.setState(_defineProperty$e({},j,_t),function(){_e.props.onChange(_e.getIndex({startX:_e.state.startX,endX:_e.state.endX}))})}}}},{key:"renderBackground",value:function(){var $=this.props,j=$.x,_e=$.y,tt=$.width,rt=$.height,nt=$.fill,it=$.stroke;return React$2.createElement("rect",{stroke:it,fill:nt,x:j,y:_e,width:tt,height:rt})}},{key:"renderPanorama",value:function(){var $=this.props,j=$.x,_e=$.y,tt=$.width,rt=$.height,nt=$.data,it=$.children,ot=$.padding,lt=reactExports.Children.only(it);return lt?React$2.cloneElement(lt,{x:j,y:_e,width:tt,height:rt,margin:ot,compact:!0,data:nt}):null}},{key:"renderTravellerLayer",value:function($,j){var _e,tt,rt=this,nt=this.props,it=nt.y,ot=nt.travellerWidth,lt=nt.height,ft=nt.traveller,_t=nt.ariaLabel,At=nt.data,Tt=nt.startIndex,Mt=nt.endIndex,pt=Math.max($,this.props.x),Pt=_objectSpread$i(_objectSpread$i({},filterProps(this.props,!1)),{},{x:pt,y:it,width:ot,height:lt}),$t=_t||"Min value: ".concat((_e=At[Tt])===null||_e===void 0?void 0:_e.name,", Max value: ").concat((tt=At[Mt])===null||tt===void 0?void 0:tt.name);return React$2.createElement(Layer,{tabIndex:0,role:"slider","aria-label":$t,"aria-valuenow":$,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[j],onTouchStart:this.travellerDragStartHandlers[j],onKeyDown:function(It){["ArrowLeft","ArrowRight"].includes(It.key)&&(It.preventDefault(),It.stopPropagation(),rt.handleTravellerMoveKeyboard(It.key==="ArrowRight"?1:-1,j))},onFocus:function(){rt.setState({isTravellerFocused:!0})},onBlur:function(){rt.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},i.renderTraveller(ft,Pt))}},{key:"renderSlide",value:function($,j){var _e=this.props,tt=_e.y,rt=_e.height,nt=_e.stroke,it=_e.travellerWidth,ot=Math.min($,j)+it,lt=Math.max(Math.abs(j-$)-it,0);return React$2.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:nt,fillOpacity:.2,x:ot,y:tt,width:lt,height:rt})}},{key:"renderText",value:function(){var $=this.props,j=$.startIndex,_e=$.endIndex,tt=$.y,rt=$.height,nt=$.travellerWidth,it=$.stroke,ot=this.state,lt=ot.startX,ft=ot.endX,_t=5,At={pointerEvents:"none",fill:it};return React$2.createElement(Layer,{className:"recharts-brush-texts"},React$2.createElement(Text,_extends$a({textAnchor:"end",verticalAnchor:"middle",x:Math.min(lt,ft)-_t,y:tt+rt/2},At),this.getTextOfTick(j)),React$2.createElement(Text,_extends$a({textAnchor:"start",verticalAnchor:"middle",x:Math.max(lt,ft)+nt+_t,y:tt+rt/2},At),this.getTextOfTick(_e)))}},{key:"render",value:function(){var $=this.props,j=$.data,_e=$.className,tt=$.children,rt=$.x,nt=$.y,it=$.width,ot=$.height,lt=$.alwaysShowText,ft=this.state,_t=ft.startX,At=ft.endX,Tt=ft.isTextActive,Mt=ft.isSlideMoving,pt=ft.isTravellerMoving,Pt=ft.isTravellerFocused;if(!j||!j.length||!isNumber(rt)||!isNumber(nt)||!isNumber(it)||!isNumber(ot)||it<=0||ot<=0)return null;var $t=clsx("recharts-brush",_e),Ot=React$2.Children.count(tt)===1,It=generatePrefixStyle("userSelect","none");return React$2.createElement(Layer,{className:$t,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:It},this.renderBackground(),Ot&&this.renderPanorama(),this.renderSlide(_t,At),this.renderTravellerLayer(_t,"startX"),this.renderTravellerLayer(At,"endX"),(Tt||Mt||pt||Pt||lt)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function($){var j=$.x,_e=$.y,tt=$.width,rt=$.height,nt=$.stroke,it=Math.floor(_e+rt/2)-1;return React$2.createElement(React$2.Fragment,null,React$2.createElement("rect",{x:j,y:_e,width:tt,height:rt,fill:nt,stroke:"none"}),React$2.createElement("line",{x1:j+1,y1:it,x2:j+tt-1,y2:it,fill:"none",stroke:"#fff"}),React$2.createElement("line",{x1:j+1,y1:it+2,x2:j+tt-1,y2:it+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function($,j){var _e;return React$2.isValidElement($)?_e=React$2.cloneElement($,j):isFunction$3($)?_e=$(j):_e=i.renderDefaultTraveller(j),_e}},{key:"getDerivedStateFromProps",value:function($,j){var _e=$.data,tt=$.width,rt=$.x,nt=$.travellerWidth,it=$.updateId,ot=$.startIndex,lt=$.endIndex;if(_e!==j.prevData||it!==j.prevUpdateId)return _objectSpread$i({prevData:_e,prevTravellerWidth:nt,prevUpdateId:it,prevX:rt,prevWidth:tt},_e&&_e.length?createScale({data:_e,width:tt,x:rt,travellerWidth:nt,startIndex:ot,endIndex:lt}):{scale:null,scaleValues:null});if(j.scale&&(tt!==j.prevWidth||rt!==j.prevX||nt!==j.prevTravellerWidth)){j.scale.range([rt,rt+tt-nt]);var ft=j.scale.domain().map(function(_t){return j.scale(_t)});return{prevData:_e,prevTravellerWidth:nt,prevUpdateId:it,prevX:rt,prevWidth:tt,startX:j.scale($.startIndex),endX:j.scale($.endIndex),scaleValues:ft}}return null}},{key:"getIndexInRange",value:function($,j){for(var _e=$.length,tt=0,rt=_e-1;rt-tt>1;){var nt=Math.floor((tt+rt)/2);$[nt]>j?rt=nt:tt=nt}return j>=$[rt]?rt:tt}}])}(reactExports.PureComponent);_defineProperty$e(Brush,"displayName","Brush");_defineProperty$e(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(o,i){var _;return baseEach$1(o,function($,j,_e){return _=i($,j,_e),!_}),!!_}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(o,i,_){var $=isArray$1(o)?arraySome:baseSome;return _&&isIterateeCall$1(o,i,_)&&(i=void 0),$(o,baseIteratee$4(i))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function o(i,_){var $=i.alwaysShow,j=i.ifOverflow;return $&&(j="extendDomain"),j===_},defineProperty=_defineProperty$E;function baseAssignValue$1(o,i,_){i=="__proto__"&&defineProperty?defineProperty(o,i,{configurable:!0,enumerable:!0,value:_,writable:!0}):o[i]=_}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(o,i){var _={};return i=baseIteratee$3(i),baseForOwn(o,function($,j,_e){baseAssignValue(_,j,i($,j,_e))}),_}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(o,i){for(var _=-1,$=o==null?0:o.length;++_<$;)if(!i(o[_],_,o))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(o,i){var _=!0;return baseEach(o,function($,j,_e){return _=!!i($,j,_e),_}),_}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(o,i,_){var $=isArray(o)?arrayEvery:baseEvery;return _&&isIterateeCall(o,i,_)&&(i=void 0),$(o,baseIteratee$2(i))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$4=["x","y"];function _typeof$d(o){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$d(o)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$9.apply(this,arguments)}function ownKeys$h(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$h(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$h(Object(_),!0).forEach(function($){_defineProperty$d(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$h(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$d(o,i,_){return i=_toPropertyKey$d(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$d(o){var i=_toPrimitive$d(o,"string");return _typeof$d(i)=="symbol"?i:i+""}function _toPrimitive$d(o,i){if(_typeof$d(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$d($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$4(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$4(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$4(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function typeguardBarRectangleProps(o,i){var _=o.x,$=o.y,j=_objectWithoutProperties$4(o,_excluded$4),_e="".concat(_),tt=parseInt(_e,10),rt="".concat($),nt=parseInt(rt,10),it="".concat(i.height||j.height),ot=parseInt(it,10),lt="".concat(i.width||j.width),ft=parseInt(lt,10);return _objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({},i),j),tt?{x:tt}:{}),nt?{y:nt}:{}),{},{height:ot,width:ft,name:i.name,radius:i.radius})}function BarRectangle(o){return React$2.createElement(Shape,_extends$9({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},o))}var minPointSizeCallback=function o(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function($,j){if(typeof i=="number")return i;var _e=isNumber($)||isNullish($);return _e?i($,j):(_e||invariant(!1),_)}},_excluded$3=["value","background"],_Bar;function _typeof$c(o){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$c(o)}function _objectWithoutProperties$3(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$3(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$3(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$8.apply(this,arguments)}function ownKeys$g(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$g(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$g(Object(_),!0).forEach(function($){_defineProperty$c(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$g(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$9(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$c($.key),$)}}function _createClass$9(o,i,_){return i&&_defineProperties$9(o.prototype,i),_&&_defineProperties$9(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$7(o,i,_){return i=_getPrototypeOf$8(i),_possibleConstructorReturn$8(o,_isNativeReflectConstruct$b()?Reflect.construct(i,_||[],_getPrototypeOf$8(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$8(o,i){if(i&&(_typeof$c(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(o)}function _assertThisInitialized$7(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$b(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!o})()}function _getPrototypeOf$8(o){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$8(o)}function _inherits$8(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$7(o,i)}function _setPrototypeOf$7(o,i){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$7(o,i)}function _defineProperty$c(o,i,_){return i=_toPropertyKey$c(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$c(o){var i=_toPrimitive$c(o,"string");return _typeof$c(i)=="symbol"?i:i+""}function _toPrimitive$c(o,i){if(_typeof$c(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$c($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var Bar=function(o){function i(){var _;_classCallCheck$9(this,i);for(var $=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];return _=_callSuper$7(this,i,[].concat(j)),_defineProperty$c(_,"state",{isAnimationFinished:!1}),_defineProperty$c(_,"id",uniqueId("recharts-bar-")),_defineProperty$c(_,"handleAnimationEnd",function(){var tt=_.props.onAnimationEnd;_.setState({isAnimationFinished:!0}),tt&&tt()}),_defineProperty$c(_,"handleAnimationStart",function(){var tt=_.props.onAnimationStart;_.setState({isAnimationFinished:!1}),tt&&tt()}),_}return _inherits$8(i,o),_createClass$9(i,[{key:"renderRectanglesStatically",value:function($){var j=this,_e=this.props,tt=_e.shape,rt=_e.dataKey,nt=_e.activeIndex,it=_e.activeBar,ot=filterProps(this.props,!1);return $&&$.map(function(lt,ft){var _t=ft===nt,At=_t?it:tt,Tt=_objectSpread$g(_objectSpread$g(_objectSpread$g({},ot),lt),{},{isActive:_t,option:At,index:ft,dataKey:rt,onAnimationStart:j.handleAnimationStart,onAnimationEnd:j.handleAnimationEnd});return React$2.createElement(Layer,_extends$8({className:"recharts-bar-rectangle"},adaptEventsOfChild(j.props,lt,ft),{key:"rectangle-".concat(lt==null?void 0:lt.x,"-").concat(lt==null?void 0:lt.y,"-").concat(lt==null?void 0:lt.value,"-").concat(ft)}),React$2.createElement(BarRectangle,Tt))})}},{key:"renderRectanglesWithAnimation",value:function(){var $=this,j=this.props,_e=j.data,tt=j.layout,rt=j.isAnimationActive,nt=j.animationBegin,it=j.animationDuration,ot=j.animationEasing,lt=j.animationId,ft=this.state.prevData;return React$2.createElement(Animate$1,{begin:nt,duration:it,isActive:rt,easing:ot,from:{t:0},to:{t:1},key:"bar-".concat(lt),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_t){var At=_t.t,Tt=_e.map(function(Mt,pt){var Pt=ft&&ft[pt];if(Pt){var $t=interpolateNumber$2(Pt.x,Mt.x),Ot=interpolateNumber$2(Pt.y,Mt.y),It=interpolateNumber$2(Pt.width,Mt.width),Dt=interpolateNumber$2(Pt.height,Mt.height);return _objectSpread$g(_objectSpread$g({},Mt),{},{x:$t(At),y:Ot(At),width:It(At),height:Dt(At)})}if(tt==="horizontal"){var Lt=interpolateNumber$2(0,Mt.height),Bt=Lt(At);return _objectSpread$g(_objectSpread$g({},Mt),{},{y:Mt.y+Mt.height-Bt,height:Bt})}var jt=interpolateNumber$2(0,Mt.width),Ut=jt(At);return _objectSpread$g(_objectSpread$g({},Mt),{},{width:Ut})});return React$2.createElement(Layer,null,$.renderRectanglesStatically(Tt))})}},{key:"renderRectangles",value:function(){var $=this.props,j=$.data,_e=$.isAnimationActive,tt=this.state.prevData;return _e&&j&&j.length&&(!tt||!isEqual$1(tt,j))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(j)}},{key:"renderBackground",value:function(){var $=this,j=this.props,_e=j.data,tt=j.dataKey,rt=j.activeIndex,nt=filterProps(this.props.background,!1);return _e.map(function(it,ot){it.value;var lt=it.background,ft=_objectWithoutProperties$3(it,_excluded$3);if(!lt)return null;var _t=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({},ft),{},{fill:"#eee"},lt),nt),adaptEventsOfChild($.props,it,ot)),{},{onAnimationStart:$.handleAnimationStart,onAnimationEnd:$.handleAnimationEnd,dataKey:tt,index:ot,className:"recharts-bar-background-rectangle"});return React$2.createElement(BarRectangle,_extends$8({key:"background-bar-".concat(ot),option:$.props.background,isActive:ot===rt},_t))})}},{key:"renderErrorBar",value:function($,j){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var _e=this.props,tt=_e.data,rt=_e.xAxis,nt=_e.yAxis,it=_e.layout,ot=_e.children,lt=findAllByType(ot,ErrorBar);if(!lt)return null;var ft=it==="vertical"?tt[0].height/2:tt[0].width/2,_t=function(Mt,pt){var Pt=Array.isArray(Mt.value)?Mt.value[1]:Mt.value;return{x:Mt.x,y:Mt.y,value:Pt,errorVal:getValueByDataKey(Mt,pt)}},At={clipPath:$?"url(#clipPath-".concat(j,")"):null};return React$2.createElement(Layer,At,lt.map(function(Tt){return React$2.cloneElement(Tt,{key:"error-bar-".concat(j,"-").concat(Tt.props.dataKey),data:tt,xAxis:rt,yAxis:nt,layout:it,offset:ft,dataPointFormatter:_t})}))}},{key:"render",value:function(){var $=this.props,j=$.hide,_e=$.data,tt=$.className,rt=$.xAxis,nt=$.yAxis,it=$.left,ot=$.top,lt=$.width,ft=$.height,_t=$.isAnimationActive,At=$.background,Tt=$.id;if(j||!_e||!_e.length)return null;var Mt=this.state.isAnimationFinished,pt=clsx("recharts-bar",tt),Pt=rt&&rt.allowDataOverflow,$t=nt&&nt.allowDataOverflow,Ot=Pt||$t,It=isNil$1(Tt)?this.id:Tt;return React$2.createElement(Layer,{className:pt},Pt||$t?React$2.createElement("defs",null,React$2.createElement("clipPath",{id:"clipPath-".concat(It)},React$2.createElement("rect",{x:Pt?it:it-lt/2,y:$t?ot:ot-ft/2,width:Pt?lt:lt*2,height:$t?ft:ft*2}))):null,React$2.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:Ot?"url(#clipPath-".concat(It,")"):null},At?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(Ot,It),(!_t||Mt)&&LabelList.renderCallByParent(this.props,_e))}}],[{key:"getDerivedStateFromProps",value:function($,j){return $.animationId!==j.prevAnimationId?{prevAnimationId:$.animationId,curData:$.data,prevData:j.curData}:$.data!==j.curData?{curData:$.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$c(Bar,"displayName","Bar");_defineProperty$c(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$c(Bar,"getComposedData",function(o){var i=o.props,_=o.item,$=o.barPosition,j=o.bandSize,_e=o.xAxis,tt=o.yAxis,rt=o.xAxisTicks,nt=o.yAxisTicks,it=o.stackedData,ot=o.dataStartIndex,lt=o.displayedData,ft=o.offset,_t=findPositionOfBar($,_);if(!_t)return null;var At=i.layout,Tt=_.type.defaultProps,Mt=Tt!==void 0?_objectSpread$g(_objectSpread$g({},Tt),_.props):_.props,pt=Mt.dataKey,Pt=Mt.children,$t=Mt.minPointSize,Ot=At==="horizontal"?tt:_e,It=it?Ot.scale.domain():null,Dt=getBaseValueOfBar({numericAxis:Ot}),Lt=findAllByType(Pt,Cell),Bt=lt.map(function(jt,Ut){var Gt,qt,Jt,er,Kt,zt;it?Gt=truncateByDomain(it[ot+Ut],It):(Gt=getValueByDataKey(jt,pt),Array.isArray(Gt)||(Gt=[Dt,Gt]));var Ht=minPointSizeCallback($t,_Bar.defaultProps.minPointSize)(Gt[1],Ut);if(At==="horizontal"){var Ft,Vt=[tt.scale(Gt[0]),tt.scale(Gt[1])],Yt=Vt[0],Zt=Vt[1];qt=getCateCoordinateOfBar({axis:_e,ticks:rt,bandSize:j,offset:_t.offset,entry:jt,index:Ut}),Jt=(Ft=Zt??Yt)!==null&&Ft!==void 0?Ft:void 0,er=_t.size;var nr=Yt-Zt;if(Kt=Number.isNaN(nr)?0:nr,zt={x:qt,y:tt.y,width:er,height:tt.height},Math.abs(Ht)>0&&Math.abs(Kt)<Math.abs(Ht)){var cr=mathSign(Kt||Ht)*(Math.abs(Ht)-Math.abs(Kt));Jt-=cr,Kt+=cr}}else{var vr=[_e.scale(Gt[0]),_e.scale(Gt[1])],Tr=vr[0],ar=vr[1];if(qt=Tr,Jt=getCateCoordinateOfBar({axis:tt,ticks:nt,bandSize:j,offset:_t.offset,entry:jt,index:Ut}),er=ar-Tr,Kt=_t.size,zt={x:_e.x,y:Jt,width:_e.width,height:Kt},Math.abs(Ht)>0&&Math.abs(er)<Math.abs(Ht)){var ur=mathSign(er||Ht)*(Math.abs(Ht)-Math.abs(er));er+=ur}}return _objectSpread$g(_objectSpread$g(_objectSpread$g({},jt),{},{x:qt,y:Jt,width:er,height:Kt,value:it?Gt:Gt[1],payload:jt,background:zt},Lt&&Lt[Ut]&&Lt[Ut].props),{},{tooltipPayload:[getTooltipItem(_,jt)],tooltipPosition:{x:qt+er/2,y:Jt+Kt/2}})});return _objectSpread$g({data:Bt,layout:At},ft)});function _typeof$b(o){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$b(o)}function _classCallCheck$8(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$b($.key),$)}}function _createClass$8(o,i,_){return i&&_defineProperties$8(o.prototype,i),_&&_defineProperties$8(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function ownKeys$f(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$f(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$f(Object(_),!0).forEach(function($){_defineProperty$b(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$f(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$b(o,i,_){return i=_toPropertyKey$b(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$b(o){var i=_toPrimitive$b(o,"string");return _typeof$b(i)=="symbol"?i:i+""}function _toPrimitive$b(o,i){if(_typeof$b(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$b($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var formatAxisMap=function o(i,_,$,j,_e){var tt=i.width,rt=i.height,nt=i.layout,it=i.children,ot=Object.keys(_),lt={left:$.left,leftMirror:$.left,right:tt-$.right,rightMirror:tt-$.right,top:$.top,topMirror:$.top,bottom:rt-$.bottom,bottomMirror:rt-$.bottom},ft=!!findChildByType(it,Bar);return ot.reduce(function(_t,At){var Tt=_[At],Mt=Tt.orientation,pt=Tt.domain,Pt=Tt.padding,$t=Pt===void 0?{}:Pt,Ot=Tt.mirror,It=Tt.reversed,Dt="".concat(Mt).concat(Ot?"Mirror":""),Lt,Bt,jt,Ut,Gt;if(Tt.type==="number"&&(Tt.padding==="gap"||Tt.padding==="no-gap")){var qt=pt[1]-pt[0],Jt=1/0,er=Tt.categoricalDomain.sort(compareValues);if(er.forEach(function(vr,Tr){Tr>0&&(Jt=Math.min((vr||0)-(er[Tr-1]||0),Jt))}),Number.isFinite(Jt)){var Kt=Jt/qt,zt=Tt.layout==="vertical"?$.height:$.width;if(Tt.padding==="gap"&&(Lt=Kt*zt/2),Tt.padding==="no-gap"){var Ht=getPercentValue(i.barCategoryGap,Kt*zt),Ft=Kt*zt/2;Lt=Ft-Ht-(Ft-Ht)/zt*Ht}}}j==="xAxis"?Bt=[$.left+($t.left||0)+(Lt||0),$.left+$.width-($t.right||0)-(Lt||0)]:j==="yAxis"?Bt=nt==="horizontal"?[$.top+$.height-($t.bottom||0),$.top+($t.top||0)]:[$.top+($t.top||0)+(Lt||0),$.top+$.height-($t.bottom||0)-(Lt||0)]:Bt=Tt.range,It&&(Bt=[Bt[1],Bt[0]]);var Vt=parseScale(Tt,_e,ft),Yt=Vt.scale,Zt=Vt.realScaleType;Yt.domain(pt).range(Bt),checkDomainOfScale(Yt);var nr=getTicksOfScale(Yt,_objectSpread$f(_objectSpread$f({},Tt),{},{realScaleType:Zt}));j==="xAxis"?(Gt=Mt==="top"&&!Ot||Mt==="bottom"&&Ot,jt=$.left,Ut=lt[Dt]-Gt*Tt.height):j==="yAxis"&&(Gt=Mt==="left"&&!Ot||Mt==="right"&&Ot,jt=lt[Dt]-Gt*Tt.width,Ut=$.top);var cr=_objectSpread$f(_objectSpread$f(_objectSpread$f({},Tt),nr),{},{realScaleType:Zt,x:jt,y:Ut,scale:Yt,width:j==="xAxis"?$.width:Tt.width,height:j==="yAxis"?$.height:Tt.height});return cr.bandSize=getBandSizeOfAxis(cr,nr),!Tt.hide&&j==="xAxis"?lt[Dt]+=(Gt?-1:1)*cr.height:Tt.hide||(lt[Dt]+=(Gt?-1:1)*cr.width),_objectSpread$f(_objectSpread$f({},_t),{},_defineProperty$b({},At,cr))},{})},rectWithPoints=function o(i,_){var $=i.x,j=i.y,_e=_.x,tt=_.y;return{x:Math.min($,_e),y:Math.min(j,tt),width:Math.abs(_e-$),height:Math.abs(tt-j)}},rectWithCoords=function o(i){var _=i.x1,$=i.y1,j=i.x2,_e=i.y2;return rectWithPoints({x:_,y:$},{x:j,y:_e})},ScaleHelper=function(){function o(i){_classCallCheck$8(this,o),this.scale=i}return _createClass$8(o,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=$.bandAware,_e=$.position;if(_!==void 0){if(_e)switch(_e){case"start":return this.scale(_);case"middle":{var tt=this.bandwidth?this.bandwidth()/2:0;return this.scale(_)+tt}case"end":{var rt=this.bandwidth?this.bandwidth():0;return this.scale(_)+rt}default:return this.scale(_)}if(j){var nt=this.bandwidth?this.bandwidth()/2:0;return this.scale(_)+nt}return this.scale(_)}}},{key:"isInRange",value:function(_){var $=this.range(),j=$[0],_e=$[$.length-1];return j<=_e?_>=j&&_<=_e:_>=_e&&_<=j}}],[{key:"create",value:function(_){return new o(_)}}])}();_defineProperty$b(ScaleHelper,"EPS",1e-4);var createLabeledScales=function o(i){var _=Object.keys(i).reduce(function($,j){return _objectSpread$f(_objectSpread$f({},$),{},_defineProperty$b({},j,ScaleHelper.create(i[j])))},{});return _objectSpread$f(_objectSpread$f({},_),{},{apply:function(j){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=_e.bandAware,rt=_e.position;return mapValues$1(j,function(nt,it){return _[it].apply(nt,{bandAware:tt,position:rt})})},isInRange:function(j){return every$1(j,function(_e,tt){return _[tt].isInRange(_e)})}})};function normalizeAngle(o){return(o%180+180)%180}var getAngledRectangleWidth=function o(i){var _=i.width,$=i.height,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_e=normalizeAngle(j),tt=_e*Math.PI/180,rt=Math.atan($/_),nt=tt>rt&&tt<Math.PI-rt?$/Math.sin(tt):_/Math.cos(tt);return Math.abs(nt)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(o){return function(i,_,$){var j=Object(i);if(!isArrayLike(i)){var _e=baseIteratee$1(_);i=keys(i),_=function(rt){return _e(j[rt],rt,j)}}var tt=o(i,_,$);return tt>-1?j[_e?i[tt]:tt]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(o){var i=toFinite(o),_=i%1;return i===i?_?i-_:i:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(o,i,_){var $=o==null?0:o.length;if(!$)return-1;var j=_==null?0:toInteger(_);return j<0&&(j=nativeMax($+j,0)),baseFindIndex(o,baseIteratee(i),j)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find;const find$1=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(o){return{x:o.left,y:o.top,width:o.width,height:o.height}},function(o){return["l",o.left,"t",o.top,"w",o.width,"h",o.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function o(i){var _=i.state,$=_.xAxisMap,j=_.yAxisMap,_e=_.offset,tt=i.clipPathId,rt=i.children,nt=i.width,it=i.height,ot=calculateViewBox(_e);return React$2.createElement(XAxisContext.Provider,{value:$},React$2.createElement(YAxisContext.Provider,{value:j},React$2.createElement(OffsetContext.Provider,{value:_e},React$2.createElement(ViewBoxContext.Provider,{value:ot},React$2.createElement(ClipPathIdContext.Provider,{value:tt},React$2.createElement(ChartHeightContext.Provider,{value:it},React$2.createElement(ChartWidthContext.Provider,{value:nt},rt)))))))},useClipPathId=function o(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function o(i){var _=reactExports.useContext(XAxisContext);_==null&&invariant(!1);var $=_[i];return $==null&&invariant(!1),$},useArbitraryXAxis=function o(){var i=reactExports.useContext(XAxisContext);return getAnyElementOfObject(i)},useYAxisWithFiniteDomainOrRandom=function o(){var i=reactExports.useContext(YAxisContext),_=find$1(i,function($){return every$1($.domain,Number.isFinite)});return _||getAnyElementOfObject(i)},useYAxisOrThrow=function o(i){var _=reactExports.useContext(YAxisContext);_==null&&invariant(!1);var $=_[i];return $==null&&invariant(!1),$},useViewBox=function o(){var i=reactExports.useContext(ViewBoxContext);return i},useOffset=function o(){return reactExports.useContext(OffsetContext)},useChartWidth=function o(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function o(){return reactExports.useContext(ChartHeightContext)};function _typeof$a(o){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$a(o)}function _classCallCheck$7(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$a($.key),$)}}function _createClass$7(o,i,_){return i&&_defineProperties$7(o.prototype,i),_&&_defineProperties$7(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$6(o,i,_){return i=_getPrototypeOf$7(i),_possibleConstructorReturn$7(o,_isNativeReflectConstruct$a()?Reflect.construct(i,_||[],_getPrototypeOf$7(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$7(o,i){if(i&&(_typeof$a(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(o)}function _assertThisInitialized$6(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$a(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!o})()}function _getPrototypeOf$7(o){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$7(o)}function _inherits$7(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$6(o,i)}function _setPrototypeOf$6(o,i){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$6(o,i)}function ownKeys$e(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$e(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$e(Object(_),!0).forEach(function($){_defineProperty$a(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$e(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$a(o,i,_){return i=_toPropertyKey$a(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$a(o){var i=_toPrimitive$a(o,"string");return _typeof$a(i)=="symbol"?i:i+""}function _toPrimitive$a(o,i){if(_typeof$a(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$a($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray$1(o,i){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,i)||_unsupportedIterableToArray$2(o,i)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$2(o,i)}}function _arrayLikeToArray$2(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function _iterableToArrayLimit$1(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$7.apply(this,arguments)}var renderLine=function o(i,_){var $;return React$2.isValidElement(i)?$=React$2.cloneElement(i,_):isFunction$3(i)?$=i(_):$=React$2.createElement("line",_extends$7({},_,{className:"recharts-reference-line-line"})),$},getEndPoints=function o(i,_,$,j,_e,tt,rt,nt,it){var ot=_e.x,lt=_e.y,ft=_e.width,_t=_e.height;if($){var At=it.y,Tt=i.y.apply(At,{position:tt});if(ifOverflowMatches(it,"discard")&&!i.y.isInRange(Tt))return null;var Mt=[{x:ot+ft,y:Tt},{x:ot,y:Tt}];return nt==="left"?Mt.reverse():Mt}if(_){var pt=it.x,Pt=i.x.apply(pt,{position:tt});if(ifOverflowMatches(it,"discard")&&!i.x.isInRange(Pt))return null;var $t=[{x:Pt,y:lt+_t},{x:Pt,y:lt}];return rt==="top"?$t.reverse():$t}if(j){var Ot=it.segment,It=Ot.map(function(Dt){return i.apply(Dt,{position:tt})});return ifOverflowMatches(it,"discard")&&some$1(It,function(Dt){return!i.isInRange(Dt)})?null:It}return null};function ReferenceLineImpl(o){var i=o.x,_=o.y,$=o.segment,j=o.xAxisId,_e=o.yAxisId,tt=o.shape,rt=o.className,nt=o.alwaysShow,it=useClipPathId(),ot=useXAxisOrThrow(j),lt=useYAxisOrThrow(_e),ft=useViewBox();if(!it||!ft)return null;warn(nt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _t=createLabeledScales({x:ot.scale,y:lt.scale}),At=isNumOrStr(i),Tt=isNumOrStr(_),Mt=$&&$.length===2,pt=getEndPoints(_t,At,Tt,Mt,ft,o.position,ot.orientation,lt.orientation,o);if(!pt)return null;var Pt=_slicedToArray$1(pt,2),$t=Pt[0],Ot=$t.x,It=$t.y,Dt=Pt[1],Lt=Dt.x,Bt=Dt.y,jt=ifOverflowMatches(o,"hidden")?"url(#".concat(it,")"):void 0,Ut=_objectSpread$e(_objectSpread$e({clipPath:jt},filterProps(o,!0)),{},{x1:Ot,y1:It,x2:Lt,y2:Bt});return React$2.createElement(Layer,{className:clsx("recharts-reference-line",rt)},renderLine(tt,Ut),Label.renderCallByParent(o,rectWithCoords({x1:Ot,y1:It,x2:Lt,y2:Bt})))}var ReferenceLine=function(o){function i(){return _classCallCheck$7(this,i),_callSuper$6(this,i,arguments)}return _inherits$7(i,o),_createClass$7(i,[{key:"render",value:function(){return React$2.createElement(ReferenceLineImpl,this.props)}}])}(React$2.Component);_defineProperty$a(ReferenceLine,"displayName","ReferenceLine");_defineProperty$a(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$6.apply(this,arguments)}function _typeof$9(o){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$9(o)}function ownKeys$d(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$d(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$d(Object(_),!0).forEach(function($){_defineProperty$9(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$d(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$6(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$9($.key),$)}}function _createClass$6(o,i,_){return i&&_defineProperties$6(o.prototype,i),_&&_defineProperties$6(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$5(o,i,_){return i=_getPrototypeOf$6(i),_possibleConstructorReturn$6(o,_isNativeReflectConstruct$9()?Reflect.construct(i,_||[],_getPrototypeOf$6(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$6(o,i){if(i&&(_typeof$9(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(o)}function _assertThisInitialized$5(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$9(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!o})()}function _getPrototypeOf$6(o){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$6(o)}function _inherits$6(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$5(o,i)}function _setPrototypeOf$5(o,i){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$5(o,i)}function _defineProperty$9(o,i,_){return i=_toPropertyKey$9(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$9(o){var i=_toPrimitive$9(o,"string");return _typeof$9(i)=="symbol"?i:i+""}function _toPrimitive$9(o,i){if(_typeof$9(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$9($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getCoordinate=function o(i){var _=i.x,$=i.y,j=i.xAxis,_e=i.yAxis,tt=createLabeledScales({x:j.scale,y:_e.scale}),rt=tt.apply({x:_,y:$},{bandAware:!0});return ifOverflowMatches(i,"discard")&&!tt.isInRange(rt)?null:rt},ReferenceDot=function(o){function i(){return _classCallCheck$6(this,i),_callSuper$5(this,i,arguments)}return _inherits$6(i,o),_createClass$6(i,[{key:"render",value:function(){var $=this.props,j=$.x,_e=$.y,tt=$.r,rt=$.alwaysShow,nt=$.clipPathId,it=isNumOrStr(j),ot=isNumOrStr(_e);if(warn(rt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!it||!ot)return null;var lt=getCoordinate(this.props);if(!lt)return null;var ft=lt.x,_t=lt.y,At=this.props,Tt=At.shape,Mt=At.className,pt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(nt,")"):void 0,Pt=_objectSpread$d(_objectSpread$d({clipPath:pt},filterProps(this.props,!0)),{},{cx:ft,cy:_t});return React$2.createElement(Layer,{className:clsx("recharts-reference-dot",Mt)},i.renderDot(Tt,Pt),Label.renderCallByParent(this.props,{x:ft-tt,y:_t-tt,width:2*tt,height:2*tt}))}}])}(React$2.Component);_defineProperty$9(ReferenceDot,"displayName","ReferenceDot");_defineProperty$9(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$9(ReferenceDot,"renderDot",function(o,i){var _;return React$2.isValidElement(o)?_=React$2.cloneElement(o,i):isFunction$3(o)?_=o(i):_=React$2.createElement(Dot,_extends$6({},i,{cx:i.cx,cy:i.cy,className:"recharts-reference-dot-dot"})),_});function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$5.apply(this,arguments)}function _typeof$8(o){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$8(o)}function ownKeys$c(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$c(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$c(Object(_),!0).forEach(function($){_defineProperty$8(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$c(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _classCallCheck$5(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$8($.key),$)}}function _createClass$5(o,i,_){return i&&_defineProperties$5(o.prototype,i),_&&_defineProperties$5(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$4(o,i,_){return i=_getPrototypeOf$5(i),_possibleConstructorReturn$5(o,_isNativeReflectConstruct$8()?Reflect.construct(i,_||[],_getPrototypeOf$5(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$5(o,i){if(i&&(_typeof$8(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(o)}function _assertThisInitialized$4(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$8(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!o})()}function _getPrototypeOf$5(o){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$5(o)}function _inherits$5(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$4(o,i)}function _setPrototypeOf$4(o,i){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$4(o,i)}function _defineProperty$8(o,i,_){return i=_toPropertyKey$8(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$8(o){var i=_toPrimitive$8(o,"string");return _typeof$8(i)=="symbol"?i:i+""}function _toPrimitive$8(o,i){if(_typeof$8(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$8($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var getRect=function o(i,_,$,j,_e){var tt=_e.x1,rt=_e.x2,nt=_e.y1,it=_e.y2,ot=_e.xAxis,lt=_e.yAxis;if(!ot||!lt)return null;var ft=createLabeledScales({x:ot.scale,y:lt.scale}),_t={x:i?ft.x.apply(tt,{position:"start"}):ft.x.rangeMin,y:$?ft.y.apply(nt,{position:"start"}):ft.y.rangeMin},At={x:_?ft.x.apply(rt,{position:"end"}):ft.x.rangeMax,y:j?ft.y.apply(it,{position:"end"}):ft.y.rangeMax};return ifOverflowMatches(_e,"discard")&&(!ft.isInRange(_t)||!ft.isInRange(At))?null:rectWithPoints(_t,At)},ReferenceArea=function(o){function i(){return _classCallCheck$5(this,i),_callSuper$4(this,i,arguments)}return _inherits$5(i,o),_createClass$5(i,[{key:"render",value:function(){var $=this.props,j=$.x1,_e=$.x2,tt=$.y1,rt=$.y2,nt=$.className,it=$.alwaysShow,ot=$.clipPathId;warn(it===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var lt=isNumOrStr(j),ft=isNumOrStr(_e),_t=isNumOrStr(tt),At=isNumOrStr(rt),Tt=this.props.shape;if(!lt&&!ft&&!_t&&!At&&!Tt)return null;var Mt=getRect(lt,ft,_t,At,this.props);if(!Mt&&!Tt)return null;var pt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(ot,")"):void 0;return React$2.createElement(Layer,{className:clsx("recharts-reference-area",nt)},i.renderRect(Tt,_objectSpread$c(_objectSpread$c({clipPath:pt},filterProps(this.props,!0)),Mt)),Label.renderCallByParent(this.props,Mt))}}])}(React$2.Component);_defineProperty$8(ReferenceArea,"displayName","ReferenceArea");_defineProperty$8(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$8(ReferenceArea,"renderRect",function(o,i){var _;return React$2.isValidElement(o)?_=React$2.cloneElement(o,i):isFunction$3(o)?_=o(i):_=React$2.createElement(Rectangle,_extends$5({},i,{className:"recharts-reference-area-rect"})),_});function getEveryNthWithCondition(o,i,_){if(i<1)return[];if(i===1&&_===void 0)return o;for(var $=[],j=0;j<o.length;j+=i)if(_===void 0||_(o[j])===!0)$.push(o[j]);else return;return $}function getAngledTickWidth(o,i,_){var $={width:o.width+i.width,height:o.height+i.height};return getAngledRectangleWidth($,_)}function getTickBoundaries(o,i,_){var $=_==="width",j=o.x,_e=o.y,tt=o.width,rt=o.height;return i===1?{start:$?j:_e,end:$?j+tt:_e+rt}:{start:$?j+tt:_e+rt,end:$?j:_e}}function isVisible(o,i,_,$,j){if(o*i<o*$||o*i>o*j)return!1;var _e=_();return o*(i-o*_e/2-$)>=0&&o*(i+o*_e/2-j)<=0}function getNumberIntervalTicks(o,i){return getEveryNthWithCondition(o,i+1)}function getEquidistantTicks(o,i,_,$,j){for(var _e=($||[]).slice(),tt=i.start,rt=i.end,nt=0,it=1,ot=tt,lt=function(){var At=$==null?void 0:$[nt];if(At===void 0)return{v:getEveryNthWithCondition($,it)};var Tt=nt,Mt,pt=function(){return Mt===void 0&&(Mt=_(At,Tt)),Mt},Pt=At.coordinate,$t=nt===0||isVisible(o,Pt,pt,ot,rt);$t||(nt=0,ot=tt,it+=1),$t&&(ot=Pt+o*(pt()/2+j),nt+=it)},ft;it<=_e.length;)if(ft=lt(),ft)return ft.v;return[]}function _typeof$7(o){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$7(o)}function ownKeys$b(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$b(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$b(Object(_),!0).forEach(function($){_defineProperty$7(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$b(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$7(o,i,_){return i=_toPropertyKey$7(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$7(o){var i=_toPrimitive$7(o,"string");return _typeof$7(i)=="symbol"?i:i+""}function _toPrimitive$7(o,i){if(_typeof$7(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$7($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function getTicksEnd(o,i,_,$,j){for(var _e=($||[]).slice(),tt=_e.length,rt=i.start,nt=i.end,it=function(ft){var _t=_e[ft],At,Tt=function(){return At===void 0&&(At=_(_t,ft)),At};if(ft===tt-1){var Mt=o*(_t.coordinate+o*Tt()/2-nt);_e[ft]=_t=_objectSpread$b(_objectSpread$b({},_t),{},{tickCoord:Mt>0?_t.coordinate-Mt*o:_t.coordinate})}else _e[ft]=_t=_objectSpread$b(_objectSpread$b({},_t),{},{tickCoord:_t.coordinate});var pt=isVisible(o,_t.tickCoord,Tt,rt,nt);pt&&(nt=_t.tickCoord-o*(Tt()/2+j),_e[ft]=_objectSpread$b(_objectSpread$b({},_t),{},{isShow:!0}))},ot=tt-1;ot>=0;ot--)it(ot);return _e}function getTicksStart(o,i,_,$,j,_e){var tt=($||[]).slice(),rt=tt.length,nt=i.start,it=i.end;if(_e){var ot=$[rt-1],lt=_(ot,rt-1),ft=o*(ot.coordinate+o*lt/2-it);tt[rt-1]=ot=_objectSpread$b(_objectSpread$b({},ot),{},{tickCoord:ft>0?ot.coordinate-ft*o:ot.coordinate});var _t=isVisible(o,ot.tickCoord,function(){return lt},nt,it);_t&&(it=ot.tickCoord-o*(lt/2+j),tt[rt-1]=_objectSpread$b(_objectSpread$b({},ot),{},{isShow:!0}))}for(var At=_e?rt-1:rt,Tt=function(Pt){var $t=tt[Pt],Ot,It=function(){return Ot===void 0&&(Ot=_($t,Pt)),Ot};if(Pt===0){var Dt=o*($t.coordinate-o*It()/2-nt);tt[Pt]=$t=_objectSpread$b(_objectSpread$b({},$t),{},{tickCoord:Dt<0?$t.coordinate-Dt*o:$t.coordinate})}else tt[Pt]=$t=_objectSpread$b(_objectSpread$b({},$t),{},{tickCoord:$t.coordinate});var Lt=isVisible(o,$t.tickCoord,It,nt,it);Lt&&(nt=$t.tickCoord+o*(It()/2+j),tt[Pt]=_objectSpread$b(_objectSpread$b({},$t),{},{isShow:!0}))},Mt=0;Mt<At;Mt++)Tt(Mt);return tt}function getTicks(o,i,_){var $=o.tick,j=o.ticks,_e=o.viewBox,tt=o.minTickGap,rt=o.orientation,nt=o.interval,it=o.tickFormatter,ot=o.unit,lt=o.angle;if(!j||!j.length||!$)return[];if(isNumber(nt)||Global.isSsr)return getNumberIntervalTicks(j,typeof nt=="number"&&isNumber(nt)?nt:0);var ft=[],_t=rt==="top"||rt==="bottom"?"width":"height",At=ot&&_t==="width"?getStringSize(ot,{fontSize:i,letterSpacing:_}):{width:0,height:0},Tt=function($t,Ot){var It=isFunction$3(it)?it($t.value,Ot):$t.value;return _t==="width"?getAngledTickWidth(getStringSize(It,{fontSize:i,letterSpacing:_}),At,lt):getStringSize(It,{fontSize:i,letterSpacing:_})[_t]},Mt=j.length>=2?mathSign(j[1].coordinate-j[0].coordinate):1,pt=getTickBoundaries(_e,Mt,_t);return nt==="equidistantPreserveStart"?getEquidistantTicks(Mt,pt,Tt,j,tt):(nt==="preserveStart"||nt==="preserveStartEnd"?ft=getTicksStart(Mt,pt,Tt,j,tt,nt==="preserveStartEnd"):ft=getTicksEnd(Mt,pt,Tt,j,tt),ft.filter(function(Pt){return Pt.isShow}))}var _excluded$2=["viewBox"],_excluded2$2=["viewBox"],_excluded3=["ticks"];function _typeof$6(o){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$6(o)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$4.apply(this,arguments)}function ownKeys$a(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$a(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$a(Object(_),!0).forEach(function($){_defineProperty$6(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$a(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _objectWithoutProperties$2(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$2(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$2(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _classCallCheck$4(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$6($.key),$)}}function _createClass$4(o,i,_){return i&&_defineProperties$4(o.prototype,i),_&&_defineProperties$4(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$3(o,i,_){return i=_getPrototypeOf$4(i),_possibleConstructorReturn$4(o,_isNativeReflectConstruct$7()?Reflect.construct(i,_||[],_getPrototypeOf$4(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$4(o,i){if(i&&(_typeof$6(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(o)}function _assertThisInitialized$3(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$7(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!o})()}function _getPrototypeOf$4(o){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$4(o)}function _inherits$4(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$3(o,i)}function _setPrototypeOf$3(o,i){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$3(o,i)}function _defineProperty$6(o,i,_){return i=_toPropertyKey$6(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$6(o){var i=_toPrimitive$6(o,"string");return _typeof$6(i)=="symbol"?i:i+""}function _toPrimitive$6(o,i){if(_typeof$6(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$6($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var CartesianAxis=function(o){function i(_){var $;return _classCallCheck$4(this,i),$=_callSuper$3(this,i,[_]),$.state={fontSize:"",letterSpacing:""},$}return _inherits$4(i,o),_createClass$4(i,[{key:"shouldComponentUpdate",value:function($,j){var _e=$.viewBox,tt=_objectWithoutProperties$2($,_excluded$2),rt=this.props,nt=rt.viewBox,it=_objectWithoutProperties$2(rt,_excluded2$2);return!shallowEqual(_e,nt)||!shallowEqual(tt,it)||!shallowEqual(j,this.state)}},{key:"componentDidMount",value:function(){var $=this.layerReference;if($){var j=$.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];j&&this.setState({fontSize:window.getComputedStyle(j).fontSize,letterSpacing:window.getComputedStyle(j).letterSpacing})}}},{key:"getTickLineCoord",value:function($){var j=this.props,_e=j.x,tt=j.y,rt=j.width,nt=j.height,it=j.orientation,ot=j.tickSize,lt=j.mirror,ft=j.tickMargin,_t,At,Tt,Mt,pt,Pt,$t=lt?-1:1,Ot=$.tickSize||ot,It=isNumber($.tickCoord)?$.tickCoord:$.coordinate;switch(it){case"top":_t=At=$.coordinate,Mt=tt+ +!lt*nt,Tt=Mt-$t*Ot,Pt=Tt-$t*ft,pt=It;break;case"left":Tt=Mt=$.coordinate,At=_e+ +!lt*rt,_t=At-$t*Ot,pt=_t-$t*ft,Pt=It;break;case"right":Tt=Mt=$.coordinate,At=_e+ +lt*rt,_t=At+$t*Ot,pt=_t+$t*ft,Pt=It;break;default:_t=At=$.coordinate,Mt=tt+ +lt*nt,Tt=Mt+$t*Ot,Pt=Tt+$t*ft,pt=It;break}return{line:{x1:_t,y1:Tt,x2:At,y2:Mt},tick:{x:pt,y:Pt}}}},{key:"getTickTextAnchor",value:function(){var $=this.props,j=$.orientation,_e=$.mirror,tt;switch(j){case"left":tt=_e?"start":"end";break;case"right":tt=_e?"end":"start";break;default:tt="middle";break}return tt}},{key:"getTickVerticalAnchor",value:function(){var $=this.props,j=$.orientation,_e=$.mirror,tt="end";switch(j){case"left":case"right":tt="middle";break;case"top":tt=_e?"start":"end";break;default:tt=_e?"end":"start";break}return tt}},{key:"renderAxisLine",value:function(){var $=this.props,j=$.x,_e=$.y,tt=$.width,rt=$.height,nt=$.orientation,it=$.mirror,ot=$.axisLine,lt=_objectSpread$a(_objectSpread$a(_objectSpread$a({},filterProps(this.props,!1)),filterProps(ot,!1)),{},{fill:"none"});if(nt==="top"||nt==="bottom"){var ft=+(nt==="top"&&!it||nt==="bottom"&&it);lt=_objectSpread$a(_objectSpread$a({},lt),{},{x1:j,y1:_e+ft*rt,x2:j+tt,y2:_e+ft*rt})}else{var _t=+(nt==="left"&&!it||nt==="right"&&it);lt=_objectSpread$a(_objectSpread$a({},lt),{},{x1:j+_t*tt,y1:_e,x2:j+_t*tt,y2:_e+rt})}return React$2.createElement("line",_extends$4({},lt,{className:clsx("recharts-cartesian-axis-line",get$3(ot,"className"))}))}},{key:"renderTicks",value:function($,j,_e){var tt=this,rt=this.props,nt=rt.tickLine,it=rt.stroke,ot=rt.tick,lt=rt.tickFormatter,ft=rt.unit,_t=getTicks(_objectSpread$a(_objectSpread$a({},this.props),{},{ticks:$}),j,_e),At=this.getTickTextAnchor(),Tt=this.getTickVerticalAnchor(),Mt=filterProps(this.props,!1),pt=filterProps(ot,!1),Pt=_objectSpread$a(_objectSpread$a({},Mt),{},{fill:"none"},filterProps(nt,!1)),$t=_t.map(function(Ot,It){var Dt=tt.getTickLineCoord(Ot),Lt=Dt.line,Bt=Dt.tick,jt=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({textAnchor:At,verticalAnchor:Tt},Mt),{},{stroke:"none",fill:it},pt),Bt),{},{index:It,payload:Ot,visibleTicksCount:_t.length,tickFormatter:lt});return React$2.createElement(Layer,_extends$4({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ot.value,"-").concat(Ot.coordinate,"-").concat(Ot.tickCoord)},adaptEventsOfChild(tt.props,Ot,It)),nt&&React$2.createElement("line",_extends$4({},Pt,Lt,{className:clsx("recharts-cartesian-axis-tick-line",get$3(nt,"className"))})),ot&&i.renderTickItem(ot,jt,"".concat(isFunction$3(lt)?lt(Ot.value,It):Ot.value).concat(ft||"")))});return React$2.createElement("g",{className:"recharts-cartesian-axis-ticks"},$t)}},{key:"render",value:function(){var $=this,j=this.props,_e=j.axisLine,tt=j.width,rt=j.height,nt=j.ticksGenerator,it=j.className,ot=j.hide;if(ot)return null;var lt=this.props,ft=lt.ticks,_t=_objectWithoutProperties$2(lt,_excluded3),At=ft;return isFunction$3(nt)&&(At=ft&&ft.length>0?nt(this.props):nt(_t)),tt<=0||rt<=0||!At||!At.length?null:React$2.createElement(Layer,{className:clsx("recharts-cartesian-axis",it),ref:function(Mt){$.layerReference=Mt}},_e&&this.renderAxisLine(),this.renderTicks(At,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function($,j,_e){var tt,rt=clsx(j.className,"recharts-cartesian-axis-tick-value");return React$2.isValidElement($)?tt=React$2.cloneElement($,_objectSpread$a(_objectSpread$a({},j),{},{className:rt})):isFunction$3($)?tt=$(_objectSpread$a(_objectSpread$a({},j),{},{className:rt})):tt=React$2.createElement(Text,_extends$4({},j,{className:"recharts-cartesian-axis-tick-value"}),_e),tt}}])}(reactExports.Component);_defineProperty$6(CartesianAxis,"displayName","CartesianAxis");_defineProperty$6(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$1=["x1","y1","x2","y2","key"],_excluded2$1=["offset"];function _typeof$5(o){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$5(o)}function ownKeys$9(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$9(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$9(Object(_),!0).forEach(function($){_defineProperty$5(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$9(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$5(o,i,_){return i=_toPropertyKey$5(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$5(o){var i=_toPrimitive$5(o,"string");return _typeof$5(i)=="symbol"?i:i+""}function _toPrimitive$5(o,i){if(_typeof$5(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$5($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$3.apply(this,arguments)}function _objectWithoutProperties$1(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose$1(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose$1(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}var Background=function o(i){var _=i.fill;if(!_||_==="none")return null;var $=i.fillOpacity,j=i.x,_e=i.y,tt=i.width,rt=i.height,nt=i.ry;return React$2.createElement("rect",{x:j,y:_e,ry:nt,width:tt,height:rt,stroke:"none",fill:_,fillOpacity:$,className:"recharts-cartesian-grid-bg"})};function renderLineItem(o,i){var _;if(React$2.isValidElement(o))_=React$2.cloneElement(o,i);else if(isFunction$3(o))_=o(i);else{var $=i.x1,j=i.y1,_e=i.x2,tt=i.y2,rt=i.key,nt=_objectWithoutProperties$1(i,_excluded$1),it=filterProps(nt,!1);it.offset;var ot=_objectWithoutProperties$1(it,_excluded2$1);_=React$2.createElement("line",_extends$3({},ot,{x1:$,y1:j,x2:_e,y2:tt,fill:"none",key:rt}))}return _}function HorizontalGridLines(o){var i=o.x,_=o.width,$=o.horizontal,j=$===void 0?!0:$,_e=o.horizontalPoints;if(!j||!_e||!_e.length)return null;var tt=_e.map(function(rt,nt){var it=_objectSpread$9(_objectSpread$9({},o),{},{x1:i,y1:rt,x2:i+_,y2:rt,key:"line-".concat(nt),index:nt});return renderLineItem(j,it)});return React$2.createElement("g",{className:"recharts-cartesian-grid-horizontal"},tt)}function VerticalGridLines(o){var i=o.y,_=o.height,$=o.vertical,j=$===void 0?!0:$,_e=o.verticalPoints;if(!j||!_e||!_e.length)return null;var tt=_e.map(function(rt,nt){var it=_objectSpread$9(_objectSpread$9({},o),{},{x1:rt,y1:i,x2:rt,y2:i+_,key:"line-".concat(nt),index:nt});return renderLineItem(j,it)});return React$2.createElement("g",{className:"recharts-cartesian-grid-vertical"},tt)}function HorizontalStripes(o){var i=o.horizontalFill,_=o.fillOpacity,$=o.x,j=o.y,_e=o.width,tt=o.height,rt=o.horizontalPoints,nt=o.horizontal,it=nt===void 0?!0:nt;if(!it||!i||!i.length)return null;var ot=rt.map(function(ft){return Math.round(ft+j-j)}).sort(function(ft,_t){return ft-_t});j!==ot[0]&&ot.unshift(0);var lt=ot.map(function(ft,_t){var At=!ot[_t+1],Tt=At?j+tt-ft:ot[_t+1]-ft;if(Tt<=0)return null;var Mt=_t%i.length;return React$2.createElement("rect",{key:"react-".concat(_t),y:ft,x:$,height:Tt,width:_e,stroke:"none",fill:i[Mt],fillOpacity:_,className:"recharts-cartesian-grid-bg"})});return React$2.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},lt)}function VerticalStripes(o){var i=o.vertical,_=i===void 0?!0:i,$=o.verticalFill,j=o.fillOpacity,_e=o.x,tt=o.y,rt=o.width,nt=o.height,it=o.verticalPoints;if(!_||!$||!$.length)return null;var ot=it.map(function(ft){return Math.round(ft+_e-_e)}).sort(function(ft,_t){return ft-_t});_e!==ot[0]&&ot.unshift(0);var lt=ot.map(function(ft,_t){var At=!ot[_t+1],Tt=At?_e+rt-ft:ot[_t+1]-ft;if(Tt<=0)return null;var Mt=_t%$.length;return React$2.createElement("rect",{key:"react-".concat(_t),x:ft,y:tt,width:Tt,height:nt,stroke:"none",fill:$[Mt],fillOpacity:j,className:"recharts-cartesian-grid-bg"})});return React$2.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},lt)}var defaultVerticalCoordinatesGenerator=function o(i,_){var $=i.xAxis,j=i.width,_e=i.height,tt=i.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$9(_objectSpread$9(_objectSpread$9({},CartesianAxis.defaultProps),$),{},{ticks:getTicksOfAxis($,!0),viewBox:{x:0,y:0,width:j,height:_e}})),tt.left,tt.left+tt.width,_)},defaultHorizontalCoordinatesGenerator=function o(i,_){var $=i.yAxis,j=i.width,_e=i.height,tt=i.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$9(_objectSpread$9(_objectSpread$9({},CartesianAxis.defaultProps),$),{},{ticks:getTicksOfAxis($,!0),viewBox:{x:0,y:0,width:j,height:_e}})),tt.top,tt.top+tt.height,_)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(o){var i,_,$,j,_e,tt,rt=useChartWidth(),nt=useChartHeight(),it=useOffset(),ot=_objectSpread$9(_objectSpread$9({},o),{},{stroke:(i=o.stroke)!==null&&i!==void 0?i:defaultProps.stroke,fill:(_=o.fill)!==null&&_!==void 0?_:defaultProps.fill,horizontal:($=o.horizontal)!==null&&$!==void 0?$:defaultProps.horizontal,horizontalFill:(j=o.horizontalFill)!==null&&j!==void 0?j:defaultProps.horizontalFill,vertical:(_e=o.vertical)!==null&&_e!==void 0?_e:defaultProps.vertical,verticalFill:(tt=o.verticalFill)!==null&&tt!==void 0?tt:defaultProps.verticalFill,x:isNumber(o.x)?o.x:it.left,y:isNumber(o.y)?o.y:it.top,width:isNumber(o.width)?o.width:it.width,height:isNumber(o.height)?o.height:it.height}),lt=ot.x,ft=ot.y,_t=ot.width,At=ot.height,Tt=ot.syncWithTicks,Mt=ot.horizontalValues,pt=ot.verticalValues,Pt=useArbitraryXAxis(),$t=useYAxisWithFiniteDomainOrRandom();if(!isNumber(_t)||_t<=0||!isNumber(At)||At<=0||!isNumber(lt)||lt!==+lt||!isNumber(ft)||ft!==+ft)return null;var Ot=ot.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,It=ot.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,Dt=ot.horizontalPoints,Lt=ot.verticalPoints;if((!Dt||!Dt.length)&&isFunction$3(It)){var Bt=Mt&&Mt.length,jt=It({yAxis:$t?_objectSpread$9(_objectSpread$9({},$t),{},{ticks:Bt?Mt:$t.ticks}):void 0,width:rt,height:nt,offset:it},Bt?!0:Tt);warn(Array.isArray(jt),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$5(jt),"]")),Array.isArray(jt)&&(Dt=jt)}if((!Lt||!Lt.length)&&isFunction$3(Ot)){var Ut=pt&&pt.length,Gt=Ot({xAxis:Pt?_objectSpread$9(_objectSpread$9({},Pt),{},{ticks:Ut?pt:Pt.ticks}):void 0,width:rt,height:nt,offset:it},Ut?!0:Tt);warn(Array.isArray(Gt),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$5(Gt),"]")),Array.isArray(Gt)&&(Lt=Gt)}return React$2.createElement("g",{className:"recharts-cartesian-grid"},React$2.createElement(Background,{fill:ot.fill,fillOpacity:ot.fillOpacity,x:ot.x,y:ot.y,width:ot.width,height:ot.height,ry:ot.ry}),React$2.createElement(HorizontalGridLines,_extends$3({},ot,{offset:it,horizontalPoints:Dt,xAxis:Pt,yAxis:$t})),React$2.createElement(VerticalGridLines,_extends$3({},ot,{offset:it,verticalPoints:Lt,xAxis:Pt,yAxis:$t})),React$2.createElement(HorizontalStripes,_extends$3({},ot,{horizontalPoints:Dt})),React$2.createElement(VerticalStripes,_extends$3({},ot,{verticalPoints:Lt})))}CartesianGrid.displayName="CartesianGrid";function _typeof$4(o){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$4(o)}function _classCallCheck$3(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$4($.key),$)}}function _createClass$3(o,i,_){return i&&_defineProperties$3(o.prototype,i),_&&_defineProperties$3(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$2(o,i,_){return i=_getPrototypeOf$3(i),_possibleConstructorReturn$3(o,_isNativeReflectConstruct$6()?Reflect.construct(i,_||[],_getPrototypeOf$3(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$3(o,i){if(i&&(_typeof$4(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(o)}function _assertThisInitialized$2(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$6(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!o})()}function _getPrototypeOf$3(o){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$3(o)}function _inherits$3(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$2(o,i)}function _setPrototypeOf$2(o,i){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$2(o,i)}function _defineProperty$4(o,i,_){return i=_toPropertyKey$4(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$4(o){var i=_toPrimitive$4(o,"string");return _typeof$4(i)=="symbol"?i:i+""}function _toPrimitive$4(o,i){if(_typeof$4(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$4($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$2.apply(this,arguments)}function XAxisImpl(o){var i=o.xAxisId,_=useChartWidth(),$=useChartHeight(),j=useXAxisOrThrow(i);return j==null?null:reactExports.createElement(CartesianAxis,_extends$2({},j,{className:clsx("recharts-".concat(j.axisType," ").concat(j.axisType),j.className),viewBox:{x:0,y:0,width:_,height:$},ticksGenerator:function(tt){return getTicksOfAxis(tt,!0)}}))}var XAxis=function(o){function i(){return _classCallCheck$3(this,i),_callSuper$2(this,i,arguments)}return _inherits$3(i,o),_createClass$3(i,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(o){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$3(o)}function _classCallCheck$2(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$3($.key),$)}}function _createClass$2(o,i,_){return i&&_defineProperties$2(o.prototype,i),_&&_defineProperties$2(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$1(o,i,_){return i=_getPrototypeOf$2(i),_possibleConstructorReturn$2(o,_isNativeReflectConstruct$5()?Reflect.construct(i,_||[],_getPrototypeOf$2(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$2(o,i){if(i&&(_typeof$3(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(o)}function _assertThisInitialized$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$5(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!o})()}function _getPrototypeOf$2(o){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$2(o)}function _inherits$2(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$1(o,i)}function _setPrototypeOf$1(o,i){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf$1(o,i)}function _defineProperty$3(o,i,_){return i=_toPropertyKey$3(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$3(o){var i=_toPrimitive$3(o,"string");return _typeof$3(i)=="symbol"?i:i+""}function _toPrimitive$3(o,i){if(_typeof$3(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$3($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends$1.apply(this,arguments)}var YAxisImpl=function o(i){var _=i.yAxisId,$=useChartWidth(),j=useChartHeight(),_e=useYAxisOrThrow(_);return _e==null?null:reactExports.createElement(CartesianAxis,_extends$1({},_e,{className:clsx("recharts-".concat(_e.axisType," ").concat(_e.axisType),_e.className),viewBox:{x:0,y:0,width:$,height:j},ticksGenerator:function(rt){return getTicksOfAxis(rt,!0)}}))},YAxis=function(o){function i(){return _classCallCheck$2(this,i),_callSuper$1(this,i,arguments)}return _inherits$2(i,o),_createClass$2(i,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(o){return _arrayWithoutHoles$1(o)||_iterableToArray$2(o)||_unsupportedIterableToArray$1(o)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$1(o,i)}}function _iterableToArray$2(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles$1(o){if(Array.isArray(o))return _arrayLikeToArray$1(o)}function _arrayLikeToArray$1(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}var detectReferenceElementsDomain=function o(i,_,$,j,_e){var tt=findAllByType(i,ReferenceLine),rt=findAllByType(i,ReferenceDot),nt=[].concat(_toConsumableArray$1(tt),_toConsumableArray$1(rt)),it=findAllByType(i,ReferenceArea),ot="".concat(j,"Id"),lt=j[0],ft=_;if(nt.length&&(ft=nt.reduce(function(Tt,Mt){if(Mt.props[ot]===$&&ifOverflowMatches(Mt.props,"extendDomain")&&isNumber(Mt.props[lt])){var pt=Mt.props[lt];return[Math.min(Tt[0],pt),Math.max(Tt[1],pt)]}return Tt},ft)),it.length){var _t="".concat(lt,"1"),At="".concat(lt,"2");ft=it.reduce(function(Tt,Mt){if(Mt.props[ot]===$&&ifOverflowMatches(Mt.props,"extendDomain")&&isNumber(Mt.props[_t])&&isNumber(Mt.props[At])){var pt=Mt.props[_t],Pt=Mt.props[At];return[Math.min(Tt[0],pt,Pt),Math.max(Tt[1],pt,Pt)]}return Tt},ft)}return _e&&_e.length&&(ft=_e.reduce(function(Tt,Mt){return isNumber(Mt)?[Math.min(Tt[0],Mt),Math.max(Tt[1],Mt)]:Tt},ft)),ft},eventemitter3={exports:{}};(function(o){var i=Object.prototype.hasOwnProperty,_="~";function $(){}Object.create&&($.prototype=Object.create(null),new $().__proto__||(_=!1));function j(nt,it,ot){this.fn=nt,this.context=it,this.once=ot||!1}function _e(nt,it,ot,lt,ft){if(typeof ot!="function")throw new TypeError("The listener must be a function");var _t=new j(ot,lt||nt,ft),At=_?_+it:it;return nt._events[At]?nt._events[At].fn?nt._events[At]=[nt._events[At],_t]:nt._events[At].push(_t):(nt._events[At]=_t,nt._eventsCount++),nt}function tt(nt,it){--nt._eventsCount===0?nt._events=new $:delete nt._events[it]}function rt(){this._events=new $,this._eventsCount=0}rt.prototype.eventNames=function(){var it=[],ot,lt;if(this._eventsCount===0)return it;for(lt in ot=this._events)i.call(ot,lt)&&it.push(_?lt.slice(1):lt);return Object.getOwnPropertySymbols?it.concat(Object.getOwnPropertySymbols(ot)):it},rt.prototype.listeners=function(it){var ot=_?_+it:it,lt=this._events[ot];if(!lt)return[];if(lt.fn)return[lt.fn];for(var ft=0,_t=lt.length,At=new Array(_t);ft<_t;ft++)At[ft]=lt[ft].fn;return At},rt.prototype.listenerCount=function(it){var ot=_?_+it:it,lt=this._events[ot];return lt?lt.fn?1:lt.length:0},rt.prototype.emit=function(it,ot,lt,ft,_t,At){var Tt=_?_+it:it;if(!this._events[Tt])return!1;var Mt=this._events[Tt],pt=arguments.length,Pt,$t;if(Mt.fn){switch(Mt.once&&this.removeListener(it,Mt.fn,void 0,!0),pt){case 1:return Mt.fn.call(Mt.context),!0;case 2:return Mt.fn.call(Mt.context,ot),!0;case 3:return Mt.fn.call(Mt.context,ot,lt),!0;case 4:return Mt.fn.call(Mt.context,ot,lt,ft),!0;case 5:return Mt.fn.call(Mt.context,ot,lt,ft,_t),!0;case 6:return Mt.fn.call(Mt.context,ot,lt,ft,_t,At),!0}for($t=1,Pt=new Array(pt-1);$t<pt;$t++)Pt[$t-1]=arguments[$t];Mt.fn.apply(Mt.context,Pt)}else{var Ot=Mt.length,It;for($t=0;$t<Ot;$t++)switch(Mt[$t].once&&this.removeListener(it,Mt[$t].fn,void 0,!0),pt){case 1:Mt[$t].fn.call(Mt[$t].context);break;case 2:Mt[$t].fn.call(Mt[$t].context,ot);break;case 3:Mt[$t].fn.call(Mt[$t].context,ot,lt);break;case 4:Mt[$t].fn.call(Mt[$t].context,ot,lt,ft);break;default:if(!Pt)for(It=1,Pt=new Array(pt-1);It<pt;It++)Pt[It-1]=arguments[It];Mt[$t].fn.apply(Mt[$t].context,Pt)}}return!0},rt.prototype.on=function(it,ot,lt){return _e(this,it,ot,lt,!1)},rt.prototype.once=function(it,ot,lt){return _e(this,it,ot,lt,!0)},rt.prototype.removeListener=function(it,ot,lt,ft){var _t=_?_+it:it;if(!this._events[_t])return this;if(!ot)return tt(this,_t),this;var At=this._events[_t];if(At.fn)At.fn===ot&&(!ft||At.once)&&(!lt||At.context===lt)&&tt(this,_t);else{for(var Tt=0,Mt=[],pt=At.length;Tt<pt;Tt++)(At[Tt].fn!==ot||ft&&!At[Tt].once||lt&&At[Tt].context!==lt)&&Mt.push(At[Tt]);Mt.length?this._events[_t]=Mt.length===1?Mt[0]:Mt:tt(this,_t)}return this},rt.prototype.removeAllListeners=function(it){var ot;return it?(ot=_?_+it:it,this._events[ot]&&tt(this,ot)):(this._events=new $,this._eventsCount=0),this},rt.prototype.off=rt.prototype.removeListener,rt.prototype.addListener=rt.prototype.on,rt.prefixed=_,rt.EventEmitter=rt,o.exports=rt})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter$1,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(o){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$2(o)}function _classCallCheck$1(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey$2($.key),$)}}function _createClass$1(o,i,_){return i&&_defineProperties$1(o.prototype,i),_&&_defineProperties$1(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _defineProperty$2(o,i,_){return i=_toPropertyKey$2(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$2(o){var i=_toPrimitive$2(o,"string");return _typeof$2(i)=="symbol"?i:i+""}function _toPrimitive$2(o,i){if(_typeof$2(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$2($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var AccessibilityManager=function(){function o(){_classCallCheck$1(this,o),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(o,[{key:"setDetails",value:function(_){var $,j=_.coordinateList,_e=j===void 0?null:j,tt=_.container,rt=tt===void 0?null:tt,nt=_.layout,it=nt===void 0?null:nt,ot=_.offset,lt=ot===void 0?null:ot,ft=_.mouseHandlerCallback,_t=ft===void 0?null:ft;this.coordinateList=($=_e??this.coordinateList)!==null&&$!==void 0?$:[],this.container=rt??this.container,this.layout=it??this.layout,this.offset=lt??this.offset,this.mouseHandlerCallback=_t??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(_){if(this.coordinateList.length!==0)switch(_.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(_){this.activeIndex=_}},{key:"spoofMouse",value:function(){var _,$;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var j=this.container.getBoundingClientRect(),_e=j.x,tt=j.y,rt=j.height,nt=this.coordinateList[this.activeIndex].coordinate,it=((_=window)===null||_===void 0?void 0:_.scrollX)||0,ot=(($=window)===null||$===void 0?void 0:$.scrollY)||0,lt=_e+nt+it,ft=tt+this.offset.top+rt/2+ot;this.mouseHandlerCallback({pageX:lt,pageY:ft})}}}])}();function isDomainSpecifiedByUser(o,i,_){if(_==="number"&&i===!0&&Array.isArray(o)){var $=o==null?void 0:o[0],j=o==null?void 0:o[1];if($&&j&&isNumber($)&&isNumber(j))return!0}return!1}function getCursorRectangle(o,i,_,$){var j=$/2;return{stroke:"none",fill:"#ccc",x:o==="horizontal"?i.x-j:_.left+.5,y:o==="horizontal"?_.top+.5:i.y-j,width:o==="horizontal"?$:_.width-1,height:o==="horizontal"?_.height-1:$}}function getRadialCursorPoints(o){var i=o.cx,_=o.cy,$=o.radius,j=o.startAngle,_e=o.endAngle,tt=polarToCartesian(i,_,$,j),rt=polarToCartesian(i,_,$,_e);return{points:[tt,rt],cx:i,cy:_,radius:$,startAngle:j,endAngle:_e}}function getCursorPoints(o,i,_){var $,j,_e,tt;if(o==="horizontal")$=i.x,_e=$,j=_.top,tt=_.top+_.height;else if(o==="vertical")j=i.y,tt=j,$=_.left,_e=_.left+_.width;else if(i.cx!=null&&i.cy!=null)if(o==="centric"){var rt=i.cx,nt=i.cy,it=i.innerRadius,ot=i.outerRadius,lt=i.angle,ft=polarToCartesian(rt,nt,it,lt),_t=polarToCartesian(rt,nt,ot,lt);$=ft.x,j=ft.y,_e=_t.x,tt=_t.y}else return getRadialCursorPoints(i);return[{x:$,y:j},{x:_e,y:tt}]}function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(o)}function ownKeys$8(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$8(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$8(Object(_),!0).forEach(function($){_defineProperty$1(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$8(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty$1(o,i,_){return i=_toPropertyKey$1(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey$1(o){var i=_toPrimitive$1(o,"string");return _typeof$1(i)=="symbol"?i:i+""}function _toPrimitive$1(o,i){if(_typeof$1(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof$1($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function Cursor(o){var i,_,$=o.element,j=o.tooltipEventType,_e=o.isActive,tt=o.activeCoordinate,rt=o.activePayload,nt=o.offset,it=o.activeTooltipIndex,ot=o.tooltipAxisBandSize,lt=o.layout,ft=o.chartName,_t=(i=$.props.cursor)!==null&&i!==void 0?i:(_=$.type.defaultProps)===null||_===void 0?void 0:_.cursor;if(!$||!_t||!_e||!tt||ft!=="ScatterChart"&&j!=="axis")return null;var At,Tt=Curve;if(ft==="ScatterChart")At=tt,Tt=Cross;else if(ft==="BarChart")At=getCursorRectangle(lt,tt,nt,ot),Tt=Rectangle;else if(lt==="radial"){var Mt=getRadialCursorPoints(tt),pt=Mt.cx,Pt=Mt.cy,$t=Mt.radius,Ot=Mt.startAngle,It=Mt.endAngle;At={cx:pt,cy:Pt,startAngle:Ot,endAngle:It,innerRadius:$t,outerRadius:$t},Tt=Sector}else At={points:getCursorPoints(lt,tt,nt)},Tt=Curve;var Dt=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({stroke:"#ccc",pointerEvents:"none"},nt),At),filterProps(_t,!1)),{},{payload:rt,payloadIndex:it,className:clsx("recharts-tooltip-cursor",_t.className)});return reactExports.isValidElement(_t)?reactExports.cloneElement(_t,Dt):reactExports.createElement(Tt,Dt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var _=arguments[i];for(var $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(o[$]=_[$])}return o},_extends.apply(this,arguments)}function _slicedToArray(o,i){return _arrayWithHoles(o)||_iterableToArrayLimit(o,i)||_unsupportedIterableToArray(o,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(o,i){var _=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(_!=null){var $,j,_e,tt,rt=[],nt=!0,it=!1;try{if(_e=(_=_.call(o)).next,i===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=($=_e.call(_)).done)&&(rt.push($.value),rt.length!==i);nt=!0);}catch(ot){it=!0,j=ot}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(it)throw j}}return rt}}function _arrayWithHoles(o){if(Array.isArray(o))return o}function _objectWithoutProperties(o,i){if(o==null)return{};var _=_objectWithoutPropertiesLoose(o,i),$,j;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(o);for(j=0;j<_e.length;j++)$=_e[j],!(i.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(o,$)&&(_[$]=o[$])}return _}function _objectWithoutPropertiesLoose(o,i){if(o==null)return{};var _={};for(var $ in o)if(Object.prototype.hasOwnProperty.call(o,$)){if(i.indexOf($)>=0)continue;_[$]=o[$]}return _}function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,i){for(var _=0;_<i.length;_++){var $=i[_];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(o,_toPropertyKey($.key),$)}}function _createClass(o,i,_){return i&&_defineProperties(o.prototype,i),_&&_defineProperties(o,_),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper(o,i,_){return i=_getPrototypeOf$1(i),_possibleConstructorReturn$1(o,_isNativeReflectConstruct$4()?Reflect.construct(i,_||[],_getPrototypeOf$1(o).constructor):i.apply(o,_))}function _possibleConstructorReturn$1(o,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct$4(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!o})()}function _getPrototypeOf$1(o){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$1(o)}function _inherits$1(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf(o,i)}function _setPrototypeOf(o,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},_setPrototypeOf(o,i)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray$1(o)||_unsupportedIterableToArray(o)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray(o,i);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray(o,i)}}function _iterableToArray$1(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}function _arrayLikeToArray(o,i){(i==null||i>o.length)&&(i=o.length);for(var _=0,$=new Array(i);_<i;_++)$[_]=o[_];return $}function ownKeys$7(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$7(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$7(Object(_),!0).forEach(function($){_defineProperty(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$7(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _defineProperty(o,i,_){return i=_toPropertyKey(i),i in o?Object.defineProperty(o,i,{value:_,enumerable:!0,configurable:!0,writable:!0}):o[i]=_,o}function _toPropertyKey(o){var i=_toPrimitive(o,"string");return _typeof(i)=="symbol"?i:i+""}function _toPrimitive(o,i){if(_typeof(o)!="object"||!o)return o;var _=o[Symbol.toPrimitive];if(_!==void 0){var $=_.call(o,i||"default");if(_typeof($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(o){return o}var calculateTooltipPos=function o(i,_){return _==="horizontal"?i.x:_==="vertical"?i.y:_==="centric"?i.angle:i.radius},getActiveCoordinate=function o(i,_,$,j){var _e=_.find(function(ot){return ot&&ot.index===$});if(_e){if(i==="horizontal")return{x:_e.coordinate,y:j.y};if(i==="vertical")return{x:j.x,y:_e.coordinate};if(i==="centric"){var tt=_e.coordinate,rt=j.radius;return _objectSpread$7(_objectSpread$7(_objectSpread$7({},j),polarToCartesian(j.cx,j.cy,rt,tt)),{},{angle:tt,radius:rt})}var nt=_e.coordinate,it=j.angle;return _objectSpread$7(_objectSpread$7(_objectSpread$7({},j),polarToCartesian(j.cx,j.cy,nt,it)),{},{angle:it,radius:nt})}return originCoordinate},getDisplayedData=function o(i,_){var $=_.graphicalItems,j=_.dataStartIndex,_e=_.dataEndIndex,tt=($??[]).reduce(function(rt,nt){var it=nt.props.data;return it&&it.length?[].concat(_toConsumableArray(rt),_toConsumableArray(it)):rt},[]);return tt.length>0?tt:i&&i.length&&isNumber(j)&&isNumber(_e)?i.slice(j,_e+1):[]};function getDefaultDomainByAxisType(o){return o==="number"?[0,"auto"]:void 0}var getTooltipContent=function o(i,_,$,j){var _e=i.graphicalItems,tt=i.tooltipAxis,rt=getDisplayedData(_,i);return $<0||!_e||!_e.length||$>=rt.length?null:_e.reduce(function(nt,it){var ot,lt=(ot=it.props.data)!==null&&ot!==void 0?ot:_;lt&&i.dataStartIndex+i.dataEndIndex!==0&&i.dataEndIndex-i.dataStartIndex>=$&&(lt=lt.slice(i.dataStartIndex,i.dataEndIndex+1));var ft;if(tt.dataKey&&!tt.allowDuplicatedCategory){var _t=lt===void 0?rt:lt;ft=findEntryInArray(_t,tt.dataKey,j)}else ft=lt&&lt[$]||rt[$];return ft?[].concat(_toConsumableArray(nt),[getTooltipItem(it,ft)]):nt},[])},getTooltipData=function o(i,_,$,j){var _e=j||{x:i.chartX,y:i.chartY},tt=calculateTooltipPos(_e,$),rt=i.orderedTooltipTicks,nt=i.tooltipAxis,it=i.tooltipTicks,ot=calculateActiveTickIndex(tt,rt,it,nt);if(ot>=0&&it){var lt=it[ot]&&it[ot].value,ft=getTooltipContent(i,_,ot,lt),_t=getActiveCoordinate($,rt,ot,_e);return{activeTooltipIndex:ot,activeLabel:lt,activePayload:ft,activeCoordinate:_t}}return null},getAxisMapByAxes=function o(i,_){var $=_.axes,j=_.graphicalItems,_e=_.axisType,tt=_.axisIdKey,rt=_.stackGroups,nt=_.dataStartIndex,it=_.dataEndIndex,ot=i.layout,lt=i.children,ft=i.stackOffset,_t=isCategoricalAxis(ot,_e);return $.reduce(function(At,Tt){var Mt,pt=Tt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},Tt.type.defaultProps),Tt.props):Tt.props,Pt=pt.type,$t=pt.dataKey,Ot=pt.allowDataOverflow,It=pt.allowDuplicatedCategory,Dt=pt.scale,Lt=pt.ticks,Bt=pt.includeHidden,jt=pt[tt];if(At[jt])return At;var Ut=getDisplayedData(i.data,{graphicalItems:j.filter(function(nr){var cr,vr=tt in nr.props?nr.props[tt]:(cr=nr.type.defaultProps)===null||cr===void 0?void 0:cr[tt];return vr===jt}),dataStartIndex:nt,dataEndIndex:it}),Gt=Ut.length,qt,Jt,er;isDomainSpecifiedByUser(pt.domain,Ot,Pt)&&(qt=parseSpecifiedDomain(pt.domain,null,Ot),_t&&(Pt==="number"||Dt!=="auto")&&(er=getDomainOfDataByKey(Ut,$t,"category")));var Kt=getDefaultDomainByAxisType(Pt);if(!qt||qt.length===0){var zt,Ht=(zt=pt.domain)!==null&&zt!==void 0?zt:Kt;if($t){if(qt=getDomainOfDataByKey(Ut,$t,Pt),Pt==="category"&&_t){var Ft=hasDuplicate(qt);It&&Ft?(Jt=qt,qt=range$1(0,Gt)):It||(qt=parseDomainOfCategoryAxis(Ht,qt,Tt).reduce(function(nr,cr){return nr.indexOf(cr)>=0?nr:[].concat(_toConsumableArray(nr),[cr])},[]))}else if(Pt==="category")It?qt=qt.filter(function(nr){return nr!==""&&!isNil$1(nr)}):qt=parseDomainOfCategoryAxis(Ht,qt,Tt).reduce(function(nr,cr){return nr.indexOf(cr)>=0||cr===""||isNil$1(cr)?nr:[].concat(_toConsumableArray(nr),[cr])},[]);else if(Pt==="number"){var Vt=parseErrorBarsOfAxis(Ut,j.filter(function(nr){var cr,vr,Tr=tt in nr.props?nr.props[tt]:(cr=nr.type.defaultProps)===null||cr===void 0?void 0:cr[tt],ar="hide"in nr.props?nr.props.hide:(vr=nr.type.defaultProps)===null||vr===void 0?void 0:vr.hide;return Tr===jt&&(Bt||!ar)}),$t,_e,ot);Vt&&(qt=Vt)}_t&&(Pt==="number"||Dt!=="auto")&&(er=getDomainOfDataByKey(Ut,$t,"category"))}else _t?qt=range$1(0,Gt):rt&&rt[jt]&&rt[jt].hasStack&&Pt==="number"?qt=ft==="expand"?[0,1]:getDomainOfStackGroups(rt[jt].stackGroups,nt,it):qt=getDomainOfItemsWithSameAxis(Ut,j.filter(function(nr){var cr=tt in nr.props?nr.props[tt]:nr.type.defaultProps[tt],vr="hide"in nr.props?nr.props.hide:nr.type.defaultProps.hide;return cr===jt&&(Bt||!vr)}),Pt,ot,!0);if(Pt==="number")qt=detectReferenceElementsDomain(lt,qt,jt,_e,Lt),Ht&&(qt=parseSpecifiedDomain(Ht,qt,Ot));else if(Pt==="category"&&Ht){var Yt=Ht,Zt=qt.every(function(nr){return Yt.indexOf(nr)>=0});Zt&&(qt=Yt)}}return _objectSpread$7(_objectSpread$7({},At),{},_defineProperty({},jt,_objectSpread$7(_objectSpread$7({},pt),{},{axisType:_e,domain:qt,categoricalDomain:er,duplicateDomain:Jt,originalDomain:(Mt=pt.domain)!==null&&Mt!==void 0?Mt:Kt,isCategorical:_t,layout:ot})))},{})},getAxisMapByItems=function o(i,_){var $=_.graphicalItems,j=_.Axis,_e=_.axisType,tt=_.axisIdKey,rt=_.stackGroups,nt=_.dataStartIndex,it=_.dataEndIndex,ot=i.layout,lt=i.children,ft=getDisplayedData(i.data,{graphicalItems:$,dataStartIndex:nt,dataEndIndex:it}),_t=ft.length,At=isCategoricalAxis(ot,_e),Tt=-1;return $.reduce(function(Mt,pt){var Pt=pt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},pt.type.defaultProps),pt.props):pt.props,$t=Pt[tt],Ot=getDefaultDomainByAxisType("number");if(!Mt[$t]){Tt++;var It;return At?It=range$1(0,_t):rt&&rt[$t]&&rt[$t].hasStack?(It=getDomainOfStackGroups(rt[$t].stackGroups,nt,it),It=detectReferenceElementsDomain(lt,It,$t,_e)):(It=parseSpecifiedDomain(Ot,getDomainOfItemsWithSameAxis(ft,$.filter(function(Dt){var Lt,Bt,jt=tt in Dt.props?Dt.props[tt]:(Lt=Dt.type.defaultProps)===null||Lt===void 0?void 0:Lt[tt],Ut="hide"in Dt.props?Dt.props.hide:(Bt=Dt.type.defaultProps)===null||Bt===void 0?void 0:Bt.hide;return jt===$t&&!Ut}),"number",ot),j.defaultProps.allowDataOverflow),It=detectReferenceElementsDomain(lt,It,$t,_e)),_objectSpread$7(_objectSpread$7({},Mt),{},_defineProperty({},$t,_objectSpread$7(_objectSpread$7({axisType:_e},j.defaultProps),{},{hide:!0,orientation:get$3(ORIENT_MAP,"".concat(_e,".").concat(Tt%2),null),domain:It,originalDomain:Ot,isCategorical:At,layout:ot})))}return Mt},{})},getAxisMap=function o(i,_){var $=_.axisType,j=$===void 0?"xAxis":$,_e=_.AxisComp,tt=_.graphicalItems,rt=_.stackGroups,nt=_.dataStartIndex,it=_.dataEndIndex,ot=i.children,lt="".concat(j,"Id"),ft=findAllByType(ot,_e),_t={};return ft&&ft.length?_t=getAxisMapByAxes(i,{axes:ft,graphicalItems:tt,axisType:j,axisIdKey:lt,stackGroups:rt,dataStartIndex:nt,dataEndIndex:it}):tt&&tt.length&&(_t=getAxisMapByItems(i,{Axis:_e,graphicalItems:tt,axisType:j,axisIdKey:lt,stackGroups:rt,dataStartIndex:nt,dataEndIndex:it})),_t},tooltipTicksGenerator=function o(i){var _=getAnyElementOfObject(i),$=getTicksOfAxis(_,!1,!0);return{tooltipTicks:$,orderedTooltipTicks:sortBy$1($,function(j){return j.coordinate}),tooltipAxis:_,tooltipAxisBandSize:getBandSizeOfAxis(_,$)}},createDefaultState=function o(i){var _=i.children,$=i.defaultShowTooltip,j=findChildByType(_,Brush),_e=0,tt=0;return i.data&&i.data.length!==0&&(tt=i.data.length-1),j&&j.props&&(j.props.startIndex>=0&&(_e=j.props.startIndex),j.props.endIndex>=0&&(tt=j.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:_e,dataEndIndex:tt,activeTooltipIndex:-1,isTooltipActive:!!$}},hasGraphicalBarItem=function o(i){return!i||!i.length?!1:i.some(function(_){var $=getDisplayName(_&&_.type);return $&&$.indexOf("Bar")>=0})},getAxisNameByLayout=function o(i){return i==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:i==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:i==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function o(i,_){var $=i.props,j=i.graphicalItems,_e=i.xAxisMap,tt=_e===void 0?{}:_e,rt=i.yAxisMap,nt=rt===void 0?{}:rt,it=$.width,ot=$.height,lt=$.children,ft=$.margin||{},_t=findChildByType(lt,Brush),At=findChildByType(lt,Legend),Tt=Object.keys(nt).reduce(function(It,Dt){var Lt=nt[Dt],Bt=Lt.orientation;return!Lt.mirror&&!Lt.hide?_objectSpread$7(_objectSpread$7({},It),{},_defineProperty({},Bt,It[Bt]+Lt.width)):It},{left:ft.left||0,right:ft.right||0}),Mt=Object.keys(tt).reduce(function(It,Dt){var Lt=tt[Dt],Bt=Lt.orientation;return!Lt.mirror&&!Lt.hide?_objectSpread$7(_objectSpread$7({},It),{},_defineProperty({},Bt,get$3(It,"".concat(Bt))+Lt.height)):It},{top:ft.top||0,bottom:ft.bottom||0}),pt=_objectSpread$7(_objectSpread$7({},Mt),Tt),Pt=pt.bottom;_t&&(pt.bottom+=_t.props.height||Brush.defaultProps.height),At&&_&&(pt=appendOffsetOfLegend(pt,j,$,_));var $t=it-pt.left-pt.right,Ot=ot-pt.top-pt.bottom;return _objectSpread$7(_objectSpread$7({brushBottom:Pt},pt),{},{width:Math.max($t,0),height:Math.max(Ot,0)})},getCartesianAxisSize=function o(i,_){if(_==="xAxis")return i[_].width;if(_==="yAxis")return i[_].height},generateCategoricalChart=function o(i){var _=i.chartName,$=i.GraphicalChild,j=i.defaultTooltipEventType,_e=j===void 0?"axis":j,tt=i.validateTooltipEventTypes,rt=tt===void 0?["axis"]:tt,nt=i.axisComponents,it=i.legendContent,ot=i.formatAxisMap,lt=i.defaultProps,ft=function(pt,Pt){var $t=Pt.graphicalItems,Ot=Pt.stackGroups,It=Pt.offset,Dt=Pt.updateId,Lt=Pt.dataStartIndex,Bt=Pt.dataEndIndex,jt=pt.barSize,Ut=pt.layout,Gt=pt.barGap,qt=pt.barCategoryGap,Jt=pt.maxBarSize,er=getAxisNameByLayout(Ut),Kt=er.numericAxisName,zt=er.cateAxisName,Ht=hasGraphicalBarItem($t),Ft=[];return $t.forEach(function(Vt,Yt){var Zt=getDisplayedData(pt.data,{graphicalItems:[Vt],dataStartIndex:Lt,dataEndIndex:Bt}),nr=Vt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},Vt.type.defaultProps),Vt.props):Vt.props,cr=nr.dataKey,vr=nr.maxBarSize,Tr=nr["".concat(Kt,"Id")],ar=nr["".concat(zt,"Id")],ur={},Sr=nt.reduce(function(Nr,Gr){var rr=Pt["".concat(Gr.axisType,"Map")],Xt=nr["".concat(Gr.axisType,"Id")];rr&&rr[Xt]||Gr.axisType==="zAxis"||invariant(!1);var lr=rr[Xt];return _objectSpread$7(_objectSpread$7({},Nr),{},_defineProperty(_defineProperty({},Gr.axisType,lr),"".concat(Gr.axisType,"Ticks"),getTicksOfAxis(lr)))},ur),gr=Sr[zt],xr=Sr["".concat(zt,"Ticks")],Er=Ot&&Ot[Tr]&&Ot[Tr].hasStack&&getStackedDataOfItem(Vt,Ot[Tr].stackGroups),dr=getDisplayName(Vt.type).indexOf("Bar")>=0,Ar=getBandSizeOfAxis(gr,xr),mr=[],tr=Ht&&getBarSizeList({barSize:jt,stackGroups:Ot,totalSize:getCartesianAxisSize(Sr,zt)});if(dr){var Mr,Lr,Wr=isNil$1(vr)?Jt:vr,Cr=(Mr=(Lr=getBandSizeOfAxis(gr,xr,!0))!==null&&Lr!==void 0?Lr:Wr)!==null&&Mr!==void 0?Mr:0;mr=getBarPosition({barGap:Gt,barCategoryGap:qt,bandSize:Cr!==Ar?Cr:Ar,sizeList:tr[ar],maxBarSize:Wr}),Cr!==Ar&&(mr=mr.map(function(Nr){return _objectSpread$7(_objectSpread$7({},Nr),{},{position:_objectSpread$7(_objectSpread$7({},Nr.position),{},{offset:Nr.position.offset-Cr/2})})}))}var an=Vt&&Vt.type&&Vt.type.getComposedData;an&&Ft.push({props:_objectSpread$7(_objectSpread$7({},an(_objectSpread$7(_objectSpread$7({},Sr),{},{displayedData:Zt,props:pt,dataKey:cr,item:Vt,bandSize:Ar,barPosition:mr,offset:It,stackedData:Er,layout:Ut,dataStartIndex:Lt,dataEndIndex:Bt}))),{},_defineProperty(_defineProperty(_defineProperty({key:Vt.key||"item-".concat(Yt)},Kt,Sr[Kt]),zt,Sr[zt]),"animationId",Dt)),childIndex:parseChildIndex(Vt,pt.children),item:Vt})}),Ft},_t=function(pt,Pt){var $t=pt.props,Ot=pt.dataStartIndex,It=pt.dataEndIndex,Dt=pt.updateId;if(!validateWidthHeight({props:$t}))return null;var Lt=$t.children,Bt=$t.layout,jt=$t.stackOffset,Ut=$t.data,Gt=$t.reverseStackOrder,qt=getAxisNameByLayout(Bt),Jt=qt.numericAxisName,er=qt.cateAxisName,Kt=findAllByType(Lt,$),zt=getStackGroupsByAxisId(Ut,Kt,"".concat(Jt,"Id"),"".concat(er,"Id"),jt,Gt),Ht=nt.reduce(function(nr,cr){var vr="".concat(cr.axisType,"Map");return _objectSpread$7(_objectSpread$7({},nr),{},_defineProperty({},vr,getAxisMap($t,_objectSpread$7(_objectSpread$7({},cr),{},{graphicalItems:Kt,stackGroups:cr.axisType===Jt&&zt,dataStartIndex:Ot,dataEndIndex:It}))))},{}),Ft=calculateOffset(_objectSpread$7(_objectSpread$7({},Ht),{},{props:$t,graphicalItems:Kt}),Pt==null?void 0:Pt.legendBBox);Object.keys(Ht).forEach(function(nr){Ht[nr]=ot($t,Ht[nr],Ft,nr.replace("Map",""),_)});var Vt=Ht["".concat(er,"Map")],Yt=tooltipTicksGenerator(Vt),Zt=ft($t,_objectSpread$7(_objectSpread$7({},Ht),{},{dataStartIndex:Ot,dataEndIndex:It,updateId:Dt,graphicalItems:Kt,stackGroups:zt,offset:Ft}));return _objectSpread$7(_objectSpread$7({formattedGraphicalItems:Zt,graphicalItems:Kt,offset:Ft,stackGroups:zt},Yt),Ht)},At=function(Mt){function pt(Pt){var $t,Ot,It;return _classCallCheck(this,pt),It=_callSuper(this,pt,[Pt]),_defineProperty(It,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(It,"accessibilityManager",new AccessibilityManager),_defineProperty(It,"handleLegendBBoxUpdate",function(Dt){if(Dt){var Lt=It.state,Bt=Lt.dataStartIndex,jt=Lt.dataEndIndex,Ut=Lt.updateId;It.setState(_objectSpread$7({legendBBox:Dt},_t({props:It.props,dataStartIndex:Bt,dataEndIndex:jt,updateId:Ut},_objectSpread$7(_objectSpread$7({},It.state),{},{legendBBox:Dt}))))}}),_defineProperty(It,"handleReceiveSyncEvent",function(Dt,Lt,Bt){if(It.props.syncId===Dt){if(Bt===It.eventEmitterSymbol&&typeof It.props.syncMethod!="function")return;It.applySyncEvent(Lt)}}),_defineProperty(It,"handleBrushChange",function(Dt){var Lt=Dt.startIndex,Bt=Dt.endIndex;if(Lt!==It.state.dataStartIndex||Bt!==It.state.dataEndIndex){var jt=It.state.updateId;It.setState(function(){return _objectSpread$7({dataStartIndex:Lt,dataEndIndex:Bt},_t({props:It.props,dataStartIndex:Lt,dataEndIndex:Bt,updateId:jt},It.state))}),It.triggerSyncEvent({dataStartIndex:Lt,dataEndIndex:Bt})}}),_defineProperty(It,"handleMouseEnter",function(Dt){var Lt=It.getMouseInfo(Dt);if(Lt){var Bt=_objectSpread$7(_objectSpread$7({},Lt),{},{isTooltipActive:!0});It.setState(Bt),It.triggerSyncEvent(Bt);var jt=It.props.onMouseEnter;isFunction$3(jt)&&jt(Bt,Dt)}}),_defineProperty(It,"triggeredAfterMouseMove",function(Dt){var Lt=It.getMouseInfo(Dt),Bt=Lt?_objectSpread$7(_objectSpread$7({},Lt),{},{isTooltipActive:!0}):{isTooltipActive:!1};It.setState(Bt),It.triggerSyncEvent(Bt);var jt=It.props.onMouseMove;isFunction$3(jt)&&jt(Bt,Dt)}),_defineProperty(It,"handleItemMouseEnter",function(Dt){It.setState(function(){return{isTooltipActive:!0,activeItem:Dt,activePayload:Dt.tooltipPayload,activeCoordinate:Dt.tooltipPosition||{x:Dt.cx,y:Dt.cy}}})}),_defineProperty(It,"handleItemMouseLeave",function(){It.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(It,"handleMouseMove",function(Dt){Dt.persist(),It.throttleTriggeredAfterMouseMove(Dt)}),_defineProperty(It,"handleMouseLeave",function(Dt){It.throttleTriggeredAfterMouseMove.cancel();var Lt={isTooltipActive:!1};It.setState(Lt),It.triggerSyncEvent(Lt);var Bt=It.props.onMouseLeave;isFunction$3(Bt)&&Bt(Lt,Dt)}),_defineProperty(It,"handleOuterEvent",function(Dt){var Lt=getReactEventByType(Dt),Bt=get$3(It.props,"".concat(Lt));if(Lt&&isFunction$3(Bt)){var jt,Ut;/.*touch.*/i.test(Lt)?Ut=It.getMouseInfo(Dt.changedTouches[0]):Ut=It.getMouseInfo(Dt),Bt((jt=Ut)!==null&&jt!==void 0?jt:{},Dt)}}),_defineProperty(It,"handleClick",function(Dt){var Lt=It.getMouseInfo(Dt);if(Lt){var Bt=_objectSpread$7(_objectSpread$7({},Lt),{},{isTooltipActive:!0});It.setState(Bt),It.triggerSyncEvent(Bt);var jt=It.props.onClick;isFunction$3(jt)&&jt(Bt,Dt)}}),_defineProperty(It,"handleMouseDown",function(Dt){var Lt=It.props.onMouseDown;if(isFunction$3(Lt)){var Bt=It.getMouseInfo(Dt);Lt(Bt,Dt)}}),_defineProperty(It,"handleMouseUp",function(Dt){var Lt=It.props.onMouseUp;if(isFunction$3(Lt)){var Bt=It.getMouseInfo(Dt);Lt(Bt,Dt)}}),_defineProperty(It,"handleTouchMove",function(Dt){Dt.changedTouches!=null&&Dt.changedTouches.length>0&&It.throttleTriggeredAfterMouseMove(Dt.changedTouches[0])}),_defineProperty(It,"handleTouchStart",function(Dt){Dt.changedTouches!=null&&Dt.changedTouches.length>0&&It.handleMouseDown(Dt.changedTouches[0])}),_defineProperty(It,"handleTouchEnd",function(Dt){Dt.changedTouches!=null&&Dt.changedTouches.length>0&&It.handleMouseUp(Dt.changedTouches[0])}),_defineProperty(It,"handleDoubleClick",function(Dt){var Lt=It.props.onDoubleClick;if(isFunction$3(Lt)){var Bt=It.getMouseInfo(Dt);Lt(Bt,Dt)}}),_defineProperty(It,"handleContextMenu",function(Dt){var Lt=It.props.onContextMenu;if(isFunction$3(Lt)){var Bt=It.getMouseInfo(Dt);Lt(Bt,Dt)}}),_defineProperty(It,"triggerSyncEvent",function(Dt){It.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,It.props.syncId,Dt,It.eventEmitterSymbol)}),_defineProperty(It,"applySyncEvent",function(Dt){var Lt=It.props,Bt=Lt.layout,jt=Lt.syncMethod,Ut=It.state.updateId,Gt=Dt.dataStartIndex,qt=Dt.dataEndIndex;if(Dt.dataStartIndex!==void 0||Dt.dataEndIndex!==void 0)It.setState(_objectSpread$7({dataStartIndex:Gt,dataEndIndex:qt},_t({props:It.props,dataStartIndex:Gt,dataEndIndex:qt,updateId:Ut},It.state)));else if(Dt.activeTooltipIndex!==void 0){var Jt=Dt.chartX,er=Dt.chartY,Kt=Dt.activeTooltipIndex,zt=It.state,Ht=zt.offset,Ft=zt.tooltipTicks;if(!Ht)return;if(typeof jt=="function")Kt=jt(Ft,Dt);else if(jt==="value"){Kt=-1;for(var Vt=0;Vt<Ft.length;Vt++)if(Ft[Vt].value===Dt.activeLabel){Kt=Vt;break}}var Yt=_objectSpread$7(_objectSpread$7({},Ht),{},{x:Ht.left,y:Ht.top}),Zt=Math.min(Jt,Yt.x+Yt.width),nr=Math.min(er,Yt.y+Yt.height),cr=Ft[Kt]&&Ft[Kt].value,vr=getTooltipContent(It.state,It.props.data,Kt),Tr=Ft[Kt]?{x:Bt==="horizontal"?Ft[Kt].coordinate:Zt,y:Bt==="horizontal"?nr:Ft[Kt].coordinate}:originCoordinate;It.setState(_objectSpread$7(_objectSpread$7({},Dt),{},{activeLabel:cr,activeCoordinate:Tr,activePayload:vr,activeTooltipIndex:Kt}))}else It.setState(Dt)}),_defineProperty(It,"renderCursor",function(Dt){var Lt,Bt=It.state,jt=Bt.isTooltipActive,Ut=Bt.activeCoordinate,Gt=Bt.activePayload,qt=Bt.offset,Jt=Bt.activeTooltipIndex,er=Bt.tooltipAxisBandSize,Kt=It.getTooltipEventType(),zt=(Lt=Dt.props.active)!==null&&Lt!==void 0?Lt:jt,Ht=It.props.layout,Ft=Dt.key||"_recharts-cursor";return React$2.createElement(Cursor,{key:Ft,activeCoordinate:Ut,activePayload:Gt,activeTooltipIndex:Jt,chartName:_,element:Dt,isActive:zt,layout:Ht,offset:qt,tooltipAxisBandSize:er,tooltipEventType:Kt})}),_defineProperty(It,"renderPolarAxis",function(Dt,Lt,Bt){var jt=get$3(Dt,"type.axisType"),Ut=get$3(It.state,"".concat(jt,"Map")),Gt=Dt.type.defaultProps,qt=Gt!==void 0?_objectSpread$7(_objectSpread$7({},Gt),Dt.props):Dt.props,Jt=Ut&&Ut[qt["".concat(jt,"Id")]];return reactExports.cloneElement(Dt,_objectSpread$7(_objectSpread$7({},Jt),{},{className:clsx(jt,Jt.className),key:Dt.key||"".concat(Lt,"-").concat(Bt),ticks:getTicksOfAxis(Jt,!0)}))}),_defineProperty(It,"renderPolarGrid",function(Dt){var Lt=Dt.props,Bt=Lt.radialLines,jt=Lt.polarAngles,Ut=Lt.polarRadius,Gt=It.state,qt=Gt.radiusAxisMap,Jt=Gt.angleAxisMap,er=getAnyElementOfObject(qt),Kt=getAnyElementOfObject(Jt),zt=Kt.cx,Ht=Kt.cy,Ft=Kt.innerRadius,Vt=Kt.outerRadius;return reactExports.cloneElement(Dt,{polarAngles:Array.isArray(jt)?jt:getTicksOfAxis(Kt,!0).map(function(Yt){return Yt.coordinate}),polarRadius:Array.isArray(Ut)?Ut:getTicksOfAxis(er,!0).map(function(Yt){return Yt.coordinate}),cx:zt,cy:Ht,innerRadius:Ft,outerRadius:Vt,key:Dt.key||"polar-grid",radialLines:Bt})}),_defineProperty(It,"renderLegend",function(){var Dt=It.state.formattedGraphicalItems,Lt=It.props,Bt=Lt.children,jt=Lt.width,Ut=Lt.height,Gt=It.props.margin||{},qt=jt-(Gt.left||0)-(Gt.right||0),Jt=getLegendProps({children:Bt,formattedGraphicalItems:Dt,legendWidth:qt,legendContent:it});if(!Jt)return null;var er=Jt.item,Kt=_objectWithoutProperties(Jt,_excluded);return reactExports.cloneElement(er,_objectSpread$7(_objectSpread$7({},Kt),{},{chartWidth:jt,chartHeight:Ut,margin:Gt,onBBoxUpdate:It.handleLegendBBoxUpdate}))}),_defineProperty(It,"renderTooltip",function(){var Dt,Lt=It.props,Bt=Lt.children,jt=Lt.accessibilityLayer,Ut=findChildByType(Bt,Tooltip);if(!Ut)return null;var Gt=It.state,qt=Gt.isTooltipActive,Jt=Gt.activeCoordinate,er=Gt.activePayload,Kt=Gt.activeLabel,zt=Gt.offset,Ht=(Dt=Ut.props.active)!==null&&Dt!==void 0?Dt:qt;return reactExports.cloneElement(Ut,{viewBox:_objectSpread$7(_objectSpread$7({},zt),{},{x:zt.left,y:zt.top}),active:Ht,label:Kt,payload:Ht?er:[],coordinate:Jt,accessibilityLayer:jt})}),_defineProperty(It,"renderBrush",function(Dt){var Lt=It.props,Bt=Lt.margin,jt=Lt.data,Ut=It.state,Gt=Ut.offset,qt=Ut.dataStartIndex,Jt=Ut.dataEndIndex,er=Ut.updateId;return reactExports.cloneElement(Dt,{key:Dt.key||"_recharts-brush",onChange:combineEventHandlers(It.handleBrushChange,Dt.props.onChange),data:jt,x:isNumber(Dt.props.x)?Dt.props.x:Gt.left,y:isNumber(Dt.props.y)?Dt.props.y:Gt.top+Gt.height+Gt.brushBottom-(Bt.bottom||0),width:isNumber(Dt.props.width)?Dt.props.width:Gt.width,startIndex:qt,endIndex:Jt,updateId:"brush-".concat(er)})}),_defineProperty(It,"renderReferenceElement",function(Dt,Lt,Bt){if(!Dt)return null;var jt=It,Ut=jt.clipPathId,Gt=It.state,qt=Gt.xAxisMap,Jt=Gt.yAxisMap,er=Gt.offset,Kt=Dt.type.defaultProps||{},zt=Dt.props,Ht=zt.xAxisId,Ft=Ht===void 0?Kt.xAxisId:Ht,Vt=zt.yAxisId,Yt=Vt===void 0?Kt.yAxisId:Vt;return reactExports.cloneElement(Dt,{key:Dt.key||"".concat(Lt,"-").concat(Bt),xAxis:qt[Ft],yAxis:Jt[Yt],viewBox:{x:er.left,y:er.top,width:er.width,height:er.height},clipPathId:Ut})}),_defineProperty(It,"renderActivePoints",function(Dt){var Lt=Dt.item,Bt=Dt.activePoint,jt=Dt.basePoint,Ut=Dt.childIndex,Gt=Dt.isRange,qt=[],Jt=Lt.props.key,er=Lt.item.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},Lt.item.type.defaultProps),Lt.item.props):Lt.item.props,Kt=er.activeDot,zt=er.dataKey,Ht=_objectSpread$7(_objectSpread$7({index:Ut,dataKey:zt,cx:Bt.x,cy:Bt.y,r:4,fill:getMainColorOfGraphicItem(Lt.item),strokeWidth:2,stroke:"#fff",payload:Bt.payload,value:Bt.value},filterProps(Kt,!1)),adaptEventHandlers(Kt));return qt.push(pt.renderActiveDot(Kt,Ht,"".concat(Jt,"-activePoint-").concat(Ut))),jt?qt.push(pt.renderActiveDot(Kt,_objectSpread$7(_objectSpread$7({},Ht),{},{cx:jt.x,cy:jt.y}),"".concat(Jt,"-basePoint-").concat(Ut))):Gt&&qt.push(null),qt}),_defineProperty(It,"renderGraphicChild",function(Dt,Lt,Bt){var jt=It.filterFormatItem(Dt,Lt,Bt);if(!jt)return null;var Ut=It.getTooltipEventType(),Gt=It.state,qt=Gt.isTooltipActive,Jt=Gt.tooltipAxis,er=Gt.activeTooltipIndex,Kt=Gt.activeLabel,zt=It.props.children,Ht=findChildByType(zt,Tooltip),Ft=jt.props,Vt=Ft.points,Yt=Ft.isRange,Zt=Ft.baseLine,nr=jt.item.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},jt.item.type.defaultProps),jt.item.props):jt.item.props,cr=nr.activeDot,vr=nr.hide,Tr=nr.activeBar,ar=nr.activeShape,ur=!!(!vr&&qt&&Ht&&(cr||Tr||ar)),Sr={};Ut!=="axis"&&Ht&&Ht.props.trigger==="click"?Sr={onClick:combineEventHandlers(It.handleItemMouseEnter,Dt.props.onClick)}:Ut!=="axis"&&(Sr={onMouseLeave:combineEventHandlers(It.handleItemMouseLeave,Dt.props.onMouseLeave),onMouseEnter:combineEventHandlers(It.handleItemMouseEnter,Dt.props.onMouseEnter)});var gr=reactExports.cloneElement(Dt,_objectSpread$7(_objectSpread$7({},jt.props),Sr));function xr(Gr){return typeof Jt.dataKey=="function"?Jt.dataKey(Gr.payload):null}if(ur)if(er>=0){var Er,dr;if(Jt.dataKey&&!Jt.allowDuplicatedCategory){var Ar=typeof Jt.dataKey=="function"?xr:"payload.".concat(Jt.dataKey.toString());Er=findEntryInArray(Vt,Ar,Kt),dr=Yt&&Zt&&findEntryInArray(Zt,Ar,Kt)}else Er=Vt==null?void 0:Vt[er],dr=Yt&&Zt&&Zt[er];if(ar||Tr){var mr=Dt.props.activeIndex!==void 0?Dt.props.activeIndex:er;return[reactExports.cloneElement(Dt,_objectSpread$7(_objectSpread$7(_objectSpread$7({},jt.props),Sr),{},{activeIndex:mr})),null,null]}if(!isNil$1(Er))return[gr].concat(_toConsumableArray(It.renderActivePoints({item:jt,activePoint:Er,basePoint:dr,childIndex:er,isRange:Yt})))}else{var tr,Mr=(tr=It.getItemByXY(It.state.activeCoordinate))!==null&&tr!==void 0?tr:{graphicalItem:gr},Lr=Mr.graphicalItem,Wr=Lr.item,Cr=Wr===void 0?Dt:Wr,an=Lr.childIndex,Nr=_objectSpread$7(_objectSpread$7(_objectSpread$7({},jt.props),Sr),{},{activeIndex:an});return[reactExports.cloneElement(Cr,Nr),null,null]}return Yt?[gr,null,null]:[gr,null]}),_defineProperty(It,"renderCustomized",function(Dt,Lt,Bt){return reactExports.cloneElement(Dt,_objectSpread$7(_objectSpread$7({key:"recharts-customized-".concat(Bt)},It.props),It.state))}),_defineProperty(It,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:It.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:It.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:It.renderBrush,once:!0},Bar:{handler:It.renderGraphicChild},Line:{handler:It.renderGraphicChild},Area:{handler:It.renderGraphicChild},Radar:{handler:It.renderGraphicChild},RadialBar:{handler:It.renderGraphicChild},Scatter:{handler:It.renderGraphicChild},Pie:{handler:It.renderGraphicChild},Funnel:{handler:It.renderGraphicChild},Tooltip:{handler:It.renderCursor,once:!0},PolarGrid:{handler:It.renderPolarGrid,once:!0},PolarAngleAxis:{handler:It.renderPolarAxis},PolarRadiusAxis:{handler:It.renderPolarAxis},Customized:{handler:It.renderCustomized}}),It.clipPathId="".concat(($t=Pt.id)!==null&&$t!==void 0?$t:uniqueId("recharts"),"-clip"),It.throttleTriggeredAfterMouseMove=throttle$1(It.triggeredAfterMouseMove,(Ot=Pt.throttleDelay)!==null&&Ot!==void 0?Ot:1e3/60),It.state={},It}return _inherits$1(pt,Mt),_createClass(pt,[{key:"componentDidMount",value:function(){var $t,Ot;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:($t=this.props.margin.left)!==null&&$t!==void 0?$t:0,top:(Ot=this.props.margin.top)!==null&&Ot!==void 0?Ot:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var $t=this.props,Ot=$t.children,It=$t.data,Dt=$t.height,Lt=$t.layout,Bt=findChildByType(Ot,Tooltip);if(Bt){var jt=Bt.props.defaultIndex;if(!(typeof jt!="number"||jt<0||jt>this.state.tooltipTicks.length-1)){var Ut=this.state.tooltipTicks[jt]&&this.state.tooltipTicks[jt].value,Gt=getTooltipContent(this.state,It,jt,Ut),qt=this.state.tooltipTicks[jt].coordinate,Jt=(this.state.offset.top+Dt)/2,er=Lt==="horizontal",Kt=er?{x:qt,y:Jt}:{y:qt,x:Jt},zt=this.state.formattedGraphicalItems.find(function(Ft){var Vt=Ft.item;return Vt.type.name==="Scatter"});zt&&(Kt=_objectSpread$7(_objectSpread$7({},Kt),zt.props.points[jt].tooltipPosition),Gt=zt.props.points[jt].tooltipPayload);var Ht={activeTooltipIndex:jt,isTooltipActive:!0,activeLabel:Ut,activePayload:Gt,activeCoordinate:Kt};this.setState(Ht),this.renderCursor(Bt),this.accessibilityManager.setIndex(jt)}}}},{key:"getSnapshotBeforeUpdate",value:function($t,Ot){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==Ot.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==$t.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==$t.margin){var It,Dt;this.accessibilityManager.setDetails({offset:{left:(It=this.props.margin.left)!==null&&It!==void 0?It:0,top:(Dt=this.props.margin.top)!==null&&Dt!==void 0?Dt:0}})}return null}},{key:"componentDidUpdate",value:function($t){isChildrenEqual([findChildByType($t.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var $t=findChildByType(this.props.children,Tooltip);if($t&&typeof $t.props.shared=="boolean"){var Ot=$t.props.shared?"axis":"item";return rt.indexOf(Ot)>=0?Ot:_e}return _e}},{key:"getMouseInfo",value:function($t){if(!this.container)return null;var Ot=this.container,It=Ot.getBoundingClientRect(),Dt=getOffset(It),Lt={chartX:Math.round($t.pageX-Dt.left),chartY:Math.round($t.pageY-Dt.top)},Bt=It.width/Ot.offsetWidth||1,jt=this.inRange(Lt.chartX,Lt.chartY,Bt);if(!jt)return null;var Ut=this.state,Gt=Ut.xAxisMap,qt=Ut.yAxisMap,Jt=this.getTooltipEventType(),er=getTooltipData(this.state,this.props.data,this.props.layout,jt);if(Jt!=="axis"&&Gt&&qt){var Kt=getAnyElementOfObject(Gt).scale,zt=getAnyElementOfObject(qt).scale,Ht=Kt&&Kt.invert?Kt.invert(Lt.chartX):null,Ft=zt&&zt.invert?zt.invert(Lt.chartY):null;return _objectSpread$7(_objectSpread$7({},Lt),{},{xValue:Ht,yValue:Ft},er)}return er?_objectSpread$7(_objectSpread$7({},Lt),er):null}},{key:"inRange",value:function($t,Ot){var It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Dt=this.props.layout,Lt=$t/It,Bt=Ot/It;if(Dt==="horizontal"||Dt==="vertical"){var jt=this.state.offset,Ut=Lt>=jt.left&&Lt<=jt.left+jt.width&&Bt>=jt.top&&Bt<=jt.top+jt.height;return Ut?{x:Lt,y:Bt}:null}var Gt=this.state,qt=Gt.angleAxisMap,Jt=Gt.radiusAxisMap;if(qt&&Jt){var er=getAnyElementOfObject(qt);return inRangeOfSector({x:Lt,y:Bt},er)}return null}},{key:"parseEventsOfWrapper",value:function(){var $t=this.props.children,Ot=this.getTooltipEventType(),It=findChildByType($t,Tooltip),Dt={};It&&Ot==="axis"&&(It.props.trigger==="click"?Dt={onClick:this.handleClick}:Dt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Lt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread$7(_objectSpread$7({},Lt),Dt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function($t,Ot,It){for(var Dt=this.state.formattedGraphicalItems,Lt=0,Bt=Dt.length;Lt<Bt;Lt++){var jt=Dt[Lt];if(jt.item===$t||jt.props.key===$t.key||Ot===getDisplayName(jt.item.type)&&It===jt.childIndex)return jt}return null}},{key:"renderClipPath",value:function(){var $t=this.clipPathId,Ot=this.state.offset,It=Ot.left,Dt=Ot.top,Lt=Ot.height,Bt=Ot.width;return React$2.createElement("defs",null,React$2.createElement("clipPath",{id:$t},React$2.createElement("rect",{x:It,y:Dt,height:Lt,width:Bt})))}},{key:"getXScales",value:function(){var $t=this.state.xAxisMap;return $t?Object.entries($t).reduce(function(Ot,It){var Dt=_slicedToArray(It,2),Lt=Dt[0],Bt=Dt[1];return _objectSpread$7(_objectSpread$7({},Ot),{},_defineProperty({},Lt,Bt.scale))},{}):null}},{key:"getYScales",value:function(){var $t=this.state.yAxisMap;return $t?Object.entries($t).reduce(function(Ot,It){var Dt=_slicedToArray(It,2),Lt=Dt[0],Bt=Dt[1];return _objectSpread$7(_objectSpread$7({},Ot),{},_defineProperty({},Lt,Bt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function($t){var Ot;return(Ot=this.state.xAxisMap)===null||Ot===void 0||(Ot=Ot[$t])===null||Ot===void 0?void 0:Ot.scale}},{key:"getYScaleByAxisId",value:function($t){var Ot;return(Ot=this.state.yAxisMap)===null||Ot===void 0||(Ot=Ot[$t])===null||Ot===void 0?void 0:Ot.scale}},{key:"getItemByXY",value:function($t){var Ot=this.state,It=Ot.formattedGraphicalItems,Dt=Ot.activeItem;if(It&&It.length)for(var Lt=0,Bt=It.length;Lt<Bt;Lt++){var jt=It[Lt],Ut=jt.props,Gt=jt.item,qt=Gt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},Gt.type.defaultProps),Gt.props):Gt.props,Jt=getDisplayName(Gt.type);if(Jt==="Bar"){var er=(Ut.data||[]).find(function(Ft){return isInRectangle($t,Ft)});if(er)return{graphicalItem:jt,payload:er}}else if(Jt==="RadialBar"){var Kt=(Ut.data||[]).find(function(Ft){return inRangeOfSector($t,Ft)});if(Kt)return{graphicalItem:jt,payload:Kt}}else if(isFunnel(jt,Dt)||isPie(jt,Dt)||isScatter(jt,Dt)){var zt=getActiveShapeIndexForTooltip({graphicalItem:jt,activeTooltipItem:Dt,itemData:qt.data}),Ht=qt.activeIndex===void 0?zt:qt.activeIndex;return{graphicalItem:_objectSpread$7(_objectSpread$7({},jt),{},{childIndex:Ht}),payload:isScatter(jt,Dt)?qt.data[zt]:jt.props.data[zt]}}}return null}},{key:"render",value:function(){var $t=this;if(!validateWidthHeight(this))return null;var Ot=this.props,It=Ot.children,Dt=Ot.className,Lt=Ot.width,Bt=Ot.height,jt=Ot.style,Ut=Ot.compact,Gt=Ot.title,qt=Ot.desc,Jt=_objectWithoutProperties(Ot,_excluded2),er=filterProps(Jt,!1);if(Ut)return React$2.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$2.createElement(Surface,_extends({},er,{width:Lt,height:Bt,title:Gt,desc:qt}),this.renderClipPath(),renderByOrder(It,this.renderMap)));if(this.props.accessibilityLayer){var Kt,zt;er.tabIndex=(Kt=this.props.tabIndex)!==null&&Kt!==void 0?Kt:0,er.role=(zt=this.props.role)!==null&&zt!==void 0?zt:"application",er.onKeyDown=function(Ft){$t.accessibilityManager.keyboardEvent(Ft)},er.onFocus=function(){$t.accessibilityManager.focus()}}var Ht=this.parseEventsOfWrapper();return React$2.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$2.createElement("div",_extends({className:clsx("recharts-wrapper",Dt),style:_objectSpread$7({position:"relative",cursor:"default",width:Lt,height:Bt},jt)},Ht,{ref:function(Vt){$t.container=Vt}}),React$2.createElement(Surface,_extends({},er,{width:Lt,height:Bt,title:Gt,desc:qt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(It,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(At,"displayName",_),_defineProperty(At,"defaultProps",_objectSpread$7({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},lt)),_defineProperty(At,"getDerivedStateFromProps",function(Mt,pt){var Pt=Mt.dataKey,$t=Mt.data,Ot=Mt.children,It=Mt.width,Dt=Mt.height,Lt=Mt.layout,Bt=Mt.stackOffset,jt=Mt.margin,Ut=pt.dataStartIndex,Gt=pt.dataEndIndex;if(pt.updateId===void 0){var qt=createDefaultState(Mt);return _objectSpread$7(_objectSpread$7(_objectSpread$7({},qt),{},{updateId:0},_t(_objectSpread$7(_objectSpread$7({props:Mt},qt),{},{updateId:0}),pt)),{},{prevDataKey:Pt,prevData:$t,prevWidth:It,prevHeight:Dt,prevLayout:Lt,prevStackOffset:Bt,prevMargin:jt,prevChildren:Ot})}if(Pt!==pt.prevDataKey||$t!==pt.prevData||It!==pt.prevWidth||Dt!==pt.prevHeight||Lt!==pt.prevLayout||Bt!==pt.prevStackOffset||!shallowEqual(jt,pt.prevMargin)){var Jt=createDefaultState(Mt),er={chartX:pt.chartX,chartY:pt.chartY,isTooltipActive:pt.isTooltipActive},Kt=_objectSpread$7(_objectSpread$7({},getTooltipData(pt,$t,Lt)),{},{updateId:pt.updateId+1}),zt=_objectSpread$7(_objectSpread$7(_objectSpread$7({},Jt),er),Kt);return _objectSpread$7(_objectSpread$7(_objectSpread$7({},zt),_t(_objectSpread$7({props:Mt},zt),pt)),{},{prevDataKey:Pt,prevData:$t,prevWidth:It,prevHeight:Dt,prevLayout:Lt,prevStackOffset:Bt,prevMargin:jt,prevChildren:Ot})}if(!isChildrenEqual(Ot,pt.prevChildren)){var Ht,Ft,Vt,Yt,Zt=findChildByType(Ot,Brush),nr=Zt&&(Ht=(Ft=Zt.props)===null||Ft===void 0?void 0:Ft.startIndex)!==null&&Ht!==void 0?Ht:Ut,cr=Zt&&(Vt=(Yt=Zt.props)===null||Yt===void 0?void 0:Yt.endIndex)!==null&&Vt!==void 0?Vt:Gt,vr=nr!==Ut||cr!==Gt,Tr=!isNil$1($t),ar=Tr&&!vr?pt.updateId:pt.updateId+1;return _objectSpread$7(_objectSpread$7({updateId:ar},_t(_objectSpread$7(_objectSpread$7({props:Mt},pt),{},{updateId:ar,dataStartIndex:nr,dataEndIndex:cr}),pt)),{},{prevChildren:Ot,dataStartIndex:nr,dataEndIndex:cr})}return null}),_defineProperty(At,"renderActiveDot",function(Mt,pt,Pt){var $t;return reactExports.isValidElement(Mt)?$t=reactExports.cloneElement(Mt,pt):isFunction$3(Mt)?$t=Mt(pt):$t=React$2.createElement(Dot,pt),React$2.createElement(Layer,{className:"recharts-active-dot",key:Pt},$t)});var Tt=reactExports.forwardRef(function(pt,Pt){return React$2.createElement(At,_extends({},pt,{ref:Pt}))});return Tt.displayName=At.displayName,Tt},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function validateStudyData(o,i){const _=[],$={};return i.forEach(j=>{const _e=new Date(j.startTime).toDateString();$[_e]||($[_e]=[]),$[_e].push(j)}),Object.keys(o).forEach(j=>{const _e=o[j],rt=($[j]||[]).reduce((nt,it)=>nt+it.duration,0);Math.abs(_e-rt)>1&&_.push(`${j}:  ${_e}  ${rt} `)}),{isValid:_.length===0,errors:_}}function createDailyArchive(o,i,_){const $=o.toDateString(),j=_.filter(nt=>new Date(nt.startTime).toDateString()===$),_e={};j.forEach(nt=>{_e[nt.memberId]=(_e[nt.memberId]||0)+nt.duration});const tt=i[$]||0,rt=validateStudyData({[$]:tt},j);return{date:$,totalSeconds:tt,sessions:j.length,members:_e,timestamp:Date.now(),isValid:rt.isValid}}function saveDailyArchive(o){try{const i=`wayv_daily_archive_${o.date}`;localStorage.setItem(i,JSON.stringify(o))}catch(i){console.error(":",i)}}function loadDailyArchive(o){try{const i=`wayv_daily_archive_${o}`,_=localStorage.getItem(i);return _?JSON.parse(_):null}catch(i){return console.error(":",i),null}}function getArchiveSummary(){const o=[];for(let i=0;i<localStorage.length;i++){const _=localStorage.key(i);if(_&&_.startsWith("wayv_daily_archive_")){const $=loadDailyArchive(_.replace("wayv_daily_archive_",""));$&&o.push({date:$.date,totalHours:Math.round($.totalSeconds/3600*10)/10,sessions:$.sessions,isValid:$.isValid})}}return o.sort((i,_)=>new Date(_.date).getTime()-new Date(i.date).getTime())}function StudyStats(){const{stats:o,sessions:i}=useAppStore(),[_,$]=reactExports.useState([]),[j,_e]=reactExports.useState([]),[tt,rt]=reactExports.useState(null),[nt,it]=reactExports.useState([]);reactExports.useState(!1),reactExports.useEffect(()=>{const pt=validateStudyData(o.daily,i);rt(pt);const Pt=new Date,$t=Pt.toDateString();if(o.daily[$t]&&o.daily[$t]>0){const Lt=createDailyArchive(Pt,o.daily,i);saveDailyArchive(Lt)}const Ot=getArchiveSummary();it(Ot.slice(0,7));const It=[];for(let Lt=6;Lt>=0;Lt--){const Bt=new Date;Bt.setDate(Bt.getDate()-Lt);const jt=Bt.toDateString(),Ut=o.daily[jt]||0,Gt=Math.round(Ut/3600*10)/10;It.push({name:Bt.toLocaleDateString("zh-CN",{weekday:"short"}),hours:Gt,fullDate:jt})}$(It);const Dt=[];for(let Lt=3;Lt>=0;Lt--){const Bt=new Date;Bt.setDate(Bt.getDate()-Lt*7-Bt.getDay());const jt=Bt.toDateString(),Gt=(o.weekly[jt]||0)/3600;Dt.push({name:`${4-Lt}`,hours:Math.round(Gt*10)/10,weekStart:jt})}_e(Dt)},[o,i]);const ot=Math.round(o.total/3600*10)/10,lt=Object.keys(o.daily).filter(pt=>(o.daily[pt]||0)>0).length,ft=lt>0?Math.round(o.total/3600/lt*10)/10:0,_t=pt=>({"member-kun":"#FF6B6B","member-ten":"#4ECDC4","member-xiaojun":"#FFE66D","member-hendery":"#00FF87","member-yangyang":"#A8E6CF"})[pt]||"#94a3b8",At=pt=>pt.percentage<10?null:`${pt.name} ${pt.percentage}%`,Tt=i.reduce((pt,Pt)=>(pt[Pt.memberId]=(pt[Pt.memberId]||0)+Pt.duration,pt),{}),Mt=Object.keys(Tt).map(pt=>{const $t=Tt[pt]/3600,Ot=wayvMembers.find(Lt=>Lt.id===pt),It=Object.keys(Tt).reduce((Lt,Bt)=>Lt+Tt[Bt]/3600,0),Dt=It>0?Math.round($t/It*100):0;return{name:(Ot==null?void 0:Ot.name)||pt,value:Math.round($t*10)/10,hours:$t,percentage:Dt,color:Ot?_t(Ot.color):"#94a3b8"}});return jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsx("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:jsxs("div",{className:"flex items-center justify-between",children:[jsxs("div",{children:[jsx("p",{className:"text-sm text-white dark:text-white",children:""}),jsxs("p",{className:"text-2xl font-bold text-white dark:text-white text-glow",children:[ot,""]})]}),jsx(Clock$1,{className:"w-8 h-8 text-wayv-green"})]})}),jsx("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:jsxs("div",{className:"flex items-center justify-between",children:[jsxs("div",{children:[jsx("p",{className:"text-sm text-white dark:text-white",children:""}),jsxs("p",{className:"text-2xl font-bold text-white dark:text-white text-glow",children:[o.streak,""]})]}),jsx(Calendar,{className:"w-8 h-8 text-wayv-green"})]})}),jsx("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:jsxs("div",{className:"flex items-center justify-between",children:[jsxs("div",{children:[jsx("p",{className:"text-sm text-white dark:text-white",children:""}),jsxs("p",{className:"text-2xl font-bold text-white dark:text-white text-glow",children:[ft,""]})]}),jsx(TrendingUp,{className:"w-8 h-8 text-wayv-green"})]})}),jsx("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:jsxs("div",{className:"flex items-center justify-between",children:[jsxs("div",{children:[jsx("p",{className:"text-sm text-white dark:text-white",children:""}),jsxs("p",{className:"text-2xl font-bold text-white dark:text-white text-glow",children:[i.length,""]})]}),jsx(Award,{className:"w-8 h-8 text-wayv-green"})]})})]}),jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:[jsx("h3",{className:"text-2xl font-display font-semibold text-white dark:text-white mb-6 text-glow",children:"7"}),jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxs(BarChart,{data:_,children:[jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),jsx(XAxis,{dataKey:"name",stroke:"#64748b"}),jsx(YAxis,{stroke:"#64748b"}),jsx(Tooltip,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},formatter:pt=>[`${pt}`,""]}),jsx(Bar,{dataKey:"hours",fill:"#00FF87",radius:[4,4,0,0]})]})})]}),jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-xl",children:[jsx("h3",{className:"text-2xl font-display font-semibold text-white dark:text-white mb-6 text-glow",children:""}),Mt.length>0?jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[jsx("div",{className:"flex-1",children:jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxs(PieChart,{children:[jsx(Pie,{data:Mt,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",label:At,labelLine:!1,children:Mt.map((pt,Pt)=>jsx(Cell,{fill:pt.color},`cell-${Pt}`))}),jsx(Tooltip,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},formatter:(pt,Pt,$t)=>[`${pt} (${$t.payload.percentage}%)`,$t.payload.name]})]})})}),jsx("div",{className:"flex-shrink-0 lg:ml-6 mt-4 lg:mt-0",children:jsx("div",{className:"space-y-3",children:Mt.map((pt,Pt)=>jsxs("div",{className:"flex items-center space-x-3",children:[jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:pt.color}}),jsxs("div",{className:"flex-1 min-w-0",children:[jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:pt.name}),jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[pt.value," (",pt.percentage,"%)"]})]})]},Pt))})})]}):jsx("div",{className:"flex items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:jsxs("div",{className:"text-center",children:[jsx(Award,{className:"w-12 h-12 mx-auto mb-4 text-slate-300 dark:text-slate-600"}),jsx("p",{children:"~"}),jsx("p",{className:"text-sm",children:""})]})})]})]}),jsxs("div",{className:"glass-card rounded-2xl p-6 shadow-2xl",children:[jsx("h3",{className:"text-2xl font-display font-semibold text-white dark:text-white mb-6 text-glow",children:"4"}),jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxs(BarChart,{data:j,children:[jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),jsx(XAxis,{dataKey:"name",stroke:"#64748b"}),jsx(YAxis,{stroke:"#64748b"}),jsx(Tooltip,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},formatter:pt=>[`${pt}`,""]}),jsx(Bar,{dataKey:"hours",fill:"#00FF87",radius:[4,4,0,0]})]})})]})]})}function StudyRoom(){const{t:o}=useTranslation(),{memberId:i}=useParams(),_=useNavigate(),{currentMemberId:$,preferences:j,setPreferences:_e,setCurrentMemberId:tt}=useAppStore(),rt=wayvMembers.find(ot=>ot.id===i),[nt,it]=reactExports.useState("timer");return reactExports.useState(!1),reactExports.useEffect(()=>{if(!rt){vt.error(""),_("/");return}$!==i&&tt(i||null),$!==i&&tt(i||null);const{timerMemberId:ot,isTimerRunning:lt,setTimerState:ft}=useAppStore.getState();lt&&ot&&ot!==i&&(ft({isTimerRunning:!1,timeLeft:25*60,isBreakTime:!1,timerMemberId:i}),window.dispatchEvent(new CustomEvent("resetTimer"))),vt.success(` ${rt.name} `,{icon:"",duration:3e3})},[rt,i]),rt?jsxs("div",{className:`min-h-screen bg-gradient-to-br from-${rt.color}/20 to-${rt.color}/10 dark:from-slate-900 dark:to-slate-800 relative overflow-hidden`,children:[jsx(GlassBackground,{}),jsxs("header",{className:"flex justify-between items-center p-8",children:[jsxs("div",{className:"flex items-center space-x-4",children:[jsx("button",{onClick:()=>_("/"),className:"p-3 rounded-full bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110",children:jsx(ArrowLeft,{className:"w-5 h-5 text-slate-600 dark:text-white"})}),jsxs("div",{className:"flex items-center space-x-3",children:[jsx("img",{src:rt.avatar,alt:rt.name,className:"w-14 h-14 rounded-full object-cover border-2 border-white shadow-xl"}),jsxs("div",{children:[jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-slate-900 dark:text-white text-glow",children:o(`member_${rt.id}`)}),jsx("p",{className:"text-base md:text-lg text-slate-900 dark:text-white text-glow drop-shadow",children:o(`member_personality_${rt.id}`)})]})]})]}),jsx("div",{className:"flex items-center space-x-3",children:jsx("div",{className:"hidden md:block",children:jsx(LottieBadge,{})})})]}),jsx("div",{className:"flex justify-center mb-10",children:jsx("div",{className:"bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm rounded-full p-2 shadow-lg",children:[{key:"timer",label:o("timer_focus"),icon:Clock$1},{key:"stats",label:o("study_stats"),icon:BarChart3},{key:"music",label:o("music_recommendation"),icon:Music}].map(({key:ot,label:lt,icon:ft})=>jsxs("button",{onClick:()=>it(ot),className:`px-7 py-3 rounded-full font-medium transition-all duration-300 flex items-center space-x-2 ${nt===ot?`bg-${rt.color} text-white shadow-xl drop-shadow-lg`:"text-slate-900 dark:text-white hover:text-slate-900 dark:hover:text-white text-glow"}`,children:[jsx(ft,{className:"w-4 h-4"}),jsx("span",{className:"text-lg",children:lt})]},ot))})}),jsxs("div",{className:"container mx-auto px-6 pb-12",children:[nt==="timer"&&jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-10",children:[jsx("h3",{className:"text-3xl font-display font-semibold text-slate-900 dark:text-white mb-6 text-glow",children:o("study_with",{name:rt.name})}),jsx(Timer,{member:rt})]}),nt==="stats"&&jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-10 mt-10",children:[jsx("h3",{className:"text-3xl font-display font-semibold text-slate-900 dark:text-white mb-6 text-glow",children:o("study_stats")}),jsx(StudyStats,{})]}),nt==="music"&&jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-10 mt-10",children:[jsx("h3",{className:"text-3xl font-display font-semibold text-slate-900 dark:text-white mb-6 text-glow",children:o("music_recommendation_title",{name:rt.name})}),jsx(SimpleMusicRecommendation,{member:rt})]})]})]}):null}function FloatingTimer(){const{isTimerRunning:o,timeLeft:i,isBreakTime:_,timerMemberId:$,setTimerState:j}=useAppStore(),_e=useLocation(),tt=useNavigate(),[rt,nt]=reactExports.useState(!1),[it,ot]=reactExports.useState(!1);reactExports.useEffect(()=>{const pt=_e.pathname.startsWith("/study/")?_e.pathname.split("/").pop():null;nt($&&pt===$?!1:o||i>0&&i<25*60)},[_e,$,o,i]);const lt=wayvMembers.find(Mt=>Mt.id===$);if(!lt||!rt)return null;const ft=Mt=>{const pt=Math.floor(Mt/60),Pt=Mt%60;return`${pt.toString().length===1?"0"+pt:pt}:${Pt.toString().length===1?"0"+Pt:Pt}`},_t=Mt=>{Mt.stopPropagation(),j({isTimerRunning:!o})},At=Mt=>{if(Mt.stopPropagation(),Mt.preventDefault(),o){if(!window.confirm(""))return;j({isTimerRunning:!1,timeLeft:25*60,isBreakTime:!1,timerMemberId:null})}else j({isTimerRunning:!1,timerMemberId:null})},Tt=Mt=>{!it&&$&&tt(`/study/${$}`)};return jsx(AnimatePresence,{children:rt&&jsx(motion.div,{drag:!0,dragMomentum:!1,onDragStart:()=>ot(!0),onDragEnd:()=>setTimeout(()=>ot(!1),100),initial:{opacity:0,y:-20,x:20},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-20,x:20},className:"fixed top-24 right-6 z-50 cursor-move",onClick:Tt,children:jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md border border-white/10 rounded-2xl p-4 shadow-2xl flex items-center space-x-4 min-w-[200px] relative group",children:[jsx("button",{onMouseDown:At,onClick:At,className:"absolute -top-2 -left-2 bg-slate-700 text-white rounded-full p-1 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-500",children:jsx(X,{size:14})}),jsxs("div",{className:"relative",children:[jsx("img",{src:lt.avatar,alt:lt.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white/20"}),jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-slate-800 ${o?"bg-green-500 animate-pulse":"bg-yellow-500"}`})]}),jsxs("div",{className:"flex-1",children:[jsxs("div",{className:"text-xs text-slate-400 mb-1",children:[_?"":"","  ",lt.name]}),jsx("div",{className:`text-xl font-mono font-bold ${_?"text-blue-400":"text-white"}`,children:ft(i)})]}),jsx("button",{onClick:_t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white",children:o?jsx(Pause,{size:16}):jsx(Play,{size:16})})]})})})}function TimerManager(){const{t:o}=useTranslation(),{isTimerRunning:i,timeLeft:_,isBreakTime:$,timerMemberId:j,setTimerState:_e,addSession:tt,updateStats:rt,preferences:nt,studyDuration:it,breakDuration:ot}=useAppStore(),lt=reactExports.useRef(null),ft=()=>{const _t=wayvMembers.find(At=>At.id===j);if(_t)if($)nt.soundEnabled&&playBreakSound(),nt.notificationsEnabled&&sendNotification(o("break_completed"),o("continue_study"),_t.avatar),vt.success(o("continue_study"),{icon:"",duration:5e3}),_e({isTimerRunning:!1,timeLeft:it*60,isBreakTime:!1});else{const At={id:Date.now().toString(),memberId:_t.id,startTime:new Date(Date.now()-it*60*1e3),endTime:new Date,duration:it*60,type:"pomodoro"};tt(At),rt(At),window.dispatchEvent(new CustomEvent("timerCompleted",{detail:{memberId:_t.id}})),nt.soundEnabled&&playNotificationSound(),nt.notificationsEnabled&&sendNotification(o("focus_completed"),o("take_break"),_t.avatar),vt.success(o("take_break"),{icon:"",duration:5e3}),_e({isTimerRunning:!0,timeLeft:ot*60,isBreakTime:!0})}};return reactExports.useEffect(()=>(i&&_>0?lt.current=window.setInterval(()=>{_e({timeLeft:_-1})},1e3):_===0&&i&&ft(),()=>{lt.current&&clearInterval(lt.current)}),[i,_,it,ot,$,j]),null}function App(){const{preferences:o}=useAppStore();return reactExports.useEffect(()=>{const i=document.title;let _=i.length,$=!0,j;const _e=()=>{if($){if(_=Math.max(0,_-1),document.title=i.slice(0,_),_===0){$=!1,j=window.setTimeout(_e,600);return}j=window.setTimeout(_e,60)}else{if(_=Math.min(i.length,_+1),document.title=i.slice(0,_),_===i.length){$=!0,j=window.setTimeout(_e,1200);return}j=window.setTimeout(_e,100)}};return _e(),()=>{j&&clearTimeout(j)}},[]),jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 transition-colors duration-300",children:[jsx(TimerManager,{}),jsx(FloatingTimer,{}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(HomePage,{})}),jsx(Route,{path:"/study/:memberId",element:jsx(StudyRoom,{})})]}),jsx(Wt,{position:"top-right",toastOptions:{className:"bg-slate-800 text-white",style:{background:o.theme==="dark"?"#1e293b":"#ffffff",color:o.theme==="dark"?"#ffffff":"#000000"}}})]})}const index="";function _inherits(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$c(o,i)}function _possibleConstructorReturn(o,i){if(i&&(_typeof$K(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(o)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_getPrototypeOf(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _toArray(o){return _arrayWithHoles$e(o)||_iterableToArray(o)||_unsupportedIterableToArray$l(o)||_nonIterableRest$e()}function ownKeys$6(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$6(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$6(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$6(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}var consoleLogger={type:"logger",log:function o(i){this.output("log",i)},warn:function o(i){this.output("warn",i)},error:function o(i){this.output("error",i)},output:function o(i,_){console&&console[i]&&console[i].apply(console,_)}},Logger=function(){function o(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$l(this,o),this.init(i,_)}return _createClass$l(o,[{key:"init",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=$.prefix||"i18next:",this.logger=_||consoleLogger,this.options=$,this.debug=$.debug}},{key:"setDebug",value:function(_){this.debug=_}},{key:"log",value:function(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];return this.forward($,"log","",!0)}},{key:"warn",value:function(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];return this.forward($,"warn","",!0)}},{key:"error",value:function(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];return this.forward($,"error","")}},{key:"deprecate",value:function(){for(var _=arguments.length,$=new Array(_),j=0;j<_;j++)$[j]=arguments[j];return this.forward($,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(_,$,j,_e){return _e&&!this.debug?null:(typeof _[0]=="string"&&(_[0]="".concat(j).concat(this.prefix," ").concat(_[0])),this.logger[$](_))}},{key:"create",value:function(_){return new o(this.logger,_objectSpread$6(_objectSpread$6({},{prefix:"".concat(this.prefix,":").concat(_,":")}),this.options))}},{key:"clone",value:function(_){return _=_||this.options,_.prefix=_.prefix||this.prefix,new o(this.logger,_)}}]),o}(),baseLogger=new Logger,EventEmitter=function(){function o(){_classCallCheck$l(this,o),this.observers={}}return _createClass$l(o,[{key:"on",value:function(_,$){var j=this;return _.split(" ").forEach(function(_e){j.observers[_e]=j.observers[_e]||[],j.observers[_e].push($)}),this}},{key:"off",value:function(_,$){if(this.observers[_]){if(!$){delete this.observers[_];return}this.observers[_]=this.observers[_].filter(function(j){return j!==$})}}},{key:"emit",value:function(_){for(var $=arguments.length,j=new Array($>1?$-1:0),_e=1;_e<$;_e++)j[_e-1]=arguments[_e];if(this.observers[_]){var tt=[].concat(this.observers[_]);tt.forEach(function(nt){nt.apply(void 0,j)})}if(this.observers["*"]){var rt=[].concat(this.observers["*"]);rt.forEach(function(nt){nt.apply(nt,[_].concat(j))})}}}]),o}();function defer(){var o,i,_=new Promise(function($,j){o=$,i=j});return _.resolve=o,_.reject=i,_}function makeString(o){return o==null?"":""+o}function copy(o,i,_){o.forEach(function($){i[$]&&(_[$]=i[$])})}function getLastOfPath(o,i,_){function $(rt){return rt&&rt.indexOf("###")>-1?rt.replace(/###/g,"."):rt}function j(){return!o||typeof o=="string"}for(var _e=typeof i!="string"?[].concat(i):i.split(".");_e.length>1;){if(j())return{};var tt=$(_e.shift());!o[tt]&&_&&(o[tt]=new _),Object.prototype.hasOwnProperty.call(o,tt)?o=o[tt]:o={}}return j()?{}:{obj:o,k:$(_e.shift())}}function setPath(o,i,_){var $=getLastOfPath(o,i,Object),j=$.obj,_e=$.k;j[_e]=_}function pushPath(o,i,_,$){var j=getLastOfPath(o,i,Object),_e=j.obj,tt=j.k;_e[tt]=_e[tt]||[],$&&(_e[tt]=_e[tt].concat(_)),$||_e[tt].push(_)}function getPath(o,i){var _=getLastOfPath(o,i),$=_.obj,j=_.k;if($)return $[j]}function getPathWithDefaults(o,i,_){var $=getPath(o,_);return $!==void 0?$:getPath(i,_)}function deepExtend(o,i,_){for(var $ in i)$!=="__proto__"&&$!=="constructor"&&($ in o?typeof o[$]=="string"||o[$]instanceof String||typeof i[$]=="string"||i[$]instanceof String?_&&(o[$]=i[$]):deepExtend(o[$],i[$],_):o[$]=i[$]);return o}function regexEscape(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(o){return typeof o=="string"?o.replace(/[&<>"'\/]/g,function(i){return _entityMap[i]}):o}var isIE10=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(o,i,_){i=i||"",_=_||"";var $=chars.filter(function(rt){return i.indexOf(rt)<0&&_.indexOf(rt)<0});if($.length===0)return!0;var j=new RegExp("(".concat($.map(function(rt){return rt==="?"?"\\?":rt}).join("|"),")")),_e=!j.test(o);if(!_e){var tt=o.indexOf(_);tt>0&&!j.test(o.substring(0,tt))&&(_e=!0)}return _e}function deepFind(o,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(o){if(o[i])return o[i];for(var $=i.split(_),j=o,_e=0;_e<$.length;++_e){if(!j||typeof j[$[_e]]=="string"&&_e+1<$.length)return;if(j[$[_e]]===void 0){for(var tt=2,rt=$.slice(_e,_e+tt).join(_),nt=j[rt];nt===void 0&&$.length>_e+tt;)tt++,rt=$.slice(_e,_e+tt).join(_),nt=j[rt];if(nt===void 0)return;if(nt===null)return null;if(i.endsWith(rt)){if(typeof nt=="string")return nt;if(rt&&typeof nt[rt]=="string")return nt[rt]}var it=$.slice(_e+tt).join(_);return it?deepFind(nt,it,_):void 0}j=j[$[_e]]}return j}}function ownKeys$5(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$5(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$5(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$5(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _createSuper$3(o){var i=_isNativeReflectConstruct$3();return function(){var $=_getPrototypeOf(o),j;if(i){var _e=_getPrototypeOf(this).constructor;j=Reflect.construct($,arguments,_e)}else j=$.apply(this,arguments);return _possibleConstructorReturn(this,j)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ResourceStore=function(o){_inherits(_,o);var i=_createSuper$3(_);function _($){var j,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck$l(this,_),j=i.call(this),isIE10&&EventEmitter.call(_assertThisInitialized$c(j)),j.data=$||{},j.options=_e,j.options.keySeparator===void 0&&(j.options.keySeparator="."),j.options.ignoreJSONStructure===void 0&&(j.options.ignoreJSONStructure=!0),j}return _createClass$l(_,[{key:"addNamespaces",value:function(j){this.options.ns.indexOf(j)<0&&this.options.ns.push(j)}},{key:"removeNamespaces",value:function(j){var _e=this.options.ns.indexOf(j);_e>-1&&this.options.ns.splice(_e,1)}},{key:"getResource",value:function(j,_e,tt){var rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},nt=rt.keySeparator!==void 0?rt.keySeparator:this.options.keySeparator,it=rt.ignoreJSONStructure!==void 0?rt.ignoreJSONStructure:this.options.ignoreJSONStructure,ot=[j,_e];tt&&typeof tt!="string"&&(ot=ot.concat(tt)),tt&&typeof tt=="string"&&(ot=ot.concat(nt?tt.split(nt):tt)),j.indexOf(".")>-1&&(ot=j.split("."));var lt=getPath(this.data,ot);return lt||!it||typeof tt!="string"?lt:deepFind(this.data&&this.data[j]&&this.data[j][_e],tt,nt)}},{key:"addResource",value:function(j,_e,tt,rt){var nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},it=nt.keySeparator!==void 0?nt.keySeparator:this.options.keySeparator,ot=[j,_e];tt&&(ot=ot.concat(it?tt.split(it):tt)),j.indexOf(".")>-1&&(ot=j.split("."),rt=_e,_e=ot[1]),this.addNamespaces(_e),setPath(this.data,ot,rt),nt.silent||this.emit("added",j,_e,tt,rt)}},{key:"addResources",value:function(j,_e,tt){var rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var nt in tt)(typeof tt[nt]=="string"||Object.prototype.toString.apply(tt[nt])==="[object Array]")&&this.addResource(j,_e,nt,tt[nt],{silent:!0});rt.silent||this.emit("added",j,_e,tt)}},{key:"addResourceBundle",value:function(j,_e,tt,rt,nt){var it=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},ot=[j,_e];j.indexOf(".")>-1&&(ot=j.split("."),rt=tt,tt=_e,_e=ot[1]),this.addNamespaces(_e);var lt=getPath(this.data,ot)||{};rt?deepExtend(lt,tt,nt):lt=_objectSpread$5(_objectSpread$5({},lt),tt),setPath(this.data,ot,lt),it.silent||this.emit("added",j,_e,tt)}},{key:"removeResourceBundle",value:function(j,_e){this.hasResourceBundle(j,_e)&&delete this.data[j][_e],this.removeNamespaces(_e),this.emit("removed",j,_e)}},{key:"hasResourceBundle",value:function(j,_e){return this.getResource(j,_e)!==void 0}},{key:"getResourceBundle",value:function(j,_e){return _e||(_e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread$5(_objectSpread$5({},{}),this.getResource(j,_e)):this.getResource(j,_e)}},{key:"getDataByLanguage",value:function(j){return this.data[j]}},{key:"hasLanguageSomeTranslations",value:function(j){var _e=this.getDataByLanguage(j),tt=_e&&Object.keys(_e)||[];return!!tt.find(function(rt){return _e[rt]&&Object.keys(_e[rt]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),_}(EventEmitter),postProcessor={processors:{},addPostProcessor:function o(i){this.processors[i.name]=i},handle:function o(i,_,$,j,_e){var tt=this;return i.forEach(function(rt){tt.processors[rt]&&(_=tt.processors[rt].process(_,$,j,_e))}),_}};function ownKeys$4(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$4(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$4(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$4(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _createSuper$2(o){var i=_isNativeReflectConstruct$2();return function(){var $=_getPrototypeOf(o),j;if(i){var _e=_getPrototypeOf(this).constructor;j=Reflect.construct($,arguments,_e)}else j=$.apply(this,arguments);return _possibleConstructorReturn(this,j)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var checkedLoadedFor={},Translator=function(o){_inherits(_,o);var i=_createSuper$2(_);function _($){var j,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck$l(this,_),j=i.call(this),isIE10&&EventEmitter.call(_assertThisInitialized$c(j)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],$,_assertThisInitialized$c(j)),j.options=_e,j.options.keySeparator===void 0&&(j.options.keySeparator="."),j.logger=baseLogger.create("translator"),j}return _createClass$l(_,[{key:"changeLanguage",value:function(j){j&&(this.language=j)}},{key:"exists",value:function(j){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(j==null)return!1;var tt=this.resolve(j,_e);return tt&&tt.res!==void 0}},{key:"extractFromKey",value:function(j,_e){var tt=_e.nsSeparator!==void 0?_e.nsSeparator:this.options.nsSeparator;tt===void 0&&(tt=":");var rt=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator,nt=_e.ns||this.options.defaultNS||[],it=tt&&j.indexOf(tt)>-1,ot=!this.options.userDefinedKeySeparator&&!_e.keySeparator&&!this.options.userDefinedNsSeparator&&!_e.nsSeparator&&!looksLikeObjectPath(j,tt,rt);if(it&&!ot){var lt=j.match(this.interpolator.nestingRegexp);if(lt&&lt.length>0)return{key:j,namespaces:nt};var ft=j.split(tt);(tt!==rt||tt===rt&&this.options.ns.indexOf(ft[0])>-1)&&(nt=ft.shift()),j=ft.join(rt)}return typeof nt=="string"&&(nt=[nt]),{key:j,namespaces:nt}}},{key:"translate",value:function(j,_e,tt){var rt=this;if(_typeof$K(_e)!=="object"&&this.options.overloadTranslationOptionHandler&&(_e=this.options.overloadTranslationOptionHandler(arguments)),_typeof$K(_e)==="object"&&(_e=_objectSpread$4({},_e)),_e||(_e={}),j==null)return"";Array.isArray(j)||(j=[String(j)]);var nt=_e.returnDetails!==void 0?_e.returnDetails:this.options.returnDetails,it=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator,ot=this.extractFromKey(j[j.length-1],_e),lt=ot.key,ft=ot.namespaces,_t=ft[ft.length-1],At=_e.lng||this.language,Tt=_e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(At&&At.toLowerCase()==="cimode"){if(Tt){var Mt=_e.nsSeparator||this.options.nsSeparator;return nt?{res:"".concat(_t).concat(Mt).concat(lt),usedKey:lt,exactUsedKey:lt,usedLng:At,usedNS:_t}:"".concat(_t).concat(Mt).concat(lt)}return nt?{res:lt,usedKey:lt,exactUsedKey:lt,usedLng:At,usedNS:_t}:lt}var pt=this.resolve(j,_e),Pt=pt&&pt.res,$t=pt&&pt.usedKey||lt,Ot=pt&&pt.exactUsedKey||lt,It=Object.prototype.toString.apply(Pt),Dt=["[object Number]","[object Function]","[object RegExp]"],Lt=_e.joinArrays!==void 0?_e.joinArrays:this.options.joinArrays,Bt=!this.i18nFormat||this.i18nFormat.handleAsObject,jt=typeof Pt!="string"&&typeof Pt!="boolean"&&typeof Pt!="number";if(Bt&&Pt&&jt&&Dt.indexOf(It)<0&&!(typeof Lt=="string"&&It==="[object Array]")){if(!_e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var Ut=this.options.returnedObjectHandler?this.options.returnedObjectHandler($t,Pt,_objectSpread$4(_objectSpread$4({},_e),{},{ns:ft})):"key '".concat(lt," (").concat(this.language,")' returned an object instead of string.");return nt?(pt.res=Ut,pt):Ut}if(it){var Gt=It==="[object Array]",qt=Gt?[]:{},Jt=Gt?Ot:$t;for(var er in Pt)if(Object.prototype.hasOwnProperty.call(Pt,er)){var Kt="".concat(Jt).concat(it).concat(er);qt[er]=this.translate(Kt,_objectSpread$4(_objectSpread$4({},_e),{joinArrays:!1,ns:ft})),qt[er]===Kt&&(qt[er]=Pt[er])}Pt=qt}}else if(Bt&&typeof Lt=="string"&&It==="[object Array]")Pt=Pt.join(Lt),Pt&&(Pt=this.extendTranslation(Pt,j,_e,tt));else{var zt=!1,Ht=!1,Ft=_e.count!==void 0&&typeof _e.count!="string",Vt=_.hasDefaultValue(_e),Yt=Ft?this.pluralResolver.getSuffix(At,_e.count,_e):"",Zt=_e["defaultValue".concat(Yt)]||_e.defaultValue;!this.isValidLookup(Pt)&&Vt&&(zt=!0,Pt=Zt),this.isValidLookup(Pt)||(Ht=!0,Pt=lt);var nr=_e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,cr=nr&&Ht?void 0:Pt,vr=Vt&&Zt!==Pt&&this.options.updateMissing;if(Ht||zt||vr){if(this.logger.log(vr?"updateKey":"missingKey",At,_t,lt,vr?Zt:Pt),it){var Tr=this.resolve(lt,_objectSpread$4(_objectSpread$4({},_e),{},{keySeparator:!1}));Tr&&Tr.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ar=[],ur=this.languageUtils.getFallbackCodes(this.options.fallbackLng,_e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ur&&ur[0])for(var Sr=0;Sr<ur.length;Sr++)ar.push(ur[Sr]);else this.options.saveMissingTo==="all"?ar=this.languageUtils.toResolveHierarchy(_e.lng||this.language):ar.push(_e.lng||this.language);var gr=function(Er,dr,Ar){var mr=Vt&&Ar!==Pt?Ar:cr;rt.options.missingKeyHandler?rt.options.missingKeyHandler(Er,_t,dr,mr,vr,_e):rt.backendConnector&&rt.backendConnector.saveMissing&&rt.backendConnector.saveMissing(Er,_t,dr,mr,vr,_e),rt.emit("missingKey",Er,_t,dr,Pt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ft?ar.forEach(function(xr){rt.pluralResolver.getSuffixes(xr,_e).forEach(function(Er){gr([xr],lt+Er,_e["defaultValue".concat(Er)]||Zt)})}):gr(ar,lt,Zt))}Pt=this.extendTranslation(Pt,j,_e,pt,tt),Ht&&Pt===lt&&this.options.appendNamespaceToMissingKey&&(Pt="".concat(_t,":").concat(lt)),(Ht||zt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?Pt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(_t,":").concat(lt):lt,zt?Pt:void 0):Pt=this.options.parseMissingKeyHandler(Pt))}return nt?(pt.res=Pt,pt):Pt}},{key:"extendTranslation",value:function(j,_e,tt,rt,nt){var it=this;if(this.i18nFormat&&this.i18nFormat.parse)j=this.i18nFormat.parse(j,_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),tt),rt.usedLng,rt.usedNS,rt.usedKey,{resolved:rt});else if(!tt.skipInterpolation){tt.interpolation&&this.interpolator.init(_objectSpread$4(_objectSpread$4({},tt),{interpolation:_objectSpread$4(_objectSpread$4({},this.options.interpolation),tt.interpolation)}));var ot=typeof j=="string"&&(tt&&tt.interpolation&&tt.interpolation.skipOnVariables!==void 0?tt.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),lt;if(ot){var ft=j.match(this.interpolator.nestingRegexp);lt=ft&&ft.length}var _t=tt.replace&&typeof tt.replace!="string"?tt.replace:tt;if(this.options.interpolation.defaultVariables&&(_t=_objectSpread$4(_objectSpread$4({},this.options.interpolation.defaultVariables),_t)),j=this.interpolator.interpolate(j,_t,tt.lng||this.language,tt),ot){var At=j.match(this.interpolator.nestingRegexp),Tt=At&&At.length;lt<Tt&&(tt.nest=!1)}!tt.lng&&this.options.compatibilityAPI!=="v1"&&rt&&rt.res&&(tt.lng=rt.usedLng),tt.nest!==!1&&(j=this.interpolator.nest(j,function(){for(var Pt=arguments.length,$t=new Array(Pt),Ot=0;Ot<Pt;Ot++)$t[Ot]=arguments[Ot];return nt&&nt[0]===$t[0]&&!tt.context?(it.logger.warn("It seems you are nesting recursively key: ".concat($t[0]," in key: ").concat(_e[0])),null):it.translate.apply(it,$t.concat([_e]))},tt)),tt.interpolation&&this.interpolator.reset()}var Mt=tt.postProcess||this.options.postProcess,pt=typeof Mt=="string"?[Mt]:Mt;return j!=null&&pt&&pt.length&&tt.applyPostProcessor!==!1&&(j=postProcessor.handle(pt,j,_e,this.options&&this.options.postProcessPassResolved?_objectSpread$4({i18nResolved:rt},tt):tt,this)),j}},{key:"resolve",value:function(j){var _e=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt,nt,it,ot,lt;return typeof j=="string"&&(j=[j]),j.forEach(function(ft){if(!_e.isValidLookup(rt)){var _t=_e.extractFromKey(ft,tt),At=_t.key;nt=At;var Tt=_t.namespaces;_e.options.fallbackNS&&(Tt=Tt.concat(_e.options.fallbackNS));var Mt=tt.count!==void 0&&typeof tt.count!="string",pt=Mt&&!tt.ordinal&&tt.count===0&&_e.pluralResolver.shouldUseIntlApi(),Pt=tt.context!==void 0&&(typeof tt.context=="string"||typeof tt.context=="number")&&tt.context!=="",$t=tt.lngs?tt.lngs:_e.languageUtils.toResolveHierarchy(tt.lng||_e.language,tt.fallbackLng);Tt.forEach(function(Ot){_e.isValidLookup(rt)||(lt=Ot,!checkedLoadedFor["".concat($t[0],"-").concat(Ot)]&&_e.utils&&_e.utils.hasLoadedNamespace&&!_e.utils.hasLoadedNamespace(lt)&&(checkedLoadedFor["".concat($t[0],"-").concat(Ot)]=!0,_e.logger.warn('key "'.concat(nt,'" for languages "').concat($t.join(", "),`" won't get resolved as namespace "`).concat(lt,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),$t.forEach(function(It){if(!_e.isValidLookup(rt)){ot=It;var Dt=[At];if(_e.i18nFormat&&_e.i18nFormat.addLookupKeys)_e.i18nFormat.addLookupKeys(Dt,At,It,Ot,tt);else{var Lt;Mt&&(Lt=_e.pluralResolver.getSuffix(It,tt.count,tt));var Bt="".concat(_e.options.pluralSeparator,"zero");if(Mt&&(Dt.push(At+Lt),pt&&Dt.push(At+Bt)),Pt){var jt="".concat(At).concat(_e.options.contextSeparator).concat(tt.context);Dt.push(jt),Mt&&(Dt.push(jt+Lt),pt&&Dt.push(jt+Bt))}}for(var Ut;Ut=Dt.pop();)_e.isValidLookup(rt)||(it=Ut,rt=_e.getResource(It,Ot,Ut,tt))}}))})}}),{res:rt,usedKey:nt,exactUsedKey:it,usedLng:ot,usedNS:lt}}},{key:"isValidLookup",value:function(j){return j!==void 0&&!(!this.options.returnNull&&j===null)&&!(!this.options.returnEmptyString&&j==="")}},{key:"getResource",value:function(j,_e,tt){var rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(j,_e,tt,rt):this.resourceStore.getResource(j,_e,tt,rt)}}],[{key:"hasDefaultValue",value:function(j){var _e="defaultValue";for(var tt in j)if(Object.prototype.hasOwnProperty.call(j,tt)&&_e===tt.substring(0,_e.length)&&j[tt]!==void 0)return!0;return!1}}]),_}(EventEmitter);function capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)}var LanguageUtil=function(){function o(i){_classCallCheck$l(this,o),this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass$l(o,[{key:"getScriptPartFromCode",value:function(_){if(!_||_.indexOf("-")<0)return null;var $=_.split("-");return $.length===2||($.pop(),$[$.length-1].toLowerCase()==="x")?null:this.formatLanguageCode($.join("-"))}},{key:"getLanguagePartFromCode",value:function(_){if(!_||_.indexOf("-")<0)return _;var $=_.split("-");return this.formatLanguageCode($[0])}},{key:"formatLanguageCode",value:function(_){if(typeof _=="string"&&_.indexOf("-")>-1){var $=["hans","hant","latn","cyrl","cans","mong","arab"],j=_.split("-");return this.options.lowerCaseLng?j=j.map(function(_e){return _e.toLowerCase()}):j.length===2?(j[0]=j[0].toLowerCase(),j[1]=j[1].toUpperCase(),$.indexOf(j[1].toLowerCase())>-1&&(j[1]=capitalize(j[1].toLowerCase()))):j.length===3&&(j[0]=j[0].toLowerCase(),j[1].length===2&&(j[1]=j[1].toUpperCase()),j[0]!=="sgn"&&j[2].length===2&&(j[2]=j[2].toUpperCase()),$.indexOf(j[1].toLowerCase())>-1&&(j[1]=capitalize(j[1].toLowerCase())),$.indexOf(j[2].toLowerCase())>-1&&(j[2]=capitalize(j[2].toLowerCase()))),j.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?_.toLowerCase():_}},{key:"isSupportedCode",value:function(_){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(_=this.getLanguagePartFromCode(_)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(_)>-1}},{key:"getBestMatchFromCodes",value:function(_){var $=this;if(!_)return null;var j;return _.forEach(function(_e){if(!j){var tt=$.formatLanguageCode(_e);(!$.options.supportedLngs||$.isSupportedCode(tt))&&(j=tt)}}),!j&&this.options.supportedLngs&&_.forEach(function(_e){if(!j){var tt=$.getLanguagePartFromCode(_e);if($.isSupportedCode(tt))return j=tt;j=$.options.supportedLngs.find(function(rt){if(rt===tt)return rt;if(!(rt.indexOf("-")<0&&tt.indexOf("-")<0)&&rt.indexOf(tt)===0)return rt})}}),j||(j=this.getFallbackCodes(this.options.fallbackLng)[0]),j}},{key:"getFallbackCodes",value:function(_,$){if(!_)return[];if(typeof _=="function"&&(_=_($)),typeof _=="string"&&(_=[_]),Object.prototype.toString.apply(_)==="[object Array]")return _;if(!$)return _.default||[];var j=_[$];return j||(j=_[this.getScriptPartFromCode($)]),j||(j=_[this.formatLanguageCode($)]),j||(j=_[this.getLanguagePartFromCode($)]),j||(j=_.default),j||[]}},{key:"toResolveHierarchy",value:function(_,$){var j=this,_e=this.getFallbackCodes($||this.options.fallbackLng||[],_),tt=[],rt=function(it){it&&(j.isSupportedCode(it)?tt.push(it):j.logger.warn("rejecting language code not found in supportedLngs: ".concat(it)))};return typeof _=="string"&&_.indexOf("-")>-1?(this.options.load!=="languageOnly"&&rt(this.formatLanguageCode(_)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&rt(this.getScriptPartFromCode(_)),this.options.load!=="currentOnly"&&rt(this.getLanguagePartFromCode(_))):typeof _=="string"&&rt(this.formatLanguageCode(_)),_e.forEach(function(nt){tt.indexOf(nt)<0&&rt(j.formatLanguageCode(nt))}),tt}}]),o}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function o(i){return+(i>1)},2:function o(i){return+(i!=1)},3:function o(i){return 0},4:function o(i){return i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},5:function o(i){return i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5},6:function o(i){return i==1?0:i>=2&&i<=4?1:2},7:function o(i){return i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},8:function o(i){return i==1?0:i==2?1:i!=8&&i!=11?2:3},9:function o(i){return+(i>=2)},10:function o(i){return i==1?0:i==2?1:i<7?2:i<11?3:4},11:function o(i){return i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3},12:function o(i){return+(i%10!=1||i%100==11)},13:function o(i){return+(i!==0)},14:function o(i){return i==1?0:i==2?1:i==3?2:3},15:function o(i){return i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2},16:function o(i){return i%10==1&&i%100!=11?0:i!==0?1:2},17:function o(i){return i==1||i%10==1&&i%100!=11?0:1},18:function o(i){return i==0?0:i==1?1:2},19:function o(i){return i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3},20:function o(i){return i==1?0:i==0||i%100>0&&i%100<20?1:2},21:function o(i){return i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0},22:function o(i){return i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var o={};return sets.forEach(function(i){i.lngs.forEach(function(_){o[_]={numbers:i.nr,plurals:_rulesPluralsTypes[i.fc]}})}),o}var PluralResolver=function(){function o(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$l(this,o),this.languageUtils=i,this.options=_,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass$l(o,[{key:"addRule",value:function(_,$){this.rules[_]=$}},{key:"getRule",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(_,{type:$.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[_]||this.rules[this.languageUtils.getLanguagePartFromCode(_)]}},{key:"needsPlural",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=this.getRule(_,$);return this.shouldUseIntlApi()?j&&j.resolvedOptions().pluralCategories.length>1:j&&j.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(_,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(_,j).map(function(_e){return"".concat($).concat(_e)})}},{key:"getSuffixes",value:function(_){var $=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=this.getRule(_,j);return _e?this.shouldUseIntlApi()?_e.resolvedOptions().pluralCategories.sort(function(tt,rt){return suffixesOrder[tt]-suffixesOrder[rt]}).map(function(tt){return"".concat($.options.prepend).concat(tt)}):_e.numbers.map(function(tt){return $.getSuffix(_,tt,j)}):[]}},{key:"getSuffix",value:function(_,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=this.getRule(_,j);return _e?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(_e.select($)):this.getSuffixRetroCompatible(_e,$):(this.logger.warn("no plural rule found for: ".concat(_)),"")}},{key:"getSuffixRetroCompatible",value:function(_,$){var j=this,_e=_.noAbs?_.plurals($):_.plurals(Math.abs($)),tt=_.numbers[_e];this.options.simplifyPluralSuffix&&_.numbers.length===2&&_.numbers[0]===1&&(tt===2?tt="plural":tt===1&&(tt=""));var rt=function(){return j.options.prepend&&tt.toString()?j.options.prepend+tt.toString():tt.toString()};return this.options.compatibilityJSON==="v1"?tt===1?"":typeof tt=="number"?"_plural_".concat(tt.toString()):rt():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&_.numbers.length===2&&_.numbers[0]===1?rt():this.options.prepend&&_e.toString()?this.options.prepend+_e.toString():_e.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),o}();function ownKeys$3(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$3(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$3(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$3(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function deepFindWithDefaults(o,i,_){var $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,_e=getPathWithDefaults(o,i,_);return!_e&&j&&typeof _=="string"&&(_e=deepFind(o,_,$),_e===void 0&&(_e=deepFind(i,_,$))),_e}var Interpolator=function(){function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$l(this,o),this.logger=baseLogger.create("interpolator"),this.options=i,this.format=i.interpolation&&i.interpolation.format||function(_){return _},this.init(i)}return _createClass$l(o,[{key:"init",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_.interpolation||(_.interpolation={escapeValue:!0});var $=_.interpolation;this.escape=$.escape!==void 0?$.escape:escape,this.escapeValue=$.escapeValue!==void 0?$.escapeValue:!0,this.useRawValueToEscape=$.useRawValueToEscape!==void 0?$.useRawValueToEscape:!1,this.prefix=$.prefix?regexEscape($.prefix):$.prefixEscaped||"{{",this.suffix=$.suffix?regexEscape($.suffix):$.suffixEscaped||"}}",this.formatSeparator=$.formatSeparator?$.formatSeparator:$.formatSeparator||",",this.unescapePrefix=$.unescapeSuffix?"":$.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":$.unescapeSuffix||"",this.nestingPrefix=$.nestingPrefix?regexEscape($.nestingPrefix):$.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=$.nestingSuffix?regexEscape($.nestingSuffix):$.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=$.nestingOptionsSeparator?$.nestingOptionsSeparator:$.nestingOptionsSeparator||",",this.maxReplaces=$.maxReplaces?$.maxReplaces:1e3,this.alwaysFormat=$.alwaysFormat!==void 0?$.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var _="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(_,"g");var $="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp($,"g");var j="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(j,"g")}},{key:"interpolate",value:function(_,$,j,_e){var tt=this,rt,nt,it,ot=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function lt(Mt){return Mt.replace(/\$/g,"$$$$")}var ft=function(pt){if(pt.indexOf(tt.formatSeparator)<0){var Pt=deepFindWithDefaults($,ot,pt,tt.options.keySeparator,tt.options.ignoreJSONStructure);return tt.alwaysFormat?tt.format(Pt,void 0,j,_objectSpread$3(_objectSpread$3(_objectSpread$3({},_e),$),{},{interpolationkey:pt})):Pt}var $t=pt.split(tt.formatSeparator),Ot=$t.shift().trim(),It=$t.join(tt.formatSeparator).trim();return tt.format(deepFindWithDefaults($,ot,Ot,tt.options.keySeparator,tt.options.ignoreJSONStructure),It,j,_objectSpread$3(_objectSpread$3(_objectSpread$3({},_e),$),{},{interpolationkey:Ot}))};this.resetRegExp();var _t=_e&&_e.missingInterpolationHandler||this.options.missingInterpolationHandler,At=_e&&_e.interpolation&&_e.interpolation.skipOnVariables!==void 0?_e.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,Tt=[{regex:this.regexpUnescape,safeValue:function(pt){return lt(pt)}},{regex:this.regexp,safeValue:function(pt){return tt.escapeValue?lt(tt.escape(pt)):lt(pt)}}];return Tt.forEach(function(Mt){for(it=0;rt=Mt.regex.exec(_);){var pt=rt[1].trim();if(nt=ft(pt),nt===void 0)if(typeof _t=="function"){var Pt=_t(_,rt,_e);nt=typeof Pt=="string"?Pt:""}else if(_e&&Object.prototype.hasOwnProperty.call(_e,pt))nt="";else if(At){nt=rt[0];continue}else tt.logger.warn("missed to pass in variable ".concat(pt," for interpolating ").concat(_)),nt="";else typeof nt!="string"&&!tt.useRawValueToEscape&&(nt=makeString(nt));var $t=Mt.safeValue(nt);if(_=_.replace(rt[0],$t),At?(Mt.regex.lastIndex+=nt.length,Mt.regex.lastIndex-=rt[0].length):Mt.regex.lastIndex=0,it++,it>=tt.maxReplaces)break}}),_}},{key:"nest",value:function(_,$){var j=this,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt,rt,nt;function it(_t,At){var Tt=this.nestingOptionsSeparator;if(_t.indexOf(Tt)<0)return _t;var Mt=_t.split(new RegExp("".concat(Tt,"[ ]*{"))),pt="{".concat(Mt[1]);_t=Mt[0],pt=this.interpolate(pt,nt);var Pt=pt.match(/'/g),$t=pt.match(/"/g);(Pt&&Pt.length%2===0&&!$t||$t.length%2!==0)&&(pt=pt.replace(/'/g,'"'));try{nt=JSON.parse(pt),At&&(nt=_objectSpread$3(_objectSpread$3({},At),nt))}catch(Ot){return this.logger.warn("failed parsing options string in nesting for key ".concat(_t),Ot),"".concat(_t).concat(Tt).concat(pt)}return delete nt.defaultValue,_t}for(;tt=this.nestingRegexp.exec(_);){var ot=[];nt=_objectSpread$3({},_e),nt=nt.replace&&typeof nt.replace!="string"?nt.replace:nt,nt.applyPostProcessor=!1,delete nt.defaultValue;var lt=!1;if(tt[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(tt[1])){var ft=tt[1].split(this.formatSeparator).map(function(_t){return _t.trim()});tt[1]=ft.shift(),ot=ft,lt=!0}if(rt=$(it.call(this,tt[1].trim(),nt),nt),rt&&tt[0]===_&&typeof rt!="string")return rt;typeof rt!="string"&&(rt=makeString(rt)),rt||(this.logger.warn("missed to resolve ".concat(tt[1]," for nesting ").concat(_)),rt=""),lt&&(rt=ot.reduce(function(_t,At){return j.format(_t,At,_e.lng,_objectSpread$3(_objectSpread$3({},_e),{},{interpolationkey:tt[1].trim()}))},rt.trim())),_=_.replace(tt[0],rt),this.regexp.lastIndex=0}return _}}]),o}();function ownKeys$2(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$2(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$2(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$2(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function parseFormatStr(o){var i=o.toLowerCase().trim(),_={};if(o.indexOf("(")>-1){var $=o.split("(");i=$[0].toLowerCase().trim();var j=$[1].substring(0,$[1].length-1);if(i==="currency"&&j.indexOf(":")<0)_.currency||(_.currency=j.trim());else if(i==="relativetime"&&j.indexOf(":")<0)_.range||(_.range=j.trim());else{var _e=j.split(";");_e.forEach(function(tt){if(tt){var rt=tt.split(":"),nt=_toArray(rt),it=nt[0],ot=nt.slice(1),lt=ot.join(":").trim().replace(/^'+|'+$/g,"");_[it.trim()]||(_[it.trim()]=lt),lt==="false"&&(_[it.trim()]=!1),lt==="true"&&(_[it.trim()]=!0),isNaN(lt)||(_[it.trim()]=parseInt(lt,10))}})}}return{formatName:i,formatOptions:_}}function createCachedFormatter(o){var i={};return function($,j,_e){var tt=j+JSON.stringify(_e),rt=i[tt];return rt||(rt=o(j,_e),i[tt]=rt),rt($)}}var Formatter=function(){function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$l(this,o),this.logger=baseLogger.create("formatter"),this.options=i,this.formats={number:createCachedFormatter(function(_,$){var j=new Intl.NumberFormat(_,_objectSpread$2({},$));return function(_e){return j.format(_e)}}),currency:createCachedFormatter(function(_,$){var j=new Intl.NumberFormat(_,_objectSpread$2(_objectSpread$2({},$),{},{style:"currency"}));return function(_e){return j.format(_e)}}),datetime:createCachedFormatter(function(_,$){var j=new Intl.DateTimeFormat(_,_objectSpread$2({},$));return function(_e){return j.format(_e)}}),relativetime:createCachedFormatter(function(_,$){var j=new Intl.RelativeTimeFormat(_,_objectSpread$2({},$));return function(_e){return j.format(_e,$.range||"day")}}),list:createCachedFormatter(function(_,$){var j=new Intl.ListFormat(_,_objectSpread$2({},$));return function(_e){return j.format(_e)}})},this.init(i)}return _createClass$l(o,[{key:"init",value:function(_){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},j=$.interpolation;this.formatSeparator=j.formatSeparator?j.formatSeparator:j.formatSeparator||","}},{key:"add",value:function(_,$){this.formats[_.toLowerCase().trim()]=$}},{key:"addCached",value:function(_,$){this.formats[_.toLowerCase().trim()]=createCachedFormatter($)}},{key:"format",value:function(_,$,j){var _e=this,tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},rt=$.split(this.formatSeparator),nt=rt.reduce(function(it,ot){var lt=parseFormatStr(ot),ft=lt.formatName,_t=lt.formatOptions;if(_e.formats[ft]){var At=it;try{var Tt=tt&&tt.formatParams&&tt.formatParams[tt.interpolationkey]||{},Mt=Tt.locale||Tt.lng||tt.locale||tt.lng||j;At=_e.formats[ft](it,Mt,_objectSpread$2(_objectSpread$2(_objectSpread$2({},_t),tt),Tt))}catch(pt){_e.logger.warn(pt)}return At}else _e.logger.warn("there was no format function for ".concat(ft));return it},_);return nt}}]),o}();function ownKeys$1(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread$1(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys$1(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _createSuper$1(o){var i=_isNativeReflectConstruct$1();return function(){var $=_getPrototypeOf(o),j;if(i){var _e=_getPrototypeOf(this).constructor;j=Reflect.construct($,arguments,_e)}else j=$.apply(this,arguments);return _possibleConstructorReturn(this,j)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function removePending(o,i){o.pending[i]!==void 0&&(delete o.pending[i],o.pendingCount--)}var Connector=function(o){_inherits(_,o);var i=_createSuper$1(_);function _($,j,_e){var tt,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck$l(this,_),tt=i.call(this),isIE10&&EventEmitter.call(_assertThisInitialized$c(tt)),tt.backend=$,tt.store=j,tt.services=_e,tt.languageUtils=_e.languageUtils,tt.options=rt,tt.logger=baseLogger.create("backendConnector"),tt.waitingReads=[],tt.maxParallelReads=rt.maxParallelReads||10,tt.readingCalls=0,tt.maxRetries=rt.maxRetries>=0?rt.maxRetries:5,tt.retryTimeout=rt.retryTimeout>=1?rt.retryTimeout:350,tt.state={},tt.queue=[],tt.backend&&tt.backend.init&&tt.backend.init(_e,rt.backend,rt),tt}return _createClass$l(_,[{key:"queueLoad",value:function(j,_e,tt,rt){var nt=this,it={},ot={},lt={},ft={};return j.forEach(function(_t){var At=!0;_e.forEach(function(Tt){var Mt="".concat(_t,"|").concat(Tt);!tt.reload&&nt.store.hasResourceBundle(_t,Tt)?nt.state[Mt]=2:nt.state[Mt]<0||(nt.state[Mt]===1?ot[Mt]===void 0&&(ot[Mt]=!0):(nt.state[Mt]=1,At=!1,ot[Mt]===void 0&&(ot[Mt]=!0),it[Mt]===void 0&&(it[Mt]=!0),ft[Tt]===void 0&&(ft[Tt]=!0)))}),At||(lt[_t]=!0)}),(Object.keys(it).length||Object.keys(ot).length)&&this.queue.push({pending:ot,pendingCount:Object.keys(ot).length,loaded:{},errors:[],callback:rt}),{toLoad:Object.keys(it),pending:Object.keys(ot),toLoadLanguages:Object.keys(lt),toLoadNamespaces:Object.keys(ft)}}},{key:"loaded",value:function(j,_e,tt){var rt=j.split("|"),nt=rt[0],it=rt[1];_e&&this.emit("failedLoading",nt,it,_e),tt&&this.store.addResourceBundle(nt,it,tt),this.state[j]=_e?-1:2;var ot={};this.queue.forEach(function(lt){pushPath(lt.loaded,[nt],it),removePending(lt,j),_e&&lt.errors.push(_e),lt.pendingCount===0&&!lt.done&&(Object.keys(lt.loaded).forEach(function(ft){ot[ft]||(ot[ft]={});var _t=lt.loaded[ft];_t.length&&_t.forEach(function(At){ot[ft][At]===void 0&&(ot[ft][At]=!0)})}),lt.done=!0,lt.errors.length?lt.callback(lt.errors):lt.callback())}),this.emit("loaded",ot),this.queue=this.queue.filter(function(lt){return!lt.done})}},{key:"read",value:function(j,_e,tt){var rt=this,nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,ot=arguments.length>5?arguments[5]:void 0;if(!j.length)return ot(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:j,ns:_e,fcName:tt,tried:nt,wait:it,callback:ot});return}this.readingCalls++;var lt=function(Tt,Mt){if(rt.readingCalls--,rt.waitingReads.length>0){var pt=rt.waitingReads.shift();rt.read(pt.lng,pt.ns,pt.fcName,pt.tried,pt.wait,pt.callback)}if(Tt&&Mt&&nt<rt.maxRetries){setTimeout(function(){rt.read.call(rt,j,_e,tt,nt+1,it*2,ot)},it);return}ot(Tt,Mt)},ft=this.backend[tt].bind(this.backend);if(ft.length===2){try{var _t=ft(j,_e);_t&&typeof _t.then=="function"?_t.then(function(At){return lt(null,At)}).catch(lt):lt(null,_t)}catch(At){lt(At)}return}return ft(j,_e,lt)}},{key:"prepareLoading",value:function(j,_e){var tt=this,rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),nt&&nt();typeof j=="string"&&(j=this.languageUtils.toResolveHierarchy(j)),typeof _e=="string"&&(_e=[_e]);var it=this.queueLoad(j,_e,rt,nt);if(!it.toLoad.length)return it.pending.length||nt(),null;it.toLoad.forEach(function(ot){tt.loadOne(ot)})}},{key:"load",value:function(j,_e,tt){this.prepareLoading(j,_e,{},tt)}},{key:"reload",value:function(j,_e,tt){this.prepareLoading(j,_e,{reload:!0},tt)}},{key:"loadOne",value:function(j){var _e=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",rt=j.split("|"),nt=rt[0],it=rt[1];this.read(nt,it,"read",void 0,void 0,function(ot,lt){ot&&_e.logger.warn("".concat(tt,"loading namespace ").concat(it," for language ").concat(nt," failed"),ot),!ot&&lt&&_e.logger.log("".concat(tt,"loaded namespace ").concat(it," for language ").concat(nt),lt),_e.loaded(j,ot,lt)})}},{key:"saveMissing",value:function(j,_e,tt,rt,nt){var it=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},ot=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(_e)){this.logger.warn('did not save key "'.concat(tt,'" as the namespace "').concat(_e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(tt==null||tt==="")){if(this.backend&&this.backend.create){var lt=_objectSpread$1(_objectSpread$1({},it),{},{isUpdate:nt}),ft=this.backend.create.bind(this.backend);if(ft.length<6)try{var _t;ft.length===5?_t=ft(j,_e,tt,rt,lt):_t=ft(j,_e,tt,rt),_t&&typeof _t.then=="function"?_t.then(function(At){return ot(null,At)}).catch(ot):ot(null,_t)}catch(At){ot(At)}else ft(j,_e,tt,rt,ot,lt)}!j||!j[0]||this.store.addResource(j[0],_e,tt,rt)}}}]),_}(EventEmitter);function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(i){var _={};if(_typeof$K(i[1])==="object"&&(_=i[1]),typeof i[1]=="string"&&(_.defaultValue=i[1]),typeof i[2]=="string"&&(_.tDescription=i[2]),_typeof$K(i[2])==="object"||_typeof$K(i[3])==="object"){var $=i[3]||i[2];Object.keys($).forEach(function(j){_[j]=$[j]})}return _},interpolation:{escapeValue:!0,format:function(i,_,$,j){return i},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(o){return typeof o.ns=="string"&&(o.ns=[o.ns]),typeof o.fallbackLng=="string"&&(o.fallbackLng=[o.fallbackLng]),typeof o.fallbackNS=="string"&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs&&o.supportedLngs.indexOf("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),o}function ownKeys(o,i){var _=Object.keys(o);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(o);i&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(o,j).enumerable})),_.push.apply(_,$)}return _}function _objectSpread(o){for(var i=1;i<arguments.length;i++){var _=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(_),!0).forEach(function($){_defineProperty$I(o,$,_[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function($){Object.defineProperty(o,$,Object.getOwnPropertyDescriptor(_,$))})}return o}function _createSuper(o){var i=_isNativeReflectConstruct();return function(){var $=_getPrototypeOf(o),j;if(i){var _e=_getPrototypeOf(this).constructor;j=Reflect.construct($,arguments,_e)}else j=$.apply(this,arguments);return _possibleConstructorReturn(this,j)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function noop(){}function bindMemberFunctions(o){var i=Object.getOwnPropertyNames(Object.getPrototypeOf(o));i.forEach(function(_){typeof o[_]=="function"&&(o[_]=o[_].bind(o))})}var I18n=function(o){_inherits(_,o);var i=_createSuper(_);function _(){var $,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$l(this,_),$=i.call(this),isIE10&&EventEmitter.call(_assertThisInitialized$c($)),$.options=transformOptions(j),$.services={},$.logger=baseLogger,$.modules={external:[]},bindMemberFunctions(_assertThisInitialized$c($)),_e&&!$.isInitialized&&!j.isClone){if(!$.options.initImmediate)return $.init(j,_e),_possibleConstructorReturn($,_assertThisInitialized$c($));setTimeout(function(){$.init(j,_e)},0)}return $}return _createClass$l(_,[{key:"init",value:function(){var j=this,_e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=arguments.length>1?arguments[1]:void 0;typeof _e=="function"&&(tt=_e,_e={}),!_e.defaultNS&&_e.defaultNS!==!1&&_e.ns&&(typeof _e.ns=="string"?_e.defaultNS=_e.ns:_e.ns.indexOf("translation")<0&&(_e.defaultNS=_e.ns[0]));var rt=get();this.options=_objectSpread(_objectSpread(_objectSpread({},rt),this.options),transformOptions(_e)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_objectSpread(_objectSpread({},rt.interpolation),this.options.interpolation)),_e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=_e.keySeparator),_e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=_e.nsSeparator);function nt(pt){return pt?typeof pt=="function"?new pt:pt:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(nt(this.modules.logger),this.options):baseLogger.init(null,this.options);var it;this.modules.formatter?it=this.modules.formatter:typeof Intl<"u"&&(it=Formatter);var ot=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var lt=this.services;lt.logger=baseLogger,lt.resourceStore=this.store,lt.languageUtils=ot,lt.pluralResolver=new PluralResolver(ot,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),it&&(!this.options.interpolation.format||this.options.interpolation.format===rt.interpolation.format)&&(lt.formatter=nt(it),lt.formatter.init(lt,this.options),this.options.interpolation.format=lt.formatter.format.bind(lt.formatter)),lt.interpolator=new Interpolator(this.options),lt.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},lt.backendConnector=new Connector(nt(this.modules.backend),lt.resourceStore,lt,this.options),lt.backendConnector.on("*",function(pt){for(var Pt=arguments.length,$t=new Array(Pt>1?Pt-1:0),Ot=1;Ot<Pt;Ot++)$t[Ot-1]=arguments[Ot];j.emit.apply(j,[pt].concat($t))}),this.modules.languageDetector&&(lt.languageDetector=nt(this.modules.languageDetector),lt.languageDetector.init&&lt.languageDetector.init(lt,this.options.detection,this.options)),this.modules.i18nFormat&&(lt.i18nFormat=nt(this.modules.i18nFormat),lt.i18nFormat.init&&lt.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(pt){for(var Pt=arguments.length,$t=new Array(Pt>1?Pt-1:0),Ot=1;Ot<Pt;Ot++)$t[Ot-1]=arguments[Ot];j.emit.apply(j,[pt].concat($t))}),this.modules.external.forEach(function(pt){pt.init&&pt.init(j)})}if(this.format=this.options.interpolation.format,tt||(tt=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var ft=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ft.length>0&&ft[0]!=="dev"&&(this.options.lng=ft[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var _t=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];_t.forEach(function(pt){j[pt]=function(){var Pt;return(Pt=j.store)[pt].apply(Pt,arguments)}});var At=["addResource","addResources","addResourceBundle","removeResourceBundle"];At.forEach(function(pt){j[pt]=function(){var Pt;return(Pt=j.store)[pt].apply(Pt,arguments),j}});var Tt=defer(),Mt=function(){var Pt=function(Ot,It){j.isInitialized&&!j.initializedStoreOnce&&j.logger.warn("init: i18next is already initialized. You should call init just once!"),j.isInitialized=!0,j.options.isClone||j.logger.log("initialized",j.options),j.emit("initialized",j.options),Tt.resolve(It),tt(Ot,It)};if(j.languages&&j.options.compatibilityAPI!=="v1"&&!j.isInitialized)return Pt(null,j.t.bind(j));j.changeLanguage(j.options.lng,Pt)};return this.options.resources||!this.options.initImmediate?Mt():setTimeout(Mt,0),Tt}},{key:"loadResources",value:function(j){var _e=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop,rt=tt,nt=typeof j=="string"?j:this.language;if(typeof j=="function"&&(rt=j),!this.options.resources||this.options.partialBundledLanguages){if(nt&&nt.toLowerCase()==="cimode")return rt();var it=[],ot=function(_t){if(_t){var At=_e.services.languageUtils.toResolveHierarchy(_t);At.forEach(function(Tt){it.indexOf(Tt)<0&&it.push(Tt)})}};if(nt)ot(nt);else{var lt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);lt.forEach(function(ft){return ot(ft)})}this.options.preload&&this.options.preload.forEach(function(ft){return ot(ft)}),this.services.backendConnector.load(it,this.options.ns,function(ft){!ft&&!_e.resolvedLanguage&&_e.language&&_e.setResolvedLanguage(_e.language),rt(ft)})}else rt(null)}},{key:"reloadResources",value:function(j,_e,tt){var rt=defer();return j||(j=this.languages),_e||(_e=this.options.ns),tt||(tt=noop),this.services.backendConnector.reload(j,_e,function(nt){rt.resolve(),tt(nt)}),rt}},{key:"use",value:function(j){if(!j)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!j.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return j.type==="backend"&&(this.modules.backend=j),(j.type==="logger"||j.log&&j.warn&&j.error)&&(this.modules.logger=j),j.type==="languageDetector"&&(this.modules.languageDetector=j),j.type==="i18nFormat"&&(this.modules.i18nFormat=j),j.type==="postProcessor"&&postProcessor.addPostProcessor(j),j.type==="formatter"&&(this.modules.formatter=j),j.type==="3rdParty"&&this.modules.external.push(j),this}},{key:"setResolvedLanguage",value:function(j){if(!(!j||!this.languages)&&!(["cimode","dev"].indexOf(j)>-1))for(var _e=0;_e<this.languages.length;_e++){var tt=this.languages[_e];if(!(["cimode","dev"].indexOf(tt)>-1)&&this.store.hasLanguageSomeTranslations(tt)){this.resolvedLanguage=tt;break}}}},{key:"changeLanguage",value:function(j,_e){var tt=this;this.isLanguageChangingTo=j;var rt=defer();this.emit("languageChanging",j);var nt=function(ft){tt.language=ft,tt.languages=tt.services.languageUtils.toResolveHierarchy(ft),tt.resolvedLanguage=void 0,tt.setResolvedLanguage(ft)},it=function(ft,_t){_t?(nt(_t),tt.translator.changeLanguage(_t),tt.isLanguageChangingTo=void 0,tt.emit("languageChanged",_t),tt.logger.log("languageChanged",_t)):tt.isLanguageChangingTo=void 0,rt.resolve(function(){return tt.t.apply(tt,arguments)}),_e&&_e(ft,function(){return tt.t.apply(tt,arguments)})},ot=function(ft){!j&&!ft&&tt.services.languageDetector&&(ft=[]);var _t=typeof ft=="string"?ft:tt.services.languageUtils.getBestMatchFromCodes(ft);_t&&(tt.language||nt(_t),tt.translator.language||tt.translator.changeLanguage(_t),tt.services.languageDetector&&tt.services.languageDetector.cacheUserLanguage&&tt.services.languageDetector.cacheUserLanguage(_t)),tt.loadResources(_t,function(At){it(At,_t)})};return!j&&this.services.languageDetector&&!this.services.languageDetector.async?ot(this.services.languageDetector.detect()):!j&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(ot):this.services.languageDetector.detect(ot):ot(j),rt}},{key:"getFixedT",value:function(j,_e,tt){var rt=this,nt=function it(ot,lt){var ft;if(_typeof$K(lt)!=="object"){for(var _t=arguments.length,At=new Array(_t>2?_t-2:0),Tt=2;Tt<_t;Tt++)At[Tt-2]=arguments[Tt];ft=rt.options.overloadTranslationOptionHandler([ot,lt].concat(At))}else ft=_objectSpread({},lt);ft.lng=ft.lng||it.lng,ft.lngs=ft.lngs||it.lngs,ft.ns=ft.ns||it.ns,ft.keyPrefix=ft.keyPrefix||tt||it.keyPrefix;var Mt=rt.options.keySeparator||".",pt;return ft.keyPrefix&&Array.isArray(ot)?pt=ot.map(function(Pt){return"".concat(ft.keyPrefix).concat(Mt).concat(Pt)}):pt=ft.keyPrefix?"".concat(ft.keyPrefix).concat(Mt).concat(ot):ot,rt.t(pt,ft)};return typeof j=="string"?nt.lng=j:nt.lngs=j,nt.ns=_e,nt.keyPrefix=tt,nt}},{key:"t",value:function(){var j;return this.translator&&(j=this.translator).translate.apply(j,arguments)}},{key:"exists",value:function(){var j;return this.translator&&(j=this.translator).exists.apply(j,arguments)}},{key:"setDefaultNamespace",value:function(j){this.options.defaultNS=j}},{key:"hasLoadedNamespace",value:function(j){var _e=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var rt=tt.lng||this.resolvedLanguage||this.languages[0],nt=this.options?this.options.fallbackLng:!1,it=this.languages[this.languages.length-1];if(rt.toLowerCase()==="cimode")return!0;var ot=function(_t,At){var Tt=_e.services.backendConnector.state["".concat(_t,"|").concat(At)];return Tt===-1||Tt===2};if(tt.precheck){var lt=tt.precheck(this,ot);if(lt!==void 0)return lt}return!!(this.hasResourceBundle(rt,j)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||ot(rt,j)&&(!nt||ot(it,j)))}},{key:"loadNamespaces",value:function(j,_e){var tt=this,rt=defer();return this.options.ns?(typeof j=="string"&&(j=[j]),j.forEach(function(nt){tt.options.ns.indexOf(nt)<0&&tt.options.ns.push(nt)}),this.loadResources(function(nt){rt.resolve(),_e&&_e(nt)}),rt):(_e&&_e(),Promise.resolve())}},{key:"loadLanguages",value:function(j,_e){var tt=defer();typeof j=="string"&&(j=[j]);var rt=this.options.preload||[],nt=j.filter(function(it){return rt.indexOf(it)<0});return nt.length?(this.options.preload=rt.concat(nt),this.loadResources(function(it){tt.resolve(),_e&&_e(it)}),tt):(_e&&_e(),Promise.resolve())}},{key:"dir",value:function(j){if(j||(j=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!j)return"rtl";var _e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],tt=this.services&&this.services.languageUtils||new LanguageUtil(get());return _e.indexOf(tt.getLanguagePartFromCode(j))>-1||j.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var j=this,_e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop,rt=_objectSpread(_objectSpread(_objectSpread({},this.options),_e),{isClone:!0}),nt=new _(rt);(_e.debug!==void 0||_e.prefix!==void 0)&&(nt.logger=nt.logger.clone(_e));var it=["store","services","language"];return it.forEach(function(ot){nt[ot]=j[ot]}),nt.services=_objectSpread({},this.services),nt.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},nt.translator=new Translator(nt.services,nt.options),nt.translator.on("*",function(ot){for(var lt=arguments.length,ft=new Array(lt>1?lt-1:0),_t=1;_t<lt;_t++)ft[_t-1]=arguments[_t];nt.emit.apply(nt,[ot].concat(ft))}),nt.init(rt,tt),nt.translator.options=nt.options,nt.translator.backendConnector.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},nt}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),_}(EventEmitter);_defineProperty$I(I18n,"createInstance",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new I18n(o,i)});var instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const{slice,forEach}=[];function defaults(o){return forEach.call(slice.call(arguments,1),i=>{if(i)for(const _ in i)o[_]===void 0&&(o[_]=i[_])}),o}function hasXSS(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(_=>_.test(o))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(o,i){const $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},j=encodeURIComponent(i);let _e=`${o}=${j}`;if($.maxAge>0){const tt=$.maxAge-0;if(Number.isNaN(tt))throw new Error("maxAge should be a Number");_e+=`; Max-Age=${Math.floor(tt)}`}if($.domain){if(!fieldContentRegExp.test($.domain))throw new TypeError("option domain is invalid");_e+=`; Domain=${$.domain}`}if($.path){if(!fieldContentRegExp.test($.path))throw new TypeError("option path is invalid");_e+=`; Path=${$.path}`}if($.expires){if(typeof $.expires.toUTCString!="function")throw new TypeError("option expires is invalid");_e+=`; Expires=${$.expires.toUTCString()}`}if($.httpOnly&&(_e+="; HttpOnly"),$.secure&&(_e+="; Secure"),$.sameSite)switch(typeof $.sameSite=="string"?$.sameSite.toLowerCase():$.sameSite){case!0:_e+="; SameSite=Strict";break;case"lax":_e+="; SameSite=Lax";break;case"strict":_e+="; SameSite=Strict";break;case"none":_e+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return $.partitioned&&(_e+="; Partitioned"),_e},cookie={create(o,i,_,$){let j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};_&&(j.expires=new Date,j.expires.setTime(j.expires.getTime()+_*60*1e3)),$&&(j.domain=$),document.cookie=serializeCookie(o,i,j)},read(o){const i=`${o}=`,_=document.cookie.split(";");for(let $=0;$<_.length;$++){let j=_[$];for(;j.charAt(0)===" ";)j=j.substring(1,j.length);if(j.indexOf(i)===0)return j.substring(i.length,j.length)}return null},remove(o,i){this.create(o,"",-1,i)}};var cookie$1={name:"cookie",lookup(o){let{lookupCookie:i}=o;if(i&&typeof document<"u")return cookie.read(i)||void 0},cacheUserLanguage(o,i){let{lookupCookie:_,cookieMinutes:$,cookieDomain:j,cookieOptions:_e}=i;_&&typeof document<"u"&&cookie.create(_,o,$,j,_e)}},querystring={name:"querystring",lookup(o){var $;let{lookupQuerystring:i}=o,_;if(typeof window<"u"){let{search:j}=window.location;!window.location.search&&(($=window.location.hash)==null?void 0:$.indexOf("?"))>-1&&(j=window.location.hash.substring(window.location.hash.indexOf("?")));const tt=j.substring(1).split("&");for(let rt=0;rt<tt.length;rt++){const nt=tt[rt].indexOf("=");nt>0&&tt[rt].substring(0,nt)===i&&(_=tt[rt].substring(nt+1))}}return _}},hash={name:"hash",lookup(o){var j;let{lookupHash:i,lookupFromHashIndex:_}=o,$;if(typeof window<"u"){const{hash:_e}=window.location;if(_e&&_e.length>2){const tt=_e.substring(1);if(i){const rt=tt.split("&");for(let nt=0;nt<rt.length;nt++){const it=rt[nt].indexOf("=");it>0&&rt[nt].substring(0,it)===i&&($=rt[nt].substring(it+1))}}if($)return $;if(!$&&_>-1){const rt=_e.match(/\/([a-zA-Z-]*)/g);return Array.isArray(rt)?(j=rt[typeof _=="number"?_:0])==null?void 0:j.replace("/",""):void 0}}}return $}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(o){let{lookupLocalStorage:i}=o;if(i&&localStorageAvailable())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(o,i){let{lookupLocalStorage:_}=i;_&&localStorageAvailable()&&window.localStorage.setItem(_,o)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(o){let{lookupSessionStorage:i}=o;if(i&&sessionStorageAvailable())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(o,i){let{lookupSessionStorage:_}=i;_&&sessionStorageAvailable()&&window.sessionStorage.setItem(_,o)}},navigator$1={name:"navigator",lookup(o){const i=[];if(typeof navigator<"u"){const{languages:_,userLanguage:$,language:j}=navigator;if(_)for(let _e=0;_e<_.length;_e++)i.push(_[_e]);$&&i.push($),j&&i.push(j)}return i.length>0?i:void 0}},htmlTag={name:"htmlTag",lookup(o){let{htmlTag:i}=o,_;const $=i||(typeof document<"u"?document.documentElement:null);return $&&typeof $.getAttribute=="function"&&(_=$.getAttribute("lang")),_}},path={name:"path",lookup(o){var j;let{lookupFromPathIndex:i}=o;if(typeof window>"u")return;const _=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(_)?(j=_[typeof i=="number"?i:0])==null?void 0:j.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(o){var j,_e;let{lookupFromSubdomainIndex:i}=o;const _=typeof i=="number"?i+1:1,$=typeof window<"u"&&((_e=(j=window.location)==null?void 0:j.hostname)==null?void 0:_e.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if($)return $[_]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch(o){}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class Browser{constructor(i){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,_)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=defaults(_,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=j=>j.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=$,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain),this.addDetector(hash)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,_=[];return i.forEach($=>{if(this.detectors[$]){let j=this.detectors[$].lookup(this.options);j&&typeof j=="string"&&(j=[j]),j&&(_=_.concat(j))}}),_=_.filter($=>$!=null&&!hasXSS($)).map($=>this.options.convertDetectedLanguage($)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?_:_.length>0?_[0]:null}cacheUserLanguage(i){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;_&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||_.forEach($=>{this.detectors[$]&&this.detectors[$].cacheUserLanguage(i,this.options)}))}}Browser.type="languageDetector";const welcome_title$1="V",welcome_subtitle$1="",select_member_title$1="",select_member_btn$1="",current_member$1=": {{name}}",settings_title$1="",start_study$1="",study_with$1=" {{name}} ",study_stats$1="",music_recommendation$1="",music_recommendation_title$1="{{name}} ",timer_focus$1="",timer_break$1="",start$1="",pause$1="",reset$1="",sound_alert$1="",desktop_notification$1="",author_note_title$1="",author_note_content$1="WayZenNi Trae V",footer_copyright$1=" 2025 Study With WayV - V",member_kun$1="",member_ten$1="",member_xiaojun$1="",member_hendery$1="",member_yangyang$1="",member_personality_kun$1="",member_personality_ten$1="",member_personality_xiaojun$1="",member_personality_hendery$1="",member_personality_yangyang$1="",focus_completed$1="",break_completed$1="",take_break$1="~",continue_study$1="",custom_timer$1="",focus_duration$1=" ()",break_duration$1=" ()",save_reward$1="",reward_title$1=" {{name}} ",language$1=" / Language",donate_title$1="",donate_content$1="",zh={welcome_title:welcome_title$1,welcome_subtitle:welcome_subtitle$1,select_member_title:select_member_title$1,select_member_btn:select_member_btn$1,current_member:current_member$1,settings_title:settings_title$1,start_study:start_study$1,study_with:study_with$1,study_stats:study_stats$1,music_recommendation:music_recommendation$1,music_recommendation_title:music_recommendation_title$1,timer_focus:timer_focus$1,timer_break:timer_break$1,start:start$1,pause:pause$1,reset:reset$1,sound_alert:sound_alert$1,desktop_notification:desktop_notification$1,author_note_title:author_note_title$1,author_note_content:author_note_content$1,footer_copyright:footer_copyright$1,member_kun:member_kun$1,member_ten:member_ten$1,member_xiaojun:member_xiaojun$1,member_hendery:member_hendery$1,member_yangyang:member_yangyang$1,member_personality_kun:member_personality_kun$1,member_personality_ten:member_personality_ten$1,member_personality_xiaojun:member_personality_xiaojun$1,member_personality_hendery:member_personality_hendery$1,member_personality_yangyang:member_personality_yangyang$1,focus_completed:focus_completed$1,break_completed:break_completed$1,take_break:take_break$1,continue_study:continue_study$1,custom_timer:custom_timer$1,focus_duration:focus_duration$1,break_duration:break_duration$1,save_reward:save_reward$1,reward_title:reward_title$1,language:language$1,donate_title:donate_title$1,donate_content:donate_content$1},welcome_title="Focus Study with WayV",welcome_subtitle="Choose your favorite member and start an efficient study journey",select_member_title="Select Study Partner",select_member_btn="Select Member",current_member="Current: {{name}}",settings_title="Settings",start_study="Start Study",study_with="Focus with {{name}}",study_stats="Study Stats",music_recommendation="Music",music_recommendation_title="{{name}}'s Music Recommendation",timer_focus="Focus Timer",timer_break="Break Time",start="Start",pause="Pause",reset="Reset",sound_alert="Sound Alert",desktop_notification="Notifications",author_note_title="Author's Note",author_note_content="Thank you WayZenNi for visiting this site. This is a small project I made in my spare time using Trae. I hope you can use it during work or study and feel the companionship of WayV!",footer_copyright=" 2025 Study With WayV - Focus Study with WayV",member_kun="Kun",member_ten="Ten",member_xiaojun="Xiaojun",member_hendery="Hendery",member_yangyang="Yangyang",member_personality_kun="Gentle, Reliable, Responsible",member_personality_ten="Artistic, Perfectionist, Caring",member_personality_xiaojun="Emotional, Sincere, Energetic",member_personality_hendery="Humorous, Optimistic, Imaginative",member_personality_yangyang="Witty, Lively, Curious",focus_completed="Focus Session Completed!",break_completed="Break Time Over!",take_break="Great job! Focus session ended, take a break~",continue_study="Break over, keep going!",custom_timer="Custom Duration",focus_duration="Focus Duration (min)",break_duration="Break Duration (min)",save_reward="Save Photocard",reward_title="You got a reward photocard from {{name}}!",language="Language / ",donate_title="Support the Author",donate_content="If this website is helpful to you or you'd like to support my creations, feel free to send a small donation! Any amount is greatly appreciated. Thank you!",en={welcome_title,welcome_subtitle,select_member_title,select_member_btn,current_member,settings_title,start_study,study_with,study_stats,music_recommendation,music_recommendation_title,timer_focus,timer_break,start,pause,reset,sound_alert,desktop_notification,author_note_title,author_note_content,footer_copyright,member_kun,member_ten,member_xiaojun,member_hendery,member_yangyang,member_personality_kun,member_personality_ten,member_personality_xiaojun,member_personality_hendery,member_personality_yangyang,focus_completed,break_completed,take_break,continue_study,custom_timer,focus_duration,break_duration,save_reward,reward_title,language,donate_title,donate_content};instance.use(Browser).use(initReactI18next).init({resources:{zh:{translation:zh},en:{translation:en}},fallbackLng:"zh",debug:!0,interpolation:{escapeValue:!1}});client.createRoot(document.getElementById("root")).render(jsx(React$2.StrictMode,{children:jsx(HashRouter,{children:jsx(App,{})})}));
